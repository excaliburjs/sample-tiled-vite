{"version":3,"file":"index-BV1NGz0X.js","sources":["../../node_modules/excalibur/build/esm/excalibur.js","../../__vite-browser-external","../../node_modules/@excaliburjs/plugin-tiled/build/esm/excalibur-tiled.min.js","../../img/Solaria Demo Pack Update 03/Solaria Demo Pack Update 03/16x16/Sprites/Hero 01.png?url","../../img/Solaria Demo Pack Update 03/Solaria Demo Pack Update 03/16x16/Tilesets/Solaria Demo Update 01.png?url","../../res/first-level.tmx?url","../../res/tileset.tsx?url","../../src/config.ts","../../src/player.ts","../../src/resources.ts","../../src/main.ts"],"sourcesContent":["/*!\n * excalibur - 0.30.1 - 2024-12-12\n * https://github.com/excaliburjs/Excalibur\n * Copyright (c) 2024 Excalibur.js <https://github.com/excaliburjs/Excalibur/graphs/contributors>\n * Licensed BSD-2-Clause\n * @preserve\n */\n/******/ var __webpack_modules__ = ({\n\n/***/ 851:\n/***/ ((module, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(935);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* Buttons styles start */\r\n\r\nbutton#excalibur-play {\r\n  display: inline-block;\r\n  position: relative;\r\n  z-index: 999;\r\n  border-radius: 6px;\r\n  border: none;\r\n  /*border: 3px solid;\r\n    border-color: white;\r\n    box-shadow: 0 0 10px #ccc;*/\r\n  padding: 1rem 1.5rem 1rem 4rem;\r\n  margin: 0;\r\n  text-decoration: none;\r\n  background: #00b233;\r\n  color: #ffffff;\r\n  font-family: sans-serif;\r\n  font-size: 2rem;\r\n  white-space: nowrap;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  transition:\r\n    background 250ms ease-in-out,\r\n    transform 150ms ease;\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n\r\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\r\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\r\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\r\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\r\n  animation: excalibur-button-fadein 200ms;\r\n}\r\n\r\n/*\r\nbutton#excalibur-play {\r\n  display: none;\r\n}*/\r\n\r\nbutton#excalibur-play:after {\r\n  position: absolute;\r\n  content: '';\r\n  border: 8px solid;\r\n  border-color: transparent transparent transparent white;\r\n  left: 35px;\r\n  top: 24px;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\nbutton#excalibur-play:before {\r\n  position: absolute;\r\n  content: '';\r\n  border: 3px solid;\r\n  left: 19px;\r\n  top: 14px;\r\n  border-radius: 20px;\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n\r\nbutton#excalibur-play:hover,\r\nbutton#excalibur-play:focus {\r\n  background: #00982c;\r\n}\r\n\r\nbutton#excalibur-play:focus {\r\n  outline: 1px solid #fff;\r\n  outline-offset: -4px;\r\n}\r\n\r\nbutton#excalibur-play:active {\r\n  transform: scale(0.99);\r\n}\r\n\r\n@keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Firefox < 16 */\r\n@-moz-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Safari, Chrome and Opera > 12.1 */\r\n@-webkit-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Internet Explorer */\r\n@-ms-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Opera < 12.1 */\r\n@-o-keyframes excalibur-button-fadein {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./Director/Loader.css\"],\"names\":[],\"mappings\":\"AAAA,yBAAyB;;AAEzB;EACE,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ;;+BAE6B;EAC7B,8BAA8B;EAC9B,SAAS;EACT,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,eAAe;EACf,mBAAmB;EACnB,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB;;wBAEsB;EACtB,wBAAwB;EACxB,qBAAqB;;EAErB,gDAAgD,EAAE,oCAAoC;EACtF,6CAA6C,EAAE,iBAAiB;EAChE,4CAA4C,EAAE,sBAAsB;EACpE,2CAA2C,EAAE,iBAAiB;EAC9D,wCAAwC;AAC1C;;AAEA;;;EAGE;;AAEF;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,uDAAuD;EACvD,UAAU;EACV,SAAS;EACT,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,oCAAoC;AACpC;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,sBAAsB;AACtB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF\",\"sourcesContent\":[\"/* Buttons styles start */\\r\\n\\r\\nbutton#excalibur-play {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  z-index: 999;\\r\\n  border-radius: 6px;\\r\\n  border: none;\\r\\n  /*border: 3px solid;\\r\\n    border-color: white;\\r\\n    box-shadow: 0 0 10px #ccc;*/\\r\\n  padding: 1rem 1.5rem 1rem 4rem;\\r\\n  margin: 0;\\r\\n  text-decoration: none;\\r\\n  background: #00b233;\\r\\n  color: #ffffff;\\r\\n  font-family: sans-serif;\\r\\n  font-size: 2rem;\\r\\n  white-space: nowrap;\\r\\n  line-height: 1;\\r\\n  cursor: pointer;\\r\\n  text-align: center;\\r\\n  transition:\\r\\n    background 250ms ease-in-out,\\r\\n    transform 150ms ease;\\r\\n  -webkit-appearance: none;\\r\\n  -moz-appearance: none;\\r\\n\\r\\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\\r\\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\\r\\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\\r\\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\\r\\n  animation: excalibur-button-fadein 200ms;\\r\\n}\\r\\n\\r\\n/*\\r\\nbutton#excalibur-play {\\r\\n  display: none;\\r\\n}*/\\r\\n\\r\\nbutton#excalibur-play:after {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 8px solid;\\r\\n  border-color: transparent transparent transparent white;\\r\\n  left: 35px;\\r\\n  top: 24px;\\r\\n  width: 0;\\r\\n  height: 0;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:before {\\r\\n  position: absolute;\\r\\n  content: '';\\r\\n  border: 3px solid;\\r\\n  left: 19px;\\r\\n  top: 14px;\\r\\n  border-radius: 20px;\\r\\n  width: 30px;\\r\\n  height: 30px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:hover,\\r\\nbutton#excalibur-play:focus {\\r\\n  background: #00982c;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:focus {\\r\\n  outline: 1px solid #fff;\\r\\n  outline-offset: -4px;\\r\\n}\\r\\n\\r\\nbutton#excalibur-play:active {\\r\\n  transform: scale(0.99);\\r\\n}\\r\\n\\r\\n@keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Firefox < 16 */\\r\\n@-moz-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Safari, Chrome and Opera > 12.1 */\\r\\n@-webkit-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Internet Explorer */\\r\\n@-ms-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n/* Opera < 12.1 */\\r\\n@-o-keyframes excalibur-button-fadein {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ 296:\n/***/ ((module, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(935);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#ex-toast-container {\r\n  position: absolute;\r\n  height: 0;\r\n  min-width: 50%;\r\n  left: 50%;\r\n  top: 0;\r\n}\r\n\r\n.ex-toast-message {\r\n  left: -50%;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  padding: 10px;\r\n  margin-top: 5px;\r\n  font-size: 18px;\r\n  font-family: sans-serif;\r\n  border-radius: 6px;\r\n  border: 3px solid #b7b779;\r\n  background-color: rgb(253, 253, 192);\r\n}\r\n\r\n.ex-toast-message button {\r\n  align-self: flex-start;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./Util/Toaster.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,SAAS;EACT,cAAc;EACd,SAAS;EACT,MAAM;AACR;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,aAAa;EACb,8BAA8B;;EAE9B,aAAa;EACb,eAAe;EACf,eAAe;EACf,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;EACzB,oCAAoC;AACtC;;AAEA;EACE,sBAAsB;AACxB\",\"sourcesContent\":[\"#ex-toast-container {\\r\\n  position: absolute;\\r\\n  height: 0;\\r\\n  min-width: 50%;\\r\\n  left: 50%;\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.ex-toast-message {\\r\\n  left: -50%;\\r\\n  position: relative;\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n\\r\\n  padding: 10px;\\r\\n  margin-top: 5px;\\r\\n  font-size: 18px;\\r\\n  font-family: sans-serif;\\r\\n  border-radius: 6px;\\r\\n  border: 3px solid #b7b779;\\r\\n  background-color: rgb(253, 253, 192);\\r\\n}\\r\\n\\r\\n.ex-toast-message button {\\r\\n  align-self: flex-start;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ 935:\n/***/ ((module) => {\n\n\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n/***/ }),\n\n/***/ 1:\n/***/ ((module) => {\n\n\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\tid: moduleId,\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/compat get default export */\n/******/ (() => {\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = (module) => {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t() => (module['default']) :\n/******/ \t\t\t() => (module);\n/******/ \t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\treturn getter;\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/make namespace object */\n/******/ (() => {\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = (exports) => {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  eKr: () => (/* reexport */ ActionCompleteEvent),\n  yVm: () => (/* reexport */ ActionContext),\n  a7j: () => (/* reexport */ ActionQueue),\n  U_w: () => (/* reexport */ ActionSequence),\n  JF2: () => (/* reexport */ ActionStartEvent),\n  htg: () => (/* reexport */ ActionsComponent),\n  HXL: () => (/* reexport */ ActionsSystem),\n  mcg: () => (/* reexport */ ActivateEvent),\n  Agj: () => (/* reexport */ Actor),\n  J3_: () => (/* reexport */ ActorEvents),\n  Wgv: () => (/* reexport */ AddEvent),\n  u6S: () => (/* reexport */ AddedComponent),\n  x7M: () => (/* reexport */ AffineMatrix),\n  X55: () => (/* reexport */ Animation),\n  m3M: () => (/* reexport */ AnimationDirection),\n  aE5: () => (/* reexport */ AnimationEvents),\n  YJU: () => (/* reexport */ AnimationStrategy),\n  eZi: () => (/* reexport */ ArcadeSolver),\n  GNv: () => (/* reexport */ AudioContextFactory),\n  Y56: () => (/* reexport */ Axes),\n  _0v: () => (/* reexport */ Axis),\n  vhs: () => (/* reexport */ BaseAlign),\n  vrQ: () => (/* reexport */ BezierCurve),\n  Z8b: () => (/* reexport */ Blink),\n  Yfw: () => (/* reexport */ BodyComponent),\n  IcQ: () => (/* reexport */ BoundingBox),\n  kgJ: () => (/* reexport */ BrowserComponent),\n  GTT: () => (/* reexport */ BrowserEvents),\n  ypY: () => (/* reexport */ Buttons),\n  i7d: () => (/* reexport */ Camera),\n  fQ3: () => (/* reexport */ CameraEvents),\n  HlI: () => (/* reexport */ Canvas),\n  jlt: () => (/* reexport */ Circle),\n  VQc: () => (/* reexport */ CircleCollider),\n  zD7: () => (/* reexport */ Clock),\n  AUF: () => (/* reexport */ ClosestLineJumpTable),\n  JoF: () => (/* reexport */ Collider),\n  MlA: () => (/* reexport */ ColliderComponent),\n  PZh: () => (/* reexport */ CollisionContact),\n  qA: () => (/* reexport */ CollisionEndEvent),\n  CrD: () => (/* reexport */ CollisionGroup),\n  dQK: () => (/* reexport */ CollisionGroupManager),\n  D3r: () => (/* reexport */ CollisionJumpTable),\n  Qpo: () => (/* reexport */ CollisionPostSolveEvent),\n  D9n: () => (/* reexport */ CollisionPreSolveEvent),\n  b6v: () => (/* reexport */ CollisionStartEvent),\n  mvh: () => (/* reexport */ CollisionSystem),\n  Bpo: () => (/* reexport */ CollisionType),\n  Q1f: () => (/* reexport */ Color),\n  IKv: () => (/* reexport */ ColorBlindFlags),\n  fcV: () => (/* reexport */ ColorBlindnessMode),\n  Glf: () => (/* reexport */ ColorBlindnessPostProcessor),\n  uAl: () => (/* reexport */ Component),\n  ElT: () => (/* reexport */ CompositeCollider),\n  Z8r: () => (/* reexport */ ConsoleAppender),\n  QSL: () => (/* reexport */ ContactConstraintPoint),\n  sPV: () => (/* reexport */ ContactEndEvent),\n  nAn: () => (/* reexport */ ContactSolveBias),\n  zCU: () => (/* reexport */ ContactStartEvent),\n  QrV: () => (/* reexport */ CoordPlane),\n  fF9: () => (/* reexport */ CrossFade),\n  Jqv: () => (/* reexport */ CurveBy),\n  d_u: () => (/* reexport */ CurveTo),\n  xI8: () => (/* reexport */ DeactivateEvent),\n  yar: () => (/* reexport */ Debug),\n  SP7: () => (/* reexport */ DebugConfig),\n  oRy: () => (/* reexport */ DebugGraphicsComponent),\n  f5X: () => (/* reexport */ DebugSystem),\n  V1c: () => (/* reexport */ DebugText),\n  Mlx: () => (/* reexport */ DefaultAntialiasOptions),\n  ZiM: () => (/* reexport */ DefaultGarbageCollectionOptions),\n  ZCo: () => (/* reexport */ DefaultLoader),\n  J5p: () => (/* reexport */ DefaultPixelArtOptions),\n  mL_: () => (/* reexport */ DegreeOfFreedom),\n  Guw: () => (/* reexport */ Delay),\n  N5j: () => (/* reexport */ Detector),\n  pgY: () => (/* reexport */ Die),\n  OP3: () => (/* reexport */ Direction),\n  rl5: () => (/* reexport */ Director),\n  eod: () => (/* reexport */ DirectorEvents),\n  q5Z: () => (/* reexport */ DisplayMode),\n  YUC: () => (/* reexport */ DynamicTree),\n  saR: () => (/* reexport */ DynamicTreeCollisionProcessor),\n  hvr: () => (/* binding */ EX_VERSION),\n  Qol: () => (/* reexport */ EaseBy),\n  Wf4: () => (/* reexport */ EaseTo),\n  JCs: () => (/* reexport */ EasingFunctions),\n  gJV: () => (/* reexport */ EdgeCollider),\n  fWD: () => (/* reexport */ ElasticToActorStrategy),\n  Va_: () => (/* reexport */ EmitterType),\n  N$8: () => (/* reexport */ Engine),\n  _jQ: () => (/* reexport */ EngineEvents),\n  rxj: () => (/* reexport */ EnterTriggerEvent),\n  rhv: () => (/* reexport */ EnterViewPortEvent),\n  wCu: () => (/* reexport */ Entity),\n  HAp: () => (/* reexport */ EntityEvents),\n  Zy1: () => (/* reexport */ EntityManager),\n  bkB: () => (/* reexport */ EventEmitter),\n  wfL: () => (/* reexport */ EventTypes),\n  sVA: () => (/* reexport */ Events_namespaceObject),\n  $Gs: () => (/* reexport */ ExResponse),\n  CJ0: () => (/* reexport */ ExcaliburGraphicsContext2DCanvas),\n  NWh: () => (/* reexport */ ExcaliburGraphicsContextWebGL),\n  tWi: () => (/* reexport */ ExitTriggerEvent),\n  xAj: () => (/* reexport */ ExitViewPortEvent),\n  zWh: () => (/* reexport */ Fade),\n  i_4: () => (/* reexport */ FadeInOut),\n  iIx: () => (/* reexport */ Flags),\n  Hxo: () => (/* reexport */ Flash),\n  c9e: () => (/* reexport */ Follow),\n  KQV: () => (/* reexport */ Font),\n  weH: () => (/* reexport */ FontCache),\n  jXp: () => (/* reexport */ FontSource),\n  zzY: () => (/* reexport */ FontStyle),\n  yRQ: () => (/* reexport */ FontUnit),\n  MtE: () => (/* reexport */ FpsSampler),\n  rPj: () => (/* reexport */ FrameStats),\n  KLc: () => (/* reexport */ Future),\n  Fir: () => (/* reexport */ GameEvent),\n  V5f: () => (/* reexport */ GameStartEvent),\n  Xj7: () => (/* reexport */ GameStopEvent),\n  Wud: () => (/* reexport */ Gamepad),\n  FVg: () => (/* reexport */ GamepadAxisEvent),\n  g5Y: () => (/* reexport */ GamepadButtonEvent),\n  YQB: () => (/* reexport */ GamepadConnectEvent),\n  KPb: () => (/* reexport */ GamepadDisconnectEvent),\n  nHK: () => (/* reexport */ Gamepads),\n  Jrb: () => (/* reexport */ GarbageCollector),\n  TX_: () => (/* reexport */ Gif),\n  Olt: () => (/* reexport */ GifParser),\n  r3n: () => (/* reexport */ GlobalCoordinates),\n  Fvk: () => (/* reexport */ GpuParticleEmitter),\n  gpR: () => (/* reexport */ GpuParticleRenderer),\n  vYh: () => (/* reexport */ Graphic),\n  hnk: () => (/* reexport */ GraphicsComponent),\n  D2R: () => (/* reexport */ GraphicsGroup),\n  n1o: () => (/* reexport */ GraphicsSystem),\n  h9O: () => (/* reexport */ HashColliderProxy),\n  X5j: () => (/* reexport */ HashGridCell),\n  p3P: () => (/* reexport */ HashGridProxy),\n  RLG: () => (/* reexport */ HiddenEvent),\n  fBU: () => (/* reexport */ HorizontalFirst),\n  Adb: () => (/* reexport */ ImageFiltering),\n  bEs: () => (/* reexport */ ImageSource),\n  wCy: () => (/* reexport */ ImageSourceAttributeConstants),\n  CbD: () => (/* reexport */ ImageWrapping),\n  x_C: () => (/* reexport */ InitializeEvent),\n  pGf: () => (/* reexport */ InputHost),\n  ibQ: () => (/* reexport */ InputMapper),\n  shR: () => (/* reexport */ IsometricEntityComponent),\n  Yjk: () => (/* reexport */ IsometricEntitySystem),\n  _u1: () => (/* reexport */ IsometricMap),\n  OBI: () => (/* reexport */ IsometricTile),\n  klh: () => (/* reexport */ KeyEvent),\n  s3S: () => (/* reexport */ Keyboard),\n  D$R: () => (/* reexport */ Keys),\n  xth: () => (/* reexport */ KillEvent),\n  JU7: () => (/* reexport */ Label),\n  h9x: () => (/* reexport */ LimitCameraBoundsStrategy),\n  N1A: () => (/* reexport */ Line),\n  e_k: () => (/* reexport */ LineSegment),\n  aHM: () => (/* reexport */ Loader),\n  tlv: () => (/* reexport */ LoaderEvents),\n  Vi9: () => (/* reexport */ LockCameraToActorAxisStrategy),\n  ieR: () => (/* reexport */ LockCameraToActorStrategy),\n  $bb: () => (/* reexport */ LogLevel),\n  VyI: () => (/* reexport */ Logger),\n  imn: () => (/* reexport */ Material),\n  uqu: () => (/* reexport */ Matrix),\n  QnL: () => (/* reexport */ MatrixLocations),\n  vnc: () => (/* reexport */ MediaEvent),\n  wk_: () => (/* reexport */ Meet),\n  GH0: () => (/* reexport */ MotionComponent),\n  _1r: () => (/* reexport */ MotionSystem),\n  l0X: () => (/* reexport */ MoveBy),\n  bT: () => (/* reexport */ MoveByWithOptions),\n  HHX: () => (/* reexport */ MoveTo),\n  jtW: () => (/* reexport */ MoveToWithOptions),\n  tjk: () => (/* reexport */ NativePointerButton),\n  rWe: () => (/* reexport */ NativeSoundEvent),\n  j9l: () => (/* reexport */ NativeSoundProcessedEvent),\n  l0$: () => (/* reexport */ NineSlice),\n  sGJ: () => (/* reexport */ NineSliceStretch),\n  NVp: () => (/* reexport */ None),\n  cPK: () => (/* reexport */ Observable),\n  XoL: () => (/* reexport */ OffscreenSystem),\n  RmF: () => (/* reexport */ Pair),\n  DXI: () => (/* reexport */ ParallaxComponent),\n  tCD: () => (/* reexport */ ParallelActions),\n  J3D: () => (/* reexport */ Particle),\n  vCJ: () => (/* reexport */ ParticleEmitter),\n  e6k: () => (/* reexport */ ParticleRenderer),\n  f9l: () => (/* reexport */ ParticleTransform),\n  v9m: () => (/* reexport */ PhysicsStats),\n  yRJ: () => (/* reexport */ PhysicsWorld),\n  EU6: () => (/* reexport */ PointerAbstraction),\n  m3O: () => (/* reexport */ PointerButton),\n  Ryz: () => (/* reexport */ PointerComponent),\n  OxP: () => (/* reexport */ PointerEvent),\n  LEs: () => (/* reexport */ PointerEventReceiver),\n  Ec: () => (/* reexport */ PointerScope),\n  Pi5: () => (/* reexport */ PointerSystem),\n  gmH: () => (/* reexport */ PointerType),\n  tS: () => (/* reexport */ Polygon),\n  XxX: () => (/* reexport */ PolygonCollider),\n  bCz: () => (/* reexport */ Pool),\n  nYS: () => (/* reexport */ PostCollisionEvent),\n  yiT: () => (/* reexport */ PostDebugDrawEvent),\n  NHl: () => (/* reexport */ PostDrawEvent),\n  mO8: () => (/* reexport */ PostFrameEvent),\n  PXI: () => (/* reexport */ PostKillEvent),\n  bn5: () => (/* reexport */ PostTransformDrawEvent),\n  Ywr: () => (/* reexport */ PostUpdateEvent),\n  cMd: () => (/* reexport */ PreCollisionEvent),\n  Bs6: () => (/* reexport */ PreDebugDrawEvent),\n  G0k: () => (/* reexport */ PreDrawEvent),\n  pyn: () => (/* reexport */ PreFrameEvent),\n  QeM: () => (/* reexport */ PreKillEvent),\n  aPX: () => (/* reexport */ PreLoadEvent),\n  ITP: () => (/* reexport */ PreTransformDrawEvent),\n  BY0: () => (/* reexport */ PreUpdateEvent),\n  MFw: () => (/* reexport */ Projection),\n  sBn: () => (/* reexport */ QuadIndexBuffer),\n  S3L: () => (/* reexport */ QuadTree),\n  XKQ: () => (/* reexport */ Query),\n  ESI: () => (/* reexport */ QueryManager),\n  uxz: () => (/* reexport */ RadiusAroundActorStrategy),\n  o8N: () => (/* reexport */ Random),\n  u_r: () => (/* reexport */ Raster),\n  RlV: () => (/* reexport */ Ray),\n  gVA: () => (/* reexport */ RealisticSolver),\n  M_G: () => (/* reexport */ Rectangle),\n  BpG: () => (/* reexport */ RemoveEvent),\n  GRB: () => (/* reexport */ RemovedComponent),\n  kM6: () => (/* reexport */ Repeat),\n  dO8: () => (/* reexport */ RepeatForever),\n  jgM: () => (/* reexport */ Resolution),\n  FWq: () => (/* reexport */ Resource),\n  s3j: () => (/* reexport */ ResourceEvents),\n  hlw: () => (/* reexport */ RotateBy),\n  L0q: () => (/* reexport */ RotateByWithOptions),\n  B7e: () => (/* reexport */ RotateTo),\n  PGN: () => (/* reexport */ RotateToWithOptions),\n  H_X: () => (/* reexport */ RotationType),\n  S_d: () => (/* reexport */ ScaleBy),\n  _Tq: () => (/* reexport */ ScaleByWithOptions),\n  U7E: () => (/* reexport */ ScaleTo),\n  IOH: () => (/* reexport */ ScaleToWithOptions),\n  Z58: () => (/* reexport */ Scene),\n  yh2: () => (/* reexport */ SceneEvents),\n  ff$: () => (/* reexport */ Screen),\n  cWi: () => (/* reexport */ ScreenAppender),\n  NBt: () => (/* reexport */ ScreenElement),\n  oNz: () => (/* reexport */ ScreenEvents),\n  QlU: () => (/* reexport */ ScreenShader),\n  Xey: () => (/* reexport */ ScrollPreventionMode),\n  jft: () => (/* reexport */ Semaphore),\n  _r8: () => (/* reexport */ SeparatingAxis),\n  bTC: () => (/* reexport */ SeparationInfo),\n  Mtr: () => (/* reexport */ Shader),\n  ypk: () => (/* reexport */ Shape),\n  mnM: () => (/* reexport */ Side),\n  q7S: () => (/* reexport */ Slide),\n  bAZ: () => (/* reexport */ SolverStrategy),\n  ABN: () => (/* reexport */ Sound),\n  VK6: () => (/* reexport */ SoundEvents),\n  Hj2: () => (/* reexport */ SparseHashGrid),\n  Df8: () => (/* reexport */ SparseHashGridCollisionProcessor),\n  oOx: () => (/* reexport */ SpatialPartitionStrategy),\n  kxk: () => (/* reexport */ Sprite),\n  DT1: () => (/* reexport */ SpriteFont),\n  FLG: () => (/* reexport */ SpriteSheet),\n  qN_: () => (/* reexport */ StandardClock),\n  Z37: () => (/* reexport */ StateMachine),\n  FtL: () => (/* reexport */ StrategyContainer),\n  Z6X: () => (/* reexport */ Stream),\n  iQT: () => (/* reexport */ System),\n  ziO: () => (/* reexport */ SystemManager),\n  OEF: () => (/* reexport */ SystemPriority),\n  uuE: () => (/* reexport */ SystemType),\n  tiv: () => (/* reexport */ TagQuery),\n  T$Y: () => (/* reexport */ TestClock),\n  EYj: () => (/* reexport */ Text),\n  nOB: () => (/* reexport */ TextAlign),\n  Tap: () => (/* reexport */ TextureLoader),\n  FAs: () => (/* reexport */ Tile),\n  B_P: () => (/* reexport */ TileMap),\n  aA5: () => (/* reexport */ TileMapEvents),\n  J3s: () => (/* reexport */ TiledAnimation),\n  Y0Q: () => (/* reexport */ TiledSprite),\n  M4G: () => (/* reexport */ Timer),\n  l$l: () => (/* reexport */ Toaster),\n  dLy: () => (/* reexport */ transform_Transform),\n  WZP: () => (/* reexport */ TransformComponent),\n  eB6: () => (/* reexport */ Transition),\n  nFK: () => (/* reexport */ TreeNode),\n  l9z: () => (/* reexport */ Trigger),\n  YOF: () => (/* reexport */ TriggerEvents),\n  yhB: () => (/* reexport */ TwoPI),\n  J0N: () => (/* reexport */ Util_Index_namespaceObject),\n  Miz: () => (/* reexport */ Vector),\n  Bj4: () => (/* reexport */ VectorView),\n  Rcs: () => (/* reexport */ VertexBuffer),\n  vJ4: () => (/* reexport */ VertexLayout),\n  TqC: () => (/* reexport */ VerticalFirst),\n  nM0: () => (/* reexport */ VisibleEvent),\n  X1u: () => (/* reexport */ WebAudio),\n  SpZ: () => (/* reexport */ WebAudioInstance),\n  DX8: () => (/* reexport */ WheelDeltaMode),\n  Yx$: () => (/* reexport */ WheelEvent),\n  HK4: () => (/* reexport */ World),\n  yt5: () => (/* reexport */ approximatelyEqual),\n  vAR: () => (/* reexport */ assert),\n  SE$: () => (/* reexport */ canonicalizeAngle),\n  qE8: () => (/* reexport */ clamp),\n  Pz7: () => (/* reexport */ coroutine),\n  sX_: () => (/* reexport */ createId),\n  JuI: () => (/* reexport */ frac),\n  pxT: () => (/* reexport */ getDefaultPhysicsConfig),\n  Nl$: () => (/* reexport */ hasGraphicsTick),\n  zDr: () => (/* reexport */ hasOnAdd),\n  OwT: () => (/* reexport */ hasOnInitialize),\n  P$G: () => (/* reexport */ hasOnPostUpdate),\n  mHV: () => (/* reexport */ hasOnPreUpdate),\n  kEA: () => (/* reexport */ hasOnRemove),\n  Fx_: () => (/* reexport */ hasPostDraw),\n  WFC: () => (/* reexport */ hasPreDraw),\n  vKu: () => (/* reexport */ has_add),\n  aDq: () => (/* reexport */ has_initialize),\n  jIg: () => (/* reexport */ has_postupdate),\n  UH3: () => (/* reexport */ has_preupdate),\n  AJO: () => (/* reexport */ has_remove),\n  U4: () => (/* reexport */ inverseLerp),\n  xAc: () => (/* reexport */ inverseLerpVector),\n  _3Y: () => (/* reexport */ isActor),\n  K6X: () => (/* reexport */ isAddedComponent),\n  C1Y: () => (/* reexport */ isComponentCtor),\n  Aw1: () => (/* reexport */ isLoaderConstructor),\n  tm8: () => (/* reexport */ isMoveByOptions),\n  LBV: () => (/* reexport */ isMoveToOptions),\n  A8$: () => (/* reexport */ isRemovedComponent),\n  F5e: () => (/* reexport */ isRotateByOptions),\n  ran: () => (/* reexport */ isRotateToOptions),\n  c8L: () => (/* reexport */ isScaleByOptions),\n  o6M: () => (/* reexport */ isScaleToOptions),\n  hsx: () => (/* reexport */ isSceneConstructor),\n  l9E: () => (/* reexport */ isScreenElement),\n  aSf: () => (/* reexport */ isSystemConstructor),\n  CcK: () => (/* reexport */ lerp),\n  nU8: () => (/* reexport */ lerpAngle),\n  td6: () => (/* reexport */ lerpVector),\n  Zex: () => (/* reexport */ maxMessages),\n  bkJ: () => (/* reexport */ nextActionId),\n  mXP: () => (/* reexport */ obsolete),\n  vt$: () => (/* reexport */ parseImageFiltering),\n  hCA: () => (/* reexport */ parseImageWrapping),\n  pjR: () => (/* reexport */ pixelSnapEpsilon),\n  U43: () => (/* reexport */ randomInRange),\n  pSZ: () => (/* reexport */ randomIntInRange),\n  y17: () => (/* reexport */ range),\n  Ew7: () => (/* reexport */ remap),\n  hG1: () => (/* reexport */ remapVector),\n  jVr: () => (/* reexport */ resetObsoleteCounter),\n  _SZ: () => (/* reexport */ sign),\n  xWn: () => (/* reexport */ toDegrees),\n  ehJ: () => (/* reexport */ toRadians),\n  t6s: () => (/* reexport */ vec),\n  Eyn: () => (/* reexport */ webgl_util_namespaceObject)\n});\n\n// NAMESPACE OBJECT: ./Graphics/Context/webgl-util.ts\nvar webgl_util_namespaceObject = {};\n__webpack_require__.r(webgl_util_namespaceObject);\n__webpack_require__.d(webgl_util_namespaceObject, {\n  getAttributeComponentSize: () => (getAttributeComponentSize),\n  getAttributePointerType: () => (getAttributePointerType),\n  getGLTypeFromSource: () => (getGLTypeFromSource),\n  getGlTypeSizeBytes: () => (getGlTypeSizeBytes),\n  getMaxShaderComplexity: () => (getMaxShaderComplexity),\n  isAttributeInSource: () => (isAttributeInSource)\n});\n\n// NAMESPACE OBJECT: ./Util/DrawUtil.ts\nvar DrawUtil_namespaceObject = {};\n__webpack_require__.r(DrawUtil_namespaceObject);\n__webpack_require__.d(DrawUtil_namespaceObject, {\n  circle: () => (circle),\n  line: () => (line),\n  point: () => (point),\n  roundRect: () => (roundRect),\n  vector: () => (vector)\n});\n\n// NAMESPACE OBJECT: ./Events.ts\nvar Events_namespaceObject = {};\n__webpack_require__.r(Events_namespaceObject);\n__webpack_require__.d(Events_namespaceObject, {\n  ActionCompleteEvent: () => (ActionCompleteEvent),\n  ActionStartEvent: () => (ActionStartEvent),\n  ActivateEvent: () => (ActivateEvent),\n  AddEvent: () => (AddEvent),\n  CollisionEndEvent: () => (CollisionEndEvent),\n  CollisionPostSolveEvent: () => (CollisionPostSolveEvent),\n  CollisionPreSolveEvent: () => (CollisionPreSolveEvent),\n  CollisionStartEvent: () => (CollisionStartEvent),\n  ContactEndEvent: () => (ContactEndEvent),\n  ContactStartEvent: () => (ContactStartEvent),\n  DeactivateEvent: () => (DeactivateEvent),\n  EnterTriggerEvent: () => (EnterTriggerEvent),\n  EnterViewPortEvent: () => (EnterViewPortEvent),\n  EventTypes: () => (EventTypes),\n  ExitTriggerEvent: () => (ExitTriggerEvent),\n  ExitViewPortEvent: () => (ExitViewPortEvent),\n  GameEvent: () => (GameEvent),\n  GameStartEvent: () => (GameStartEvent),\n  GameStopEvent: () => (GameStopEvent),\n  GamepadAxisEvent: () => (GamepadAxisEvent),\n  GamepadButtonEvent: () => (GamepadButtonEvent),\n  GamepadConnectEvent: () => (GamepadConnectEvent),\n  GamepadDisconnectEvent: () => (GamepadDisconnectEvent),\n  HiddenEvent: () => (HiddenEvent),\n  InitializeEvent: () => (InitializeEvent),\n  KillEvent: () => (KillEvent),\n  PostCollisionEvent: () => (PostCollisionEvent),\n  PostDebugDrawEvent: () => (PostDebugDrawEvent),\n  PostDrawEvent: () => (PostDrawEvent),\n  PostFrameEvent: () => (PostFrameEvent),\n  PostKillEvent: () => (PostKillEvent),\n  PostTransformDrawEvent: () => (PostTransformDrawEvent),\n  PostUpdateEvent: () => (PostUpdateEvent),\n  PreCollisionEvent: () => (PreCollisionEvent),\n  PreDebugDrawEvent: () => (PreDebugDrawEvent),\n  PreDrawEvent: () => (PreDrawEvent),\n  PreFrameEvent: () => (PreFrameEvent),\n  PreKillEvent: () => (PreKillEvent),\n  PreTransformDrawEvent: () => (PreTransformDrawEvent),\n  PreUpdateEvent: () => (PreUpdateEvent),\n  RemoveEvent: () => (RemoveEvent),\n  VisibleEvent: () => (VisibleEvent)\n});\n\n// NAMESPACE OBJECT: ./Util/Index.ts\nvar Util_Index_namespaceObject = {};\n__webpack_require__.r(Util_Index_namespaceObject);\n__webpack_require__.d(Util_Index_namespaceObject, {\n  ConsoleAppender: () => (ConsoleAppender),\n  DrawUtil: () => (DrawUtil_namespaceObject),\n  EasingFunctions: () => (EasingFunctions),\n  LogLevel: () => (LogLevel),\n  Logger: () => (Logger),\n  Observable: () => (Observable),\n  ScreenAppender: () => (ScreenAppender),\n  addItemToArray: () => (addItemToArray),\n  contains: () => (contains),\n  delay: () => (delay),\n  fail: () => (fail),\n  getPosition: () => (getPosition),\n  isObject: () => (isObject),\n  mergeDeep: () => (mergeDeep),\n  omit: () => (omit),\n  removeItemFromArray: () => (removeItemFromArray)\n});\n\n;// ./Polyfill.ts\n/**\n * Polyfill adding function\n */\nfunction polyfill() {\n    /* istanbul ignore next */\n    if (typeof window === 'undefined') {\n        window = {\n            audioContext: function () {\n                return;\n            }\n        };\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.requestAnimationFrame) {\n        window.requestAnimationFrame =\n            window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                function (callback) {\n                    window.setInterval(callback, 1000 / 60);\n                };\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.cancelAnimationFrame) {\n        window.cancelAnimationFrame =\n            window.webkitCancelAnimationFrame ||\n                window.mozCancelAnimationFrame ||\n                function () {\n                    return;\n                };\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.AudioContext) {\n        if (window.webkitAudioContext) {\n            const ctx = window.webkitAudioContext;\n            const replaceMe = ctx.prototype.decodeAudioData;\n            window.webkitAudioContext.prototype.decodeAudioData = function (arrayBuffer) {\n                return new Promise((resolve, reject) => {\n                    replaceMe.call(this, arrayBuffer, resolve, reject);\n                });\n            };\n        }\n        window.AudioContext =\n            window.AudioContext ||\n                window.webkitAudioContext ||\n                window.mozAudioContext ||\n                window.msAudioContext ||\n                window.oAudioContext;\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.devicePixelRatio) {\n        window.devicePixelRatio = window.devicePixelRatio || 1;\n    }\n    /* istanbul ignore next */\n    if (typeof window !== 'undefined' && !window.requestIdleCallback) {\n        // Adapted from https://developer.chrome.com/blog/using-requestidlecallback#checking_for_requestidlecallback\n        window.requestIdleCallback =\n            window.requestIdleCallback ||\n                function (cb) {\n                    const start = Date.now();\n                    return setTimeout(function () {\n                        cb({\n                            didTimeout: false,\n                            timeRemaining: function () {\n                                return Math.max(0, 50 - (Date.now() - start));\n                            }\n                        });\n                    }, 1);\n                };\n        window.cancelIdleCallback =\n            window.cancelIdleCallback ||\n                function (id) {\n                    clearTimeout(id);\n                };\n    }\n}\n\n;// ./Flags.ts\n/**\n * Flags is a feature flag implementation for Excalibur. They can only be operated **before {@apilink Engine} construction**\n * after which they are frozen and are read-only.\n *\n * Flags are used to enable experimental or preview features in Excalibur.\n */\nclass Flags {\n    /**\n     * Force excalibur to load the Canvas 2D graphics context fallback\n     * @warning not all features of excalibur are supported in the Canvas 2D fallback\n     */\n    static useCanvasGraphicsContext() {\n        Flags.enable('use-canvas-context');\n    }\n    /**\n     * Force excalibur to use the less optimized image renderer\n     */\n    static useLegacyImageRenderer() {\n        Flags.enable('use-legacy-image-renderer');\n    }\n    /**\n     * Freeze all flag modifications making them readonly\n     */\n    static freeze() {\n        Flags._FROZEN = true;\n    }\n    /**\n     * Resets internal flag state, not meant to be called by users. Only used for testing.\n     *\n     * Calling this in your game is UNSUPPORTED\n     * @internal\n     */\n    static _reset() {\n        Flags._FROZEN = false;\n        Flags._FLAGS = {};\n    }\n    /**\n     * Enable a specific feature flag by name. **Note: can only be set before {@apilink Engine} constructor time**\n     * @param flagName\n     */\n    static enable(flagName) {\n        if (this._FROZEN) {\n            throw Error('Feature flags can only be enabled before Engine constructor time');\n        }\n        Flags._FLAGS[flagName] = true;\n    }\n    /**\n     * Disable a specific feature flag by name. **Note: can only be set before {@apilink Engine} constructor time**\n     * @param flagName\n     */\n    static disable(flagName) {\n        if (this._FROZEN) {\n            throw Error('Feature flags can only be disabled before Engine constructor time');\n        }\n        Flags._FLAGS[flagName] = false;\n    }\n    /**\n     * Check if a flag is enabled. If the flag is disabled or does not exist `false` is returned\n     * @param flagName\n     */\n    static isEnabled(flagName) {\n        return !!Flags._FLAGS[flagName];\n    }\n    /**\n     * Show a list of currently known flags\n     */\n    static show() {\n        return Object.keys(Flags._FLAGS);\n    }\n}\nFlags._FROZEN = false;\nFlags._FLAGS = {};\n\n;// ./Id.ts\n/**\n * Create a branded ID type from a number\n */\nfunction createId(type, value) {\n    return { type, value };\n}\n\n;// ./Util/Future.ts\n/**\n * Future is a wrapper around a native browser Promise to allow resolving/rejecting at any time\n */\nclass Future {\n    constructor() {\n        this._isCompleted = false;\n        this.promise = new Promise((resolve, reject) => {\n            this._resolver = resolve;\n            this._rejecter = reject;\n        });\n    }\n    get isCompleted() {\n        return this._isCompleted;\n    }\n    resolve(value) {\n        if (this._isCompleted) {\n            return;\n        }\n        this._isCompleted = true;\n        this._resolver(value);\n    }\n    reject(error) {\n        if (this._isCompleted) {\n            return;\n        }\n        this._isCompleted = true;\n        this._rejecter(error);\n    }\n}\n\n;// ./EventEmitter.ts\n/**\n * Excalibur's typed event emitter, this allows events to be sent with any string to Type mapping\n */\nclass EventEmitter {\n    constructor() {\n        this._paused = false;\n        this._empty = true;\n        this._listeners = {};\n        this._listenersOnce = {};\n        this._pipes = [];\n    }\n    /**\n     * Removes all listeners and pipes\n     */\n    clear() {\n        this._listeners = {};\n        this._listenersOnce = {};\n        this._pipes.length = 0;\n        this._empty = true;\n    }\n    on(eventName, handler) {\n        var _a;\n        this._empty = false;\n        this._listeners[eventName] = (_a = this._listeners[eventName]) !== null && _a !== void 0 ? _a : [];\n        this._listeners[eventName].push(handler);\n        return {\n            close: () => this.off(eventName, handler)\n        };\n    }\n    once(eventName, handler) {\n        var _a;\n        this._empty = false;\n        this._listenersOnce[eventName] = (_a = this._listenersOnce[eventName]) !== null && _a !== void 0 ? _a : [];\n        this._listenersOnce[eventName].push(handler);\n        return {\n            close: () => this.off(eventName, handler)\n        };\n    }\n    off(eventName, handler) {\n        var _a, _b;\n        if (handler) {\n            const newListeners = (_a = this._listeners[eventName]) === null || _a === void 0 ? void 0 : _a.filter((h) => h !== handler);\n            this._listeners[eventName] = newListeners;\n            const newOnceListeners = (_b = this._listenersOnce[eventName]) === null || _b === void 0 ? void 0 : _b.filter((h) => h !== handler);\n            this._listenersOnce[eventName] = newOnceListeners;\n        }\n        else {\n            delete this._listeners[eventName];\n        }\n    }\n    emit(eventName, event) {\n        if (this._empty) {\n            return;\n        }\n        if (this._paused) {\n            return;\n        }\n        const listeners = this._listeners[eventName];\n        if (listeners) {\n            for (let i = 0; i < listeners.length; i++) {\n                listeners[i](event);\n            }\n        }\n        const onces = this._listenersOnce[eventName];\n        this._listenersOnce[eventName] = [];\n        if (onces) {\n            for (let i = 0; i < onces.length; i++) {\n                onces[i](event);\n            }\n        }\n        for (let i = 0; i < this._pipes.length; i++) {\n            this._pipes[i].emit(eventName, event);\n        }\n    }\n    /**\n     * Replay events from this emitter to another\n     * @param emitter\n     */\n    pipe(emitter) {\n        if (this === emitter) {\n            throw Error('Cannot pipe to self');\n        }\n        this._empty = false;\n        this._pipes.push(emitter);\n        return {\n            close: () => {\n                const i = this._pipes.indexOf(emitter);\n                if (i > -1) {\n                    this._pipes.splice(i, 1);\n                }\n            }\n        };\n    }\n    /**\n     * Remove any piped emitters\n     * @param emitter\n     */\n    unpipe(emitter) {\n        const i = this._pipes.indexOf(emitter);\n        if (i > -1) {\n            this._pipes.splice(i, 1);\n        }\n    }\n    /**\n     * Paused event emitters do not emit events\n     */\n    pause() {\n        this._paused = true;\n    }\n    /**\n     * Unpaused event emitter do emit events\n     */\n    unpause() {\n        this._paused = false;\n    }\n}\n\n;// ./Input/PointerScope.ts\n/**\n * Determines the scope of handling mouse/touch events.\n */\nvar PointerScope;\n(function (PointerScope) {\n    /**\n     * Handle events on the `canvas` element only. Events originating outside the\n     * `canvas` will not be handled.\n     */\n    PointerScope[\"Canvas\"] = \"Canvas\";\n    /**\n     * Handles events on the entire document. All events will be handled by Excalibur.\n     */\n    PointerScope[\"Document\"] = \"Document\";\n})(PointerScope || (PointerScope = {}));\n\n;// ./Math/rotation-type.ts\n/**\n * An enum that describes the strategies that rotation actions can use\n */\nvar RotationType;\n(function (RotationType) {\n    /**\n     * Rotation via `ShortestPath` will use the smallest angle\n     * between the starting and ending points. This strategy is the default behavior.\n     */\n    RotationType[\"ShortestPath\"] = \"shortest-path\";\n    /**\n     * Rotation via `LongestPath` will use the largest angle\n     * between the starting and ending points.\n     */\n    RotationType[\"LongestPath\"] = \"longest-path\";\n    /**\n     * Rotation via `Clockwise` will travel in a clockwise direction,\n     * regardless of the starting and ending points.\n     */\n    RotationType[\"Clockwise\"] = \"clockwise\";\n    /**\n     * Rotation via `CounterClockwise` will travel in a counterclockwise direction,\n     * regardless of the starting and ending points.\n     */\n    RotationType[\"CounterClockwise\"] = \"counter-clockwise\";\n})(RotationType || (RotationType = {}));\n\n;// ./Math/Random.ts\n/**\n * @module\n * Pseudo-Random Utility\n *\n * A pseudo-random utility to add seeded random support for help in\n * generating things like terrain or reproducible randomness. Uses the\n * [Mersenne Twister](https://en.wikipedia.org/wiki/Mersenne_Twister) algorithm.\n */\n/**\n * 32-bit mask\n */\nconst BITMASK32 = 0xffffffff;\n/**\n * Pseudo-random number generator following the Mersenne_Twister algorithm. Given a seed this generator will produce the same sequence\n * of numbers each time it is called.\n * See https://en.wikipedia.org/wiki/Mersenne_Twister for more details.\n * Uses the MT19937-32 (2002) implementation documented here http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/emt19937ar.html\n *\n * Api inspired by http://chancejs.com/# https://github.com/chancejs/chancejs\n */\nclass Random {\n    /**\n     * If no seed is specified, the Date.now() is used\n     */\n    constructor(seed) {\n        this.seed = seed;\n        // Separation point of one one word, the number of bits in the lower bitmask 0 <= r <= w-1\n        this._lowerMask = 0x7fffffff; // 31 bits same as _r\n        this._upperMask = 0x80000000; // 34 high bits\n        // Word size, 64 bits\n        this._w = 32;\n        // Degree of recurrence\n        this._n = 624;\n        // Middle word, an offset used in the recurrence defining the series x, 1<=m<n\n        this._m = 397;\n        // coefficients of teh rational normal form twist matrix\n        this._a = 0x9908b0df;\n        // tempering bit shifts and masks\n        this._u = 11;\n        this._s = 7;\n        this._b = 0x9d2c5680;\n        this._t = 15;\n        this._c = 0xefc60000;\n        this._l = 18;\n        this._f = 1812433253;\n        this._mt = new Array(this._n);\n        // need to mask to support higher bit machines\n        this._mt[0] = (seed || Date.now()) >>> 0;\n        for (let i = 1; i < this._n; i++) {\n            const s = this._mt[i - 1] ^ (this._mt[i - 1] >>> (this._w - 2));\n            // numbers are bigger than the JS max safe int, add in 16-bit chunks to prevent IEEE rounding errors on high bits\n            this._mt[i] = (((this._f * ((s & 0xffff0000) >>> 16)) << 16) + this._f * (s & 0xffff) + i) >>> 0;\n        }\n        this._index = this._n;\n    }\n    /**\n     * Apply the twist\n     */\n    _twist() {\n        const mag01 = [0x0, this._a];\n        let y = 0, i = 0;\n        for (; i < this._n - this._m; i++) {\n            y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n            this._mt[i] = this._mt[i + this._m] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n        }\n        for (; i < this._n - 1; i++) {\n            y = (this._mt[i] & this._upperMask) | (this._mt[i + 1] & this._lowerMask);\n            this._mt[i] = this._mt[i + (this._m - this._n)] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n        }\n        y = (this._mt[this._n - 1] & this._upperMask) | (this._mt[0] & this._lowerMask);\n        this._mt[this._n - 1] = this._mt[this._m - 1] ^ (y >>> 1) ^ (mag01[y & 0x1] & BITMASK32);\n        this._index = 0;\n    }\n    /**\n     * Return next 32 bit integer number in sequence\n     */\n    nextInt() {\n        if (this._index >= this._n) {\n            this._twist();\n        }\n        let y = this._mt[this._index++];\n        y ^= y >>> this._u;\n        y ^= (y << this._s) & this._b;\n        y ^= (y << this._t) & this._c;\n        y ^= y >>> this._l;\n        return y >>> 0;\n    }\n    /**\n     * Return a random floating point number between [0, 1)\n     */\n    next() {\n        return this.nextInt() * (1.0 / 4294967296.0); // divided by 2^32\n    }\n    /**\n     * Return a random floating point in range [min, max) min is included, max is not included\n     */\n    floating(min, max) {\n        return (max - min) * this.next() + min;\n    }\n    /**\n     * Return a random integer in range [min, max] min is included, max is included.\n     * Implemented with rejection sampling, see https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.i13tdiu5a\n     */\n    integer(min, max) {\n        return Math.floor((max - min + 1) * this.next() + min);\n    }\n    /**\n     * Returns true or false randomly with 50/50 odds by default.\n     * By default the likelihood of returning a true is .5 (50%).\n     * @param likelihood takes values between [0, 1]\n     */\n    bool(likelihood = 0.5) {\n        return this.next() <= likelihood;\n    }\n    /**\n     * Returns one element from an array at random\n     */\n    pickOne(array) {\n        return array[this.integer(0, array.length - 1)];\n    }\n    /**\n     * Returns a new array random picking elements from the original\n     * @param array Original array to pick from\n     * @param numPicks can be any positive number\n     * @param allowDuplicates indicates whether the returned set is allowed duplicates (it does not mean there will always be duplicates\n     * just that it is possible)\n     */\n    pickSet(array, numPicks, allowDuplicates = false) {\n        if (allowDuplicates) {\n            return this._pickSetWithDuplicates(array, numPicks);\n        }\n        else {\n            return this._pickSetWithoutDuplicates(array, numPicks);\n        }\n    }\n    /**\n     * Returns a new array randomly picking elements in the original (not reused)\n     * @param array Array to pick elements out of\n     * @param numPicks must be less than or equal to the number of elements in the array.\n     */\n    _pickSetWithoutDuplicates(array, numPicks) {\n        if (numPicks > array.length || numPicks < 0) {\n            throw new Error('Invalid number of elements to pick, must pick a value 0 < n <= length');\n        }\n        if (numPicks === array.length) {\n            return array;\n        }\n        const result = new Array(numPicks);\n        let currentPick = 0;\n        const tempArray = array.slice(0);\n        while (currentPick < numPicks) {\n            const index = this.integer(0, tempArray.length - 1);\n            result[currentPick++] = tempArray[index];\n            tempArray.splice(index, 1);\n        }\n        return result;\n    }\n    /**\n     * Returns a new array random picking elements from the original allowing duplicates\n     * @param array Array to pick elements out of\n     * @param numPicks can be any positive number\n     */\n    _pickSetWithDuplicates(array, numPicks) {\n        // Typescript numbers are all floating point, so do we add check for int? (or floor the input?)\n        if (numPicks < 0) {\n            throw new Error('Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT');\n        }\n        const result = new Array(numPicks);\n        for (let i = 0; i < numPicks; i++) {\n            result[i] = this.pickOne(array);\n        }\n        return result;\n    }\n    /**\n     * Returns a new array that has its elements shuffled. Using the Fisher/Yates method\n     * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n     */\n    shuffle(array) {\n        const tempArray = array.slice(0);\n        let swap;\n        for (let i = 0; i < tempArray.length - 2; i++) {\n            const randomIndex = this.integer(i, tempArray.length - 1);\n            swap = tempArray[i];\n            tempArray[i] = tempArray[randomIndex];\n            tempArray[randomIndex] = swap;\n        }\n        return tempArray;\n    }\n    /**\n     * Generate a list of random integer numbers\n     * @param length the length of the final array\n     * @param min the minimum integer number to generate inclusive\n     * @param max the maximum integer number to generate inclusive\n     */\n    range(length, min, max) {\n        const result = new Array(length);\n        for (let i = 0; i < length; i++) {\n            result[i] = this.integer(min, max);\n        }\n        return result;\n    }\n    /**\n     * Returns the result of a d4 dice roll\n     */\n    d4() {\n        return this.integer(1, 4);\n    }\n    /**\n     * Returns the result of a d6 dice roll\n     */\n    d6() {\n        return this.integer(1, 6);\n    }\n    /**\n     * Returns the result of a d8 dice roll\n     */\n    d8() {\n        return this.integer(1, 8);\n    }\n    /**\n     * Returns the result of a d10 dice roll\n     */\n    d10() {\n        return this.integer(1, 10);\n    }\n    /**\n     * Returns the result of a d12 dice roll\n     */\n    d12() {\n        return this.integer(1, 12);\n    }\n    /**\n     * Returns the result of a d20 dice roll\n     */\n    d20() {\n        return this.integer(1, 20);\n    }\n}\n\n;// ./Math/util.ts\n\n/**\n * Two PI constant\n */\nconst TwoPI = Math.PI * 2;\n/**\n * Returns the fractional part of a number\n * @param x\n */\nfunction frac(x) {\n    if (x >= 0) {\n        return x - Math.floor(x);\n    }\n    else {\n        return x - Math.ceil(x);\n    }\n}\n/**\n * Returns the sign of a number, if 0 returns 0\n */\nfunction sign(val) {\n    if (val === 0) {\n        return 0;\n    }\n    return val < 0 ? -1 : 1;\n}\n/**\n * Clamps a value between a min and max inclusive\n */\nfunction clamp(val, min, max) {\n    return Math.min(Math.max(min, val), max);\n}\n/**\n * Approximately equals\n */\nfunction approximatelyEqual(val1, val2, tolerance) {\n    // https://dev.to/alldanielscott/how-to-compare-numbers-correctly-in-javascript-1l4i\n    return Math.abs(val1 - val2) < tolerance;\n}\n/**\n * Convert an angle to be the equivalent in the range [0, 2PI)\n */\nfunction canonicalizeAngle(angle) {\n    let tmpAngle = angle;\n    if (angle >= TwoPI) {\n        while (tmpAngle >= TwoPI) {\n            tmpAngle -= TwoPI;\n        }\n    }\n    if (angle < 0) {\n        while (tmpAngle < 0) {\n            tmpAngle += TwoPI;\n        }\n    }\n    return tmpAngle;\n}\n/**\n * Convert radians to degrees\n */\nfunction toDegrees(radians) {\n    return (180 / Math.PI) * radians;\n}\n/**\n * Convert degrees to radians\n */\nfunction toRadians(degrees) {\n    return (degrees / 180) * Math.PI;\n}\n/**\n * Generate a range of numbers\n * For example: range(0, 5) -> [0, 1, 2, 3, 4, 5]\n * @param from inclusive\n * @param to inclusive\n */\nconst range = (from, to) => Array.from(new Array(to - from + 1), (_x, i) => i + from);\n/**\n * Find a random floating point number in range\n */\nfunction randomInRange(min, max, random = new Random()) {\n    return random ? random.floating(min, max) : min + Math.random() * (max - min);\n}\n/**\n * Find a random integer in a range\n */\nfunction randomIntInRange(min, max, random = new Random()) {\n    return random ? random.integer(min, max) : Math.round(randomInRange(min, max));\n}\n\n;// ./Math/vector.ts\n\n\n/**\n * A 2D vector on a plane.\n */\nclass Vector {\n    /**\n     * A (0, 0) vector\n     */\n    static get Zero() {\n        return new Vector(0, 0);\n    }\n    /**\n     * A (1, 1) vector\n     */\n    static get One() {\n        return new Vector(1, 1);\n    }\n    /**\n     * A (0.5, 0.5) vector\n     */\n    static get Half() {\n        return new Vector(0.5, 0.5);\n    }\n    /**\n     * A unit vector pointing up (0, -1)\n     */\n    static get Up() {\n        return new Vector(0, -1);\n    }\n    /**\n     * A unit vector pointing down (0, 1)\n     */\n    static get Down() {\n        return new Vector(0, 1);\n    }\n    /**\n     * A unit vector pointing left (-1, 0)\n     */\n    static get Left() {\n        return new Vector(-1, 0);\n    }\n    /**\n     * A unit vector pointing right (1, 0)\n     */\n    static get Right() {\n        return new Vector(1, 0);\n    }\n    /**\n     * Returns a vector of unit length in the direction of the specified angle in Radians.\n     * @param angle The angle to generate the vector\n     */\n    static fromAngle(angle) {\n        return new Vector(Math.cos(angle), Math.sin(angle));\n    }\n    /**\n     * Checks if vector is not null, undefined, or if any of its components are NaN or Infinity.\n     */\n    static isValid(vec) {\n        if (vec === null || vec === undefined) {\n            return false;\n        }\n        if (isNaN(vec.x) || isNaN(vec.y)) {\n            return false;\n        }\n        if (vec.x === Infinity || vec.y === Infinity || vec.x === -Infinity || vec.y === -Infinity) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Calculates distance between two Vectors\n     * @param vec1\n     * @param vec2\n     */\n    static distance(vec1, vec2) {\n        return Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\n    }\n    static min(vec1, vec2) {\n        return new Vector(Math.min(vec1.x, vec2.x), Math.min(vec1.y, vec2.y));\n    }\n    static max(vec1, vec2) {\n        return new Vector(Math.max(vec1.x, vec2.x), Math.max(vec1.y, vec2.y));\n    }\n    /**\n     * @param x  X component of the Vector\n     * @param y  Y component of the Vector\n     */\n    constructor(x, y) {\n        this._x = 0;\n        this._y = 0;\n        this._x = x;\n        this._y = y;\n    }\n    /**\n     * Get the x component of the vector\n     */\n    get x() {\n        return this._x;\n    }\n    /**\n     * Set the x component, THIS MUTATES the current vector. It is usually better to create a new vector.\n     * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\n     */\n    set x(val) {\n        this._x = val;\n    }\n    /**\n     * Get the y component of the vector\n     */\n    get y() {\n        return this._y;\n    }\n    /**\n     * Set the y component, THIS MUTATES the current vector. It is usually better to create a new vector.\n     * @warning **Be very careful setting components on shared vectors, mutating shared vectors can cause hard to find bugs**\n     */\n    set y(val) {\n        this._y = val;\n    }\n    /**\n     * Sets the x and y components at once, THIS MUTATES the current vector. It is usually better to create a new vector.\n     * @warning **Be very careful using this, mutating vectors can cause hard to find bugs**\n     */\n    setTo(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    /**\n     * Compares this point against another and tests for equality\n     * @param vector The other point to compare to\n     * @param tolerance Amount of euclidean distance off we are willing to tolerate\n     */\n    equals(vector, tolerance = Vector.EQUALS_EPSILON) {\n        return Math.abs(this.x - vector.x) <= tolerance && Math.abs(this.y - vector.y) <= tolerance;\n    }\n    /**\n     * The distance to another vector. If no other Vector is specified, this will return the {@apilink magnitude}.\n     * @param v  The other vector. Leave blank to use origin vector.\n     */\n    distance(v) {\n        if (!v) {\n            return Math.sqrt(this.x * this.x + this.y * this.y);\n        }\n        const deltaX = this.x - v.x;\n        const deltaY = this.y - v.y;\n        return Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    }\n    squareDistance(v) {\n        if (!v) {\n            v = Vector.Zero;\n        }\n        const deltaX = this.x - v.x;\n        const deltaY = this.y - v.y;\n        return deltaX * deltaX + deltaY * deltaY;\n    }\n    /**\n     * Clamps the current vector's magnitude mutating it\n     * @param magnitude\n     */\n    clampMagnitude(magnitude) {\n        const size = this.magnitude;\n        const newSize = clamp(size, 0, magnitude);\n        this.magnitude = newSize;\n        return this;\n    }\n    /**\n     * The size (magnitude) of the Vector\n     * @deprecated Will be removed in v1, use Vector.magnitude\n     */\n    get size() {\n        return this.distance();\n    }\n    /**\n     * Setting the size mutates the current vector\n     * @warning Can be used to set the size of the vector, **be very careful using this, mutating vectors can cause hard to find bugs**\n     * @deprecated Will be removed in v1, use Vector.magnitude\n     */\n    set size(newLength) {\n        const v = this.normalize().scale(newLength);\n        this.setTo(v.x, v.y);\n    }\n    /**\n     * The magnitude (length) of the Vector\n     */\n    get magnitude() {\n        return this.distance();\n    }\n    /**\n     * Setting the size mutates the current vector\n     * @warning Can be used to set the size of the vector, **be very careful using this, mutating vectors can cause hard to find bugs**\n     */\n    set magnitude(newMagnitude) {\n        this.normalize().scale(newMagnitude, this);\n    }\n    /**\n     * Normalizes a non-zero vector to have a magnitude of 1. Zero vectors return a new zero vector.\n     */\n    normalize() {\n        const distance = this.distance();\n        if (distance === 0) {\n            return Vector.Zero;\n        }\n        return new Vector(this.x / distance, this.y / distance);\n    }\n    /**\n     * Returns the average (midpoint) between the current point and the specified\n     */\n    average(vec) {\n        return this.add(vec).scale(0.5);\n    }\n    scale(sizeOrScale, dest) {\n        const result = dest || new Vector(0, 0);\n        if (sizeOrScale instanceof Vector) {\n            result.x = this.x * sizeOrScale.x;\n            result.y = this.y * sizeOrScale.y;\n        }\n        else {\n            result.x = this.x * sizeOrScale;\n            result.y = this.y * sizeOrScale;\n        }\n        return result;\n    }\n    /**\n     * Adds one vector to another\n     * @param v The vector to add\n     * @param dest Optionally copy the result into a provided vector\n     */\n    add(v, dest) {\n        if (dest) {\n            dest.x = this.x + v.x;\n            dest.y = this.y + v.y;\n            return dest;\n        }\n        return new Vector(this.x + v.x, this.y + v.y);\n    }\n    /**\n     * Subtracts a vector from another, if you subtract vector `B.sub(A)` the resulting vector points from A -> B\n     * @param v The vector to subtract\n     */\n    sub(v, dest) {\n        const result = dest || new Vector(0, 0);\n        const x = this.x - v.x;\n        const y = this.y - v.y;\n        result.x = x;\n        result.y = y;\n        return result;\n    }\n    /**\n     * Adds one vector to this one modifying the original\n     * @param v The vector to add\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n     */\n    addEqual(v) {\n        this.setTo(this.x + v.x, this.y + v.y);\n        return this;\n    }\n    /**\n     * Subtracts a vector from this one modifying the original\n     * @param v The vector to subtract\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n     */\n    subEqual(v) {\n        this.setTo(this.x - v.x, this.y - v.y);\n        return this;\n    }\n    /**\n     * Scales this vector by a factor of size and modifies the original\n     * @warning Be very careful using this, mutating vectors can cause hard to find bugs\n     */\n    scaleEqual(size) {\n        this.setTo(this.x * size, this.y * size);\n        return this;\n    }\n    /**\n     * Performs a dot product with another vector\n     * @param v  The vector to dot\n     */\n    dot(v) {\n        return this.x * v.x + this.y * v.y;\n    }\n    cross(v) {\n        if (v instanceof Vector) {\n            return this.x * v.y - this.y * v.x;\n        }\n        else if (typeof v === 'number') {\n            return new Vector(v * this.y, -v * this.x);\n        }\n    }\n    static cross(num, vec) {\n        return new Vector(-num * vec.y, num * vec.x);\n    }\n    /**\n     * Returns the perpendicular vector to this one\n     */\n    perpendicular() {\n        return new Vector(this.y, -this.x);\n    }\n    /**\n     * Returns the normal vector to this one, same as the perpendicular of length 1\n     */\n    normal() {\n        return this.perpendicular().normalize();\n    }\n    /**\n     * Negate the current vector\n     */\n    negate() {\n        return this.scale(-1);\n    }\n    /**\n     * Returns the angle of this vector, in range [0, 2*PI)\n     */\n    toAngle() {\n        return canonicalizeAngle(Math.atan2(this.y, this.x));\n    }\n    /**\n     * Returns the difference in radians between the angle of this vector and given angle,\n     * using the given rotation type.\n     * @param angle in radians to which the vector has to be rotated, using {@apilink rotate}\n     * @param rotationType what {@apilink RotationType} to use for the rotation\n     * @returns the angle by which the vector needs to be rotated to match the given angle\n     */\n    angleBetween(angle, rotationType) {\n        const startAngleRadians = this.toAngle();\n        const endAngleRadians = canonicalizeAngle(angle);\n        let rotationClockwise = 0;\n        let rotationAntiClockwise = 0;\n        if (endAngleRadians > startAngleRadians) {\n            rotationClockwise = endAngleRadians - startAngleRadians;\n        }\n        else {\n            rotationClockwise = (TwoPI - startAngleRadians + endAngleRadians) % TwoPI;\n        }\n        rotationAntiClockwise = (rotationClockwise - TwoPI) % TwoPI;\n        switch (rotationType) {\n            case RotationType.ShortestPath:\n                if (Math.abs(rotationClockwise) < Math.abs(rotationAntiClockwise)) {\n                    return rotationClockwise;\n                }\n                else {\n                    return rotationAntiClockwise;\n                }\n            case RotationType.LongestPath:\n                if (Math.abs(rotationClockwise) > Math.abs(rotationAntiClockwise)) {\n                    return rotationClockwise;\n                }\n                else {\n                    return rotationAntiClockwise;\n                }\n            case RotationType.Clockwise:\n                return rotationClockwise;\n            case RotationType.CounterClockwise:\n                return rotationAntiClockwise;\n        }\n    }\n    /**\n     * Rotates the current vector around a point by a certain angle in radians.\n     * Positive angle means rotation clockwise.\n     */\n    rotate(angle, anchor, dest) {\n        const result = dest || new Vector(0, 0);\n        if (!anchor) {\n            anchor = new Vector(0, 0);\n        }\n        const sinAngle = Math.sin(angle);\n        const cosAngle = Math.cos(angle);\n        const x = cosAngle * (this.x - anchor.x) - sinAngle * (this.y - anchor.y) + anchor.x;\n        const y = sinAngle * (this.x - anchor.x) + cosAngle * (this.y - anchor.y) + anchor.y;\n        result.x = x;\n        result.y = y;\n        return result;\n    }\n    /**\n     * Creates new vector that has the same values as the previous.\n     */\n    clone(dest) {\n        const v = dest !== null && dest !== void 0 ? dest : new Vector(0, 0);\n        v.x = this.x;\n        v.y = this.y;\n        return v;\n    }\n    /**\n     * Returns a string representation of the vector.\n     */\n    toString(fixed) {\n        if (fixed) {\n            return `(${this.x.toFixed(fixed)}, ${this.y.toFixed(fixed)})`;\n        }\n        return `(${this.x}, ${this.y})`;\n    }\n}\n/**\n * Get or set the vector equals epsilon, by default 0.001 meaning vectors within that tolerance on x or y will be considered equal.\n */\nVector.EQUALS_EPSILON = 0.001;\n/**\n * Shorthand for creating new Vectors - returns a new Vector instance with the\n * provided X and Y components.\n * @param x  X component of the Vector\n * @param y  Y component of the Vector\n */\nfunction vec(x, y) {\n    return new Vector(x, y);\n}\n\n;// ./Color.ts\n/**\n * Provides standard colors (e.g. {@apilink Color.Black})\n * but you can also create custom colors using RGB, HSL, or Hex. Also provides\n * useful color operations like {@apilink Color.lighten}, {@apilink Color.darken}, and more.\n */\nclass Color {\n    /**\n     * Creates a new instance of Color from an r, g, b, a\n     * @param r  The red component of color (0-255)\n     * @param g  The green component of color (0-255)\n     * @param b  The blue component of color (0-255)\n     * @param a  The alpha component of color (0-1.0)\n     */\n    constructor(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a != null ? a : 1;\n    }\n    /**\n     * Creates a new instance of Color from an r, g, b, a\n     * @param r  The red component of color (0-255)\n     * @param g  The green component of color (0-255)\n     * @param b  The blue component of color (0-255)\n     * @param a  The alpha component of color (0-1.0)\n     */\n    static fromRGB(r, g, b, a) {\n        return new Color(r, g, b, a);\n    }\n    /**\n     * Creates a new instance of Color from a rgb string\n     * @param string  CSS color string of the form rgba(255, 255, 255, 1) or rgb(255, 255, 255)\n     */\n    static fromRGBString(string) {\n        const rgbaRegEx = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)/i;\n        let match = null;\n        if ((match = string.match(rgbaRegEx))) {\n            const r = parseInt(match[1], 10);\n            const g = parseInt(match[2], 10);\n            const b = parseInt(match[3], 10);\n            let a = 1;\n            if (match[4]) {\n                a = parseFloat(match[4]);\n            }\n            return new Color(r, g, b, a);\n        }\n        else {\n            throw new Error('Invalid rgb/a string: ' + string);\n        }\n    }\n    /**\n     * Creates a new instance of Color from a hex string\n     * @param hex  CSS color string of the form #ffffff, the alpha component is optional\n     */\n    static fromHex(hex) {\n        const hexRegEx = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i;\n        let match = null;\n        if ((match = hex.match(hexRegEx))) {\n            const r = parseInt(match[1], 16);\n            const g = parseInt(match[2], 16);\n            const b = parseInt(match[3], 16);\n            let a = 1;\n            if (match[4]) {\n                a = parseInt(match[4], 16) / 255;\n            }\n            return new Color(r, g, b, a);\n        }\n        else {\n            throw new Error('Invalid hex string: ' + hex);\n        }\n    }\n    /**\n     * Creates a new instance of Color from hsla values\n     * @param h  Hue is represented [0-1]\n     * @param s  Saturation is represented [0-1]\n     * @param l  Luminance is represented [0-1]\n     * @param a  Alpha is represented [0-1]\n     */\n    static fromHSL(h, s, l, a = 1.0) {\n        const temp = new HSLColor(h, s, l, a);\n        return temp.toRGBA();\n    }\n    /**\n     * Lightens the current color by a specified amount\n     * @param factor  The amount to lighten by [0-1]\n     */\n    lighten(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.l += (1 - temp.l) * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Darkens the current color by a specified amount\n     * @param factor  The amount to darken by [0-1]\n     */\n    darken(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.l -= temp.l * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Saturates the current color by a specified amount\n     * @param factor  The amount to saturate by [0-1]\n     */\n    saturate(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.s += temp.s * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Desaturates the current color by a specified amount\n     * @param factor  The amount to desaturate by [0-1]\n     */\n    desaturate(factor = 0.1) {\n        const temp = HSLColor.fromRGBA(this.r, this.g, this.b, this.a);\n        temp.s -= temp.s * factor;\n        return temp.toRGBA();\n    }\n    /**\n     * Multiplies a color by another, results in a darker color\n     * @param color  The other color\n     */\n    multiply(color) {\n        const newR = (((color.r / 255) * this.r) / 255) * 255;\n        const newG = (((color.g / 255) * this.g) / 255) * 255;\n        const newB = (((color.b / 255) * this.b) / 255) * 255;\n        const newA = color.a * this.a;\n        return new Color(newR, newG, newB, newA);\n    }\n    /**\n     * Screens a color by another, results in a lighter color\n     * @param color  The other color\n     */\n    screen(color) {\n        const color1 = color.invert();\n        const color2 = color.invert();\n        return color1.multiply(color2).invert();\n    }\n    /**\n     * Inverts the current color\n     */\n    invert() {\n        return new Color(255 - this.r, 255 - this.g, 255 - this.b, 1.0 - this.a);\n    }\n    /**\n     * Averages the current color with another\n     * @param color  The other color\n     */\n    average(color) {\n        const newR = (color.r + this.r) / 2;\n        const newG = (color.g + this.g) / 2;\n        const newB = (color.b + this.b) / 2;\n        const newA = (color.a + this.a) / 2;\n        return new Color(newR, newG, newB, newA);\n    }\n    equal(color) {\n        return this.toString() === color.toString();\n    }\n    /**\n     * Returns a CSS string representation of a color.\n     * @param format Color representation, accepts: rgb, hsl, or hex\n     */\n    toString(format = 'rgb') {\n        switch (format) {\n            case 'rgb':\n                return this.toRGBA();\n            case 'hsl':\n                return this.toHSLA();\n            case 'hex':\n                return this.toHex();\n            default:\n                throw new Error('Invalid Color format');\n        }\n    }\n    /**\n     * Returns Hex Value of a color component\n     * @param c color component\n     * @see https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n     */\n    _componentToHex(c) {\n        // Handle negative and fractional numbers\n        const hex = Math.max(Math.round(c), 0).toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    }\n    /**\n     * Return Hex representation of a color.\n     */\n    toHex() {\n        let hexRepresentation = '#' + this._componentToHex(this.r) + this._componentToHex(this.g) + this._componentToHex(this.b);\n        if (this.a !== 1) {\n            hexRepresentation += this._componentToHex(this.a * 255);\n        }\n        return hexRepresentation;\n    }\n    /**\n     * Return RGBA representation of a color.\n     */\n    toRGBA() {\n        const result = String(this.r.toFixed(0)) + ', ' + String(this.g.toFixed(0)) + ', ' + String(this.b.toFixed(0));\n        if (this.a !== undefined || this.a !== null) {\n            return 'rgba(' + result + ', ' + String(this.a) + ')';\n        }\n        return 'rgb(' + result + ')';\n    }\n    /**\n     * Return HSLA representation of a color.\n     */\n    toHSLA() {\n        return HSLColor.fromRGBA(this.r, this.g, this.b, this.a).toString();\n    }\n    /**\n     * Returns a CSS string representation of a color.\n     */\n    fillStyle() {\n        return this.toString();\n    }\n    /**\n     * Returns a clone of the current color.\n     */\n    clone(dest) {\n        const result = dest || new Color(this.r, this.g, this.b, this.a);\n        result.r = this.r;\n        result.g = this.g;\n        result.b = this.b;\n        result.a = this.a;\n        return result;\n    }\n    /**\n     * Black (#000000)\n     */\n    static get Black() {\n        return Color.fromHex('#000000');\n    }\n    /**\n     * White (#FFFFFF)\n     */\n    static get White() {\n        return Color.fromHex('#FFFFFF');\n    }\n    /**\n     * Gray (#808080)\n     */\n    static get Gray() {\n        return Color.fromHex('#808080');\n    }\n    /**\n     * Light gray (#D3D3D3)\n     */\n    static get LightGray() {\n        return Color.fromHex('#D3D3D3');\n    }\n    /**\n     * Dark gray (#A9A9A9)\n     */\n    static get DarkGray() {\n        return Color.fromHex('#A9A9A9');\n    }\n    /**\n     * Yellow (#FFFF00)\n     */\n    static get Yellow() {\n        return Color.fromHex('#FFFF00');\n    }\n    /**\n     * Orange (#FFA500)\n     */\n    static get Orange() {\n        return Color.fromHex('#FFA500');\n    }\n    /**\n     * Red (#FF0000)\n     */\n    static get Red() {\n        return Color.fromHex('#FF0000');\n    }\n    /**\n     * Vermilion (#FF5B31)\n     */\n    static get Vermilion() {\n        return Color.fromHex('#FF5B31');\n    }\n    /**\n     * Rose (#FF007F)\n     */\n    static get Rose() {\n        return Color.fromHex('#FF007F');\n    }\n    /**\n     * Pink (#FFC0CB)\n     */\n    static get Pink() {\n        return Color.fromHex('#FFC0CB');\n    }\n    /**\n     * Magenta (#FF00FF)\n     */\n    static get Magenta() {\n        return Color.fromHex('#FF00FF');\n    }\n    /**\n     * Violet (#7F00FF)\n     */\n    static get Violet() {\n        return Color.fromHex('#7F00FF');\n    }\n    /**\n     * Purple (#800080)\n     */\n    static get Purple() {\n        return Color.fromHex('#800080');\n    }\n    /**\n     * Blue (#0000FF)\n     */\n    static get Blue() {\n        return Color.fromHex('#0000FF');\n    }\n    /**\n     * Azure (#007FFF)\n     */\n    static get Azure() {\n        return Color.fromHex('#007FFF');\n    }\n    /**\n     * Cyan (#00FFFF)\n     */\n    static get Cyan() {\n        return Color.fromHex('#00FFFF');\n    }\n    /**\n     * Viridian (#59978F)\n     */\n    static get Viridian() {\n        return Color.fromHex('#59978F');\n    }\n    /**\n     * Teal (#008080)\n     */\n    static get Teal() {\n        return Color.fromHex('#008080');\n    }\n    /**\n     * Green (#00FF00)\n     */\n    static get Green() {\n        return Color.fromHex('#00FF00');\n    }\n    /**\n     * Chartreuse (#7FFF00)\n     */\n    static get Chartreuse() {\n        return Color.fromHex('#7FFF00');\n    }\n    /**\n     * Transparent (#FFFFFF00)\n     */\n    static get Transparent() {\n        return Color.fromHex('#FFFFFF00');\n    }\n    /**\n     * ExcaliburBlue (#176BAA)\n     */\n    static get ExcaliburBlue() {\n        return Color.fromHex('#176BAA');\n    }\n    /**\n     * Brown (#964B00)\n     */\n    static get Brown() {\n        return Color.fromHex('#964B00');\n    }\n}\n/**\n * Internal HSL Color representation\n *\n * http://en.wikipedia.org/wiki/HSL_and_HSV\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\n */\nclass HSLColor {\n    constructor(h, s, l, a) {\n        this.h = h;\n        this.s = s;\n        this.l = l;\n        this.a = a;\n    }\n    static hue2rgb(p, q, t) {\n        if (t < 0) {\n            t += 1;\n        }\n        if (t > 1) {\n            t -= 1;\n        }\n        if (t < 1 / 6) {\n            return p + (q - p) * 6 * t;\n        }\n        if (t < 1 / 2) {\n            return q;\n        }\n        if (t < 2 / 3) {\n            return p + (q - p) * (2 / 3 - t) * 6;\n        }\n        return p;\n    }\n    static fromRGBA(r, g, b, a) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h, s;\n        const l = (max + min) / 2;\n        if (max === min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        return new HSLColor(h, s, l, a);\n    }\n    toRGBA() {\n        let r, g, b;\n        if (this.s === 0) {\n            r = g = b = this.l; // achromatic\n        }\n        else {\n            const q = this.l < 0.5 ? this.l * (1 + this.s) : this.l + this.s - this.l * this.s;\n            const p = 2 * this.l - q;\n            r = HSLColor.hue2rgb(p, q, this.h + 1 / 3);\n            g = HSLColor.hue2rgb(p, q, this.h);\n            b = HSLColor.hue2rgb(p, q, this.h - 1 / 3);\n        }\n        return new Color(r * 255, g * 255, b * 255, this.a);\n    }\n    toString() {\n        const h = this.h.toFixed(0), s = this.s.toFixed(0), l = this.l.toFixed(0), a = this.a.toFixed(0);\n        return `hsla(${h}, ${s}, ${l}, ${a})`;\n    }\n}\n\n;// ./Util/Log.ts\n/* eslint-disable no-console */\n\n\n/**\n * Logging level that Excalibur will tag\n */\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Debug\"] = 0] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n    LogLevel[LogLevel[\"Fatal\"] = 4] = \"Fatal\";\n})(LogLevel || (LogLevel = {}));\n/**\n * Static singleton that represents the logging facility for Excalibur.\n * Excalibur comes built-in with a {@apilink ConsoleAppender} and {@apilink ScreenAppender}.\n * Derive from {@apilink Appender} to create your own logging appenders.\n */\nclass Logger {\n    constructor() {\n        this._appenders = [];\n        /**\n         * Gets or sets the default logging level. Excalibur will only log\n         * messages if equal to or above this level. Default: {@apilink LogLevel.Info}\n         */\n        this.defaultLevel = LogLevel.Info;\n        this._logOnceSet = new Set();\n        if (Logger._INSTANCE) {\n            throw new Error('Logger is a singleton');\n        }\n        Logger._INSTANCE = this;\n        // Default console appender\n        Logger._INSTANCE.addAppender(new ConsoleAppender());\n        return Logger._INSTANCE;\n    }\n    /**\n     * Gets the current static instance of Logger\n     */\n    static getInstance() {\n        if (Logger._INSTANCE == null) {\n            Logger._INSTANCE = new Logger();\n        }\n        return Logger._INSTANCE;\n    }\n    /**\n     * Adds a new {@apilink Appender} to the list of appenders to write to\n     */\n    addAppender(appender) {\n        this._appenders.push(appender);\n    }\n    /**\n     * Clears all appenders from the logger\n     */\n    clearAppenders() {\n        this._appenders.length = 0;\n    }\n    /**\n     * Logs a message at a given LogLevel\n     * @param level  The LogLevel`to log the message at\n     * @param args   An array of arguments to write to an appender\n     */\n    _log(level, args) {\n        if (level == null) {\n            level = this.defaultLevel;\n        }\n        const len = this._appenders.length;\n        for (let i = 0; i < len; i++) {\n            if (level >= this.defaultLevel) {\n                this._appenders[i].log(level, args);\n            }\n        }\n    }\n    _logOnce(level, args) {\n        const serialized = level + args.join('+');\n        if (this._logOnceSet.has(serialized)) {\n            return;\n        }\n        else {\n            this._logOnceSet.add(serialized);\n            this._log(level, args);\n        }\n    }\n    /**\n     * Writes a log message at the {@apilink LogLevel.Debug} level\n     * @param args  Accepts any number of arguments\n     */\n    debug(...args) {\n        this._log(LogLevel.Debug, args);\n    }\n    /**\n     * Writes a log message once at the {@apilink LogLevel.Fatal} level, if it sees the same args again it wont log\n     * @param args  Accepts any number of arguments\n     */\n    debugOnce(...args) {\n        this._logOnce(LogLevel.Debug, args);\n    }\n    /**\n     * Writes a log message at the {@apilink LogLevel.Info} level\n     * @param args  Accepts any number of arguments\n     */\n    info(...args) {\n        this._log(LogLevel.Info, args);\n    }\n    /**\n     * Writes a log message once at the {@apilink LogLevel.Info} level, if it sees the same args again it wont log\n     * @param args  Accepts any number of arguments\n     */\n    infoOnce(...args) {\n        this._logOnce(LogLevel.Info, args);\n    }\n    /**\n     * Writes a log message at the {@apilink LogLevel.Warn} level\n     * @param args  Accepts any number of arguments\n     */\n    warn(...args) {\n        this._log(LogLevel.Warn, args);\n    }\n    /**\n     * Writes a log message once at the {@apilink LogLevel.Warn} level, if it sees the same args again it won't log\n     * @param args  Accepts any number of arguments\n     */\n    warnOnce(...args) {\n        this._logOnce(LogLevel.Warn, args);\n    }\n    /**\n     * Writes a log message at the {@apilink LogLevel.Error} level\n     * @param args  Accepts any number of arguments\n     */\n    error(...args) {\n        this._log(LogLevel.Error, args);\n    }\n    /**\n     * Writes a log message once at the {@apilink LogLevel.Error} level, if it sees the same args again it won't log\n     * @param args  Accepts any number of arguments\n     */\n    errorOnce(...args) {\n        this._logOnce(LogLevel.Error, args);\n    }\n    /**\n     * Writes a log message at the {@apilink LogLevel.Fatal} level\n     * @param args  Accepts any number of arguments\n     */\n    fatal(...args) {\n        this._log(LogLevel.Fatal, args);\n    }\n    /**\n     * Writes a log message once at the {@apilink LogLevel.Fatal} level, if it sees the same args again it won't log\n     * @param args  Accepts any number of arguments\n     */\n    fatalOnce(...args) {\n        this._logOnce(LogLevel.Fatal, args);\n    }\n}\nLogger._INSTANCE = null;\n/**\n * Console appender for browsers (i.e. `console.log`)\n */\nclass ConsoleAppender {\n    /**\n     * Logs a message at the given {@apilink LogLevel}\n     * @param level  Level to log at\n     * @param args   Arguments to log\n     */\n    log(level, args) {\n        // Check for console support\n        if (!console && !console.log && console.warn && console.error) {\n            // todo maybe do something better than nothing\n            return;\n        }\n        // Create a new console args array\n        const consoleArgs = [];\n        consoleArgs.unshift.apply(consoleArgs, args);\n        consoleArgs.unshift('[' + LogLevel[level] + '] : ');\n        if (level < LogLevel.Warn) {\n            // Call .log for Debug/Info\n            if (console.log.apply) {\n                // this is required on some older browsers that don't support apply on console.log :(\n                console.log.apply(console, consoleArgs);\n            }\n            else {\n                console.log(consoleArgs.join(' '));\n            }\n        }\n        else if (level < LogLevel.Error) {\n            // Call .warn for Warn\n            if (console.warn.apply) {\n                console.warn.apply(console, consoleArgs);\n            }\n            else {\n                console.warn(consoleArgs.join(' '));\n            }\n        }\n        else {\n            // Call .error for Error/Fatal\n            if (console.error.apply) {\n                console.error.apply(console, consoleArgs);\n            }\n            else {\n                console.error(consoleArgs.join(' '));\n            }\n        }\n    }\n}\n/**\n * On-screen (canvas) appender\n */\nclass ScreenAppender {\n    constructor(options) {\n        var _a, _b;\n        this._messages = [];\n        this._pos = 10;\n        this._color = Color.Black;\n        this._options = options;\n        this.canvas = document.createElement('canvas');\n        this._ctx = this.canvas.getContext('2d');\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.zIndex = (_b = (_a = options.zIndex) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '99';\n        document.body.appendChild(this.canvas);\n        this._positionScreenAppenderCanvas();\n        options.engine.screen.events.on('resize', () => {\n            this._positionScreenAppenderCanvas();\n        });\n    }\n    _positionScreenAppenderCanvas() {\n        var _a, _b, _c, _d;\n        const options = this._options;\n        this.canvas.width = (_a = options.width) !== null && _a !== void 0 ? _a : options.engine.screen.resolution.width;\n        this.canvas.height = (_b = options.height) !== null && _b !== void 0 ? _b : options.engine.screen.resolution.height;\n        this.canvas.style.position = 'absolute';\n        const pagePos = options.engine.screen.screenToPageCoordinates(vec(0, 0));\n        this.canvas.style.left = pagePos.x + 'px';\n        this.canvas.style.top = pagePos.y + 'px';\n        this._pos = (_c = options.xPos) !== null && _c !== void 0 ? _c : this._pos;\n        this._color = (_d = options.color) !== null && _d !== void 0 ? _d : this._color;\n    }\n    /**\n     * Logs a message at the given {@apilink LogLevel}\n     * @param level  Level to log at\n     * @param args   Arguments to log\n     */\n    log(level, args) {\n        const message = args.join(',');\n        this._ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this._messages.unshift('[' + LogLevel[level] + '] : ' + message);\n        let pos = 10;\n        this._messages = this._messages.slice(0, 1000);\n        for (let i = 0; i < this._messages.length; i++) {\n            this._ctx.fillStyle = this._color.toRGBA();\n            this._ctx.fillText(this._messages[i], this._pos, pos);\n            pos += 10;\n        }\n    }\n}\n\n;// ./Collision/Side.ts\n/**\n * An enum that describes the sides of an axis aligned box for collision\n */\nvar Side;\n(function (Side) {\n    Side[\"None\"] = \"None\";\n    Side[\"Top\"] = \"Top\";\n    Side[\"Bottom\"] = \"Bottom\";\n    Side[\"Left\"] = \"Left\";\n    Side[\"Right\"] = \"Right\";\n})(Side || (Side = {}));\n(function (Side) {\n    /**\n     * Returns the opposite side from the current\n     */\n    function getOpposite(side) {\n        if (side === Side.Top) {\n            return Side.Bottom;\n        }\n        if (side === Side.Bottom) {\n            return Side.Top;\n        }\n        if (side === Side.Left) {\n            return Side.Right;\n        }\n        if (side === Side.Right) {\n            return Side.Left;\n        }\n        return Side.None;\n    }\n    Side.getOpposite = getOpposite;\n    /**\n     * Given a vector, return the Side most in that direction\n     */\n    function fromDirection(direction) {\n        if (Math.abs(direction.x) >= Math.abs(direction.y)) {\n            if (direction.x <= 0) {\n                return Side.Left;\n            }\n            return Side.Right;\n        }\n        if (direction.y <= 0) {\n            return Side.Top;\n        }\n        return Side.Bottom;\n    }\n    Side.fromDirection = fromDirection;\n})(Side || (Side = {}));\n\n;// ./Collision/BoundingBox.ts\n\n\n\n/**\n * Axis Aligned collision primitive for Excalibur.\n */\nclass BoundingBox {\n    /**\n     * Constructor allows passing of either an object with all coordinate components,\n     * or the coordinate components passed separately.\n     * @param leftOrOptions    Either x coordinate of the left edge or an options object\n     * containing the four coordinate components.\n     * @param top     y coordinate of the top edge\n     * @param right   x coordinate of the right edge\n     * @param bottom  y coordinate of the bottom edge\n     */\n    constructor(leftOrOptions = 0, top = 0, right = 0, bottom = 0) {\n        // Cache bounding box point returns\n        this._points = [];\n        if (typeof leftOrOptions === 'object') {\n            this.left = leftOrOptions.left;\n            this.top = leftOrOptions.top;\n            this.right = leftOrOptions.right;\n            this.bottom = leftOrOptions.bottom;\n        }\n        else if (typeof leftOrOptions === 'number') {\n            this.left = leftOrOptions;\n            this.top = top;\n            this.right = right;\n            this.bottom = bottom;\n        }\n    }\n    /**\n     * Returns a new instance of {@apilink BoundingBox} that is a copy of the current instance\n     */\n    clone(dest) {\n        const result = dest || new BoundingBox(0, 0, 0, 0);\n        result.left = this.left;\n        result.right = this.right;\n        result.top = this.top;\n        result.bottom = this.bottom;\n        return result;\n    }\n    /**\n     * Resets the bounds to a zero width/height box\n     */\n    reset() {\n        this.left = 0;\n        this.top = 0;\n        this.bottom = 0;\n        this.right = 0;\n    }\n    /**\n     * Given bounding box A & B, returns the side relative to A when intersection is performed.\n     * @param intersection Intersection vector between 2 bounding boxes\n     */\n    static getSideFromIntersection(intersection) {\n        if (!intersection) {\n            return Side.None;\n        }\n        if (intersection) {\n            if (Math.abs(intersection.x) > Math.abs(intersection.y)) {\n                if (intersection.x < 0) {\n                    return Side.Right;\n                }\n                return Side.Left;\n            }\n            else {\n                if (intersection.y < 0) {\n                    return Side.Bottom;\n                }\n                return Side.Top;\n            }\n        }\n        return Side.None;\n    }\n    static fromPoints(points) {\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n        for (let i = 0; i < points.length; i++) {\n            if (points[i].x < minX) {\n                minX = points[i].x;\n            }\n            if (points[i].x > maxX) {\n                maxX = points[i].x;\n            }\n            if (points[i].y < minY) {\n                minY = points[i].y;\n            }\n            if (points[i].y > maxY) {\n                maxY = points[i].y;\n            }\n        }\n        return new BoundingBox(minX, minY, maxX, maxY);\n    }\n    /**\n     * Creates a bounding box from a width and height\n     * @param width\n     * @param height\n     * @param anchor Default Vector.Half\n     * @param pos Default Vector.Zero\n     */\n    static fromDimension(width, height, anchor = Vector.Half, pos = Vector.Zero) {\n        return new BoundingBox(-width * anchor.x + pos.x, -height * anchor.y + pos.y, width - width * anchor.x + pos.x, height - height * anchor.y + pos.y);\n    }\n    /**\n     * Returns the calculated width of the bounding box\n     */\n    get width() {\n        return this.right - this.left;\n    }\n    /**\n     * Returns the calculated height of the bounding box\n     */\n    get height() {\n        return this.bottom - this.top;\n    }\n    /**\n     * Return whether the bounding box has zero dimensions in height,width or both\n     */\n    hasZeroDimensions() {\n        return this.width === 0 || this.height === 0;\n    }\n    /**\n     * Returns the center of the bounding box\n     */\n    get center() {\n        return new Vector((this.left + this.right) / 2, (this.top + this.bottom) / 2);\n    }\n    get topLeft() {\n        return new Vector(this.left, this.top);\n    }\n    get bottomRight() {\n        return new Vector(this.right, this.bottom);\n    }\n    get topRight() {\n        return new Vector(this.right, this.top);\n    }\n    get bottomLeft() {\n        return new Vector(this.left, this.bottom);\n    }\n    translate(pos) {\n        return new BoundingBox(this.left + pos.x, this.top + pos.y, this.right + pos.x, this.bottom + pos.y);\n    }\n    /**\n     * Rotates a bounding box by and angle and around a point, if no point is specified (0, 0) is used by default. The resulting bounding\n     * box is also axis-align. This is useful when a new axis-aligned bounding box is needed for rotated geometry.\n     */\n    rotate(angle, point = Vector.Zero) {\n        const points = this.getPoints().map((p) => p.rotate(angle, point));\n        return BoundingBox.fromPoints(points);\n    }\n    /**\n     * Scale a bounding box by a scale factor, optionally provide a point\n     * @param scale\n     * @param point\n     */\n    scale(scale, point = Vector.Zero) {\n        const shifted = this.translate(point);\n        return new BoundingBox(shifted.left * scale.x, shifted.top * scale.y, shifted.right * scale.x, shifted.bottom * scale.y);\n    }\n    /**\n     * Transform the axis aligned bounding box by a {@apilink Matrix}, producing a new axis aligned bounding box\n     * @param matrix\n     */\n    transform(matrix) {\n        // inlined these calculations to not use vectors would speed it up slightly\n        // const matFirstColumn = vec(matrix.data[0], matrix.data[1]);\n        // const xa = matFirstColumn.scale(this.left);\n        const xa1 = matrix.data[0] * this.left;\n        const xa2 = matrix.data[1] * this.left;\n        // const xb = matFirstColumn.scale(this.right);\n        const xb1 = matrix.data[0] * this.right;\n        const xb2 = matrix.data[1] * this.right;\n        // const matSecondColumn = vec(matrix.data[2], matrix.data[3]);\n        // const ya = matSecondColumn.scale(this.top);\n        const ya1 = matrix.data[2] * this.top;\n        const ya2 = matrix.data[3] * this.top;\n        // const yb = matSecondColumn.scale(this.bottom);\n        const yb1 = matrix.data[2] * this.bottom;\n        const yb2 = matrix.data[3] * this.bottom;\n        const matrixPos = matrix.getPosition();\n        // const topLeft = Vector.min(xa, xb).add(Vector.min(ya, yb)).add(matrixPos);\n        // const bottomRight = Vector.max(xa, xb).add(Vector.max(ya, yb)).add(matrixPos);\n        const left = Math.min(xa1, xb1) + Math.min(ya1, yb1) + matrixPos.x;\n        const top = Math.min(xa2, xb2) + Math.min(ya2, yb2) + matrixPos.y;\n        const right = Math.max(xa1, xb1) + Math.max(ya1, yb1) + matrixPos.x;\n        const bottom = Math.max(xa2, xb2) + Math.max(ya2, yb2) + matrixPos.y;\n        return new BoundingBox({\n            left, //: topLeft.x,\n            top, //: topLeft.y,\n            right, //: bottomRight.x,\n            bottom //: bottomRight.y\n        });\n    }\n    /**\n     * Returns the perimeter of the bounding box\n     */\n    getPerimeter() {\n        const wx = this.width;\n        const wy = this.height;\n        return 2 * (wx + wy);\n    }\n    /**\n     * Returns the world space points that make up the corners of the bounding box as a polygon\n     */\n    getPoints() {\n        if (this._left !== this.left || this._right !== this.right || this._top !== this.top || this._bottom !== this.bottom) {\n            this._points.length = 0;\n            this._points.push(new Vector(this.left, this.top));\n            this._points.push(new Vector(this.right, this.top));\n            this._points.push(new Vector(this.right, this.bottom));\n            this._points.push(new Vector(this.left, this.bottom));\n            this._left = this.left;\n            this._right = this.right;\n            this._top = this.top;\n            this._bottom = this.bottom;\n        }\n        return this._points;\n    }\n    /**\n     * Determines whether a ray intersects with a bounding box\n     */\n    rayCast(ray, farClipDistance = Infinity) {\n        // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\n        let tMin = -Infinity;\n        let tMax = +Infinity;\n        const xInv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\n        const yInv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\n        const tx1 = (this.left - ray.pos.x) * xInv;\n        const tx2 = (this.right - ray.pos.x) * xInv;\n        tMin = Math.min(tx1, tx2);\n        tMax = Math.max(tx1, tx2);\n        const ty1 = (this.top - ray.pos.y) * yInv;\n        const ty2 = (this.bottom - ray.pos.y) * yInv;\n        tMin = Math.max(tMin, Math.min(ty1, ty2));\n        tMax = Math.min(tMax, Math.max(ty1, ty2));\n        return tMax >= Math.max(0, tMin) && tMin < farClipDistance;\n    }\n    rayCastTime(ray, farClipDistance = Infinity) {\n        // algorithm from https://tavianator.com/fast-branchless-raybounding-box-intersections/\n        let tMin = -Infinity;\n        let tMax = +Infinity;\n        const xInv = ray.dir.x === 0 ? Number.MAX_VALUE : 1 / ray.dir.x;\n        const yInv = ray.dir.y === 0 ? Number.MAX_VALUE : 1 / ray.dir.y;\n        const tx1 = (this.left - ray.pos.x) * xInv;\n        const tx2 = (this.right - ray.pos.x) * xInv;\n        tMin = Math.min(tx1, tx2);\n        tMax = Math.max(tx1, tx2);\n        const ty1 = (this.top - ray.pos.y) * yInv;\n        const ty2 = (this.bottom - ray.pos.y) * yInv;\n        tMin = Math.max(tMin, Math.min(ty1, ty2));\n        tMax = Math.min(tMax, Math.max(ty1, ty2));\n        if (tMax >= Math.max(0, tMin) && tMin < farClipDistance) {\n            return tMin;\n        }\n        return -1;\n    }\n    contains(val) {\n        if (val instanceof Vector) {\n            return this.left <= val.x && this.top <= val.y && val.y <= this.bottom && val.x <= this.right;\n        }\n        else if (val instanceof BoundingBox) {\n            return this.left <= val.left && this.top <= val.top && val.bottom <= this.bottom && val.right <= this.right;\n        }\n        return false;\n    }\n    /**\n     * Combines this bounding box and another together returning a new bounding box\n     * @param other  The bounding box to combine\n     */\n    combine(other, dest) {\n        const compositeBB = dest || new BoundingBox(0, 0, 0, 0);\n        const left = Math.min(this.left, other.left);\n        const top = Math.min(this.top, other.top);\n        const right = Math.max(this.right, other.right);\n        const bottom = Math.max(this.bottom, other.bottom);\n        compositeBB.left = left;\n        compositeBB.top = top;\n        compositeBB.right = right;\n        compositeBB.bottom = bottom;\n        return compositeBB;\n    }\n    get dimensions() {\n        return new Vector(this.width, this.height);\n    }\n    /**\n     * Returns true if the bounding boxes overlap.\n     * @param other\n     * @param epsilon Optionally specify a small epsilon (default 0) as amount of overlap to ignore as overlap.\n     * This epsilon is useful in stable collision simulations.\n     */\n    overlaps(other, epsilon) {\n        const e = epsilon || 0;\n        if (other.hasZeroDimensions()) {\n            return this.contains(other);\n        }\n        if (this.hasZeroDimensions()) {\n            return other.contains(this);\n        }\n        const totalBoundingBox = this.combine(other);\n        return totalBoundingBox.width + e < other.width + this.width && totalBoundingBox.height + e < other.height + this.height;\n    }\n    /**\n     * Test wether this bounding box intersects with another returning\n     * the intersection vector that can be used to resolve the collision. If there\n     * is no intersection null is returned.\n     * @param other  Other {@apilink BoundingBox} to test intersection with\n     * @returns A Vector in the direction of the current BoundingBox, this <- other\n     */\n    intersect(other) {\n        const totalBoundingBox = this.combine(other);\n        // If the total bounding box is less than or equal the sum of the 2 bounds then there is collision\n        if (totalBoundingBox.width < other.width + this.width &&\n            totalBoundingBox.height < other.height + this.height &&\n            !totalBoundingBox.dimensions.equals(other.dimensions) &&\n            !totalBoundingBox.dimensions.equals(this.dimensions)) {\n            // collision\n            let overlapX = 0;\n            // right edge is between the other's left and right edge\n            /**\n             *     +-this-+\n             *     |      |\n             *     |    +-other-+\n             *     +----|-+     |\n             *          |       |\n             *          +-------+\n             *         <---\n             *          ^ overlap\n             */\n            if (this.right >= other.left && this.right <= other.right) {\n                overlapX = other.left - this.right;\n                // right edge is past the other's right edge\n                /**\n                 *     +-other-+\n                 *     |       |\n                 *     |    +-this-+\n                 *     +----|--+   |\n                 *          |      |\n                 *          +------+\n                 *          --->\n                 *          ^ overlap\n                 */\n            }\n            else {\n                overlapX = other.right - this.left;\n            }\n            let overlapY = 0;\n            // top edge is between the other's top and bottom edge\n            /**\n             *     +-other-+\n             *     |       |\n             *     |    +-this-+   | <- overlap\n             *     +----|--+   |   |\n             *          |      |  \\ /\n             *          +------+   '\n             */\n            if (this.top <= other.bottom && this.top >= other.top) {\n                overlapY = other.bottom - this.top;\n                // top edge is above the other top edge\n                /**\n                 *     +-this-+         .\n                 *     |      |        / \\\n                 *     |    +-other-+   | <- overlap\n                 *     +----|-+     |   |\n                 *          |       |\n                 *          +-------+\n                 */\n            }\n            else {\n                overlapY = other.top - this.bottom;\n            }\n            if (Math.abs(overlapX) < Math.abs(overlapY)) {\n                return new Vector(overlapX, 0);\n            }\n            else {\n                return new Vector(0, overlapY);\n            }\n            // Case of total containment of one bounding box by another\n        }\n        else if (totalBoundingBox.dimensions.equals(other.dimensions) || totalBoundingBox.dimensions.equals(this.dimensions)) {\n            let overlapX = 0;\n            // this is wider than the other\n            if (this.width - other.width >= 0) {\n                // This right edge is closest to the others right edge\n                if (this.right - other.right <= other.left - this.left) {\n                    overlapX = other.left - this.right;\n                    // This left edge is closest to the others left edge\n                }\n                else {\n                    overlapX = other.right - this.left;\n                }\n                // other is wider than this\n            }\n            else {\n                // This right edge is closest to the others right edge\n                if (other.right - this.right <= this.left - other.left) {\n                    overlapX = this.left - other.right;\n                    // This left edge is closest to the others left edge\n                }\n                else {\n                    overlapX = this.right - other.left;\n                }\n            }\n            let overlapY = 0;\n            // this is taller than other\n            if (this.height - other.height >= 0) {\n                // The bottom edge is closest to the others bottom edge\n                if (this.bottom - other.bottom <= other.top - this.top) {\n                    overlapY = other.top - this.bottom;\n                }\n                else {\n                    overlapY = other.bottom - this.top;\n                }\n                // other is taller than this\n            }\n            else {\n                // The bottom edge is closest to the others bottom edge\n                if (other.bottom - this.bottom <= this.top - other.top) {\n                    overlapY = this.top - other.bottom;\n                }\n                else {\n                    overlapY = this.bottom - other.top;\n                }\n            }\n            if (Math.abs(overlapX) < Math.abs(overlapY)) {\n                return new Vector(overlapX, 0);\n            }\n            else {\n                return new Vector(0, overlapY);\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Test whether the bounding box has intersected with another bounding box, returns the side of the current bb that intersected.\n     * @param bb The other actor to test\n     */\n    intersectWithSide(bb) {\n        const intersect = this.intersect(bb);\n        return BoundingBox.getSideFromIntersection(intersect);\n    }\n    /**\n     * Draw a debug bounding box\n     * @param ex\n     * @param color\n     */\n    draw(ex, color = Color.Yellow) {\n        ex.debug.drawRect(this.left, this.top, this.width, this.height, { color });\n    }\n}\n\n;// ./Util/Util.ts\n\n\n/**\n * Find the screen position of an HTML element\n */\nfunction getPosition(el) {\n    // do we need the scroll too? technically the offset method before did that\n    if (el && el.getBoundingClientRect) {\n        const rect = el.getBoundingClientRect();\n        return vec(rect.x + window.scrollX, rect.y + window.scrollY);\n    }\n    return Vector.Zero;\n}\n/**\n * Add an item to an array list if it doesn't already exist. Returns true if added, false if not and already exists in the array.\n * @deprecated Will be removed in v0.26.0\n */\nfunction addItemToArray(item, array) {\n    if (array.indexOf(item) === -1) {\n        array.push(item);\n        return true;\n    }\n    return false;\n}\n/**\n * Remove an item from an list\n * @deprecated Will be removed in v0.26.0\n */\nfunction removeItemFromArray(item, array) {\n    let index = -1;\n    if ((index = array.indexOf(item)) > -1) {\n        array.splice(index, 1);\n        return true;\n    }\n    return false;\n}\n/**\n * See if an array contains something\n */\nfunction contains(array, obj) {\n    for (let i = 0; i < array.length; i++) {\n        if (array[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * Used for exhaustive checks at compile time\n */\nfunction fail(message) {\n    throw new Error(message);\n}\n/**\n * Create a promise that resolves after a certain number of milliseconds\n *\n * It is strongly recommended you pass the excalibur clock so delays are bound to the\n * excalibur clock which would be unaffected by stop/pause.\n * @param milliseconds\n * @param clock\n */\nfunction delay(milliseconds, clock) {\n    var _a;\n    const future = new Future();\n    const schedule = (_a = clock === null || clock === void 0 ? void 0 : clock.schedule.bind(clock)) !== null && _a !== void 0 ? _a : setTimeout;\n    schedule(() => {\n        future.resolve();\n    }, milliseconds);\n    return future.promise;\n}\n/**\n * Remove keys from object literals\n * @param object\n * @param keys\n */\nfunction omit(object, keys) {\n    const newObj = {};\n    for (const key in object) {\n        if (!keys.includes(key)) {\n            newObj[key] = object[key];\n        }\n    }\n    return newObj;\n}\n/**\n * Simple object check.\n * @param item\n */\nfunction isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\n/**\n * Deep merge two objects.\n * @param target\n * @param sources\n */\nfunction mergeDeep(target, ...sources) {\n    if (!sources.length) {\n        return target;\n    }\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key]) {\n                    Object.assign(target, { [key]: {} });\n                }\n                mergeDeep(target[key], source[key]);\n            }\n            else {\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n    return mergeDeep(target, ...sources);\n}\n\n;// ./Math/matrix.ts\n\n\n\nvar MatrixLocations;\n(function (MatrixLocations) {\n    MatrixLocations[MatrixLocations[\"X\"] = 12] = \"X\";\n    MatrixLocations[MatrixLocations[\"Y\"] = 13] = \"Y\";\n})(MatrixLocations || (MatrixLocations = {}));\n/**\n * Excalibur Matrix helper for 4x4 matrices\n *\n * Useful for webgl 4x4 matrices\n */\nclass Matrix {\n    constructor() {\n        /**\n         *  4x4 matrix in column major order\n         *\n         * |         |         |          |          |\n         * | ------- | ------- | -------- | -------- |\n         * | data[0] | data[4] | data[8]  | data[12] |\n         * | data[1] | data[5] | data[9]  | data[13] |\n         * | data[2] | data[6] | data[10] | data[14] |\n         * | data[3] | data[7] | data[11] | data[15] |\n         *\n         */\n        this.data = new Float32Array(16);\n        this._scaleX = 1;\n        this._scaleSignX = 1;\n        this._scaleY = 1;\n        this._scaleSignY = 1;\n    }\n    /**\n     * Creates an orthographic (flat non-perspective) projection\n     * https://en.wikipedia.org/wiki/Orthographic_projection\n     * @param left\n     * @param right\n     * @param bottom\n     * @param top\n     * @param near\n     * @param far\n     */\n    static ortho(left, right, bottom, top, near, far) {\n        const mat = new Matrix();\n        mat.data[0] = 2 / (right - left);\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = 0;\n        mat.data[5] = 2 / (top - bottom);\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = -2 / (far - near);\n        mat.data[11] = 0;\n        mat.data[12] = -(right + left) / (right - left);\n        mat.data[13] = -(top + bottom) / (top - bottom);\n        mat.data[14] = -(far + near) / (far - near);\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Creates a new Matrix with the same data as the current 4x4\n     */\n    clone(dest) {\n        const mat = dest || new Matrix();\n        mat.data[0] = this.data[0];\n        mat.data[1] = this.data[1];\n        mat.data[2] = this.data[2];\n        mat.data[3] = this.data[3];\n        mat.data[4] = this.data[4];\n        mat.data[5] = this.data[5];\n        mat.data[6] = this.data[6];\n        mat.data[7] = this.data[7];\n        mat.data[8] = this.data[8];\n        mat.data[9] = this.data[9];\n        mat.data[10] = this.data[10];\n        mat.data[11] = this.data[11];\n        mat.data[12] = this.data[12];\n        mat.data[13] = this.data[13];\n        mat.data[14] = this.data[14];\n        mat.data[15] = this.data[15];\n        return mat;\n    }\n    /**\n     * Converts the current matrix into a DOMMatrix\n     *\n     * This is useful when working with the browser Canvas context\n     * @returns {DOMMatrix} DOMMatrix\n     */\n    toDOMMatrix() {\n        return new DOMMatrix([...this.data]);\n    }\n    static fromFloat32Array(data) {\n        const matrix = new Matrix();\n        matrix.data = data;\n        return matrix;\n    }\n    /**\n     * Creates a new identity matrix (a matrix that when applied does nothing)\n     */\n    static identity() {\n        const mat = new Matrix();\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = 0;\n        mat.data[5] = 1;\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = 1;\n        mat.data[11] = 0;\n        mat.data[12] = 0;\n        mat.data[13] = 0;\n        mat.data[14] = 0;\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Resets the current matrix to the identity matrix, mutating it\n     * @returns {Matrix} Current matrix as identity\n     */\n    reset() {\n        const mat = this;\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = 0;\n        mat.data[5] = 1;\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = 1;\n        mat.data[11] = 0;\n        mat.data[12] = 0;\n        mat.data[13] = 0;\n        mat.data[14] = 0;\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Creates a brand new translation matrix at the specified 3d point\n     * @param x\n     * @param y\n     */\n    static translation(x, y) {\n        const mat = Matrix.identity();\n        mat.data[12] = x;\n        mat.data[13] = y;\n        return mat;\n    }\n    /**\n     * Creates a brand new scaling matrix with the specified scaling factor\n     * @param sx\n     * @param sy\n     */\n    static scale(sx, sy) {\n        const mat = Matrix.identity();\n        mat.data[0] = sx;\n        mat.data[5] = sy;\n        mat.data[10] = 1;\n        mat.data[15] = 1;\n        return mat;\n    }\n    /**\n     * Creates a brand new rotation matrix with the specified angle in radians\n     * @param angle\n     */\n    static rotation(angle) {\n        const mat = Matrix.identity();\n        mat.data[0] = Math.cos(angle);\n        mat.data[4] = -Math.sin(angle);\n        mat.data[1] = Math.sin(angle);\n        mat.data[5] = Math.cos(angle);\n        return mat;\n    }\n    multiply(vectorOrMatrix, dest) {\n        if (vectorOrMatrix instanceof Vector) {\n            const result = dest || new Vector(0, 0);\n            const vector = vectorOrMatrix;\n            // these shenanigans are to allow dest and vector to be the same instance\n            const resultX = vector.x * this.data[0] + vector.y * this.data[4] + this.data[12];\n            const resultY = vector.x * this.data[1] + vector.y * this.data[5] + this.data[13];\n            result.x = resultX;\n            result.y = resultY;\n            return result;\n        }\n        else {\n            const result = dest || new Matrix();\n            const other = vectorOrMatrix;\n            const a11 = this.data[0];\n            const a21 = this.data[1];\n            const a31 = this.data[2];\n            const a41 = this.data[3];\n            const a12 = this.data[4];\n            const a22 = this.data[5];\n            const a32 = this.data[6];\n            const a42 = this.data[7];\n            const a13 = this.data[8];\n            const a23 = this.data[9];\n            const a33 = this.data[10];\n            const a43 = this.data[11];\n            const a14 = this.data[12];\n            const a24 = this.data[13];\n            const a34 = this.data[14];\n            const a44 = this.data[15];\n            const b11 = other.data[0];\n            const b21 = other.data[1];\n            const b31 = other.data[2];\n            const b41 = other.data[3];\n            const b12 = other.data[4];\n            const b22 = other.data[5];\n            const b32 = other.data[6];\n            const b42 = other.data[7];\n            const b13 = other.data[8];\n            const b23 = other.data[9];\n            const b33 = other.data[10];\n            const b43 = other.data[11];\n            const b14 = other.data[12];\n            const b24 = other.data[13];\n            const b34 = other.data[14];\n            const b44 = other.data[15];\n            result.data[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n            result.data[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n            result.data[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n            result.data[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n            result.data[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n            result.data[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n            result.data[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n            result.data[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n            result.data[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n            result.data[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n            result.data[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n            result.data[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n            result.data[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n            result.data[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n            result.data[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n            result.data[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n            const s = this.getScale();\n            result._scaleSignX = sign(s.x) * sign(result._scaleSignX);\n            result._scaleSignY = sign(s.y) * sign(result._scaleSignY);\n            return result;\n        }\n    }\n    /**\n     * Applies translation to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    translate(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a31 = this.data[2];\n        const a41 = this.data[3];\n        const a12 = this.data[4];\n        const a22 = this.data[5];\n        const a32 = this.data[6];\n        const a42 = this.data[7];\n        const a13 = this.data[8];\n        const a23 = this.data[9];\n        const a33 = this.data[10];\n        const a43 = this.data[11];\n        const a14 = this.data[12];\n        const a24 = this.data[13];\n        const a34 = this.data[14];\n        const a44 = this.data[15];\n        // Doesn't change z\n        const z = 0;\n        const w = 1;\n        this.data[12] = a11 * x + a12 * y + a13 * z + a14 * w;\n        this.data[13] = a21 * x + a22 * y + a23 * z + a24 * w;\n        this.data[14] = a31 * x + a32 * y + a33 * z + a34 * w;\n        this.data[15] = a41 * x + a42 * y + a43 * z + a44 * w;\n        return this;\n    }\n    setPosition(x, y) {\n        this.data[12] = x;\n        this.data[13] = y;\n    }\n    getPosition() {\n        return vec(this.data[12], this.data[13]);\n    }\n    /**\n     * Applies rotation to the current matrix mutating it\n     * @param angle in Radians\n     */\n    rotate(angle) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a31 = this.data[2];\n        const a41 = this.data[3];\n        const a12 = this.data[4];\n        const a22 = this.data[5];\n        const a32 = this.data[6];\n        const a42 = this.data[7];\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * a11 + sine * a12;\n        this.data[1] = cosine * a21 + sine * a22;\n        this.data[2] = cosine * a31 + sine * a32;\n        this.data[3] = cosine * a41 + sine * a42;\n        this.data[4] = cosine * a12 - sine * a11;\n        this.data[5] = cosine * a22 - sine * a21;\n        this.data[6] = cosine * a32 - sine * a31;\n        this.data[7] = cosine * a42 - sine * a41;\n        return this;\n    }\n    /**\n     * Applies scaling to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    scale(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a31 = this.data[2];\n        const a41 = this.data[3];\n        const a12 = this.data[4];\n        const a22 = this.data[5];\n        const a32 = this.data[6];\n        const a42 = this.data[7];\n        this.data[0] = a11 * x;\n        this.data[1] = a21 * x;\n        this.data[2] = a31 * x;\n        this.data[3] = a41 * x;\n        this.data[4] = a12 * y;\n        this.data[5] = a22 * y;\n        this.data[6] = a32 * y;\n        this.data[7] = a42 * y;\n        return this;\n    }\n    setRotation(angle) {\n        const currentScale = this.getScale();\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * currentScale.x;\n        this.data[1] = sine * currentScale.y;\n        this.data[4] = -sine * currentScale.x;\n        this.data[5] = cosine * currentScale.y;\n    }\n    getRotation() {\n        const angle = Math.atan2(this.data[1] / this.getScaleY(), this.data[0] / this.getScaleX());\n        return canonicalizeAngle(angle);\n    }\n    getScaleX() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const xscale = vec(this.data[0], this.data[4]).magnitude;\n        return this._scaleSignX * xscale;\n    }\n    getScaleY() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const yscale = vec(this.data[1], this.data[5]).magnitude;\n        return this._scaleSignY * yscale;\n    }\n    /**\n     * Get the scale of the matrix\n     */\n    getScale() {\n        return vec(this.getScaleX(), this.getScaleY());\n    }\n    setScaleX(val) {\n        if (this._scaleX === val) {\n            return;\n        }\n        this._scaleSignX = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const xscale = vec(this.data[0] * this._scaleSignX, this.data[4] * this._scaleSignX).normalize();\n        this.data[0] = xscale.x * val;\n        this.data[4] = xscale.y * val;\n        this._scaleX = val;\n    }\n    setScaleY(val) {\n        if (this._scaleY === val) {\n            return;\n        }\n        this._scaleSignY = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const yscale = vec(this.data[1] * this._scaleSignY, this.data[5] * this._scaleSignY).normalize();\n        this.data[1] = yscale.x * val;\n        this.data[5] = yscale.y * val;\n        this._scaleY = val;\n    }\n    setScale(scale) {\n        this.setScaleX(scale.x);\n        this.setScaleY(scale.y);\n    }\n    /**\n     * Determinant of the upper left 2x2 matrix\n     */\n    getBasisDeterminant() {\n        return this.data[0] * this.data[5] - this.data[1] * this.data[4];\n    }\n    /**\n     * Return the affine inverse, optionally store it in a target matrix.\n     *\n     * It's recommended you call .reset() the target unless you know what you're doing\n     * @param target\n     */\n    getAffineInverse(target) {\n        // See http://negativeprobability.blogspot.com/2011/11/affine-transformations-and-their.html\n        // See https://www.mathsisfun.com/algebra/matrix-inverse.html\n        // Since we are actually only doing 2D transformations we can use this hack\n        // We don't actually use the 3rd or 4th dimension\n        const det = this.getBasisDeterminant();\n        const inverseDet = 1 / det; // todo zero check\n        const a = this.data[0];\n        const b = this.data[4];\n        const c = this.data[1];\n        const d = this.data[5];\n        const m = target || Matrix.identity();\n        // inverts rotation and scale\n        m.data[0] = d * inverseDet;\n        m.data[1] = -c * inverseDet;\n        m.data[4] = -b * inverseDet;\n        m.data[5] = a * inverseDet;\n        const tx = this.data[12];\n        const ty = this.data[13];\n        // invert translation\n        // transform translation into the matrix basis created by rot/scale\n        m.data[12] = -(tx * m.data[0] + ty * m.data[4]);\n        m.data[13] = -(tx * m.data[1] + ty * m.data[5]);\n        return m;\n    }\n    isIdentity() {\n        return (this.data[0] === 1 &&\n            this.data[1] === 0 &&\n            this.data[2] === 0 &&\n            this.data[3] === 0 &&\n            this.data[4] === 0 &&\n            this.data[5] === 1 &&\n            this.data[6] === 0 &&\n            this.data[7] === 0 &&\n            this.data[8] === 0 &&\n            this.data[9] === 0 &&\n            this.data[10] === 1 &&\n            this.data[11] === 0 &&\n            this.data[12] === 0 &&\n            this.data[13] === 0 &&\n            this.data[14] === 0 &&\n            this.data[15] === 1);\n    }\n    toString() {\n        return `\r\n[${this.data[0]} ${this.data[4]} ${this.data[8]} ${this.data[12]}]\r\n[${this.data[1]} ${this.data[5]} ${this.data[9]} ${this.data[13]}]\r\n[${this.data[2]} ${this.data[6]} ${this.data[10]} ${this.data[14]}]\r\n[${this.data[3]} ${this.data[7]} ${this.data[11]} ${this.data[15]}]\r\n`;\n    }\n}\n\n;// ./Math/affine-matrix.ts\n\n\n\nclass AffineMatrix {\n    constructor() {\n        /**\n         * |         |         |          |\n         * | ------- | ------- | -------- |\n         * | data[0] | data[2] | data[4]  |\n         * | data[1] | data[3] | data[5]  |\n         * |   0     |    0    |    1     |\n         */\n        this.data = new Float64Array(6);\n        this._scale = new Float64Array([1, 1]);\n        this._scaleSignX = 1;\n        this._scaleSignY = 1;\n    }\n    /**\n     * Converts the current matrix into a DOMMatrix\n     *\n     * This is useful when working with the browser Canvas context\n     * @returns {DOMMatrix} DOMMatrix\n     */\n    toDOMMatrix() {\n        return new DOMMatrix([...this.data]);\n    }\n    static identity() {\n        const mat = new AffineMatrix();\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 1;\n        mat.data[4] = 0;\n        mat.data[5] = 0;\n        return mat;\n    }\n    /**\n     * Creates a brand new translation matrix at the specified 3d point\n     * @param x\n     * @param y\n     */\n    static translation(x, y) {\n        const mat = AffineMatrix.identity();\n        mat.data[4] = x;\n        mat.data[5] = y;\n        return mat;\n    }\n    /**\n     * Creates a brand new scaling matrix with the specified scaling factor\n     * @param sx\n     * @param sy\n     */\n    static scale(sx, sy) {\n        const mat = AffineMatrix.identity();\n        mat.data[0] = sx;\n        mat.data[3] = sy;\n        mat._scale[0] = sx;\n        mat._scale[1] = sy;\n        return mat;\n    }\n    /**\n     * Creates a brand new rotation matrix with the specified angle in radians\n     * @param angle\n     */\n    static rotation(angle) {\n        const mat = AffineMatrix.identity();\n        mat.data[0] = Math.cos(angle);\n        mat.data[1] = Math.sin(angle);\n        mat.data[2] = -Math.sin(angle);\n        mat.data[3] = Math.cos(angle);\n        return mat;\n    }\n    setPosition(x, y) {\n        this.data[4] = x;\n        this.data[5] = y;\n    }\n    getPosition() {\n        return vec(this.data[4], this.data[5]);\n    }\n    /**\n     * Applies rotation to the current matrix mutating it\n     * @param angle in Radians\n     */\n    rotate(angle) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a12 = this.data[2];\n        const a22 = this.data[3];\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * a11 + sine * a12;\n        this.data[1] = cosine * a21 + sine * a22;\n        this.data[2] = cosine * a12 - sine * a11;\n        this.data[3] = cosine * a22 - sine * a21;\n        return this;\n    }\n    /**\n     * Applies translation to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    translate(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        // const a31 = 0;\n        const a12 = this.data[2];\n        const a22 = this.data[3];\n        // const a32 = 0;\n        const a13 = this.data[4];\n        const a23 = this.data[5];\n        // const a33 = 1;\n        // Doesn't change z\n        this.data[4] = a11 * x + a12 * y + a13;\n        this.data[5] = a21 * x + a22 * y + a23;\n        return this;\n    }\n    /**\n     * Applies scaling to the current matrix mutating it\n     * @param x\n     * @param y\n     */\n    scale(x, y) {\n        const a11 = this.data[0];\n        const a21 = this.data[1];\n        const a12 = this.data[2];\n        const a22 = this.data[3];\n        this.data[0] = a11 * x;\n        this.data[1] = a21 * x;\n        this.data[2] = a12 * y;\n        this.data[3] = a22 * y;\n        this._scale[0] = x;\n        this._scale[1] = y;\n        this._scaleSignX = sign(x);\n        this._scaleSignY = sign(y);\n        return this;\n    }\n    determinant() {\n        return this.data[0] * this.data[3] - this.data[1] * this.data[2];\n    }\n    /**\n     * Return the affine inverse, optionally store it in a target matrix.\n     *\n     * It's recommended you call .reset() the target unless you know what you're doing\n     * @param target\n     */\n    inverse(target) {\n        // See http://negativeprobability.blogspot.com/2011/11/affine-transformations-and-their.html\n        // See https://www.mathsisfun.com/algebra/matrix-inverse.html\n        // Since we are actually only doing 2D transformations we can use this hack\n        // We don't actually use the 3rd or 4th dimension\n        const det = this.determinant();\n        let inverseDet = det; // default to a zero matrix if we have a singular matrix\n        if (det !== 0) {\n            inverseDet = 1 / det;\n        }\n        const a = this.data[0];\n        const b = this.data[2];\n        const c = this.data[1];\n        const d = this.data[3];\n        const m = target || AffineMatrix.identity();\n        // inverts rotation and scale\n        m.data[0] = d * inverseDet;\n        m.data[1] = -c * inverseDet;\n        m.data[2] = -b * inverseDet;\n        m.data[3] = a * inverseDet;\n        const tx = this.data[4];\n        const ty = this.data[5];\n        // invert translation\n        // transform translation into the matrix basis created by rot/scale\n        m.data[4] = -(tx * m.data[0] + ty * m.data[2]);\n        m.data[5] = -(tx * m.data[1] + ty * m.data[3]);\n        return m;\n    }\n    multiply(vectorOrMatrix, dest) {\n        if (vectorOrMatrix instanceof Vector) {\n            const result = dest || new Vector(0, 0);\n            const vector = vectorOrMatrix;\n            // these shenanigans are to allow dest and vector to be the same instance\n            const resultX = vector.x * this.data[0] + vector.y * this.data[2] + this.data[4];\n            const resultY = vector.x * this.data[1] + vector.y * this.data[3] + this.data[5];\n            result.x = resultX;\n            result.y = resultY;\n            return result;\n        }\n        else {\n            const result = dest || new AffineMatrix();\n            const other = vectorOrMatrix;\n            const a11 = this.data[0];\n            const a21 = this.data[1];\n            //  const a31 = 0;\n            const a12 = this.data[2];\n            const a22 = this.data[3];\n            //  const a32 = 0;\n            const a13 = this.data[4];\n            const a23 = this.data[5];\n            //  const a33 = 1;\n            const b11 = other.data[0];\n            const b21 = other.data[1];\n            //  const b31 = 0;\n            const b12 = other.data[2];\n            const b22 = other.data[3];\n            //  const b32 = 0;\n            const b13 = other.data[4];\n            const b23 = other.data[5];\n            //  const b33 = 1;\n            result.data[0] = a11 * b11 + a12 * b21; // + a13 * b31; // zero\n            result.data[1] = a21 * b11 + a22 * b21; // + a23 * b31; // zero\n            result.data[2] = a11 * b12 + a12 * b22; // + a13 * b32; // zero\n            result.data[3] = a21 * b12 + a22 * b22; // + a23 * b32; // zero\n            result.data[4] = a11 * b13 + a12 * b23 + a13; // * b33; // one\n            result.data[5] = a21 * b13 + a22 * b23 + a23; // * b33; // one\n            const signX = this._scaleSignX;\n            const signY = this._scaleSignY;\n            result._scaleSignX = signX * sign(result._scaleSignX);\n            result._scaleSignY = signY * sign(result._scaleSignY);\n            return result;\n        }\n    }\n    /**\n     * Packed array of length 8, that contains 4 vertices, with 2 components each\n     * So: [x0, y0, x1, y1, x2, y2, x3, y3]\n     * @param quad\n     */\n    multiplyQuadInPlace(quad) {\n        const resultTopLeftX = quad[0] * this.data[0] + quad[1] * this.data[2] + this.data[4];\n        const resultTopLeftY = quad[0] * this.data[1] + quad[1] * this.data[3] + this.data[5];\n        quad[0] = resultTopLeftX;\n        quad[1] = resultTopLeftY;\n        const resultTopRightX = quad[2] * this.data[0] + quad[3] * this.data[2] + this.data[4];\n        const resultTopRightY = quad[2] * this.data[1] + quad[3] * this.data[3] + this.data[5];\n        quad[2] = resultTopRightX;\n        quad[3] = resultTopRightY;\n        const resultBottomLeftX = quad[4] * this.data[0] + quad[5] * this.data[2] + this.data[4];\n        const resultBottomLeftY = quad[4] * this.data[1] + quad[5] * this.data[3] + this.data[5];\n        quad[4] = resultBottomLeftX;\n        quad[5] = resultBottomLeftY;\n        const resultBottomRightX = quad[6] * this.data[0] + quad[7] * this.data[2] + this.data[4];\n        const resultBottomRightY = quad[6] * this.data[1] + quad[7] * this.data[3] + this.data[5];\n        quad[6] = resultBottomRightX;\n        quad[7] = resultBottomRightY;\n    }\n    to4x4() {\n        const mat = new Matrix();\n        mat.data[0] = this.data[0];\n        mat.data[1] = this.data[1];\n        mat.data[2] = 0;\n        mat.data[3] = 0;\n        mat.data[4] = this.data[2];\n        mat.data[5] = this.data[3];\n        mat.data[6] = 0;\n        mat.data[7] = 0;\n        mat.data[8] = 0;\n        mat.data[9] = 0;\n        mat.data[10] = 1;\n        mat.data[11] = 0;\n        mat.data[12] = this.data[4];\n        mat.data[13] = this.data[5];\n        mat.data[14] = 0;\n        mat.data[15] = 1;\n        return mat;\n    }\n    setRotation(angle) {\n        const currentScale = this.getScale();\n        const sine = Math.sin(angle);\n        const cosine = Math.cos(angle);\n        this.data[0] = cosine * currentScale.x;\n        this.data[1] = sine * currentScale.y;\n        this.data[2] = -sine * currentScale.x;\n        this.data[3] = cosine * currentScale.y;\n    }\n    getRotation() {\n        const angle = Math.atan2(this.data[1] / this.getScaleY(), this.data[0] / this.getScaleX());\n        return canonicalizeAngle(angle);\n    }\n    getScaleX() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const xScaleSq = this.data[0] * this.data[0] + this.data[2] * this.data[2];\n        if (xScaleSq === 1.0) {\n            // usually there isn't scale so we can avoid a sqrt\n            return this._scaleSignX;\n        }\n        return this._scaleSignX * Math.sqrt(xScaleSq);\n    }\n    getScaleY() {\n        // absolute scale of the matrix (we lose sign so need to add it back)\n        const yScaleSq = this.data[1] * this.data[1] + this.data[3] * this.data[3];\n        if (yScaleSq === 1.0) {\n            // usually there isn't scale so we can avoid a sqrt\n            return this._scaleSignY;\n        }\n        return this._scaleSignY * Math.sqrt(yScaleSq);\n    }\n    /**\n     * Get the scale of the matrix\n     */\n    getScale() {\n        return vec(this.getScaleX(), this.getScaleY());\n    }\n    setScaleX(val) {\n        if (val === this._scale[0]) {\n            return;\n        }\n        this._scaleSignX = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const xscale = vec(this.data[0] * this._scaleSignX, this.data[2] * this._scaleSignX).normalize();\n        this.data[0] = xscale.x * val;\n        this.data[2] = xscale.y * val;\n        this._scale[0] = val;\n    }\n    setScaleY(val) {\n        if (val === this._scale[1]) {\n            return;\n        }\n        this._scaleSignY = sign(val);\n        // negative scale acts like a 180 rotation, so flip\n        const yscale = vec(this.data[1] * this._scaleSignY, this.data[3] * this._scaleSignY).normalize();\n        this.data[1] = yscale.x * val;\n        this.data[3] = yscale.y * val;\n        this._scale[1] = val;\n    }\n    setScale(scale) {\n        this.setScaleX(scale.x);\n        this.setScaleY(scale.y);\n    }\n    isIdentity() {\n        return this.data[0] === 1 && this.data[1] === 0 && this.data[2] === 0 && this.data[3] === 1 && this.data[4] === 0 && this.data[5] === 0;\n    }\n    /**\n     * Resets the current matrix to the identity matrix, mutating it\n     * @returns {AffineMatrix} Current matrix as identity\n     */\n    reset() {\n        const mat = this;\n        mat.data[0] = 1;\n        mat.data[1] = 0;\n        mat.data[2] = 0;\n        mat.data[3] = 1;\n        mat.data[4] = 0;\n        mat.data[5] = 0;\n        return mat;\n    }\n    /**\n     * Creates a new Matrix with the same data as the current {@apilink AffineMatrix}\n     */\n    clone(dest) {\n        const mat = dest || new AffineMatrix();\n        mat.data[0] = this.data[0];\n        mat.data[1] = this.data[1];\n        mat.data[2] = this.data[2];\n        mat.data[3] = this.data[3];\n        mat.data[4] = this.data[4];\n        mat.data[5] = this.data[5];\n        mat._scaleSignX = this._scaleSignX;\n        mat._scaleSignY = this._scaleSignY;\n        return mat;\n    }\n    toString() {\n        return `\r\n[${this.data[0]} ${this.data[2]} ${this.data[4]}]\r\n[${this.data[1]} ${this.data[3]} ${this.data[5]}]\r\n[0 0 1]\r\n`;\n    }\n}\n\n;// ./Util/RentalPool.ts\nclass RentalPool {\n    constructor(builder, cleaner, preAllocate = 1) {\n        this.builder = builder;\n        this.cleaner = cleaner;\n        this._pool = [];\n        this._size = 0;\n        this.grow(preAllocate);\n    }\n    /**\n     * Grow the pool size by an amount\n     * @param amount\n     */\n    grow(amount) {\n        if (amount > 0) {\n            this._size += amount;\n            for (let i = 0; i < amount; i++) {\n                this._pool.push(this.builder());\n            }\n        }\n    }\n    /**\n     * Rent an object from the pool, optionally clean it. If not cleaned previous state may be set.\n     *\n     * The pool will automatically double if depleted\n     * @param clean\n     */\n    rent(clean = false) {\n        if (this._pool.length === 0) {\n            this.grow(this._size);\n        }\n        return clean ? this.cleaner(this._pool.pop()) : this._pool.pop();\n    }\n    /**\n     * Return an object to the pool\n     * @param object\n     */\n    return(object) {\n        this._pool.push(object);\n    }\n}\n\n;// ./Graphics/Context/transform-stack.ts\n\n\nclass TransformStack {\n    constructor() {\n        this._pool = new RentalPool(() => AffineMatrix.identity(), (mat) => mat.reset(), 100);\n        this._transforms = [];\n        this._currentTransform = this._pool.rent(true);\n    }\n    save() {\n        this._transforms.push(this._currentTransform);\n        this._currentTransform = this._currentTransform.clone(this._pool.rent());\n    }\n    restore() {\n        this._pool.return(this._currentTransform);\n        this._currentTransform = this._transforms.pop();\n    }\n    translate(x, y) {\n        return this._currentTransform.translate(x, y);\n    }\n    rotate(angle) {\n        return this._currentTransform.rotate(angle);\n    }\n    scale(x, y) {\n        return this._currentTransform.scale(x, y);\n    }\n    reset() {\n        this._currentTransform.reset();\n    }\n    set current(matrix) {\n        this._currentTransform = matrix;\n    }\n    get current() {\n        return this._currentTransform;\n    }\n}\n\n;// ./Graphics/Context/state-stack.ts\n\n\nclass ContextState {\n    constructor() {\n        this.opacity = 1;\n        this.z = 0;\n        this.tint = Color.White;\n        this.material = null;\n    }\n}\nclass StateStack {\n    constructor() {\n        this._pool = new RentalPool(() => new ContextState(), (s) => {\n            s.opacity = 1;\n            s.z = 0;\n            s.tint = Color.White;\n            s.material = null;\n            return s;\n        }, 100);\n        this.current = this._pool.rent(true);\n        this._states = [];\n    }\n    _cloneState(dest) {\n        var _a;\n        dest.opacity = this.current.opacity;\n        dest.z = this.current.z;\n        dest.tint = (_a = this.current.tint) === null || _a === void 0 ? void 0 : _a.clone();\n        dest.material = this.current.material; // TODO is this going to cause problems when cloning\n        return dest;\n    }\n    save() {\n        this._states.push(this.current);\n        this.current = this._cloneState(this._pool.rent());\n    }\n    restore() {\n        this._pool.return(this.current);\n        this.current = this._states.pop();\n    }\n}\n\n;// ./Resources/Resource.ts\n\n\nconst ResourceEvents = {\n    Complete: 'complete',\n    Load: 'load',\n    LoadStart: 'loadstart',\n    Progress: 'progress',\n    Error: 'error'\n};\n/**\n * The {@apilink Resource} type allows games built in Excalibur to load generic resources.\n * For any type of remote resource it is recommended to use {@apilink Resource} for preloading.\n */\nclass Resource {\n    /**\n     * @param path          Path to the remote resource\n     * @param responseType  The type to expect as a response: \"\" | \"arraybuffer\" | \"blob\" | \"document\" | \"json\" | \"text\";\n     * @param bustCache     Whether or not to cache-bust requests\n     */\n    constructor(path, responseType, bustCache = false) {\n        this.path = path;\n        this.responseType = responseType;\n        this.bustCache = bustCache;\n        this.data = null;\n        this.logger = Logger.getInstance();\n        this.events = new EventEmitter();\n    }\n    /**\n     * Returns true if the Resource is completely loaded and is ready\n     * to be drawn.\n     */\n    isLoaded() {\n        return this.data !== null;\n    }\n    _cacheBust(uri) {\n        const query = /\\?\\w*=\\w*/;\n        if (query.test(uri)) {\n            uri += '&__=' + Date.now();\n        }\n        else {\n            uri += '?__=' + Date.now();\n        }\n        return uri;\n    }\n    /**\n     * Begin loading the resource and returns a promise to be resolved on completion\n     */\n    load() {\n        return new Promise((resolve, reject) => {\n            // Exit early if we already have data\n            if (this.data !== null) {\n                this.logger.debug('Already have data for resource', this.path);\n                this.events.emit('complete', this.data);\n                resolve(this.data);\n                return;\n            }\n            const request = new XMLHttpRequest();\n            request.open('GET', this.bustCache ? this._cacheBust(this.path) : this.path, true);\n            request.responseType = this.responseType;\n            request.addEventListener('loadstart', (e) => this.events.emit('loadstart', e));\n            request.addEventListener('progress', (e) => this.events.emit('progress', e));\n            request.addEventListener('error', (e) => this.events.emit('error', e));\n            request.addEventListener('load', (e) => this.events.emit('load', e));\n            request.addEventListener('load', () => {\n                // XHR on file:// success status is 0, such as with PhantomJS\n                if (request.status !== 0 && request.status !== 200) {\n                    this.logger.error('Failed to load resource ', this.path, ' server responded with error code', request.status);\n                    this.events.emit('error', request.response);\n                    reject(new Error(request.statusText));\n                    return;\n                }\n                if (request.response instanceof Blob && request.response.type === 'text/html') {\n                    const errorText = `Expected blob (usually image) data from the server when loading ${this.path}, but got HTML content instead!\r\n\r\nCheck your server configuration, for example Vite serves static files from the /public folder`;\n                    this.events.emit('error', request.response);\n                    reject(new Error(errorText));\n                    return;\n                }\n                this.data = request.response;\n                this.events.emit('complete', this.data);\n                this.logger.debug('Completed loading resource', this.path);\n                resolve(this.data);\n            });\n            request.send();\n        });\n    }\n}\n\n;// ./Util/Watch.ts\n/**\n * Watch an object with a proxy, only fires if property value is different\n */\nfunction watch(type, change) {\n    if (!type) {\n        return type;\n    }\n    if (type.__isProxy === undefined) {\n        // expando hack to mark a proxy\n        return new Proxy(type, {\n            set: (obj, prop, value) => {\n                // The default behavior to store the value\n                if (obj[prop] !== value) {\n                    obj[prop] = value;\n                    // Avoid watching private junk\n                    if (typeof prop === 'string') {\n                        if (prop[0] !== '_') {\n                            change(obj);\n                        }\n                    }\n                }\n                // Indicate success\n                return true;\n            },\n            get: (obj, prop) => {\n                if (prop !== '__isProxy') {\n                    return obj[prop];\n                }\n                return true;\n            }\n        });\n    }\n    return type;\n}\nconst createHandler = (path = [], change, typeType) => ({\n    get: (target, key) => {\n        if (key === '__isProxy') {\n            return true;\n        }\n        if (typeof target[key] === 'object' && target[key] != null) {\n            return new Proxy(target[key], createHandler([...path, key], change, typeType));\n        }\n        return target[key];\n    },\n    set: (target, key, value) => {\n        if (typeof key === 'string') {\n            if (key[0] !== '_') {\n                change(typeType);\n            }\n        }\n        target[key] = value;\n        return true;\n    }\n});\n/**\n *\n */\nfunction watchDeep(type, change) {\n    if (!type) {\n        return type;\n    }\n    if (type.__isProxy === undefined) {\n        // expando hack to mark a proxy\n        return new Proxy(type, createHandler([], change, type));\n    }\n    return type;\n}\n/**\n * Watch an object with a proxy, fires change on any property value change\n */\nfunction watchAny(type, change) {\n    if (!type) {\n        return type;\n    }\n    if (type.__isProxy === undefined) {\n        // expando hack to mark a proxy\n        return new Proxy(type, {\n            set: (obj, prop, value) => {\n                // The default behavior to store the value\n                obj[prop] = value;\n                // Avoid watching private junk\n                if (typeof prop === 'string') {\n                    if (prop[0] !== '_') {\n                        change(obj);\n                    }\n                }\n                // Indicate success\n                return true;\n            },\n            get: (obj, prop) => {\n                if (prop !== '__isProxy') {\n                    return obj[prop];\n                }\n                return true;\n            }\n        });\n    }\n    return type;\n}\n\n;// ./Graphics/Graphic.ts\n\n\n\n\n/**\n * A Graphic is the base Excalibur primitive for something that can be drawn to the {@apilink ExcaliburGraphicsContext}.\n * {@apilink Sprite}, {@apilink Animation}, {@apilink GraphicsGroup}, {@apilink Canvas}, {@apilink Rectangle}, {@apilink Circle}, and {@apilink Polygon} all derive from the\n * {@apilink Graphic} abstract class.\n *\n * Implementors of a Graphic must override the abstract {@apilink Graphic._drawImage} method to render an image to the graphics context. Graphic\n * handles all the position, rotation, and scale transformations in {@apilink Graphic._preDraw} and {@apilink Graphic._postDraw}\n */\nclass Graphic {\n    isStale() {\n        return this._transformStale;\n    }\n    /**\n     * Gets or sets the flipHorizontal, which will flip the graphic horizontally (across the y axis)\n     */\n    get flipHorizontal() {\n        return this._flipHorizontal;\n    }\n    set flipHorizontal(value) {\n        this._flipHorizontal = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the flipVertical, which will flip the graphic vertically (across the x axis)\n     */\n    get flipVertical() {\n        return this._flipVertical;\n    }\n    set flipVertical(value) {\n        this._flipVertical = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the rotation of the graphic\n     */\n    get rotation() {\n        return this._rotation;\n    }\n    set rotation(value) {\n        this._rotation = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the scale of the graphic, this affects the width and\n     */\n    get scale() {\n        return this._scale;\n    }\n    set scale(value) {\n        this._scale = watch(value, () => {\n            this._transformStale = true;\n        });\n        this._transformStale = true;\n    }\n    /**\n     * Gets or sets the origin of the graphic, if not set the center of the graphic is the origin\n     */\n    get origin() {\n        return this._origin;\n    }\n    set origin(value) {\n        if (value) {\n            this._origin = watch(value, () => {\n                this._transformStale = true;\n            });\n        }\n        this._transformStale = true;\n    }\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        this.id = Graphic._ID++;\n        this.transform = AffineMatrix.identity();\n        this._transformStale = true;\n        /**\n         * Gets or sets wether to show debug information about the graphic\n         */\n        this.showDebug = false;\n        this._flipHorizontal = false;\n        this._flipVertical = false;\n        this._rotation = 0;\n        /**\n         * Gets or sets the opacity of the graphic, 0 is transparent, 1 is solid (opaque).\n         */\n        this.opacity = 1;\n        this._scale = Vector.One;\n        this._width = 0;\n        this._height = 0;\n        if (options) {\n            this.origin = (_a = options.origin) !== null && _a !== void 0 ? _a : this.origin;\n            this.flipHorizontal = (_b = options.flipHorizontal) !== null && _b !== void 0 ? _b : this.flipHorizontal;\n            this.flipVertical = (_c = options.flipVertical) !== null && _c !== void 0 ? _c : this.flipVertical;\n            this.rotation = (_d = options.rotation) !== null && _d !== void 0 ? _d : this.rotation;\n            this.opacity = (_e = options.opacity) !== null && _e !== void 0 ? _e : this.opacity;\n            this.scale = (_f = options.scale) !== null && _f !== void 0 ? _f : this.scale;\n            this.tint = (_g = options.tint) !== null && _g !== void 0 ? _g : this.tint;\n            if (options.width) {\n                this._width = options.width;\n            }\n            if (options.height) {\n                this._height = options.height;\n            }\n        }\n    }\n    cloneGraphicOptions() {\n        return {\n            width: this.width / this.scale.x,\n            height: this.height / this.scale.y,\n            origin: this.origin ? this.origin.clone() : undefined,\n            flipHorizontal: this.flipHorizontal,\n            flipVertical: this.flipVertical,\n            rotation: this.rotation,\n            opacity: this.opacity,\n            scale: this.scale ? this.scale.clone() : undefined,\n            tint: this.tint ? this.tint.clone() : undefined\n        };\n    }\n    /**\n     * Gets or sets the width of the graphic (always positive)\n     */\n    get width() {\n        return Math.abs(this._width * this.scale.x);\n    }\n    /**\n     * Gets or sets the height of the graphic (always positive)\n     */\n    get height() {\n        return Math.abs(this._height * this.scale.y);\n    }\n    set width(value) {\n        this._width = value;\n        this._transformStale = true;\n    }\n    set height(value) {\n        this._height = value;\n        this._transformStale = true;\n    }\n    /**\n     * Gets a copy of the bounds in pixels occupied by the graphic on the the screen. This includes scale.\n     */\n    get localBounds() {\n        return BoundingBox.fromDimension(this.width, this.height, Vector.Zero);\n    }\n    /**\n     * Draw the whole graphic to the context including transform\n     * @param ex The excalibur graphics context\n     * @param x\n     * @param y\n     */\n    draw(ex, x, y) {\n        this._preDraw(ex, x, y);\n        this._drawImage(ex, 0, 0);\n        this._postDraw(ex);\n    }\n    /**\n     * Apply affine transformations to the graphics context to manipulate the graphic before {@apilink Graphic._drawImage}\n     * @param ex\n     * @param x\n     * @param y\n     */\n    _preDraw(ex, x, y) {\n        ex.save();\n        ex.translate(x, y);\n        if (this._transformStale) {\n            this.transform.reset();\n            this.transform.scale(Math.abs(this.scale.x), Math.abs(this.scale.y));\n            this._rotate(this.transform);\n            this._flip(this.transform);\n            this._transformStale = false;\n        }\n        ex.multiply(this.transform);\n        // it is important to multiply alphas so graphics respect the current context\n        ex.opacity = ex.opacity * this.opacity;\n        if (this.tint) {\n            ex.tint = this.tint;\n        }\n    }\n    _rotate(ex) {\n        var _a;\n        const scaleDirX = this.scale.x > 0 ? 1 : -1;\n        const scaleDirY = this.scale.y > 0 ? 1 : -1;\n        const origin = (_a = this.origin) !== null && _a !== void 0 ? _a : vec(this.width / 2, this.height / 2);\n        ex.translate(origin.x, origin.y);\n        ex.rotate(this.rotation);\n        // This is for handling direction changes 1 or -1, that way we don't have mismatched translates()\n        ex.scale(scaleDirX, scaleDirY);\n        ex.translate(-origin.x, -origin.y);\n    }\n    _flip(ex) {\n        if (this.flipHorizontal) {\n            ex.translate(this.width / this.scale.x, 0);\n            ex.scale(-1, 1);\n        }\n        if (this.flipVertical) {\n            ex.translate(0, this.height / this.scale.y);\n            ex.scale(1, -1);\n        }\n    }\n    /**\n     * Apply any additional work after {@apilink Graphic._drawImage} and restore the context state.\n     * @param ex\n     */\n    _postDraw(ex) {\n        if (this.showDebug) {\n            ex.debug.drawRect(0, 0, this.width, this.height);\n        }\n        ex.restore();\n    }\n}\nGraphic._ID = 0;\n\n;// ./Graphics/Sprite.ts\n\n\nclass Sprite extends Graphic {\n    static from(image, options) {\n        return new Sprite({\n            image,\n            ...options\n        });\n    }\n    constructor(options) {\n        var _a, _b;\n        super(options);\n        this._logger = Logger.getInstance();\n        this._dirty = true;\n        this.image = options.image;\n        const { width, height } = options;\n        this.sourceView = (_a = options.sourceView) !== null && _a !== void 0 ? _a : { x: 0, y: 0, width: width !== null && width !== void 0 ? width : 0, height: height !== null && height !== void 0 ? height : 0 };\n        this.destSize = (_b = options.destSize) !== null && _b !== void 0 ? _b : { width: width !== null && width !== void 0 ? width : 0, height: height !== null && height !== void 0 ? height : 0 };\n        this._updateSpriteDimensions();\n        // Fire when loaded\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.image.ready.then(() => {\n            this._updateSpriteDimensions();\n        });\n    }\n    get width() {\n        return Math.abs(this.destSize.width * this.scale.x);\n    }\n    get height() {\n        return Math.abs(this.destSize.height * this.scale.y);\n    }\n    set width(newWidth) {\n        newWidth /= Math.abs(this.scale.x);\n        this.destSize.width = newWidth;\n        super.width = Math.ceil(this.destSize.width);\n    }\n    set height(newHeight) {\n        newHeight /= Math.abs(this.scale.y);\n        this.destSize.height = newHeight;\n        super.height = Math.ceil(this.destSize.height);\n    }\n    _updateSpriteDimensions() {\n        var _a, _b, _c, _d, _e, _f;\n        const { width: nativeWidth, height: nativeHeight } = this.image;\n        // This code uses || to avoid 0's\n        // If the source is not specified, use the native dimension\n        this.sourceView.width = ((_a = this.sourceView) === null || _a === void 0 ? void 0 : _a.width) || nativeWidth;\n        this.sourceView.height = ((_b = this.sourceView) === null || _b === void 0 ? void 0 : _b.height) || nativeHeight;\n        // If the destination is not specified, use the source if specified, then native\n        this.destSize.width = ((_c = this.destSize) === null || _c === void 0 ? void 0 : _c.width) || ((_d = this.sourceView) === null || _d === void 0 ? void 0 : _d.width) || nativeWidth;\n        this.destSize.height = ((_e = this.destSize) === null || _e === void 0 ? void 0 : _e.height) || ((_f = this.sourceView) === null || _f === void 0 ? void 0 : _f.height) || nativeHeight;\n        this.width = Math.ceil(this.destSize.width) * this.scale.x;\n        this.height = Math.ceil(this.destSize.height) * this.scale.y;\n    }\n    _preDraw(ex, x, y) {\n        if (this.image.isLoaded() && this._dirty) {\n            this._dirty = false;\n            this._updateSpriteDimensions();\n        }\n        super._preDraw(ex, x, y);\n    }\n    _drawImage(ex, x, y) {\n        if (this.image.isLoaded()) {\n            ex.drawImage(this.image.image, this.sourceView.x, this.sourceView.y, this.sourceView.width, this.sourceView.height, x, y, this.destSize.width, this.destSize.height);\n        }\n        else {\n            this._logger.warnOnce(`ImageSource ${this.image.path}` +\n                ` is not yet loaded and won't be drawn. Please call .load() or include in a Loader.\\n\\n` +\n                `Read https://excaliburjs.com/docs/imagesource for more information.`);\n        }\n    }\n    clone() {\n        return new Sprite({\n            image: this.image,\n            sourceView: { ...this.sourceView },\n            destSize: { ...this.destSize },\n            ...this.cloneGraphicOptions()\n        });\n    }\n}\n\n;// ./Graphics/Filtering.ts\n/**\n * Describes the different image filtering modes\n */\nvar ImageFiltering;\n(function (ImageFiltering) {\n    /**\n     * Pixel is useful when you do not want smoothing aka antialiasing applied to your graphics.\n     *\n     * Useful for Pixel art aesthetics.\n     */\n    ImageFiltering[\"Pixel\"] = \"Pixel\";\n    /**\n     * Blended is useful when you have high resolution artwork and would like it blended and smoothed\n     */\n    ImageFiltering[\"Blended\"] = \"Blended\";\n})(ImageFiltering || (ImageFiltering = {}));\n/**\n * Parse the image filtering attribute value, if it doesn't match returns null\n */\nfunction parseImageFiltering(val) {\n    switch (val) {\n        case ImageFiltering.Pixel:\n            return ImageFiltering.Pixel;\n        case ImageFiltering.Blended:\n            return ImageFiltering.Blended;\n        default:\n            return undefined;\n    }\n}\n\n;// ./Graphics/Wrapping.ts\n/**\n * Describes the different image wrapping modes\n */\nvar ImageWrapping;\n(function (ImageWrapping) {\n    ImageWrapping[\"Clamp\"] = \"Clamp\";\n    ImageWrapping[\"Repeat\"] = \"Repeat\";\n    ImageWrapping[\"Mirror\"] = \"Mirror\";\n})(ImageWrapping || (ImageWrapping = {}));\n/**\n *\n */\nfunction parseImageWrapping(val) {\n    switch (val) {\n        case ImageWrapping.Clamp:\n            return ImageWrapping.Clamp;\n        case ImageWrapping.Repeat:\n            return ImageWrapping.Repeat;\n        case ImageWrapping.Mirror:\n            return ImageWrapping.Mirror;\n        default:\n            return ImageWrapping.Clamp;\n    }\n}\n\n;// ./Graphics/Context/texture-loader.ts\n\n\n\n/**\n * Manages loading image sources into webgl textures, a unique id is associated with all sources\n */\nclass TextureLoader {\n    constructor(gl, _garbageCollector) {\n        var _a;\n        this._garbageCollector = _garbageCollector;\n        this._textureMap = new Map();\n        /**\n         * Looks for textures that haven't been drawn in a while\n         */\n        this._collect = (image) => {\n            var _a;\n            if (this._gl) {\n                const name = (_a = image.dataset.originalSrc) !== null && _a !== void 0 ? _a : image.constructor.name;\n                TextureLoader._LOGGER.debug(`WebGL Texture for ${name} collected`);\n                this.delete(image);\n                return true;\n            }\n            return false;\n        };\n        this._gl = gl;\n        TextureLoader._MAX_TEXTURE_SIZE = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n        if (this._garbageCollector) {\n            TextureLoader._LOGGER.debug('WebGL Texture collection interval:', this._garbageCollector.collectionInterval);\n            (_a = this._garbageCollector.garbageCollector) === null || _a === void 0 ? void 0 : _a.registerCollector('texture', this._garbageCollector.collectionInterval, this._collect);\n        }\n    }\n    dispose() {\n        for (const [image] of this._textureMap) {\n            this.delete(image);\n        }\n        this._textureMap.clear();\n        this._gl = null;\n    }\n    /**\n     * Get the WebGL Texture from a source image\n     * @param image\n     */\n    get(image) {\n        return this._textureMap.get(image);\n    }\n    /**\n     * Returns whether a source image has been loaded as a texture\n     * @param image\n     */\n    has(image) {\n        return this._textureMap.has(image);\n    }\n    /**\n     * Loads a graphic into webgl and returns it's texture info, a webgl context must be previously registered\n     * @param image Source graphic\n     * @param options {ImageSourceOptions} Optionally configure the ImageFiltering and ImageWrapping mode to apply to the loaded texture\n     * @param forceUpdate Optionally force a texture to be reloaded, useful if the source graphic has changed\n     */\n    load(image, options, forceUpdate = false) {\n        var _a, _b;\n        // Ignore loading if webgl is not registered\n        const gl = this._gl;\n        if (!gl) {\n            return null;\n        }\n        const { filtering, wrapping } = { ...options };\n        let tex = null;\n        // If reuse the texture if it's from the same source\n        if (this.has(image)) {\n            tex = this.get(image);\n        }\n        // Update existing webgl texture and return early\n        if (tex) {\n            if (forceUpdate) {\n                gl.bindTexture(gl.TEXTURE_2D, tex);\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n            }\n            (_a = this._garbageCollector) === null || _a === void 0 ? void 0 : _a.garbageCollector.touch(image);\n            return tex;\n        }\n        // No texture exists create a new one\n        tex = gl.createTexture();\n        // TODO implement texture gc with weakmap and timer\n        TextureLoader.checkImageSizeSupportedAndLog(image);\n        gl.bindTexture(gl.TEXTURE_2D, tex);\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\n        let wrappingConfig;\n        if (wrapping) {\n            if (typeof wrapping === 'string') {\n                wrappingConfig = {\n                    x: wrapping,\n                    y: wrapping\n                };\n            }\n            else {\n                wrappingConfig = {\n                    x: wrapping.x,\n                    y: wrapping.y\n                };\n            }\n        }\n        const { x: xWrap, y: yWrap } = wrappingConfig !== null && wrappingConfig !== void 0 ? wrappingConfig : TextureLoader.wrapping;\n        switch (xWrap) {\n            case ImageWrapping.Clamp:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n                break;\n            case ImageWrapping.Repeat:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n                break;\n            case ImageWrapping.Mirror:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);\n                break;\n            default:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        }\n        switch (yWrap) {\n            case ImageWrapping.Clamp:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n                break;\n            case ImageWrapping.Repeat:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n                break;\n            case ImageWrapping.Mirror:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);\n                break;\n            default:\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        }\n        // NEAREST for pixel art, LINEAR for hi-res\n        const filterMode = filtering !== null && filtering !== void 0 ? filtering : TextureLoader.filtering;\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filterMode === ImageFiltering.Pixel ? gl.NEAREST : gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filterMode === ImageFiltering.Pixel ? gl.NEAREST : gl.LINEAR);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n        this._textureMap.set(image, tex);\n        (_b = this._garbageCollector) === null || _b === void 0 ? void 0 : _b.garbageCollector.addCollectableResource('texture', image);\n        return tex;\n    }\n    delete(image) {\n        // Ignore loading if webgl is not registered\n        const gl = this._gl;\n        if (!gl) {\n            return;\n        }\n        if (this.has(image)) {\n            const texture = this.get(image);\n            if (texture) {\n                this._textureMap.delete(image);\n                gl.deleteTexture(texture);\n            }\n        }\n    }\n    /**\n     * Takes an image and returns if it meets size criteria for hardware\n     * @param image\n     * @returns if the image will be supported at runtime\n     */\n    static checkImageSizeSupportedAndLog(image) {\n        var _a;\n        const originalSrc = (_a = image.dataset.originalSrc) !== null && _a !== void 0 ? _a : 'internal canvas bitmap';\n        if (image.width > TextureLoader._MAX_TEXTURE_SIZE || image.height > TextureLoader._MAX_TEXTURE_SIZE) {\n            TextureLoader._LOGGER.error(`The image [${originalSrc}] provided to Excalibur is too large for the device's maximum texture size of ` +\n                `(${TextureLoader._MAX_TEXTURE_SIZE}x${TextureLoader._MAX_TEXTURE_SIZE}) please resize to an image ` +\n                `for excalibur to render properly.\\n\\nImages will likely render as black rectangles.\\n\\n` +\n                `Read more here: https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits`);\n            return false;\n        }\n        else if (image.width > 4096 || image.height > 4096) {\n            // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits\n            TextureLoader._LOGGER.warn(`The image [${originalSrc}] provided to excalibur is too large may not work on all mobile devices, ` +\n                `it is recommended you resize images to a maximum (4096x4096).\\n\\n` +\n                `Images will likely render as black rectangles on some mobile platforms.\\n\\n` +\n                `Read more here: https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#understand_system_limits`);\n        }\n        return true;\n    }\n}\nTextureLoader._LOGGER = Logger.getInstance();\n/**\n * Sets the default filtering for the Excalibur texture loader, default {@apilink ImageFiltering.Blended}\n */\nTextureLoader.filtering = ImageFiltering.Blended;\nTextureLoader.wrapping = { x: ImageWrapping.Clamp, y: ImageWrapping.Clamp };\nTextureLoader._MAX_TEXTURE_SIZE = 4096;\n\n;// ./Graphics/ImageSource.ts\n\n\n\n\n\n\n\nconst ImageSourceAttributeConstants = {\n    Filtering: 'filtering',\n    WrappingX: 'wrapping-x',\n    WrappingY: 'wrapping-y'\n};\nclass ImageSource {\n    /**\n     * The original size of the source image in pixels\n     */\n    get width() {\n        return this.image.naturalWidth;\n    }\n    /**\n     * The original height of the source image in pixels\n     */\n    get height() {\n        return this.image.naturalHeight;\n    }\n    /**\n     * Returns true if the Texture is completely loaded and is ready\n     * to be drawn.\n     */\n    isLoaded() {\n        if (!this._src) {\n            // this boosts speed of access\n            this._src = this.data.src;\n        }\n        return !!this._src;\n    }\n    get image() {\n        return this.data;\n    }\n    constructor(pathOrBase64, bustCacheOrOptions, filtering) {\n        this._logger = Logger.getInstance();\n        /**\n         * Access to the underlying html image element\n         */\n        this.data = new Image();\n        this._readyFuture = new Future();\n        /**\n         * Promise the resolves when the image is loaded and ready for use, does not initiate loading\n         */\n        this.ready = this._readyFuture.promise;\n        this.path = pathOrBase64;\n        let bustCache = false;\n        let wrapping;\n        if (typeof bustCacheOrOptions === 'boolean') {\n            bustCache = bustCacheOrOptions;\n        }\n        else {\n            ({ filtering, wrapping, bustCache } = { ...bustCacheOrOptions });\n        }\n        this._resource = new Resource(pathOrBase64, 'blob', bustCache);\n        this.filtering = filtering !== null && filtering !== void 0 ? filtering : this.filtering;\n        if (typeof wrapping === 'string') {\n            this.wrapping = {\n                x: wrapping,\n                y: wrapping\n            };\n        }\n        else {\n            this.wrapping = wrapping !== null && wrapping !== void 0 ? wrapping : this.wrapping;\n        }\n        if (pathOrBase64.endsWith('.gif')) {\n            this._logger.warn(`Use the ex.Gif type to load gifs, you may have mixed results with ${pathOrBase64} in ex.ImageSource. Fully supported: svg, jpg, bmp, and png`);\n        }\n    }\n    /**\n     * Create an ImageSource from and HTML <image> tag element\n     * @param image\n     */\n    static fromHtmlImageElement(image, options) {\n        const imageSource = new ImageSource('');\n        imageSource._src = 'image-element';\n        imageSource.data = image;\n        imageSource.data.setAttribute('data-original-src', 'image-element');\n        if (options === null || options === void 0 ? void 0 : options.filtering) {\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.Filtering, options === null || options === void 0 ? void 0 : options.filtering);\n        }\n        else {\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.Filtering, ImageFiltering.Blended);\n        }\n        if (options === null || options === void 0 ? void 0 : options.wrapping) {\n            let wrapping;\n            if (typeof options.wrapping === 'string') {\n                wrapping = {\n                    x: options.wrapping,\n                    y: options.wrapping\n                };\n            }\n            else {\n                wrapping = {\n                    x: options.wrapping.x,\n                    y: options.wrapping.y\n                };\n            }\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingX, wrapping.x);\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingY, wrapping.y);\n        }\n        else {\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingX, ImageWrapping.Clamp);\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingY, ImageWrapping.Clamp);\n        }\n        TextureLoader.checkImageSizeSupportedAndLog(image);\n        imageSource._readyFuture.resolve(image);\n        return imageSource;\n    }\n    static fromHtmlCanvasElement(image, options) {\n        const imageSource = new ImageSource('');\n        imageSource._src = 'canvas-element-blob';\n        imageSource.data.setAttribute('data-original-src', 'canvas-element-blob');\n        if (options === null || options === void 0 ? void 0 : options.filtering) {\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.Filtering, options === null || options === void 0 ? void 0 : options.filtering);\n        }\n        else {\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.Filtering, ImageFiltering.Blended);\n        }\n        if (options === null || options === void 0 ? void 0 : options.wrapping) {\n            let wrapping;\n            if (typeof options.wrapping === 'string') {\n                wrapping = {\n                    x: options.wrapping,\n                    y: options.wrapping\n                };\n            }\n            else {\n                wrapping = {\n                    x: options.wrapping.x,\n                    y: options.wrapping.y\n                };\n            }\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingX, wrapping.x);\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingY, wrapping.y);\n        }\n        else {\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingX, ImageWrapping.Clamp);\n            imageSource.data.setAttribute(ImageSourceAttributeConstants.WrappingY, ImageWrapping.Clamp);\n        }\n        TextureLoader.checkImageSizeSupportedAndLog(image);\n        image.toBlob((blob) => {\n            // TODO throw? if blob null?\n            const url = URL.createObjectURL(blob);\n            imageSource.image.onload = () => {\n                // no longer need to read the blob so it's revoked\n                URL.revokeObjectURL(url);\n                imageSource.data = imageSource.image;\n                imageSource._readyFuture.resolve(imageSource.image);\n            };\n            imageSource.image.src = url;\n        });\n        return imageSource;\n    }\n    static fromSvgString(svgSource, options) {\n        const blob = new Blob([svgSource], { type: 'image/svg+xml' });\n        const url = URL.createObjectURL(blob);\n        return new ImageSource(url, options);\n    }\n    /**\n     * Should excalibur add a cache busting querystring? By default false.\n     * Must be set before loading\n     */\n    get bustCache() {\n        return this._resource.bustCache;\n    }\n    set bustCache(val) {\n        this._resource.bustCache = val;\n    }\n    /**\n     * Begins loading the image and returns a promise that resolves when the image is loaded\n     */\n    async load() {\n        var _a, _b, _c, _d;\n        if (this.isLoaded()) {\n            return this.data;\n        }\n        try {\n            // Load base64 or blob if needed\n            let url;\n            if (!this.path.includes('data:image/')) {\n                const blob = await this._resource.load();\n                url = URL.createObjectURL(blob);\n            }\n            else {\n                url = this.path;\n            }\n            // Decode the image\n            const image = new Image();\n            // Use Image.onload over Image.decode()\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=1055828#c7\n            // Otherwise chrome will throw still Image.decode() failures for large textures\n            const loadedFuture = new Future();\n            image.onload = () => loadedFuture.resolve();\n            image.src = url;\n            image.setAttribute('data-original-src', this.path);\n            await loadedFuture.promise;\n            // Set results\n            // We defer loading the texture into webgl until the first draw that way we avoid a singleton\n            // and for the multi-engine case the texture needs to be created in EACH webgl context to work\n            // See image-renderer.ts draw()\n            this.data = image;\n            // emit warning if potentially too big\n            TextureLoader.checkImageSizeSupportedAndLog(this.data);\n        }\n        catch (error) {\n            throw `Error loading ImageSource from path '${this.path}' with error [${error.message}]`;\n        }\n        // Do a bad thing to pass the filtering as an attribute\n        this.data.setAttribute(ImageSourceAttributeConstants.Filtering, this.filtering); // TODO fix type\n        this.data.setAttribute(ImageSourceAttributeConstants.WrappingX, (_b = (_a = this.wrapping) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : ImageWrapping.Clamp);\n        this.data.setAttribute(ImageSourceAttributeConstants.WrappingY, (_d = (_c = this.wrapping) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : ImageWrapping.Clamp);\n        // todo emit complete\n        this._readyFuture.resolve(this.data);\n        return this.data;\n    }\n    /**\n     * Build a sprite from this ImageSource\n     */\n    toSprite(options) {\n        return Sprite.from(this, options);\n    }\n    /**\n     * Unload images from memory\n     */\n    unload() {\n        this.data = new Image();\n    }\n}\n\n;// ./Graphics/SpriteFont.ts\n\n\n\n\nclass SpriteFont extends Graphic {\n    constructor(options) {\n        super(options);\n        this._text = '';\n        this.alphabet = '';\n        this.shadow = undefined;\n        this.caseInsensitive = false;\n        this.spacing = 0;\n        this.lineHeight = undefined;\n        this._logger = Logger.getInstance();\n        const { alphabet, spriteSheet, caseInsensitive, spacing, shadow, lineHeight } = options;\n        this.alphabet = alphabet;\n        this.spriteSheet = spriteSheet;\n        this.caseInsensitive = caseInsensitive !== null && caseInsensitive !== void 0 ? caseInsensitive : this.caseInsensitive;\n        this.spacing = spacing !== null && spacing !== void 0 ? spacing : this.spacing;\n        this.shadow = shadow !== null && shadow !== void 0 ? shadow : this.shadow;\n        this.lineHeight = lineHeight !== null && lineHeight !== void 0 ? lineHeight : this.lineHeight;\n    }\n    _getCharacterSprites(text) {\n        const results = [];\n        // handle case insensitive\n        const textToRender = this.caseInsensitive ? text.toLocaleLowerCase() : text;\n        const alphabet = this.caseInsensitive ? this.alphabet.toLocaleLowerCase() : this.alphabet;\n        // for each letter in text\n        for (let letterIndex = 0; letterIndex < textToRender.length; letterIndex++) {\n            // find the sprite index in alphabet , if there is an error pick the first\n            const letter = textToRender[letterIndex];\n            let spriteIndex = alphabet.indexOf(letter);\n            if (spriteIndex === -1) {\n                spriteIndex = 0;\n                this._logger.warnOnce(`SpriteFont - Cannot find letter '${letter}' in configured alphabet '${alphabet}'.`);\n                this._logger.warnOnce('There maybe be more issues in the SpriteFont configuration. No additional warnings will be logged.');\n            }\n            const letterSprite = this.spriteSheet.sprites[spriteIndex];\n            if (letterSprite) {\n                results.push(letterSprite);\n            }\n            else {\n                this._logger.warnOnce(`SpriteFont - Cannot find sprite for '${letter}' at index '${spriteIndex}' in configured SpriteSheet`);\n                this._logger.warnOnce('There maybe be more issues in the SpriteFont configuration. No additional warnings will be logged.');\n            }\n        }\n        return results;\n    }\n    measureText(text, maxWidth) {\n        const lines = this._getLinesFromText(text, maxWidth);\n        const maxWidthLine = lines.reduce((a, b) => {\n            return a.length > b.length ? a : b;\n        });\n        const sprites = this._getCharacterSprites(maxWidthLine);\n        let width = 0;\n        let height = 0;\n        for (const sprite of sprites) {\n            width += sprite.width + this.spacing;\n            height = Math.max(height, sprite.height);\n        }\n        return BoundingBox.fromDimension(width * this.scale.x, height * lines.length * this.scale.y, Vector.Zero);\n    }\n    _drawImage(ex, x, y, maxWidth) {\n        var _a;\n        let xCursor = 0;\n        let yCursor = 0;\n        let height = 0;\n        const lines = this._getLinesFromText(this._text, maxWidth);\n        for (const line of lines) {\n            for (const sprite of this._getCharacterSprites(line)) {\n                // draw it in the right spot and increase the cursor by sprite width\n                sprite.draw(ex, x + xCursor, y + yCursor);\n                xCursor += sprite.width + this.spacing;\n                height = Math.max(height, sprite.height);\n            }\n            xCursor = 0;\n            yCursor += (_a = this.lineHeight) !== null && _a !== void 0 ? _a : height;\n        }\n    }\n    render(ex, text, _color, x, y, maxWidth) {\n        // SpriteFont doesn't support _color, yet...\n        this._text = text;\n        const bounds = this.measureText(text, maxWidth);\n        this.width = bounds.width;\n        this.height = bounds.height;\n        if (this.shadow) {\n            ex.save();\n            ex.translate(this.shadow.offset.x, this.shadow.offset.y);\n            this._preDraw(ex, x, y);\n            this._drawImage(ex, 0, 0, maxWidth);\n            this._postDraw(ex);\n            ex.restore();\n        }\n        this._preDraw(ex, x, y);\n        this._drawImage(ex, 0, 0, maxWidth);\n        this._postDraw(ex);\n    }\n    clone() {\n        return new SpriteFont({\n            alphabet: this.alphabet,\n            spriteSheet: this.spriteSheet,\n            spacing: this.spacing\n        });\n    }\n    _getLinesFromText(text, maxWidth) {\n        var _a;\n        if (this._cachedText === text && this._cachedRenderWidth === maxWidth && ((_a = this._cachedLines) === null || _a === void 0 ? void 0 : _a.length)) {\n            return this._cachedLines;\n        }\n        const lines = text.split('\\n');\n        if (maxWidth == null) {\n            return lines;\n        }\n        // If the current line goes past the maxWidth, append a new line without modifying the underlying text.\n        for (let i = 0; i < lines.length; i++) {\n            let line = lines[i];\n            let newLine = '';\n            // Note: we subtract the spacing to counter the initial padding on the left side.\n            if (this.measureText(line).width > maxWidth) {\n                while (this.measureText(line).width > maxWidth) {\n                    newLine = line[line.length - 1] + newLine;\n                    line = line.slice(0, -1); // Remove last character from line\n                }\n                // Update the array with our new values\n                lines[i] = line;\n                lines[i + 1] = newLine;\n            }\n        }\n        this._cachedText = text;\n        this._cachedLines = lines;\n        this._cachedRenderWidth = maxWidth;\n        return lines;\n    }\n}\n\n;// ./Graphics/TiledSprite.ts\n\n\n\n\nclass TiledSprite extends Sprite {\n    constructor(options) {\n        super({\n            image: options.image,\n            sourceView: options.sourceView,\n            destSize: { width: options.width, height: options.height },\n            flipHorizontal: options.flipHorizontal,\n            flipVertical: options.flipVertical,\n            rotation: options.rotation,\n            scale: options.scale,\n            opacity: options.opacity,\n            tint: options.tint,\n            origin: options.origin\n        });\n        this._ready = new Future();\n        this.ready = this._ready.promise;\n        this._options = options;\n        if (this.image.isLoaded()) {\n            this._applyTiling();\n        }\n        else {\n            this.image.ready.then(() => this._applyTiling());\n        }\n    }\n    static fromSprite(sprite, options) {\n        return new TiledSprite({\n            sourceView: { ...sprite.sourceView },\n            width: sprite.width,\n            height: sprite.height,\n            ...options,\n            image: sprite.image\n        });\n    }\n    _applyTiling() {\n        const { width, height, filtering, wrapping } = { ...this._options };\n        const spriteCanvas = document.createElement('canvas');\n        spriteCanvas.width = this.sourceView.width;\n        spriteCanvas.height = this.sourceView.height;\n        const spriteCtx = spriteCanvas.getContext('2d');\n        // prettier-ignore\n        spriteCtx.drawImage(this.image.image, this.sourceView.x, this.sourceView.y, this.sourceView.width, this.sourceView.height, 0, 0, this.sourceView.width, this.sourceView.height);\n        // prettier-ignore\n        const tiledImageSource = ImageSource.fromHtmlCanvasElement(spriteCanvas, {\n            wrapping: wrapping !== null && wrapping !== void 0 ? wrapping : ImageWrapping.Repeat,\n            filtering\n        });\n        if (width) {\n            this.destSize.width = width;\n            this.sourceView.width = width;\n        }\n        if (height) {\n            this.destSize.height = height;\n            this.sourceView.height = height;\n        }\n        this.sourceView.x = 0;\n        this.sourceView.y = 0;\n        this.image = tiledImageSource;\n        // this._ready.resolve();\n        this.image.ready.then(() => this._ready.resolve());\n    }\n}\n\n;// ./Graphics/SpriteSheet.ts\n\n\n/**\n * Represents a collection of sprites from a source image with some organization in a grid\n */\nclass SpriteSheet {\n    /**\n     * Build a new sprite sheet from a list of sprites\n     *\n     * Use {@apilink SpriteSheet.fromImageSource} to create a SpriteSheet from an {@apilink ImageSource} organized in a grid\n     * @param options\n     */\n    constructor(options) {\n        this.sprites = [];\n        const { sprites, rows, columns } = options;\n        this.sprites = sprites;\n        this.rows = rows !== null && rows !== void 0 ? rows : 1;\n        this.columns = columns !== null && columns !== void 0 ? columns : this.sprites.length;\n    }\n    /**\n     * Find a sprite by their x/y integer coordinates in the SpriteSheet, for example `getSprite(0, 0)` is the {@apilink Sprite} in the top-left\n     * and `getSprite(1, 0)` is the sprite one to the right.\n     * @param x\n     * @param y\n     */\n    getSprite(x, y, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (x >= this.columns || x < 0) {\n            throw Error(`No sprite exists in the SpriteSheet at (${x}, ${y}), x: ${x} should be between 0 and ${this.columns - 1} columns`);\n        }\n        if (y >= this.rows || y < 0) {\n            throw Error(`No sprite exists in the SpriteSheet at (${x}, ${y}), y: ${y} should be between 0 and ${this.rows - 1} rows`);\n        }\n        const spriteIndex = x + y * this.columns;\n        const sprite = this.sprites[spriteIndex];\n        if (sprite) {\n            if (options) {\n                const spriteWithOptions = sprite.clone();\n                spriteWithOptions.flipHorizontal = (_a = options.flipHorizontal) !== null && _a !== void 0 ? _a : spriteWithOptions.flipHorizontal;\n                spriteWithOptions.flipVertical = (_b = options.flipVertical) !== null && _b !== void 0 ? _b : spriteWithOptions.flipVertical;\n                spriteWithOptions.width = (_c = options.width) !== null && _c !== void 0 ? _c : spriteWithOptions.width;\n                spriteWithOptions.height = (_d = options.height) !== null && _d !== void 0 ? _d : spriteWithOptions.height;\n                spriteWithOptions.rotation = (_e = options.rotation) !== null && _e !== void 0 ? _e : spriteWithOptions.rotation;\n                spriteWithOptions.scale = (_f = options.scale) !== null && _f !== void 0 ? _f : spriteWithOptions.scale;\n                spriteWithOptions.opacity = (_g = options.opacity) !== null && _g !== void 0 ? _g : spriteWithOptions.opacity;\n                spriteWithOptions.tint = (_h = options.tint) !== null && _h !== void 0 ? _h : spriteWithOptions.tint;\n                spriteWithOptions.origin = (_j = options.origin) !== null && _j !== void 0 ? _j : spriteWithOptions.origin;\n                return spriteWithOptions;\n            }\n            return sprite;\n        }\n        throw Error(`Invalid sprite coordinates (${x}, ${y})`);\n    }\n    /**\n     * Find a sprite by their x/y integer coordinates in the SpriteSheet and configures tiling to repeat by default,\n     * for example `getTiledSprite(0, 0)` is the {@apilink TiledSprite} in the top-left\n     * and `getTiledSprite(1, 0)` is the sprite one to the right.\n     *\n     * Example:\n     *\n     * ```typescript\n     * spriteSheet.getTiledSprite(1, 0, {\n     * width: game.screen.width,\n     * height: 200,\n     * wrapping: {\n     * x: ex.ImageWrapping.Repeat,\n     * y: ex.ImageWrapping.Clamp\n     * }\n     * });\n     * ```\n     * @param x\n     * @param y\n     * @param options\n     */\n    getTiledSprite(x, y, options) {\n        if (x >= this.columns || x < 0) {\n            throw Error(`No sprite exists in the SpriteSheet at (${x}, ${y}), x: ${x} should be between 0 and ${this.columns - 1} columns`);\n        }\n        if (y >= this.rows || y < 0) {\n            throw Error(`No sprite exists in the SpriteSheet at (${x}, ${y}), y: ${y} should be between 0 and ${this.rows - 1} rows`);\n        }\n        const spriteIndex = x + y * this.columns;\n        const sprite = this.sprites[spriteIndex];\n        if (sprite) {\n            return TiledSprite.fromSprite(sprite, options);\n        }\n        throw Error(`Invalid sprite coordinates (${x}, ${y})`);\n    }\n    /**\n     * Create a sprite sheet from a sparse set of {@apilink SourceView} rectangles\n     * @param options\n     */\n    static fromImageSourceWithSourceViews(options) {\n        const sprites = options.sourceViews.map((sourceView) => {\n            return new Sprite({\n                image: options.image,\n                sourceView\n            });\n        });\n        return new SpriteSheet({ sprites });\n    }\n    /**\n     * Create a SpriteSheet from an {@apilink ImageSource} organized in a grid\n     *\n     * Example:\n     * ```\n     * const spriteSheet = SpriteSheet.fromImageSource({\n     *   image: imageSource,\n     *   grid: {\n     *     rows: 5,\n     *     columns: 2,\n     *     spriteWidth: 32, // pixels\n     *     spriteHeight: 32 // pixels\n     *   },\n     *   // Optionally specify spacing\n     *   spacing: {\n     *     // pixels from the top left to start the sprite parsing\n     *     originOffset: {\n     *       x: 5,\n     *       y: 5\n     *     },\n     *     // pixels between each sprite while parsing\n     *     margin: {\n     *       x: 1,\n     *       y: 1\n     *     }\n     *   }\n     * })\n     * ```\n     * @param options\n     */\n    static fromImageSource(options) {\n        var _a;\n        const sprites = [];\n        options.spacing = (_a = options.spacing) !== null && _a !== void 0 ? _a : {};\n        const { image, grid: { rows, columns: cols, spriteWidth, spriteHeight }, spacing: { originOffset, margin } } = options;\n        const offsetDefaults = { x: 0, y: 0, ...originOffset };\n        const marginDefaults = { x: 0, y: 0, ...margin };\n        for (let x = 0; x < cols; x++) {\n            for (let y = 0; y < rows; y++) {\n                sprites[x + y * cols] = new Sprite({\n                    image: image,\n                    sourceView: {\n                        x: x * spriteWidth + marginDefaults.x * x + offsetDefaults.x,\n                        y: y * spriteHeight + marginDefaults.y * y + offsetDefaults.y,\n                        width: spriteWidth,\n                        height: spriteHeight\n                    },\n                    destSize: { height: spriteHeight, width: spriteWidth }\n                });\n            }\n        }\n        return new SpriteSheet({\n            sprites: sprites,\n            rows: rows,\n            columns: cols\n        });\n    }\n    clone() {\n        return new SpriteSheet({\n            sprites: this.sprites.map((sprite) => sprite.clone()),\n            rows: this.rows,\n            columns: this.columns\n        });\n    }\n}\n\n;// ./Graphics/Context/debug-font.png\n/* harmony default export */ const debug_font = (\"data:image/png;base64,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\");\n;// ./Graphics/Context/debug-text.ts\n\n\n\n\n/**\n * Internal debug text helper\n */\nclass DebugText {\n    constructor() {\n        /**\n         * base64 font\n         */\n        this.fontSheet = debug_font;\n        this.size = 16;\n        // We fire and forget, we don't care if it's loaded or not\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.load();\n    }\n    load() {\n        this._imageSource = new ImageSource(this.fontSheet);\n        return this._imageSource.load().then(() => {\n            this._spriteSheet = SpriteSheet.fromImageSource({\n                image: this._imageSource,\n                grid: {\n                    rows: 4,\n                    columns: 16,\n                    spriteWidth: 16,\n                    spriteHeight: 16\n                }\n            });\n            this._spriteFont = new SpriteFont({\n                alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ,!\\'&.\"?-()+# ',\n                caseInsensitive: true,\n                spriteSheet: this._spriteSheet,\n                spacing: -6\n            });\n        });\n    }\n    /**\n     * Writes debug text using the built in sprint font\n     * @param ctx\n     * @param text\n     * @param pos\n     */\n    write(ctx, text, pos) {\n        if (this._imageSource.isLoaded()) {\n            this._spriteFont.render(ctx, text, null, pos.x, pos.y);\n        }\n    }\n}\n\n;// ./Graphics/Context/render-source.ts\nclass RenderSource {\n    constructor(_gl, _texture) {\n        this._gl = _gl;\n        this._texture = _texture;\n    }\n    use() {\n        const gl = this._gl;\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, this._texture);\n    }\n    disable() {\n        const gl = this._gl;\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n}\n\n;// ./Graphics/Context/render-target.ts\n\nclass RenderTarget {\n    constructor(options) {\n        var _a, _b;\n        this.antialias = false;\n        this.samples = 1;\n        this._gl = options.gl;\n        this.width = options.width;\n        this.height = options.height;\n        this.transparency = options.transparency;\n        this.antialias = (_a = options.antialias) !== null && _a !== void 0 ? _a : this.antialias;\n        this.samples = (_b = options.samples) !== null && _b !== void 0 ? _b : this._gl.getParameter(this._gl.MAX_SAMPLES);\n        const gl = this._gl;\n        // Determine current context format for blitting later needs to match\n        if (gl.drawingBufferFormat) {\n            this.bufferFormat = gl.drawingBufferFormat;\n        }\n        else {\n            // Documented in webgl spec\n            // https://registry.khronos.org/webgl/specs/latest/1.0/\n            if (this.transparency) {\n                this.bufferFormat = gl.RGBA8;\n            }\n            else {\n                this.bufferFormat = gl.RGB8;\n            }\n        }\n        this._setupRenderBuffer();\n        this._setupFramebuffer();\n    }\n    setResolution(width, height) {\n        const gl = this._gl;\n        this.width = width;\n        this.height = height;\n        // update backing texture size\n        gl.bindTexture(gl.TEXTURE_2D, this._frameTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        // update render buffer size\n        if (this._renderBuffer) {\n            gl.bindRenderbuffer(gl.RENDERBUFFER, this._renderBuffer);\n            gl.renderbufferStorageMultisample(gl.RENDERBUFFER, Math.min(this.samples, gl.getParameter(gl.MAX_SAMPLES)), this.bufferFormat, this.width, this.height);\n        }\n    }\n    get renderBuffer() {\n        return this._renderBuffer;\n    }\n    get renderFrameBuffer() {\n        return this._renderFrameBuffer;\n    }\n    get frameBuffer() {\n        return this._frameBuffer;\n    }\n    get frameTexture() {\n        return this._frameTexture;\n    }\n    _setupRenderBuffer() {\n        if (this.antialias) {\n            const gl = this._gl;\n            // Render buffers can be used as an input to a shader\n            this._renderBuffer = gl.createRenderbuffer();\n            this._renderFrameBuffer = gl.createFramebuffer();\n            gl.bindRenderbuffer(gl.RENDERBUFFER, this._renderBuffer);\n            gl.renderbufferStorageMultisample(gl.RENDERBUFFER, Math.min(this.samples, gl.getParameter(gl.MAX_SAMPLES)), this.bufferFormat, this.width, this.height);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this._renderFrameBuffer);\n            gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.RENDERBUFFER, this._renderBuffer);\n        }\n    }\n    _setupFramebuffer() {\n        // Allocates frame buffer\n        const gl = this._gl;\n        this._frameTexture = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, this._frameTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        // set the filtering so we don't need mips\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        // attach the texture as the first color attachment\n        const attachmentPoint = gl.COLOR_ATTACHMENT0;\n        // After this bind all draw calls will draw to this framebuffer texture\n        this._frameBuffer = gl.createFramebuffer();\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this._frameBuffer);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, attachmentPoint, gl.TEXTURE_2D, this._frameTexture, 0);\n        // Reset after initialized\n        this.disable();\n    }\n    toRenderSource() {\n        if (this.renderBuffer) {\n            this.blitRenderBufferToFrameBuffer();\n        }\n        const source = new RenderSource(this._gl, this._frameTexture);\n        return source;\n    }\n    blitToScreen() {\n        const gl = this._gl;\n        // set to size of canvas's drawingBuffer\n        if (this._renderBuffer) {\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.renderFrameBuffer);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n            gl.clearBufferfv(gl.COLOR, 0, [0.0, 0.0, 1.0, 1.0]);\n            gl.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n        }\n        else {\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.frameBuffer);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n            gl.clearBufferfv(gl.COLOR, 0, [0.0, 0.0, 1.0, 1.0]);\n            gl.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n        }\n    }\n    blitRenderBufferToFrameBuffer() {\n        if (this._renderBuffer) {\n            const gl = this._gl;\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.renderFrameBuffer);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.frameBuffer);\n            gl.clearBufferfv(gl.COLOR, 0, [0.0, 0.0, 1.0, 1.0]);\n            gl.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n        }\n    }\n    copyToTexture(texture) {\n        const gl = this._gl;\n        if (this._renderBuffer) {\n            this.blitRenderBufferToFrameBuffer();\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this._frameBuffer);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 0, 0, this.width, this.height, 0);\n    }\n    /**\n     * When called, all drawing gets redirected to this render target\n     */\n    use() {\n        const gl = this._gl;\n        if (this.antialias) {\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this._renderFrameBuffer);\n        }\n        else {\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this._frameBuffer);\n        }\n        // very important to set the viewport to the size of the framebuffer texture\n        gl.viewport(0, 0, this.width, this.height);\n    }\n    /**\n     * When called, all drawing is sent back to the canvas\n     */\n    disable() {\n        const gl = this._gl;\n        // passing null switches rendering back to the canvas\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n}\n\n;// ./Graphics/Context/line-renderer/line-vertex.glsl\n/* harmony default export */ const line_vertex = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\n\\r\\nout lowp vec4 v_color;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n   // Passthrough the color\\r\\n   v_color = a_color;\\r\\n}\");\n;// ./Graphics/Context/line-renderer/line-fragment.glsl\n/* harmony default export */ const line_fragment = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\n// Color\\r\\nin lowp vec4 v_color;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  fragColor = v_color;\\r\\n}\");\n;// ./Graphics/Context/webgl-util.ts\n/**\n * Return the size of the GlType in bytes\n * @param gl\n * @param type\n */\nfunction getGlTypeSizeBytes(gl, type) {\n    switch (type) {\n        case gl.INT:\n        case gl.UNSIGNED_INT:\n        case gl.FLOAT:\n            return 4;\n        case gl.SHORT:\n            return 2;\n        case gl.UNSIGNED_SHORT:\n            return 2;\n        case gl.BYTE:\n            return 1;\n        case gl.UNSIGNED_BYTE:\n            return 1;\n        default:\n            return 1;\n    }\n}\n/**\n * Checks if an attribute is present in vertex source\n */\nfunction isAttributeInSource(source, variable) {\n    const attributeRegexTemplate = `(?<type>[a-z0-9]+)\\\\s+${variable};`;\n    const regex = new RegExp(attributeRegexTemplate, 'g');\n    const matches = regex.exec(source);\n    return (matches === null || matches === void 0 ? void 0 : matches.length) > 0;\n}\n/**\n * Attempt to discern the glType of an attribute from vertex source\n * @param gl\n * @param source\n * @param variable\n */\nfunction getGLTypeFromSource(gl, source, variable) {\n    var _a;\n    const attributeRegexTemplate = `(?<type>[a-z0-9]+)\\\\s+${variable};`;\n    const regex = new RegExp(attributeRegexTemplate, 'g');\n    const matches = regex.exec(source);\n    const type = (_a = matches === null || matches === void 0 ? void 0 : matches.groups) === null || _a === void 0 ? void 0 : _a.type;\n    switch (type) {\n        case 'float':\n        case 'vec2':\n        case 'vec3':\n        case 'vec4':\n            return gl.FLOAT;\n        case 'int':\n        case 'ivec2':\n        case 'ivec3':\n        case 'ivec4':\n            return gl.INT;\n        case 'uint':\n        case 'uvec2':\n        case 'uvec3':\n        case 'uvec4':\n            return gl.UNSIGNED_INT;\n        case 'bool':\n        case 'bvec2':\n        case 'bvec3':\n        case 'bvec4':\n            return gl.BOOL;\n        case 'short':\n            return gl.SHORT;\n        case 'ushort':\n            return gl.UNSIGNED_SHORT;\n        case 'ubyte':\n            return gl.UNSIGNED_BYTE;\n        case 'byte':\n            return gl.BYTE;\n        default:\n            return gl.FLOAT;\n    }\n}\n/**\n * Based on the type return the number of attribute components\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer\n * @param gl\n * @param type\n */\nfunction getAttributeComponentSize(gl, type) {\n    switch (type) {\n        case gl.LOW_FLOAT:\n        case gl.HIGH_FLOAT:\n        case gl.FLOAT:\n            return 1;\n        case gl.FLOAT_VEC2:\n            return 2;\n        case gl.FLOAT_VEC3:\n            return 3;\n        case gl.FLOAT_VEC4:\n            return 4;\n        case gl.BYTE:\n            return 1;\n        case gl.UNSIGNED_BYTE:\n            return 1;\n        case gl.UNSIGNED_SHORT:\n        case gl.SHORT:\n            return 1;\n        default:\n            return 1;\n    }\n}\n/**\n * Based on the attribute return the corresponding supported attrib pointer type\n * https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer\n * @param gl\n * @param type\n */\nfunction getAttributePointerType(gl, type) {\n    switch (type) {\n        case gl.LOW_FLOAT:\n        case gl.HIGH_FLOAT:\n        case gl.FLOAT:\n        case gl.FLOAT_VEC2:\n        case gl.FLOAT_VEC3:\n        case gl.FLOAT_VEC4:\n            return gl.FLOAT;\n        case gl.BYTE:\n            return gl.BYTE;\n        case gl.UNSIGNED_BYTE:\n            return gl.UNSIGNED_BYTE;\n        case gl.SHORT:\n            return gl.SHORT;\n        case gl.UNSIGNED_SHORT:\n            return gl.UNSIGNED_SHORT;\n        default:\n            return gl.FLOAT;\n    }\n}\n/**\n *\n */\nfunction getMaxShaderComplexity(gl, numIfs) {\n    const assembleTestShader = (numIfs) => {\n        const testShader = `#version 300 es\r\n    precision mediump float;\r\n    out vec4 fragColor;\r\n    void main() {\r\n      float index = 1.01;\r\n      %%complexity%%\r\n    }`;\n        let testComplexity = '';\n        for (let i = 0; i < numIfs; i++) {\n            if (i === 0) {\n                testComplexity += `if (index <= ${i}.5) {\\n`;\n            }\n            else {\n                testComplexity += `   else if (index <= ${i}.5) {\\n`;\n            }\n            testComplexity += `      fragColor = vec4(1.0);\\n`;\n            testComplexity += `   }\\n`;\n        }\n        return testShader.replace('%%complexity%%', testComplexity);\n    };\n    let canCompile = false;\n    do {\n        const test = assembleTestShader(numIfs);\n        const shader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(shader, test);\n        gl.compileShader(shader);\n        canCompile = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!canCompile) {\n            numIfs = (numIfs / 2) | 0;\n        }\n    } while (!canCompile);\n    return numIfs;\n}\n\n;// ./Graphics/Context/shader.ts\n\n\nclass Shader {\n    get compiled() {\n        return this._compiled;\n    }\n    /**\n     * Create a shader program in excalibur\n     * @param options specify shader vertex and fragment source\n     */\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this.uniforms = {};\n        this.attributes = {};\n        this._compiled = false;\n        const { gl, vertexSource, fragmentSource, onPreLink, onPostCompile } = options;\n        this._gl = gl;\n        this.vertexSource = vertexSource;\n        this.fragmentSource = fragmentSource;\n        this._onPreLink = onPreLink;\n        this._onPostCompile = onPostCompile;\n    }\n    dispose() {\n        const gl = this._gl;\n        gl.deleteProgram(this.program);\n        this._gl = null;\n    }\n    /**\n     * Binds the shader program\n     */\n    use() {\n        const gl = this._gl;\n        gl.useProgram(this.program);\n        Shader._ACTIVE_SHADER_INSTANCE = this;\n    }\n    isCurrentlyBound() {\n        return Shader._ACTIVE_SHADER_INSTANCE === this;\n    }\n    /**\n     * Compile the current shader against a webgl context\n     */\n    compile() {\n        const gl = this._gl;\n        const vertexShader = this._compileShader(gl, this.vertexSource, gl.VERTEX_SHADER);\n        const fragmentShader = this._compileShader(gl, this.fragmentSource, gl.FRAGMENT_SHADER);\n        this.program = this._createProgram(gl, vertexShader, fragmentShader);\n        const attributes = this.getAttributes();\n        for (const attribute of attributes) {\n            this.attributes[attribute.name] = attribute;\n        }\n        const uniforms = this.getUniforms();\n        for (const uniform of uniforms) {\n            this.uniforms[uniform.name] = uniform;\n        }\n        this._compiled = true;\n        if (this._onPostCompile) {\n            this._onPostCompile(this);\n        }\n        return this.program;\n    }\n    getUniforms() {\n        const gl = this._gl;\n        const uniformCount = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        const uniforms = [];\n        for (let i = 0; i < uniformCount; i++) {\n            const uniform = gl.getActiveUniform(this.program, i);\n            const uniformLocation = gl.getUniformLocation(this.program, uniform.name);\n            uniforms.push({\n                name: uniform.name,\n                glType: uniform.type,\n                location: uniformLocation\n            });\n        }\n        return uniforms;\n    }\n    getAttributes() {\n        const gl = this._gl;\n        const attributeCount = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        const attributes = [];\n        for (let i = 0; i < attributeCount; i++) {\n            const attribute = gl.getActiveAttrib(this.program, i);\n            const attributeLocation = gl.getAttribLocation(this.program, attribute.name);\n            attributes.push({\n                name: attribute.name,\n                glType: getAttributePointerType(gl, attribute.type),\n                size: getAttributeComponentSize(gl, attribute.type),\n                location: attributeLocation,\n                normalized: false\n            });\n        }\n        return attributes;\n    }\n    /**\n     * Set a texture in a gpu texture slot\n     * @param slotNumber\n     * @param texture\n     */\n    setTexture(slotNumber, texture) {\n        const gl = this._gl;\n        gl.activeTexture(gl.TEXTURE0 + slotNumber);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n    }\n    /**\n     * Set an integer uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformInt(name, value) {\n        this.setUniform('uniform1i', name, ~~value);\n    }\n    /**\n     * Set an integer uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformInt(name, value) {\n        return this.trySetUniform('uniform1i', name, ~~value);\n    }\n    /**\n     * Set an integer array uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformIntArray(name, value) {\n        this.setUniform('uniform1iv', name, value);\n    }\n    /**\n     * Set an integer array uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformIntArray(name, value) {\n        return this.trySetUniform('uniform1iv', name, value);\n    }\n    /**\n     * Set a boolean uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformBoolean(name, value) {\n        this.setUniform('uniform1i', name, value ? 1 : 0);\n    }\n    /**\n     * Set a boolean uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformBoolean(name, value) {\n        return this.trySetUniform('uniform1i', name, value ? 1 : 0);\n    }\n    /**\n     * Set a float uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloat(name, value) {\n        this.setUniform('uniform1f', name, value);\n    }\n    /**\n     * Set a float uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloat(name, value) {\n        return this.trySetUniform('uniform1f', name, value);\n    }\n    /**\n     * Set a float array uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloatArray(name, value) {\n        this.setUniform('uniform1fv', name, value);\n    }\n    /**\n     * Set a float array uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloatArray(name, value) {\n        return this.trySetUniform('uniform1fv', name, value);\n    }\n    /**\n     * Set a {@apilink Vector} uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloatVector(name, value) {\n        this.setUniform('uniform2f', name, value.x, value.y);\n    }\n    /**\n     * Set a {@apilink Vector} uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloatVector(name, value) {\n        return this.trySetUniform('uniform2f', name, value.x, value.y);\n    }\n    /**\n     * Set a {@apilink Color} uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformFloatColor(name, value) {\n        this.setUniform('uniform4f', name, value.r / 255, value.g / 255, value.b / 255, value.a);\n    }\n    /**\n     * Set a {@apilink Color} uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformFloatColor(name, value) {\n        return this.trySetUniform('uniform4f', name, value.r / 255, value.g / 255, value.b / 255, value.a);\n    }\n    /**\n     * Set an {@apilink Matrix} uniform for the current shader\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    setUniformMatrix(name, value) {\n        this.setUniform('uniformMatrix4fv', name, false, value.data);\n    }\n    setUniformAffineMatrix(name, value) {\n        this.setUniform('uniformMatrix4fv', name, false, [\n            value.data[0],\n            value.data[1],\n            0,\n            0,\n            value.data[2],\n            value.data[3],\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            value.data[4],\n            value.data[5],\n            0,\n            1\n        ]);\n    }\n    /**\n     * Set an {@apilink Matrix} uniform for the current shader, WILL NOT THROW on error.\n     *\n     * **Important** Must call ex.Shader.use() before setting a uniform!\n     * @param name\n     * @param value\n     */\n    trySetUniformMatrix(name, value) {\n        return this.trySetUniform('uniformMatrix4fv', name, false, value.data);\n    }\n    /**\n     * Set any available uniform type in webgl\n     *\n     * For example setUniform('uniformMatrix2fv', 'u_my2x2_mat`, ...);\n     */\n    setUniform(uniformType, name, ...value) {\n        if (!this._compiled) {\n            throw Error(`Must compile shader before setting a uniform ${uniformType}:${name}`);\n        }\n        if (!this.isCurrentlyBound()) {\n            throw Error('Currently accessed shader instance is not the current active shader in WebGL,' +\n                ' must call `shader.use()` before setting uniforms');\n        }\n        const gl = this._gl;\n        const location = gl.getUniformLocation(this.program, name);\n        if (location) {\n            const args = [location, ...value];\n            this._gl[uniformType].apply(this._gl, args);\n        }\n        else {\n            throw Error(`Uniform ${uniformType}:${name} doesn\\'t exist or is not used in the shader source code,` +\n                ' unused uniforms are optimized away by most browsers');\n        }\n    }\n    /**\n     * Set any available uniform type in webgl. Will try to set the uniform, will return false if the uniform didn't exist,\n     * true if it was set.\n     *\n     * WILL NOT THROW on error\n     *\n     * For example setUniform('uniformMatrix2fv', 'u_my2x2_mat`, ...);\n     *\n     */\n    trySetUniform(uniformType, name, ...value) {\n        if (!this._compiled) {\n            this._logger.warn(`Must compile shader before setting a uniform ${uniformType}:${name}`);\n            return false;\n        }\n        if (!this.isCurrentlyBound()) {\n            this._logger.warn('Currently accessed shader instance is not the current active shader in WebGL,' +\n                ' must call `shader.use()` before setting uniforms');\n            return false;\n        }\n        const gl = this._gl;\n        const location = gl.getUniformLocation(this.program, name);\n        if (location) {\n            const args = [location, ...value];\n            this._gl[uniformType].apply(this._gl, args);\n        }\n        else {\n            return false;\n        }\n        return true;\n    }\n    _createProgram(gl, vertexShader, fragmentShader) {\n        const program = gl.createProgram();\n        if (program === null) {\n            throw Error('Could not create graphics shader program');\n        }\n        // attach the shaders.\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        if (this._onPreLink) {\n            this._onPreLink(program);\n        }\n        // link the program.\n        gl.linkProgram(program);\n        const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n        if (!success) {\n            throw Error(`Could not link the program: [${gl.getProgramInfoLog(program)}]`);\n        }\n        return program;\n    }\n    _compileShader(gl, source, type) {\n        const typeName = gl.VERTEX_SHADER === type ? 'vertex' : 'fragment';\n        const shader = gl.createShader(type);\n        if (shader === null) {\n            throw Error(`Could not build shader: [${source}]`);\n        }\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!success) {\n            const errorInfo = gl.getShaderInfoLog(shader);\n            throw Error(`Could not compile ${typeName} shader:\\n\\n${errorInfo}${this._processSourceForError(source, errorInfo)}`);\n        }\n        return shader;\n    }\n    _processSourceForError(source, errorInfo) {\n        if (!source) {\n            return errorInfo;\n        }\n        const lines = source.split('\\n');\n        const errorLineStart = errorInfo.search(/\\d:\\d/);\n        const errorLineEnd = errorInfo.indexOf(' ', errorLineStart);\n        const [_, error2] = errorInfo\n            .slice(errorLineStart, errorLineEnd)\n            .split(':')\n            .map((v) => Number(v));\n        for (let i = 0; i < lines.length; i++) {\n            lines[i] = `${i + 1}: ${lines[i]}${error2 === i + 1 ? ' <----- ERROR!' : ''}`;\n        }\n        return '\\n\\nSource:\\n' + lines.join('\\n');\n    }\n}\nShader._ACTIVE_SHADER_INSTANCE = null;\n\n;// ./Graphics/Context/vertex-buffer.ts\n/**\n * Helper around vertex buffer to simplify creating and uploading geometry\n *\n * Under the hood uses Float32Array\n */\nclass VertexBuffer {\n    constructor(options) {\n        /**\n         * If the vertices never change switching 'static' can be more efficient on the gpu\n         *\n         * Default is 'dynamic'\n         */\n        this.type = 'dynamic';\n        const { gl, size, type, data } = options;\n        this._gl = gl;\n        this.buffer = this._gl.createBuffer();\n        if (!data && !size) {\n            throw Error('Must either provide data or a size to the VertexBuffer');\n        }\n        if (!data) {\n            this.bufferData = new Float32Array(size);\n        }\n        else {\n            this.bufferData = data;\n        }\n        this.type = type !== null && type !== void 0 ? type : this.type;\n        // Allocate buffer\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, this.bufferData, this.type === 'static' ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW);\n    }\n    /**\n     * Bind this vertex buffer\n     */\n    bind() {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n    }\n    unbind() {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    }\n    /**\n     * Upload vertex buffer geometry to the GPU\n     */\n    upload(count) {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        if (count) {\n            gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.bufferData, 0, count);\n        }\n        else {\n            // TODO always use bufferSubData? need to perf test it\n            gl.bufferData(gl.ARRAY_BUFFER, this.bufferData, this.type === 'static' ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW);\n        }\n    }\n    dispose() {\n        const gl = this._gl;\n        gl.deleteBuffer(this.buffer);\n        this._gl = null;\n    }\n}\n\n;// ./Graphics/Context/vertex-layout.ts\n\n\n/**\n * Helper around creating vertex attributes in a given {@apilink VertexBuffer}, this is useful for describing\n * the memory layout for your vertices inside a particular buffer\n *\n * Note: This helper assumes interleaved attributes in one {@apilink VertexBuffer}, not many.\n *\n * Working with `gl.vertexAttribPointer` can be tricky, and this attempts to double check you\n */\nclass VertexLayout {\n    get vertexBuffer() {\n        return this._vertexBuffer;\n    }\n    get attributes() {\n        return this._attributes;\n    }\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this._suppressWarnings = false;\n        this._layout = [];\n        this._attributes = [];\n        this._vertexTotalSizeBytes = 0;\n        this._initialized = false;\n        const { gl, shader, vertexBuffer, attributes, suppressWarnings } = options;\n        this._gl = gl;\n        this._vertexBuffer = vertexBuffer;\n        this._attributes = attributes;\n        this._shader = shader;\n        this._suppressWarnings = suppressWarnings;\n        if (shader) {\n            this.initialize();\n        }\n    }\n    /**\n     * Total number of bytes that the vertex will take up\n     */\n    get totalVertexSizeBytes() {\n        return this._vertexTotalSizeBytes;\n    }\n    set shader(shader) {\n        if (shader && this._shader !== shader) {\n            this._shader = shader;\n            this.initialize();\n        }\n    }\n    get shader() {\n        return this._shader;\n    }\n    /**\n     * Layouts need shader locations and must be bound to a shader\n     */\n    initialize() {\n        if (this._initialized) {\n            return;\n        }\n        if (!this._shader) {\n            return;\n        }\n        if (!this._shader.compiled) {\n            throw Error('Shader not compiled, shader must be compiled before defining a vertex layout');\n        }\n        this._vertexTotalSizeBytes = 0;\n        this._layout.length = 0;\n        const shaderAttributes = this._shader.attributes;\n        for (const attribute of this._attributes) {\n            const attrib = shaderAttributes[attribute[0]];\n            if (!attrib) {\n                if (!isAttributeInSource(this._shader.vertexSource, attribute[0])) {\n                    throw Error(`The attribute named: ${attribute[0]} size ${attribute[1]}` +\n                        ` not found in the shader source code:\\n ${this._shader.vertexSource}`);\n                }\n                if (!this._suppressWarnings) {\n                    this._logger.warn(`The attribute named: ${attribute[0]} size ${attribute[1]}` +\n                        ` not found in the compiled shader. This is possibly a bug:\\n` +\n                        ` 1. Not a bug, but should remove unused code - attribute \"${attribute[0]}\" is unused in` +\n                        ` vertex/fragment and has been automatically removed by glsl compiler.\\n` +\n                        ` 2. Definitely a bug, attribute \"${attribute[0]}\" in layout has been mistyped or is missing` +\n                        ` in shader, check vertex/fragment source.`);\n                }\n                const glType = getGLTypeFromSource(this._gl, this._shader.vertexSource, attribute[0]);\n                // Unused attribute placeholder\n                this._layout.push({\n                    name: attribute[0],\n                    glType,\n                    size: attribute[1],\n                    location: -1,\n                    normalized: false\n                });\n            }\n            if (attrib) {\n                if (attrib.size !== attribute[1]) {\n                    throw Error(`VertexLayout size definition for attribute: [${attribute[0]}, ${attribute[1]}],` +\n                        ` doesn\\'t match shader source size ${attrib.size}:\\n ${this._shader.vertexSource}`);\n                }\n                this._layout.push(attrib);\n            }\n        }\n        // calc size\n        let componentsPerVertex = 0;\n        for (const vertAttribute of this._layout) {\n            const typeSize = getGlTypeSizeBytes(this._gl, vertAttribute.glType);\n            this._vertexTotalSizeBytes += typeSize * vertAttribute.size;\n            componentsPerVertex += vertAttribute.size;\n        }\n        if (this._vertexBuffer.bufferData.length % componentsPerVertex !== 0) {\n            this._logger.warn(`The vertex component size (${componentsPerVertex})  does NOT divide evenly into the specified vertex buffer` +\n                ` (${this._vertexBuffer.bufferData.length})`);\n        }\n        // create VAO\n        const gl = this._gl;\n        this._vao = gl.createVertexArray();\n        gl.bindVertexArray(this._vao);\n        this._vertexBuffer.bind();\n        let offset = 0;\n        for (const vert of this._layout) {\n            // skip unused attributes\n            if (vert.location !== -1) {\n                if (vert.glType === gl.INT) {\n                    gl.vertexAttribIPointer(vert.location, vert.size, vert.glType, this.totalVertexSizeBytes, offset);\n                }\n                else {\n                    gl.vertexAttribPointer(vert.location, vert.size, vert.glType, vert.normalized, this.totalVertexSizeBytes, offset);\n                }\n                gl.enableVertexAttribArray(vert.location);\n            }\n            offset += getGlTypeSizeBytes(gl, vert.glType) * vert.size;\n        }\n        gl.bindVertexArray(null);\n        this._vertexBuffer.unbind();\n        this._initialized = true;\n    }\n    /**\n     * Bind this layout with it's associated vertex buffer\n     * @param uploadBuffer Optionally indicate you wish to upload the buffer to the GPU associated with this layout\n     */\n    use(uploadBuffer = false, count) {\n        if (!this._shader) {\n            throw Error('No shader is associated with this vertex layout, a shader must be set');\n        }\n        const gl = this._gl;\n        if (!this._shader.isCurrentlyBound()) {\n            throw Error('Shader associated with this vertex layout is not active! Call shader.use() before layout.use()');\n        }\n        this._vertexBuffer.bind();\n        if (uploadBuffer) {\n            this._vertexBuffer.upload(count);\n        }\n        gl.bindVertexArray(this._vao);\n    }\n}\n\n;// ./Graphics/GraphicsDiagnostics.ts\nclass GraphicsDiagnostics {\n    static clear() {\n        GraphicsDiagnostics.DrawCallCount = 0;\n        GraphicsDiagnostics.DrawnImagesCount = 0;\n    }\n}\nGraphicsDiagnostics.DrawCallCount = 0;\nGraphicsDiagnostics.DrawnImagesCount = 0;\n\n;// ./Graphics/Context/line-renderer/line-renderer.ts\n\n\n\n\n\nclass LineRenderer {\n    constructor() {\n        this.type = 'ex.line';\n        this.priority = 0;\n        this._maxLines = 10922;\n        this._vertexIndex = 0;\n        this._lineCount = 0;\n        this._startScratch = vec(0, 0);\n        this._endScratch = vec(0, 0);\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        this._shader = new Shader({\n            gl,\n            vertexSource: line_vertex,\n            fragmentSource: line_fragment\n        });\n        this._shader.compile();\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        this._vertexBuffer = new VertexBuffer({\n            gl,\n            size: 6 * 2 * this._maxLines,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            vertexBuffer: this._vertexBuffer,\n            shader: this._shader,\n            attributes: [\n                ['a_position', 2],\n                ['a_color', 4]\n            ]\n        });\n    }\n    dispose() {\n        this._vertexBuffer.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    draw(start, end, color) {\n        // Force a render if the batch is full\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._lineCount++;\n        const transform = this._context.getTransform();\n        const finalStart = transform.multiply(start, this._startScratch);\n        const finalEnd = transform.multiply(end, this._endScratch);\n        const vertexBuffer = this._vertexBuffer.bufferData;\n        // Start\n        vertexBuffer[this._vertexIndex++] = finalStart.x;\n        vertexBuffer[this._vertexIndex++] = finalStart.y;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        // End\n        vertexBuffer[this._vertexIndex++] = finalEnd.x;\n        vertexBuffer[this._vertexIndex++] = finalEnd.y;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n    }\n    _isFull() {\n        if (this._lineCount >= this._maxLines) {\n            return true;\n        }\n        return false;\n    }\n    hasPendingDraws() {\n        return this._lineCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._lineCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        this._shader.use();\n        this._layout.use(true);\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        gl.drawArrays(gl.LINES, 0, this._lineCount * 2); // 2 verts per line\n        GraphicsDiagnostics.DrawnImagesCount += this._lineCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // reset\n        this._vertexIndex = 0;\n        this._lineCount = 0;\n    }\n}\n\n;// ./Graphics/Context/point-renderer/point-vertex.glsl\n/* harmony default export */ const point_vertex = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\nin float a_size;\\r\\nout lowp vec4 v_color;\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n  gl_PointSize = a_size * 2.0;\\r\\n  v_color = a_color;\\r\\n}\");\n;// ./Graphics/Context/point-renderer/point-fragment.glsl\n/* harmony default export */ const point_fragment = (\"#version 300 es\\r\\n\\r\\nprecision mediump float;\\r\\nin lowp vec4 v_color;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  float r = 0.0, delta = 0.0, alpha = 1.0;\\r\\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\\r\\n  r = dot(cxy, cxy);\\r\\n\\r\\n  delta = fwidth(r);\\r\\n  alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\\r\\n  // \\\"premultiply\\\" the color by alpha\\r\\n  vec4 color = v_color;\\r\\n  color.a = color.a * alpha;\\r\\n  color.rgb = color.rgb * color.a;\\r\\n  fragColor = color;\\r\\n}\");\n;// ./Graphics/Context/point-renderer/point-renderer.ts\n\n\n\n\n\n\n\nclass PointRenderer {\n    constructor() {\n        this.type = 'ex.point';\n        this.priority = 0;\n        this._maxPoints = 10922;\n        this._pointCount = 0;\n        this._vertexIndex = 0;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        this._shader = new Shader({\n            gl,\n            vertexSource: point_vertex,\n            fragmentSource: point_fragment\n        });\n        this._shader.compile();\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 7 * this._maxPoints,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_color', 4],\n                ['a_size', 1]\n            ]\n        });\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    draw(point, color, size) {\n        // Force a render if the batch is full\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._pointCount++;\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const finalPoint = transform.multiply(point);\n        if (snapToPixel) {\n            finalPoint.x = ~~(finalPoint.x + pixelSnapEpsilon);\n            finalPoint.y = ~~(finalPoint.y + pixelSnapEpsilon);\n        }\n        const vertexBuffer = this._buffer.bufferData;\n        vertexBuffer[this._vertexIndex++] = finalPoint.x;\n        vertexBuffer[this._vertexIndex++] = finalPoint.y;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a * opacity;\n        vertexBuffer[this._vertexIndex++] = size * Math.max(transform.getScaleX(), transform.getScaleY());\n    }\n    _isFull() {\n        if (this._pointCount >= this._maxPoints) {\n            return true;\n        }\n        return false;\n    }\n    hasPendingDraws() {\n        return this._pointCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._pointCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        this._shader.use();\n        this._layout.use(true);\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        gl.drawArrays(gl.POINTS, 0, this._pointCount);\n        GraphicsDiagnostics.DrawnImagesCount += this._pointCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        this._pointCount = 0;\n        this._vertexIndex = 0;\n    }\n}\n\n;// ./Graphics/Context/screen-pass-painter/screen-vertex.glsl\n/* harmony default export */ const screen_vertex = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\nin vec2 a_texcoord;\\r\\nout vec2 v_texcoord;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n  // Pass the texcoord to the fragment shader.\\r\\n  v_texcoord = a_texcoord;\\r\\n}\");\n;// ./Graphics/Context/screen-pass-painter/screen-fragment.glsl\n/* harmony default export */ const screen_fragment = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\n// Passed in from the vertex shader.\\r\\nin vec2 v_texcoord;\\r\\n\\r\\n// The texture.\\r\\nuniform sampler2D u_texture;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n   fragColor = texture(u_texture, v_texcoord);\\r\\n}\");\n;// ./Graphics/Context/screen-pass-painter/screen-pass-painter.ts\n\n\n\n\n\n/**\n * This is responsible for painting the entire screen during the render passes\n */\nclass ScreenPassPainter {\n    constructor(gl) {\n        this._gl = gl;\n        this._shader = new Shader({\n            gl,\n            vertexSource: screen_vertex,\n            fragmentSource: screen_fragment\n        });\n        this._shader.compile();\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            type: 'static',\n            // clip space quad + uv since we don't need a camera\n            data: new Float32Array([\n                -1, -1, 0, 0, -1, 1, 0, 1, 1, -1, 1, 0,\n                1, -1, 1, 0, -1, 1, 0, 1, 1, 1, 1, 1\n            ])\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_texcoord', 2]\n            ]\n        });\n        this._buffer.upload();\n    }\n    renderWithPostProcessor(postprocessor) {\n        const gl = this._gl;\n        postprocessor.getShader().use();\n        postprocessor.getLayout().use();\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n    renderToScreen() {\n        const gl = this._gl;\n        this._shader.use();\n        this._layout.use();\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n}\n\n;// ./Graphics/Context/quad-index-buffer.ts\n\n/**\n * Helper that defines and index buffer for quad geometry\n *\n * Index buffers allow you to save space in vertex buffers when you share vertices in geometry\n * it is almost always worth it in terms of performance to use an index buffer.\n */\nclass QuadIndexBuffer {\n    /**\n     * @param gl WebGL2RenderingContext this layout will be attached to, these cannot be reused across contexts.\n     * @param numberOfQuads Specify the max number of quads you want to draw\n     * @param useUint16 Optionally force a uint16 buffer\n     */\n    constructor(gl, numberOfQuads, useUint16) {\n        this._logger = Logger.getInstance();\n        this._gl = gl;\n        this.buffer = gl.createBuffer();\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);\n        const totalVertices = numberOfQuads * 6;\n        if (!useUint16) {\n            this.bufferData = new Uint32Array(totalVertices);\n        }\n        else {\n            // fall back to using gl.UNSIGNED_SHORT or tell the user they are out of luck\n            const maxUint16 = 65535;\n            const maxUint16Index = Math.floor((maxUint16 - 1) / 4); // max quads\n            this.bufferGlType = gl.UNSIGNED_SHORT;\n            this.bufferData = new Uint16Array(totalVertices);\n            // TODO Should we error if this happens?? maybe not might crash mid game\n            if (numberOfQuads > maxUint16Index) {\n                this._logger.warn(`Total quads exceeds hardware index buffer limit (uint16), max(${maxUint16Index}) requested quads(${numberOfQuads})`);\n            }\n        }\n        let currentQuad = 0;\n        for (let i = 0; i < totalVertices; i += 6) {\n            // first triangle\n            this.bufferData[i + 0] = currentQuad + 0;\n            this.bufferData[i + 1] = currentQuad + 1;\n            this.bufferData[i + 2] = currentQuad + 2;\n            // second triangle\n            this.bufferData[i + 3] = currentQuad + 2;\n            this.bufferData[i + 4] = currentQuad + 1;\n            this.bufferData[i + 5] = currentQuad + 3;\n            currentQuad += 4;\n        }\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.bufferData, gl.STATIC_DRAW);\n    }\n    get size() {\n        return this.bufferData.length;\n    }\n    /**\n     * Upload data to the GPU\n     */\n    upload() {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.bufferData, gl.STATIC_DRAW);\n    }\n    /**\n     * Bind this index buffer\n     */\n    bind() {\n        const gl = this._gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.buffer);\n    }\n    dispose() {\n        const gl = this._gl;\n        gl.deleteBuffer(this.buffer);\n        this._gl = null;\n    }\n}\n\n;// ./Graphics/Context/image-renderer/image-renderer.frag.glsl\n/* harmony default export */ const image_renderer_frag = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\n// UV coord\\r\\nin vec2 v_texcoord;\\r\\n\\r\\n// Texture index\\r\\nin lowp float v_textureIndex;\\r\\n\\r\\n// Textures in the current draw\\r\\nuniform sampler2D u_textures[%%count%%];\\r\\n\\r\\nuniform bool u_pixelart;\\r\\n\\r\\n// Opacity\\r\\nin float v_opacity;\\r\\n\\r\\nin vec4 v_tint;\\r\\n\\r\\nin vec2 v_res;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\n// Inigo Quilez pixel art filter https://jorenjoestar.github.io/post/pixel_art_filtering/\\r\\nvec2 uv_iq(in vec2 uv, in vec2 texture_size) {\\r\\n  vec2 pixel = uv * texture_size;\\r\\n  \\r\\n  vec2 seam=floor(pixel+.5);\\r\\n  vec2 dudv=fwidth(pixel);\\r\\n  pixel=seam+clamp((pixel-seam)/dudv,-.5,.5);\\r\\n  \\r\\n  return pixel/texture_size;\\r\\n}\\r\\n\\r\\nvoid main(){\\r\\n  // In order to support the most efficient sprite batching, we have multiple\\r\\n  // textures loaded into the gpu (usually 8) this picker logic skips over textures\\r\\n  // that do not apply to a particular sprite.\\r\\n  \\r\\n  vec4 color=vec4(1.,0,0,1.);\\r\\n  \\r\\n  // GLSL is templated out to pick the right texture and set the vec4 color\\r\\n  %%texture_picker%%\\r\\n  \\r\\n  color.rgb=color.rgb*v_opacity;\\r\\n  color.a=color.a*v_opacity;\\r\\n  fragColor=color*v_tint;\\r\\n}\");\n;// ./Graphics/Context/image-renderer/image-renderer.vert.glsl\n/* harmony default export */ const image_renderer_vert = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\n// Opacity\\r\\nin float a_opacity;\\r\\nout float v_opacity;\\r\\n\\r\\n// UV coordinate\\r\\nin vec2 a_texcoord;\\r\\nout vec2 v_texcoord;\\r\\n\\r\\n// Texture res\\r\\nin vec2 a_res;\\r\\nout vec2 v_res;\\r\\n\\r\\n// Texture number\\r\\nin lowp float a_textureIndex;\\r\\nout lowp float v_textureIndex;\\r\\n\\r\\nin vec4 a_tint;\\r\\nout vec4 v_tint;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main(){\\r\\n  // Set the vertex position using the ortho transform matrix\\r\\n  gl_Position=u_matrix*vec4(a_position,0.,1.);\\r\\n  \\r\\n  // Pass through the Opacity to the fragment shader\\r\\n  v_opacity=a_opacity;\\r\\n  // Pass through the UV coord to the fragment shader\\r\\n  v_texcoord=a_texcoord;\\r\\n\\r\\n  v_res = a_res;\\r\\n\\r\\n  // Pass through the texture number to the fragment shader\\r\\n  v_textureIndex=a_textureIndex;\\r\\n  // Pass through the tint\\r\\n  v_tint=a_tint;\\r\\n}\");\n;// ./Graphics/Context/image-renderer/image-renderer.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ImageRenderer {\n    constructor(options) {\n        this.type = 'ex.image';\n        this.priority = 0;\n        this._maxImages = 10922; // max(uint16) / 6 verts\n        this._maxTextures = 0;\n        // Per flush vars\n        this._imageCount = 0;\n        this._textures = [];\n        this._textureIndex = 0;\n        this._textureToIndex = new Map();\n        this._images = new Set();\n        this._vertexIndex = 0;\n        this._imageToWidth = new Map();\n        this._imageToHeight = new Map();\n        this._view = [0, 0, 0, 0];\n        this._dest = [0, 0];\n        this._quad = [0, 0, 0, 0, 0, 0, 0, 0];\n        this._defaultTint = Color.White;\n        this.pixelArtSampler = options.pixelArtSampler;\n        this.uvPadding = options.uvPadding;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        // Transform shader source\n        // FIXME: PIXEL 6 complains `ERROR: Expression too complex.` if we use it's reported max texture units, 125 seems to work for now...\n        const maxTexture = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n        const maxComplexity = getMaxShaderComplexity(gl, maxTexture);\n        this._maxTextures = Math.min(maxTexture, maxComplexity);\n        const transformedFrag = this._transformFragmentSource(image_renderer_frag, this._maxTextures);\n        // Compile shader\n        this._shader = new Shader({\n            gl,\n            fragmentSource: transformedFrag,\n            vertexSource: image_renderer_vert\n        });\n        this._shader.compile();\n        // setup uniforms\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', context.ortho);\n        // Initialize texture slots to [0, 1, 2, 3, 4, .... maxGPUTextures]\n        this._shader.setUniformIntArray('u_textures', [...Array(this._maxTextures)].map((_, i) => i));\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 12 * 4 * this._maxImages, // 12 components * 4 verts\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_opacity', 1],\n                ['a_res', 2],\n                ['a_texcoord', 2],\n                ['a_textureIndex', 1],\n                ['a_tint', 4]\n            ]\n        });\n        // Setup index buffer\n        this._quads = new QuadIndexBuffer(gl, this._maxImages, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._shader.dispose();\n        this._textures.length = 0;\n        this._context = null;\n        this._gl = null;\n    }\n    _transformFragmentSource(source, maxTextures) {\n        let newSource = source.replace('%%count%%', maxTextures.toString());\n        let texturePickerBuilder = '';\n        for (let i = 0; i < maxTextures; i++) {\n            if (i === 0) {\n                texturePickerBuilder += `if (v_textureIndex <= ${i}.5) {\\n`;\n            }\n            else {\n                texturePickerBuilder += `   else if (v_textureIndex <= ${i}.5) {\\n`;\n            }\n            texturePickerBuilder += `      vec2 uv = u_pixelart ? uv_iq(v_texcoord, v_res) : v_texcoord;\\n`;\n            texturePickerBuilder += `      color = texture(u_textures[${i}], uv);\\n`;\n            texturePickerBuilder += `   }\\n`;\n        }\n        newSource = newSource.replace('%%texture_picker%%', texturePickerBuilder);\n        return newSource;\n    }\n    _addImageAsTexture(image) {\n        if (this._images.has(image)) {\n            return;\n        }\n        const maybeFiltering = image.getAttribute(ImageSourceAttributeConstants.Filtering);\n        const filtering = maybeFiltering ? parseImageFiltering(maybeFiltering) : undefined;\n        const wrapX = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingX));\n        const wrapY = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingY));\n        const force = image.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._context.textureLoader.load(image, {\n            filtering,\n            wrapping: { x: wrapX, y: wrapY }\n        }, force);\n        // remove force attribute after upload\n        image.removeAttribute('forceUpload');\n        if (this._textures.indexOf(texture) === -1) {\n            this._textures.push(texture);\n            this._textureToIndex.set(texture, this._textureIndex++);\n            this._images.add(image);\n        }\n    }\n    _bindTextures(gl) {\n        // Bind textures in the correct order\n        for (let i = 0; i < this._maxTextures; i++) {\n            gl.activeTexture(gl.TEXTURE0 + i);\n            gl.bindTexture(gl.TEXTURE_2D, this._textures[i] || this._textures[0]);\n        }\n    }\n    _getTextureIdForImage(image) {\n        var _a;\n        if (image) {\n            const maybeTexture = this._context.textureLoader.get(image);\n            return (_a = this._textureToIndex.get(maybeTexture)) !== null && _a !== void 0 ? _a : -1; //this._textures.indexOf(maybeTexture);\n        }\n        return -1;\n    }\n    _isFull() {\n        if (this._imageCount >= this._maxImages) {\n            return true;\n        }\n        if (this._textures.length >= this._maxTextures) {\n            return true;\n        }\n        return false;\n    }\n    _getImageWidth(image) {\n        let maybeWidth = this._imageToWidth.get(image);\n        if (maybeWidth === undefined) {\n            maybeWidth = image.width;\n            this._imageToWidth.set(image, maybeWidth);\n        }\n        return maybeWidth;\n    }\n    _getImageHeight(image) {\n        let maybeHeight = this._imageToHeight.get(image);\n        if (maybeHeight === undefined) {\n            maybeHeight = image.height;\n            this._imageToHeight.set(image, maybeHeight);\n        }\n        return maybeHeight;\n    }\n    draw(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        var _a, _b, _c, _d;\n        // Force a render if the batch is full\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._imageCount++;\n        // This creates and uploads the texture if not already done\n        this._addImageAsTexture(image);\n        const maybeImageWidth = this._getImageWidth(image);\n        const maybeImageHeight = this._getImageHeight(image);\n        let width = maybeImageWidth || swidth || 0;\n        let height = maybeImageHeight || sheight || 0;\n        this._view[0] = 0;\n        this._view[1] = 0;\n        this._view[2] = (_a = swidth !== null && swidth !== void 0 ? swidth : maybeImageWidth) !== null && _a !== void 0 ? _a : 0;\n        this._view[3] = (_b = sheight !== null && sheight !== void 0 ? sheight : maybeImageHeight) !== null && _b !== void 0 ? _b : 0;\n        this._dest[0] = sx !== null && sx !== void 0 ? sx : 1;\n        this._dest[1] = sy !== null && sy !== void 0 ? sy : 1;\n        // If destination is specified, update view and dest\n        if (dx !== undefined && dy !== undefined && dwidth !== undefined && dheight !== undefined) {\n            this._view[0] = sx !== null && sx !== void 0 ? sx : 1;\n            this._view[1] = sy !== null && sy !== void 0 ? sy : 1;\n            this._view[2] = (_c = swidth !== null && swidth !== void 0 ? swidth : maybeImageWidth) !== null && _c !== void 0 ? _c : 0;\n            this._view[3] = (_d = sheight !== null && sheight !== void 0 ? sheight : maybeImageHeight) !== null && _d !== void 0 ? _d : 0;\n            this._dest[0] = dx;\n            this._dest[1] = dy;\n            width = dwidth;\n            height = dheight;\n        }\n        sx = this._view[0];\n        sy = this._view[1];\n        const sw = this._view[2];\n        const sh = this._view[3];\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        // top left\n        this._quad[0] = this._dest[0];\n        this._quad[1] = this._dest[1];\n        // top right\n        this._quad[2] = this._dest[0] + width;\n        this._quad[3] = this._dest[1];\n        // bottom left\n        this._quad[4] = this._dest[0];\n        this._quad[5] = this._dest[1] + height;\n        // bottom right\n        this._quad[6] = this._dest[0] + width;\n        this._quad[7] = this._dest[1] + height;\n        transform.multiplyQuadInPlace(this._quad);\n        if (snapToPixel) {\n            this._quad[0] = ~~(this._quad[0] + sign(this._quad[0]) * pixelSnapEpsilon);\n            this._quad[1] = ~~(this._quad[1] + sign(this._quad[1]) * pixelSnapEpsilon);\n            this._quad[2] = ~~(this._quad[2] + sign(this._quad[2]) * pixelSnapEpsilon);\n            this._quad[3] = ~~(this._quad[3] + sign(this._quad[3]) * pixelSnapEpsilon);\n            this._quad[4] = ~~(this._quad[4] + sign(this._quad[4]) * pixelSnapEpsilon);\n            this._quad[5] = ~~(this._quad[5] + sign(this._quad[5]) * pixelSnapEpsilon);\n            this._quad[6] = ~~(this._quad[6] + sign(this._quad[6]) * pixelSnapEpsilon);\n            this._quad[7] = ~~(this._quad[7] + sign(this._quad[7]) * pixelSnapEpsilon);\n        }\n        const tint = this._context.tint || this._defaultTint;\n        const textureId = this._getTextureIdForImage(image);\n        const imageWidth = maybeImageWidth || width;\n        const imageHeight = maybeImageHeight || height;\n        const uvx0 = (sx + this.uvPadding) / imageWidth;\n        const uvy0 = (sy + this.uvPadding) / imageHeight;\n        const uvx1 = (sx + sw - this.uvPadding) / imageWidth;\n        const uvy1 = (sy + sh - this.uvPadding) / imageHeight;\n        const txWidth = maybeImageWidth;\n        const txHeight = maybeImageHeight;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = this._quad[0];\n        vertexBuffer[this._vertexIndex++] = this._quad[1];\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = this._quad[4];\n        vertexBuffer[this._vertexIndex++] = this._quad[5];\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = this._quad[2];\n        vertexBuffer[this._vertexIndex++] = this._quad[3];\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = this._quad[6];\n        vertexBuffer[this._vertexIndex++] = this._quad[7];\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n    }\n    hasPendingDraws() {\n        return this._imageCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._imageCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        // Bind the shader\n        this._shader.use();\n        // Bind the memory layout and upload data\n        this._layout.use(true, 4 * 12 * this._imageCount); // 4 verts * 12 components\n        // Update ortho matrix uniform\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        // Turn on pixel art aa sampler\n        this._shader.setUniformBoolean('u_pixelart', this.pixelArtSampler);\n        // Bind textures to\n        this._bindTextures(gl);\n        // Bind index buffer\n        this._quads.bind();\n        // Draw all the quads\n        gl.drawElements(gl.TRIANGLES, this._imageCount * 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount += this._imageCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // Reset\n        this._imageCount = 0;\n        this._vertexIndex = 0;\n        this._textures.length = 0;\n        this._textureIndex = 0;\n        this._textureToIndex.clear();\n        this._images.clear();\n        this._imageToWidth.clear();\n        this._imageToHeight.clear();\n    }\n}\n\n;// ./Graphics/Context/rectangle-renderer/rectangle-renderer.frag.glsl\n/* harmony default export */ const rectangle_renderer_frag = (\"#version 300 es\\r\\n\\r\\nprecision mediump float;\\r\\n\\r\\n// UV coord\\r\\nin vec2 v_uv;\\r\\n\\r\\nin vec2 v_size; // in pixels\\r\\n\\r\\n// Color coord to blend with image\\r\\nin lowp vec4 v_color;\\r\\n\\r\\n// Stroke color if used\\r\\nin lowp vec4 v_strokeColor;\\r\\n\\r\\n// Stroke thickness if used\\r\\nin lowp float v_strokeThickness; // in pixels\\r\\n\\r\\n// Opacity\\r\\nin float v_opacity;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n    // modified from https://stackoverflow.com/questions/59197671/glsl-rounded-rectangle-with-variable-border\\r\\n    vec2 uv = v_uv;\\r\\n    vec2 fragCoord = uv * v_size;\\r\\n    float maxX = v_size.x - v_strokeThickness;\\r\\n    float minX = v_strokeThickness;\\r\\n    float maxY = v_size.y - v_strokeThickness;\\r\\n    float minY = v_strokeThickness;\\r\\n\\r\\n    if (fragCoord.x < maxX && fragCoord.x > minX &&\\r\\n        fragCoord.y < maxY && fragCoord.y > minY) {\\r\\n      fragColor = v_color;\\r\\n    } else {\\r\\n      fragColor = v_strokeColor;\\r\\n    }\\r\\n    fragColor.a *= v_opacity;\\r\\n    fragColor.rgb *= fragColor.a;\\r\\n\\r\\n    // vec2 v2CenteredPos     = abs(fragCoord - v_size.xy / 2.0);\\r\\n    // vec2 v2HalfShapeSizePx = v_size.xy/2.0 - v_strokeThickness/2.0;\\r\\n\\r\\n    // float fHalfBorderDist      = 0.0;\\r\\n    // float fHalfBorderThickness = 0.0;\\r\\n\\r\\n    // if (fragCoord.x > max(v_radius, v_strokeThickness) && \\r\\n    //     fragCoord.x < v_size.x - max(v_radius, v_strokeThickness))\\r\\n    // {\\r\\n    //     fHalfBorderDist      = v2CenteredPos.y - v2HalfShapeSizePx.y;\\r\\n    //     fHalfBorderThickness = v_strokeThickness / 2.0;\\r\\n    // }\\r\\n    // else if (fragCoord.y > max(v_radius, v_strokeThickness) && \\r\\n    //          fragCoord.y < v_size.y - max(v_radius, v_strokeThickness))\\r\\n    // {\\r\\n    //     fHalfBorderDist      = v2CenteredPos.x - v2HalfShapeSizePx.x;\\r\\n    //     fHalfBorderThickness = v_strokeThickness / 2.0;\\r\\n    // }\\r\\n    // else\\r\\n    // {\\r\\n    //     vec2 edgeVec = max(vec2(0.0), v_radius - vec2(\\r\\n    //         uv.x > 0.5 ? v_size.x - fragCoord.x : fragCoord.x,\\r\\n    //         uv.y > 0.5 ? v_size.y - fragCoord.y : fragCoord.y));\\r\\n        \\r\\n    //     float ellipse_ab    = v_radius-v_strokeThickness;\\r\\n    //     vec2 ellipse_isect = (v_strokeThickness > v_radius || v_strokeThickness > v_radius) ? vec2(0.0) :\\r\\n    //                             edgeVec.xy * ellipse_ab*ellipse_ab / length(ellipse_ab*edgeVec.yx); \\r\\n            \\r\\n    //     fHalfBorderThickness = (v_radius - length(ellipse_isect)) / 2.0;\\r\\n    //     fHalfBorderDist      = length(edgeVec) - (v_radius - fHalfBorderThickness);\\r\\n    // }\\r\\n\\r\\n    // vec4 v4FromColor = v_strokeColor;\\r\\n    // v4FromColor.rgb *= v4FromColor.a;\\r\\n    // vec4 v4ToColor   = vec4(0.0); // background color is transparent\\r\\n    // if (fHalfBorderDist < 0.0) {\\r\\n    //     v4ToColor = v_color;\\r\\n    //     v4ToColor.rgb *= v4ToColor.a;\\r\\n    // }\\r\\n\\r\\n    // float mixPct = abs(fHalfBorderDist) - fHalfBorderThickness;\\r\\n\\r\\n    // vec4 finalColor = mix(v4FromColor, v4ToColor, mixPct);\\r\\n    // gl_FragColor = finalColor;\\r\\n}\");\n;// ./Graphics/Context/rectangle-renderer/rectangle-renderer.vert.glsl\n/* harmony default export */ const rectangle_renderer_vert = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\n// UV coordinate\\r\\nin vec2 a_uv;\\r\\nout vec2 v_uv;\\r\\n\\r\\nin vec2 a_size;\\r\\nout vec2 v_size;\\r\\n\\r\\n// Opacity \\r\\nin float a_opacity;\\r\\nout float v_opacity;\\r\\n\\r\\nin vec4 a_color;\\r\\nout vec4 v_color;\\r\\n\\r\\nin vec4 a_strokeColor;\\r\\nout vec4 v_strokeColor;\\r\\n\\r\\nin float a_strokeThickness;\\r\\nout float v_strokeThickness;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n   // Pass through UV coords\\r\\n   v_uv = a_uv;\\r\\n   // Pass through size\\r\\n   v_size = a_size;\\r\\n   // Pass through the Opacity to the fragment shader\\r\\n   v_opacity = a_opacity;\\r\\n   // Pass through the color to the fragment shader\\r\\n   v_color = a_color;\\r\\n   // Pass through the stroke color to the fragment shader\\r\\n   v_strokeColor = a_strokeColor;\\r\\n   // Pass through the stroke thickenss to the fragment shader\\r\\n   v_strokeThickness = a_strokeThickness;\\r\\n}\");\n;// ./Graphics/Context/rectangle-renderer/rectangle-renderer.ts\n\n\n\n\n\n\n\n\n\n\nclass RectangleRenderer {\n    constructor() {\n        this.type = 'ex.rectangle';\n        this.priority = 0;\n        this._maxRectangles = 10922; // max(uint16) / 6 verts\n        this._rectangleCount = 0;\n        this._vertexIndex = 0;\n        this._transparent = Color.Transparent;\n        this._scratch1 = vec(0, 0);\n        this._scratch2 = vec(0, 0);\n        this._scratch3 = vec(0, 0);\n        this._scratch4 = vec(0, 0);\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        // https://stackoverflow.com/questions/59197671/glsl-rounded-rectangle-with-variable-border\n        this._shader = new Shader({\n            gl,\n            fragmentSource: rectangle_renderer_frag,\n            vertexSource: rectangle_renderer_vert\n        });\n        this._shader.compile();\n        // setup uniforms\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', context.ortho);\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 16 * 4 * this._maxRectangles,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_uv', 2],\n                ['a_size', 2],\n                ['a_opacity', 1],\n                ['a_color', 4],\n                ['a_strokeColor', 4],\n                ['a_strokeThickness', 1]\n            ]\n        });\n        this._quads = new QuadIndexBuffer(gl, this._maxRectangles, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    _isFull() {\n        if (this._rectangleCount >= this._maxRectangles) {\n            return true;\n        }\n        return false;\n    }\n    draw(...args) {\n        if (args[0] instanceof Vector && args[1] instanceof Vector) {\n            this.drawLine.apply(this, args);\n        }\n        else {\n            this.drawRectangle.apply(this, args);\n        }\n    }\n    drawLine(start, end, color, thickness = 1) {\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._rectangleCount++;\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const dir = end.sub(start);\n        const length = dir.magnitude;\n        const normal = dir.normalize().perpendicular();\n        const halfThick = thickness / 2;\n        /**\n         *    +---------------------^----------------------+\n         *    |                     | (normal)             |\n         *   (startX, startY)------------------>(endX, endY)\n         *    |                                            |\n         *    + -------------------------------------------+\n         */\n        const startTop = transform.multiply(normal.scale(halfThick, this._scratch1).add(start, this._scratch1), this._scratch1);\n        const startBottom = transform.multiply(normal.scale(-halfThick, this._scratch2).add(start, this._scratch2), this._scratch2);\n        const endTop = transform.multiply(normal.scale(halfThick, this._scratch3).add(end, this._scratch3), this._scratch3);\n        const endBottom = transform.multiply(normal.scale(-halfThick, this._scratch4).add(end, this._scratch4), this._scratch4);\n        if (snapToPixel) {\n            startTop.x = ~~(startTop.x + pixelSnapEpsilon);\n            startTop.y = ~~(startTop.y + pixelSnapEpsilon);\n            endTop.x = ~~(endTop.x + pixelSnapEpsilon);\n            endTop.y = ~~(endTop.y + pixelSnapEpsilon);\n            startBottom.x = ~~(startBottom.x + pixelSnapEpsilon);\n            startBottom.y = ~~(startBottom.y + pixelSnapEpsilon);\n            endBottom.x = ~~(endBottom.x + pixelSnapEpsilon);\n            endBottom.y = ~~(endBottom.y + pixelSnapEpsilon);\n        }\n        // TODO uv could be static vertex buffer\n        const uvx0 = 0;\n        const uvy0 = 0;\n        const uvx1 = 1;\n        const uvy1 = 1;\n        const stroke = this._transparent;\n        const strokeThickness = 0;\n        const width = 1;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = startTop.x;\n        vertexBuffer[this._vertexIndex++] = startTop.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = startBottom.x;\n        vertexBuffer[this._vertexIndex++] = startBottom.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = endTop.x;\n        vertexBuffer[this._vertexIndex++] = endTop.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = endBottom.x;\n        vertexBuffer[this._vertexIndex++] = endBottom.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = length;\n        vertexBuffer[this._vertexIndex++] = thickness;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / width;\n    }\n    drawRectangle(pos, width, height, color, stroke = Color.Transparent, strokeThickness = 0) {\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._rectangleCount++;\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const topLeft = transform.multiply(pos.add(vec(0, 0)));\n        const topRight = transform.multiply(pos.add(vec(width, 0)));\n        const bottomRight = transform.multiply(pos.add(vec(width, height)));\n        const bottomLeft = transform.multiply(pos.add(vec(0, height)));\n        if (snapToPixel) {\n            topLeft.x = ~~(topLeft.x + pixelSnapEpsilon);\n            topLeft.y = ~~(topLeft.y + pixelSnapEpsilon);\n            topRight.x = ~~(topRight.x + pixelSnapEpsilon);\n            topRight.y = ~~(topRight.y + pixelSnapEpsilon);\n            bottomLeft.x = ~~(bottomLeft.x + pixelSnapEpsilon);\n            bottomLeft.y = ~~(bottomLeft.y + pixelSnapEpsilon);\n            bottomRight.x = ~~(bottomRight.x + pixelSnapEpsilon);\n            bottomRight.y = ~~(bottomRight.y + pixelSnapEpsilon);\n        }\n        // TODO uv could be static vertex buffer\n        const uvx0 = 0;\n        const uvy0 = 0;\n        const uvx1 = 1;\n        const uvy1 = 1;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = topLeft.x;\n        vertexBuffer[this._vertexIndex++] = topLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = bottomLeft.x;\n        vertexBuffer[this._vertexIndex++] = bottomLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = topRight.x;\n        vertexBuffer[this._vertexIndex++] = topRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = bottomRight.x;\n        vertexBuffer[this._vertexIndex++] = bottomRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness;\n    }\n    hasPendingDraws() {\n        return this._rectangleCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._rectangleCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        // Bind the shader\n        this._shader.use();\n        // Bind the memory layout and upload data\n        this._layout.use(true);\n        // Update ortho matrix uniform\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        // Bind index buffer\n        this._quads.bind();\n        // Draw all the quads\n        gl.drawElements(gl.TRIANGLES, this._rectangleCount * 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount += this._rectangleCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // Reset\n        this._rectangleCount = 0;\n        this._vertexIndex = 0;\n    }\n}\n\n;// ./Graphics/Context/circle-renderer/circle-renderer.frag.glsl\n/* harmony default export */ const circle_renderer_frag = (\"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\n// UV coord\\r\\nin vec2 v_uv;\\r\\n\\r\\n// Color coord to blend with image\\r\\nin lowp vec4 v_color;\\r\\n\\r\\n// Stroke color if used\\r\\nin lowp vec4 v_strokeColor;\\r\\n\\r\\n// Stroke thickness if used\\r\\nin lowp float v_strokeThickness;\\r\\n\\r\\n// Opacity\\r\\nin float v_opacity;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  // make (0, 0) the center the uv \\r\\n  vec2 uv = v_uv * 2.0 - 1.0;\\r\\n\\r\\n  vec4 color = v_color;\\r\\n  vec4 strokeColor = v_strokeColor;\\r\\n\\r\\n  // circle border is at radius 1.0 \\r\\n  // dist is > 0 when inside the circle \\r\\n  float d = length(uv);\\r\\n  float dist = 1.0 - length(uv);\\r\\n\\r\\n  // Fade based on fwidth\\r\\n  float fade = fwidth(dot(uv, uv));\\r\\n\\r\\n  // if dist is greater than 0 step to 1;\\r\\n  // when we cross this 0 threshold add a smooth fade\\r\\n  float fill = smoothstep(-fade/2.0, fade/2.0, dist);\\r\\n\\r\\n  // if dist is greater than the stroke thickness step to 1\\r\\n  float stroke = 1.0 - smoothstep(v_strokeThickness, v_strokeThickness + fade, dist);\\r\\n\\r\\n  strokeColor.a *= fill * stroke;\\r\\n  strokeColor.rgb *= strokeColor.a;\\r\\n\\r\\n  color.a *= fill * (1.0 - stroke);\\r\\n  color.rgb *= color.a;\\r\\n\\r\\n  vec4 finalColor = mix(vec4(0.0), (color + strokeColor), fill);\\r\\n  finalColor.rgb = finalColor.rgb * v_opacity;\\r\\n  finalColor.a = finalColor.a * v_opacity;\\r\\n  fragColor = finalColor;\\r\\n}\");\n;// ./Graphics/Context/circle-renderer/circle-renderer.vert.glsl\n/* harmony default export */ const circle_renderer_vert = (\"#version 300 es\\r\\nin vec2 a_position;\\r\\n\\r\\n// UV coordinate\\r\\nin vec2 a_uv;\\r\\nout vec2 v_uv;\\r\\n\\r\\n// Opacity \\r\\nin float a_opacity;\\r\\nout float v_opacity;\\r\\n\\r\\nin vec4 a_color;\\r\\nout vec4 v_color;\\r\\n\\r\\nin vec4 a_strokeColor;\\r\\nout vec4 v_strokeColor;\\r\\n\\r\\nin float a_strokeThickness;\\r\\nout float v_strokeThickness;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n   // Set the vertex position using the ortho transform matrix\\r\\n   gl_Position = u_matrix * vec4(a_position, 0.0, 1.0);\\r\\n\\r\\n   // Pass through UV coords\\r\\n   v_uv = a_uv;\\r\\n   // Pass through the Opacity to the fragment shader\\r\\n   v_opacity = a_opacity;\\r\\n   // Pass through the color to the fragment shader\\r\\n   v_color = a_color;\\r\\n   // Pass through the stroke color to the fragment shader\\r\\n   v_strokeColor = a_strokeColor;\\r\\n   // Pass through the stroke thickenss to the fragment shader\\r\\n   v_strokeThickness = a_strokeThickness;\\r\\n}\");\n;// ./Graphics/Context/circle-renderer/circle-renderer.ts\n\n\n\n\n\n\n\n\n\n\nclass CircleRenderer {\n    constructor() {\n        this.type = 'ex.circle';\n        this.priority = 0;\n        this._maxCircles = 10922; // max(uint16) / 6 verts\n        this._circleCount = 0;\n        this._vertexIndex = 0;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        this._shader = new Shader({\n            gl,\n            fragmentSource: circle_renderer_frag,\n            vertexSource: circle_renderer_vert\n        });\n        this._shader.compile();\n        // setup uniforms\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', context.ortho);\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 14 * 4 * this._maxCircles,\n            type: 'dynamic'\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_uv', 2],\n                ['a_opacity', 1],\n                ['a_color', 4],\n                ['a_strokeColor', 4],\n                ['a_strokeThickness', 1]\n            ]\n        });\n        this._quads = new QuadIndexBuffer(gl, this._maxCircles, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._shader.dispose();\n        this._context = null;\n        this._gl = null;\n    }\n    _isFull() {\n        if (this._circleCount >= this._maxCircles) {\n            return true;\n        }\n        return false;\n    }\n    draw(pos, radius, color, stroke = Color.Transparent, strokeThickness = 0) {\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._circleCount++;\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        const topLeft = transform.multiply(pos.add(vec(-radius, -radius)));\n        const topRight = transform.multiply(pos.add(vec(radius, -radius)));\n        const bottomRight = transform.multiply(pos.add(vec(radius, radius)));\n        const bottomLeft = transform.multiply(pos.add(vec(-radius, radius)));\n        if (snapToPixel) {\n            topLeft.x = ~~(topLeft.x + pixelSnapEpsilon);\n            topLeft.y = ~~(topLeft.y + pixelSnapEpsilon);\n            topRight.x = ~~(topRight.x + pixelSnapEpsilon);\n            topRight.y = ~~(topRight.y + pixelSnapEpsilon);\n            bottomLeft.x = ~~(bottomLeft.x + pixelSnapEpsilon);\n            bottomLeft.y = ~~(bottomLeft.y + pixelSnapEpsilon);\n            bottomRight.x = ~~(bottomRight.x + pixelSnapEpsilon);\n            bottomRight.y = ~~(bottomRight.y + pixelSnapEpsilon);\n        }\n        // TODO UV could be static vertex buffer\n        const uvx0 = 0;\n        const uvy0 = 0;\n        const uvx1 = 1;\n        const uvy1 = 1;\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        // (0, 0) - 0\n        vertexBuffer[this._vertexIndex++] = topLeft.x;\n        vertexBuffer[this._vertexIndex++] = topLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n        // (0, 1) - 1\n        vertexBuffer[this._vertexIndex++] = bottomLeft.x;\n        vertexBuffer[this._vertexIndex++] = bottomLeft.y;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n        // (1, 0) - 2\n        vertexBuffer[this._vertexIndex++] = topRight.x;\n        vertexBuffer[this._vertexIndex++] = topRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n        // (1, 1) - 3\n        vertexBuffer[this._vertexIndex++] = bottomRight.x;\n        vertexBuffer[this._vertexIndex++] = bottomRight.y;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = color.r / 255;\n        vertexBuffer[this._vertexIndex++] = color.g / 255;\n        vertexBuffer[this._vertexIndex++] = color.b / 255;\n        vertexBuffer[this._vertexIndex++] = color.a;\n        vertexBuffer[this._vertexIndex++] = stroke.r / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.g / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.b / 255;\n        vertexBuffer[this._vertexIndex++] = stroke.a;\n        vertexBuffer[this._vertexIndex++] = strokeThickness / radius;\n    }\n    hasPendingDraws() {\n        return this._circleCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._circleCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        // Bind the shader\n        this._shader.use();\n        // Bind the memory layout and upload data\n        this._layout.use(true);\n        // Update ortho matrix uniform\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        // Bind index buffer\n        this._quads.bind();\n        // Draw all the quads\n        gl.drawElements(gl.TRIANGLES, this._circleCount * 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount += this._circleCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        // Reset\n        this._circleCount = 0;\n        this._vertexIndex = 0;\n    }\n}\n\n;// ./Util/Pool.ts\n\nclass Pool {\n    constructor(builder, recycler, maxObjects = 100) {\n        this.builder = builder;\n        this.recycler = recycler;\n        this.maxObjects = maxObjects;\n        this.totalAllocations = 0;\n        this.index = 0;\n        this.objects = [];\n        this.disableWarnings = false;\n        this._logger = Logger.getInstance();\n    }\n    dispose() {\n        this.objects.length = 0;\n    }\n    preallocate() {\n        for (let i = 0; i < this.maxObjects; i++) {\n            this.objects[i] = this.builder();\n        }\n    }\n    /**\n     * Use many instances out of the in the context and return all to the pool.\n     *\n     * By returning values out of the context they will be un-hooked from the pool and are free to be passed to consumers\n     * @param context\n     */\n    using(context) {\n        const result = context(this);\n        if (result) {\n            return this.done(...result);\n        }\n        return this.done();\n    }\n    /**\n     * Use a single instance out of th pool and immediately return it to the pool\n     * @param context\n     */\n    borrow(context) {\n        const object = this.get();\n        context(object);\n        this.index--;\n    }\n    /**\n     * Retrieve a value from the pool, will allocate a new instance if necessary or recycle from the pool\n     */\n    get() {\n        if (this.index === this.maxObjects) {\n            if (!this.disableWarnings) {\n                this._logger.warn('Max pooled objects reached, possible memory leak? Doubling');\n            }\n            this.maxObjects = this.maxObjects * 2;\n        }\n        if (this.objects[this.index]) {\n            // Pool has an available object already constructed\n            if (this.recycler) {\n                return this.recycler(this.objects[this.index++]);\n            }\n            return this.objects[this.index++];\n        }\n        else {\n            // New allocation\n            this.totalAllocations++;\n            const object = (this.objects[this.index++] = this.builder());\n            return object;\n        }\n    }\n    done(...objects) {\n        // All objects in pool now considered \"free\"\n        this.index = 0;\n        for (const object of objects) {\n            const poolIndex = this.objects.indexOf(object);\n            // Build a new object to take the pool place\n            this.objects[poolIndex] = this.builder();\n            this.totalAllocations++;\n        }\n        return objects;\n    }\n}\n\n;// ./Graphics/Context/draw-call.ts\n\n\nclass DrawCall {\n    constructor() {\n        this.z = 0;\n        this.priority = 0;\n        this.renderer = '';\n        this.transform = AffineMatrix.identity();\n        this.state = {\n            z: 0,\n            opacity: 1,\n            tint: Color.White,\n            material: null\n        };\n        this.args = new Array(10);\n    }\n}\n\n;// ./Graphics/Context/material.ts\n\n\n\n\n\n\nconst defaultVertexSource = `#version 300 es\r\nin vec2 a_position;\r\n\r\nin vec2 a_uv;\r\nout vec2 v_uv;\r\n\r\nin vec2 a_screenuv;\r\nout vec2 v_screenuv;\r\n\r\nuniform mat4 u_matrix;\r\nuniform mat4 u_transform;\r\n\r\nvoid main() {\r\n  // Set the vertex position using the ortho & transform matrix\r\n  gl_Position = u_matrix * u_transform * vec4(a_position, 0.0, 1.0);\r\n\r\n  // Pass through the UV coord to the fragment shader\r\n  v_uv = a_uv;\r\n  v_screenuv = a_screenuv;\r\n}\r\n`;\nclass Material {\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this._color = Color.Transparent;\n        this._initialized = false;\n        this._images = new Map();\n        this._textures = new Map();\n        const { color, name, vertexSource, fragmentSource, graphicsContext, images } = options;\n        this._name = name !== null && name !== void 0 ? name : 'anonymous material';\n        this._vertexSource = vertexSource !== null && vertexSource !== void 0 ? vertexSource : defaultVertexSource;\n        this._fragmentSource = fragmentSource;\n        this._color = color !== null && color !== void 0 ? color : this._color;\n        if (!graphicsContext) {\n            throw Error(`Material ${name} must be provided an excalibur webgl graphics context`);\n        }\n        if (graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            this._graphicsContext = graphicsContext;\n            this._initialize(graphicsContext);\n        }\n        else {\n            this._logger.warn(`Material ${name} was created in 2D Canvas mode, currently only WebGL is supported`);\n        }\n        if (images) {\n            for (const key in images) {\n                this.addImageSource(key, images[key]);\n            }\n        }\n    }\n    _initialize(graphicsContextWebGL) {\n        if (this._initialized) {\n            return;\n        }\n        const gl = graphicsContextWebGL.__gl;\n        // max texture slots - 2 for the graphic texture and screen texture\n        this._maxTextureSlots = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS) - 2;\n        this._shader = graphicsContextWebGL.createShader({\n            vertexSource: this._vertexSource,\n            fragmentSource: this._fragmentSource\n        });\n        this._shader.compile();\n        this._initialized = true;\n    }\n    get color() {\n        return this._color;\n    }\n    set color(c) {\n        this._color = c;\n    }\n    get name() {\n        var _a;\n        return (_a = this._name) !== null && _a !== void 0 ? _a : 'anonymous material';\n    }\n    get isUsingScreenTexture() {\n        return this._fragmentSource.includes('u_screen_texture');\n    }\n    update(callback) {\n        if (this._shader) {\n            this._shader.use();\n            callback(this._shader);\n        }\n    }\n    getShader() {\n        return this._shader;\n    }\n    addImageSource(textureUniformName, image) {\n        if (this._images.size < this._maxTextureSlots) {\n            this._images.set(textureUniformName, image);\n        }\n        else {\n            this._logger.warn(`Max number texture slots ${this._maxTextureSlots} have been reached for material \"${this.name}\", ` +\n                `no more textures will be uploaded due to hardware constraints.`);\n        }\n    }\n    removeImageSource(textureName) {\n        const image = this._images.get(textureName);\n        this._graphicsContext.textureLoader.delete(image.image);\n        this._images.delete(textureName);\n    }\n    _loadImageSource(image) {\n        const imageElement = image.image;\n        const maybeFiltering = imageElement.getAttribute(ImageSourceAttributeConstants.Filtering);\n        const filtering = maybeFiltering ? parseImageFiltering(maybeFiltering) : undefined;\n        const wrapX = parseImageWrapping(imageElement.getAttribute(ImageSourceAttributeConstants.WrappingX));\n        const wrapY = parseImageWrapping(imageElement.getAttribute(ImageSourceAttributeConstants.WrappingY));\n        const force = imageElement.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._graphicsContext.textureLoader.load(imageElement, {\n            filtering,\n            wrapping: { x: wrapX, y: wrapY }\n        }, force);\n        // remove force attribute after upload\n        imageElement.removeAttribute('forceUpload');\n        if (!this._textures.has(image)) {\n            this._textures.set(image, texture);\n        }\n        return texture;\n    }\n    uploadAndBind(gl, startingTextureSlot = 2) {\n        let textureSlot = startingTextureSlot;\n        for (const [textureName, image] of this._images.entries()) {\n            if (!image.isLoaded()) {\n                this._logger.warnOnce(`Image named ${textureName} in material ${this.name} not loaded, nothing will be uploaded to the shader.` +\n                    ` Did you forget to add this to a loader? https://excaliburjs.com/docs/loaders/`);\n                continue;\n            } // skip unloaded images, maybe warn\n            const texture = this._loadImageSource(image);\n            gl.activeTexture(gl.TEXTURE0 + textureSlot);\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            this._shader.trySetUniformInt(textureName, textureSlot);\n            textureSlot++;\n        }\n    }\n    use() {\n        if (this._initialized) {\n            // bind the shader\n            this._shader.use();\n            // Apply standard uniforms\n            this._shader.trySetUniformFloatColor('u_color', this._color);\n        }\n        else {\n            throw Error(`Material ${this.name} not yet initialized, use the ExcaliburGraphicsContext.createMaterial() to work around this.`);\n        }\n    }\n}\n\n;// ./Graphics/Context/material-renderer/material-renderer.ts\n\n\n\n\n\n\n\n\nclass MaterialRenderer {\n    constructor() {\n        this.type = 'ex.material';\n        this.priority = 0;\n        this._textures = [];\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            size: 6 * 4, // 6 components * 4 verts\n            type: 'dynamic'\n        });\n        // Setup a vertex layout/buffer to the material\n        this._layout = new VertexLayout({\n            gl,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_uv', 2],\n                ['a_screenuv', 2]\n            ],\n            suppressWarnings: true\n        });\n        // Setup index buffer\n        this._quads = new QuadIndexBuffer(gl, 1, true);\n    }\n    dispose() {\n        this._buffer.dispose();\n        this._quads.dispose();\n        this._textures.length = 0;\n        this._context = null;\n        this._gl = null;\n    }\n    draw(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        var _a, _b, _c, _d;\n        const gl = this._gl;\n        // Extract context info\n        const material = this._context.material;\n        if (!material) {\n            return;\n        }\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        // material shader\n        const shader = material.getShader();\n        // construct geometry, or hold on to it in the material?\n        // geometry primitive for drawing rectangles?\n        // update data\n        const vertexBuffer = this._layout.vertexBuffer.bufferData;\n        let vertexIndex = 0;\n        let width = (image === null || image === void 0 ? void 0 : image.width) || swidth || 0;\n        let height = (image === null || image === void 0 ? void 0 : image.height) || sheight || 0;\n        let view = [0, 0, (_a = swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width) !== null && _a !== void 0 ? _a : 0, (_b = sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height) !== null && _b !== void 0 ? _b : 0];\n        let dest = [sx !== null && sx !== void 0 ? sx : 1, sy !== null && sy !== void 0 ? sy : 1];\n        // If destination is specified, update view and dest\n        if (dx !== undefined && dy !== undefined && dwidth !== undefined && dheight !== undefined) {\n            view = [sx !== null && sx !== void 0 ? sx : 1, sy !== null && sy !== void 0 ? sy : 1, (_c = swidth !== null && swidth !== void 0 ? swidth : image === null || image === void 0 ? void 0 : image.width) !== null && _c !== void 0 ? _c : 0, (_d = sheight !== null && sheight !== void 0 ? sheight : image === null || image === void 0 ? void 0 : image.height) !== null && _d !== void 0 ? _d : 0];\n            dest = [dx, dy];\n            width = dwidth;\n            height = dheight;\n        }\n        sx = view[0];\n        sy = view[1];\n        const sw = view[2];\n        const sh = view[3];\n        const topLeft = vec(dest[0], dest[1]);\n        const topRight = vec(dest[0] + width, dest[1]);\n        const bottomLeft = vec(dest[0], dest[1] + height);\n        const bottomRight = vec(dest[0] + width, dest[1] + height);\n        const imageWidth = image.width || width;\n        const imageHeight = image.height || height;\n        const uvx0 = sx / imageWidth;\n        const uvy0 = sy / imageHeight;\n        const uvx1 = (sx + sw - 0.01) / imageWidth;\n        const uvy1 = (sy + sh - 0.01) / imageHeight;\n        const topLeftScreen = transform.getPosition();\n        const bottomRightScreen = topLeftScreen.add(bottomRight);\n        const screenUVX0 = topLeftScreen.x / this._context.width;\n        const screenUVY0 = topLeftScreen.y / this._context.height;\n        const screenUVX1 = bottomRightScreen.x / this._context.width;\n        const screenUVY1 = bottomRightScreen.y / this._context.height;\n        // (0, 0) - 0\n        vertexBuffer[vertexIndex++] = topLeft.x;\n        vertexBuffer[vertexIndex++] = topLeft.y;\n        vertexBuffer[vertexIndex++] = uvx0;\n        vertexBuffer[vertexIndex++] = uvy0;\n        vertexBuffer[vertexIndex++] = screenUVX0;\n        vertexBuffer[vertexIndex++] = screenUVY0;\n        // (0, 1) - 1\n        vertexBuffer[vertexIndex++] = bottomLeft.x;\n        vertexBuffer[vertexIndex++] = bottomLeft.y;\n        vertexBuffer[vertexIndex++] = uvx0;\n        vertexBuffer[vertexIndex++] = uvy1;\n        vertexBuffer[vertexIndex++] = screenUVX0;\n        vertexBuffer[vertexIndex++] = screenUVY1;\n        // (1, 0) - 2\n        vertexBuffer[vertexIndex++] = topRight.x;\n        vertexBuffer[vertexIndex++] = topRight.y;\n        vertexBuffer[vertexIndex++] = uvx1;\n        vertexBuffer[vertexIndex++] = uvy0;\n        vertexBuffer[vertexIndex++] = screenUVX1;\n        vertexBuffer[vertexIndex++] = screenUVY0;\n        // (1, 1) - 3\n        vertexBuffer[vertexIndex++] = bottomRight.x;\n        vertexBuffer[vertexIndex++] = bottomRight.y;\n        vertexBuffer[vertexIndex++] = uvx1;\n        vertexBuffer[vertexIndex++] = uvy1;\n        vertexBuffer[vertexIndex++] = screenUVX1;\n        vertexBuffer[vertexIndex++] = screenUVY1;\n        // This creates and uploads the texture if not already done\n        const texture = this._addImageAsTexture(image);\n        // apply material\n        material.use();\n        this._layout.shader = shader;\n        // apply layout and geometry\n        this._layout.use(true);\n        // apply time in ms since the page (performance.now())\n        shader.trySetUniformFloat('u_time_ms', performance.now());\n        // apply opacity\n        shader.trySetUniformFloat('u_opacity', opacity);\n        // apply resolution\n        shader.trySetUniformFloatVector('u_resolution', vec(this._context.width, this._context.height));\n        // apply graphic resolution\n        shader.trySetUniformFloatVector('u_graphic_resolution', vec(imageWidth, imageHeight));\n        // apply size\n        shader.trySetUniformFloatVector('u_size', vec(sw, sh));\n        // apply orthographic projection\n        shader.trySetUniformMatrix('u_matrix', this._context.ortho);\n        // apply geometry transform\n        shader.trySetUniformMatrix('u_transform', transform.to4x4());\n        // bind graphic image texture 'uniform sampler2D u_graphic;'\n        gl.activeTexture(gl.TEXTURE0 + 0);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        shader.trySetUniformInt('u_graphic', 0);\n        // bind the screen texture\n        gl.activeTexture(gl.TEXTURE0 + 1);\n        gl.bindTexture(gl.TEXTURE_2D, this._context.materialScreenTexture);\n        shader.trySetUniformInt('u_screen_texture', 1);\n        // bind any additional textures in the material\n        material.uploadAndBind(gl);\n        // bind quad index buffer\n        this._quads.bind();\n        // Draw a single quad\n        gl.drawElements(gl.TRIANGLES, 6, this._quads.bufferGlType, 0);\n        GraphicsDiagnostics.DrawnImagesCount++;\n        GraphicsDiagnostics.DrawCallCount++;\n    }\n    _addImageAsTexture(image) {\n        const maybeFiltering = image.getAttribute(ImageSourceAttributeConstants.Filtering);\n        const filtering = maybeFiltering ? parseImageFiltering(maybeFiltering) : undefined;\n        const wrapX = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingX));\n        const wrapY = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingY));\n        const force = image.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._context.textureLoader.load(image, {\n            filtering,\n            wrapping: { x: wrapX, y: wrapY }\n        }, force);\n        // remove force attribute after upload\n        image.removeAttribute('forceUpload');\n        if (this._textures.indexOf(texture) === -1) {\n            this._textures.push(texture);\n        }\n        return texture;\n    }\n    hasPendingDraws() {\n        return false;\n    }\n    flush() {\n        // flush does not do anything, material renderer renders immediately per draw\n    }\n}\n\n;// ./Graphics/Context/particle-renderer/particle-vertex.glsl\n/* harmony default export */ const particle_vertex = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\nuniform float deltaMs;\\r\\nuniform float maxLifeMs;\\r\\nuniform vec2 gravity;\\r\\nuniform vec2 focus;\\r\\nuniform float focusAccel;\\r\\nuniform mat4 u_matrix;\\r\\nuniform mat4 u_transform;\\r\\nuniform float startSize;\\r\\nuniform float endSize;\\r\\n// uniform sampler2D obstacle;\\r\\n\\r\\nlayout(location=0)in vec2 position;\\r\\nlayout(location=1)in vec2 velocity;\\r\\nlayout(location=2)in float rotation;\\r\\nlayout(location=3)in float angularVelocity;\\r\\nlayout(location=4)in float lifeMs;\\r\\n\\r\\n// TODO z index to handle buffer wrapping?\\r\\n\\r\\n// DO NOT RE-ORDER\\r\\nout vec2 finalPosition;\\r\\nout vec2 finalVelocity;\\r\\nout float finalRotation;\\r\\nout float finalAngularVelocity;\\r\\nout float finalLifeMs;\\r\\nvoid main(){\\r\\n  // Evolve particle\\r\\n  float seconds = deltaMs / 1000.;\\r\\n  // euler integration\\r\\n  // Weird artifact of re-using the same buffer layout for update/draw\\r\\n  // we need differently named variables\\r\\n  vec2 finalGravity = gravity + normalize(focus - position) * focusAccel;\\r\\n  finalVelocity = velocity + finalGravity * seconds;\\r\\n  finalPosition = position + velocity * seconds + finalGravity * .5 * seconds * seconds;\\r\\n  finalRotation = rotation + angularVelocity * seconds;\\r\\n  finalAngularVelocity = angularVelocity;\\r\\n  finalLifeMs = clamp(lifeMs - deltaMs, 0., maxLifeMs);\\r\\n\\r\\n  // Collision mask sampling\\r\\n  // vec2 samplePoint = finalPosition / vec2(width, height);\\r\\n  // vec4 collides = texture(obstacle, samplePoint);\\r\\n  // if (distance(collides,vec4(0.)) > .01) {\\r\\n  //   // non opaque means we collide! recalc final pos/vel\\r\\n  //   vec2 newVelocity = velocity * -.1;// lose energy\\r\\n  //   finalVelocity = newVelocity + gravity * seconds;\\r\\n  //   finalPosition = position + newVelocity * seconds + gravity * .5 * seconds * seconds;\\r\\n  // }\\r\\n\\r\\n  float lifePercent = finalLifeMs / maxLifeMs;\\r\\n  vec2 transformedPos = (u_matrix * u_transform * vec4(finalPosition,0.,1.)).xy;\\r\\n  float scale = sqrt(u_transform[0][0] * u_transform[0][0] + u_transform[1][1] * u_transform[1][1]);\\r\\n  gl_Position = vec4(transformedPos, 1.0 - lifePercent, 1.); // use life percent to sort z\\r\\n  gl_PointSize = mix(startSize, endSize, 1.0 - lifePercent) * scale;\\r\\n}\");\n;// ./Graphics/Context/particle-renderer/particle-fragment.glsl\n/* harmony default export */ const particle_fragment = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\nuniform sampler2D graphic;\\r\\nuniform bool useTexture;\\r\\nuniform float maxLifeMs;\\r\\n\\r\\nuniform vec4 beginColor;\\r\\nuniform vec4 endColor;\\r\\nuniform bool fade;\\r\\nuniform float startOpacity;\\r\\n\\r\\nin float finalRotation;\\r\\nin float finalLifeMs;\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main(){\\r\\n\\r\\n  float lifePct = finalLifeMs / maxLifeMs;\\r\\n\\r\\n  if (useTexture) {\\r\\n    /** Draw texture */\\r\\n    if (lifePct <= 0.) discard;\\r\\n    float mid = .5;\\r\\n    float cosine = cos(finalRotation);\\r\\n    float sine = sin(finalRotation);\\r\\n    vec2 rotated = vec2(cosine * (gl_PointCoord.x - mid) + sine * (gl_PointCoord.y - mid) + mid,\\r\\n                        cosine * (gl_PointCoord.y - mid) - sine * (gl_PointCoord.x - mid) + mid);\\r\\n    vec4 color = texture(graphic, rotated);\\r\\n    fragColor = color * (fade ? lifePct : 1.0);\\r\\n  } else {\\r\\n    /** Draw circle */\\r\\n    if (lifePct <= 0.) discard;\\r\\n    vec2 uv = gl_PointCoord.xy * 2.0 - 1.0;\\r\\n    float dist = 1.0 - length(uv);\\r\\n    float edge = fwidth(dot(uv, uv));\\r\\n    float circle = smoothstep(-edge/2.0, edge/2.0, dist);\\r\\n    vec3 color = mix(beginColor.rgb, endColor.rgb, 1.0 - lifePct);\\r\\n    fragColor.rgb = color;\\r\\n    fragColor.a = startOpacity * circle * (fade ? lifePct : 1.0);// * mix(beginColor.a, endColor.a, 1.0 - lifePct);\\r\\n    fragColor.rgb *= fragColor.a;\\r\\n  }\\r\\n}\");\n;// ./Math/coord-plane.ts\n/**\n * Enum representing the coordinate plane for the position 2D vector in the {@apilink TransformComponent}\n */\nvar CoordPlane;\n(function (CoordPlane) {\n    /**\n     * The world coordinate plane (default) represents world space, any entities drawn with world\n     * space move when the camera moves.\n     */\n    CoordPlane[\"World\"] = \"world\";\n    /**\n     * The screen coordinate plane represents screen space, entities drawn in screen space are pinned\n     * to screen coordinates ignoring the camera.\n     */\n    CoordPlane[\"Screen\"] = \"screen\";\n})(CoordPlane || (CoordPlane = {}));\n\n;// ./Math/vector-view.ts\n\nclass VectorView extends Vector {\n    constructor(options) {\n        super(0, 0);\n        this._getX = options.getX;\n        this._getY = options.getY;\n        this._setX = options.setX;\n        this._setY = options.setY;\n    }\n    get x() {\n        return (this._x = this._getX());\n    }\n    set x(val) {\n        this._setX(val);\n        this._x = val;\n    }\n    get y() {\n        return (this._y = this._getY());\n    }\n    set y(val) {\n        this._setY(val);\n        this._y = val;\n    }\n}\n\n;// ./Math/watch-vector.ts\n\n/**\n * Wraps a vector and watches for changes in the x/y, modifies the original vector.\n */\nclass WatchVector extends Vector {\n    constructor(original, change) {\n        super(original.x, original.y);\n        this.original = original;\n        this.change = change;\n    }\n    get x() {\n        return (this._x = this.original.x);\n    }\n    set x(newX) {\n        if (newX !== this._x) {\n            this.change(newX, this._y);\n            this._x = this.original.x = newX;\n        }\n    }\n    get y() {\n        return (this._y = this.original.y);\n    }\n    set y(newY) {\n        if (newY !== this._y) {\n            this.change(this._x, newY);\n            this._y = this.original.y = newY;\n        }\n    }\n    setTo(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n\n;// ./Math/transform.ts\n\n\n\n\n\nclass transform_Transform {\n    constructor() {\n        this._parent = null;\n        this._children = [];\n        this._pos = new WatchVector(vec(0, 0), () => {\n            this.flagDirty();\n        });\n        this._globalPos = new VectorView({\n            getX: () => this.matrix.data[4],\n            getY: () => this.matrix.data[5],\n            setX: (x) => {\n                if (this.parent) {\n                    const { x: newX } = this.parent.inverse.multiply(vec(x, this.pos.y));\n                    this.pos.x = newX;\n                }\n                else {\n                    this.pos.x = x;\n                }\n                if (x !== this.matrix.data[4]) {\n                    this.flagDirty();\n                }\n            },\n            setY: (y) => {\n                if (this.parent) {\n                    const { y: newY } = this.parent.inverse.multiply(vec(this.pos.x, y));\n                    this.pos.y = newY;\n                }\n                else {\n                    this.pos.y = y;\n                }\n                if (y !== this.matrix.data[5]) {\n                    this.flagDirty();\n                }\n            }\n        });\n        this._rotation = 0;\n        this._scale = new WatchVector(vec(1, 1), () => {\n            this.flagDirty();\n        });\n        this._globalScale = new VectorView({\n            getX: () => (this.parent ? this.matrix.getScaleX() : this.scale.x),\n            getY: () => (this.parent ? this.matrix.getScaleY() : this.scale.y),\n            setX: (x) => {\n                if (this.parent) {\n                    const globalScaleX = this.parent.globalScale.x;\n                    this.scale.x = x / globalScaleX;\n                }\n                else {\n                    this.scale.x = x;\n                }\n            },\n            setY: (y) => {\n                if (this.parent) {\n                    const globalScaleY = this.parent.globalScale.y;\n                    this.scale.y = y / globalScaleY;\n                }\n                else {\n                    this.scale.y = y;\n                }\n            }\n        });\n        this._z = 0;\n        this._isDirty = false;\n        this._isInverseDirty = false;\n        this._matrix = AffineMatrix.identity();\n        this._inverse = AffineMatrix.identity();\n        this._scratch = AffineMatrix.identity();\n    }\n    get parent() {\n        return this._parent;\n    }\n    set parent(transform) {\n        if (this._parent) {\n            const index = this._parent._children.indexOf(this);\n            if (index > -1) {\n                this._parent._children.splice(index, 1);\n            }\n        }\n        this._parent = transform;\n        if (this._parent) {\n            this._parent._children.push(this);\n        }\n        this.flagDirty();\n    }\n    get children() {\n        return this._children;\n    }\n    set pos(v) {\n        this._pos.x = v.x;\n        this._pos.y = v.y;\n    }\n    get pos() {\n        return this._pos;\n    }\n    set globalPos(v) {\n        let localPos = v.clone();\n        if (this.parent) {\n            localPos = this.parent.inverse.multiply(v);\n        }\n        if (!localPos.equals(this._pos)) {\n            this._pos = localPos;\n            this.flagDirty();\n        }\n    }\n    get globalPos() {\n        return this._globalPos;\n    }\n    set rotation(rotation) {\n        const canonRotation = canonicalizeAngle(rotation);\n        if (canonRotation !== this._rotation) {\n            this.flagDirty();\n        }\n        this._rotation = canonRotation;\n    }\n    get rotation() {\n        return this._rotation;\n    }\n    set globalRotation(rotation) {\n        let inverseRotation = 0;\n        if (this.parent) {\n            inverseRotation = this.parent.globalRotation;\n        }\n        const canonRotation = canonicalizeAngle(rotation + inverseRotation);\n        if (canonRotation !== this._rotation) {\n            this.flagDirty();\n        }\n        this._rotation = canonRotation;\n    }\n    get globalRotation() {\n        if (this.parent) {\n            return this.matrix.getRotation();\n        }\n        return this.rotation;\n    }\n    set scale(v) {\n        this._scale.x = v.x;\n        this._scale.y = v.y;\n    }\n    get scale() {\n        return this._scale;\n    }\n    set globalScale(v) {\n        let inverseScale = vec(1, 1);\n        if (this.parent) {\n            inverseScale = this.parent.globalScale;\n        }\n        this.scale = v.scale(vec(1 / inverseScale.x, 1 / inverseScale.y));\n    }\n    get globalScale() {\n        return this._globalScale;\n    }\n    set z(z) {\n        this._z = z;\n        this.flagDirty();\n    }\n    get z() {\n        return this._z;\n    }\n    set globalZ(z) {\n        if (this.parent) {\n            this.z = z - this.parent.globalZ;\n        }\n        else {\n            this.z = z;\n        }\n    }\n    get globalZ() {\n        if (this.parent) {\n            return this.z + this.parent.globalZ;\n        }\n        return this.z;\n    }\n    /**\n     * Calculates and returns the matrix representation of this transform\n     *\n     * Avoid mutating the matrix to update the transform, it is not the source of truth.\n     * Update the transform pos, rotation, scale.\n     */\n    get matrix() {\n        if (this._isDirty) {\n            if (this.parent === null) {\n                this._calculateMatrix().clone(this._matrix);\n            }\n            else {\n                this.parent.matrix.multiply(this._calculateMatrix()).clone(this._matrix);\n            }\n            this._isDirty = false;\n        }\n        return this._matrix;\n    }\n    /**\n     * Calculates and returns the inverse matrix representation of this transform\n     */\n    get inverse() {\n        if (this._isInverseDirty) {\n            this.matrix.inverse(this._inverse);\n            this._isInverseDirty = false;\n        }\n        return this._inverse;\n    }\n    _calculateMatrix() {\n        this._scratch.data[0] = Math.cos(this._rotation);\n        this._scratch.data[1] = Math.sin(this._rotation);\n        this._scratch.data[2] = -Math.sin(this._rotation);\n        this._scratch.data[3] = Math.cos(this.rotation);\n        this._scratch.data[4] = this._pos.x;\n        this._scratch.data[5] = this._pos.y;\n        this._scratch.scale(this._scale.x, this._scale.y);\n        return this._scratch;\n    }\n    flagDirty() {\n        this._isDirty = true;\n        this._isInverseDirty = true;\n        for (let i = 0; i < this._children.length; i++) {\n            this._children[i].flagDirty();\n        }\n    }\n    apply(point) {\n        return this.matrix.multiply(point);\n    }\n    applyInverse(point) {\n        return this.inverse.multiply(point);\n    }\n    setTransform(pos, rotation, scale) {\n        this._pos.x = pos.x;\n        this._pos.y = pos.y;\n        this._rotation = canonicalizeAngle(rotation);\n        this._scale.x = scale.x;\n        this._scale.y = scale.y;\n        this.flagDirty();\n    }\n    /**\n     * Returns true if the transform has a negative x scale or y scale, but not both\n     */\n    isMirrored() {\n        const signBitX = sign(this.scale.x) >>> 31;\n        const signBitY = sign(this.scale.y) >>> 31;\n        const mirrored = signBitX ^ signBitY;\n        return !!mirrored;\n    }\n    /**\n     * Clones the current transform\n     * **Warning does not clone the parent**\n     * @param dest\n     */\n    clone(dest) {\n        const target = dest !== null && dest !== void 0 ? dest : new transform_Transform();\n        this._pos.clone(target._pos);\n        target._z = this._z;\n        target._rotation = this._rotation;\n        this._scale.clone(target._scale);\n        target.flagDirty();\n        return target;\n    }\n    /**\n     * Clones but keeps the same parent reference\n     */\n    cloneWithParent(dest) {\n        const target = dest !== null && dest !== void 0 ? dest : new transform_Transform();\n        this._pos.clone(target._pos);\n        target._z = this._z;\n        target._rotation = this._rotation;\n        this._scale.clone(target._scale);\n        target.parent = this.parent;\n        target.flagDirty();\n        return target;\n    }\n    toString() {\n        return this.matrix.toString();\n    }\n}\n\n;// ./EntityComponentSystem/Component.ts\n/**\n *\n */\nfunction isComponentCtor(value) {\n    return !!value && !!value.prototype && !!value.prototype.constructor;\n}\n/**\n * Type guard to check if a component implements clone\n * @param x\n */\nfunction hasClone(x) {\n    return !!(x === null || x === void 0 ? void 0 : x.clone);\n}\n/**\n * Components are containers for state in Excalibur, the are meant to convey capabilities that an Entity possesses\n *\n * Implementations of Component must have a zero-arg constructor to support dependencies\n *\n * ```typescript\n * class MyComponent extends ex.Component {\n *   // zero arg support required if you want to use component dependencies\n *   constructor(public optionalPos?: ex.Vector) {}\n * }\n * ```\n */\nclass Component {\n    constructor() {\n        // TODO maybe generate a unique id?\n        /**\n         * Current owning {@apilink Entity}, if any, of this component. Null if not added to any {@apilink Entity}\n         */\n        this.owner = undefined;\n    }\n    /**\n     * Clones any properties on this component, if that property value has a `clone()` method it will be called\n     */\n    clone() {\n        const newComponent = new this.constructor();\n        for (const prop in this) {\n            if (this.hasOwnProperty(prop)) {\n                const val = this[prop];\n                if (hasClone(val) && prop !== 'owner' && prop !== 'clone') {\n                    newComponent[prop] = val.clone();\n                }\n                else {\n                    newComponent[prop] = val;\n                }\n            }\n        }\n        return newComponent;\n    }\n}\n\n;// ./Util/Observable.ts\n/**\n * Simple Observable implementation\n * @template T is the typescript Type that defines the data being observed\n */\nclass Observable {\n    constructor() {\n        this.observers = [];\n        this.subscriptions = [];\n    }\n    /**\n     * Register an observer to listen to this observable\n     * @param observer\n     */\n    register(observer) {\n        this.observers.push(observer);\n    }\n    /**\n     * Register a callback to listen to this observable\n     * @param func\n     */\n    subscribe(func) {\n        this.subscriptions.push(func);\n    }\n    /**\n     * Remove an observer from the observable\n     * @param observer\n     */\n    unregister(observer) {\n        const i = this.observers.indexOf(observer);\n        if (i !== -1) {\n            this.observers.splice(i, 1);\n        }\n    }\n    /**\n     * Remove a callback that is listening to this observable\n     * @param func\n     */\n    unsubscribe(func) {\n        const i = this.subscriptions.indexOf(func);\n        if (i !== -1) {\n            this.subscriptions.splice(i, 1);\n        }\n    }\n    /**\n     * Broadcasts a message to all observers and callbacks\n     * @param message\n     */\n    notifyAll(message) {\n        const observersLength = this.observers.length;\n        for (let i = 0; i < observersLength; i++) {\n            this.observers[i].notify(message);\n        }\n        const subscriptionsLength = this.subscriptions.length;\n        for (let i = 0; i < subscriptionsLength; i++) {\n            this.subscriptions[i](message);\n        }\n    }\n    /**\n     * Removes all observers and callbacks\n     */\n    clear() {\n        this.observers.length = 0;\n        this.subscriptions.length = 0;\n    }\n}\n\n;// ./EntityComponentSystem/Components/TransformComponent.ts\n\n\n\n\n\nclass TransformComponent extends Component {\n    constructor() {\n        super(...arguments);\n        this._logger = Logger.getInstance();\n        this._parentComponent = null;\n        this._transform = new transform_Transform();\n        this._addChildTransform = (child) => {\n            const childTxComponent = child.get(TransformComponent);\n            if (childTxComponent) {\n                childTxComponent._transform.parent = this._transform;\n                childTxComponent._parentComponent = this;\n            }\n        };\n        /**\n         * Observable that emits when the z index changes on this component\n         */\n        this.zIndexChanged$ = new Observable();\n        this._coordPlane = CoordPlane.World;\n    }\n    get() {\n        return this._transform;\n    }\n    onAdd(owner) {\n        for (const child of owner.children) {\n            this._addChildTransform(child);\n        }\n        owner.childrenAdded$.subscribe((child) => this._addChildTransform(child));\n        owner.childrenRemoved$.subscribe((child) => {\n            const childTxComponent = child.get(TransformComponent);\n            if (childTxComponent) {\n                childTxComponent._transform.parent = null;\n                childTxComponent._parentComponent = null;\n            }\n        });\n    }\n    onRemove(_previousOwner) {\n        this._transform.parent = null;\n        this._parentComponent = null;\n    }\n    /**\n     * The z-index ordering of the entity, a higher values are drawn on top of lower values.\n     * For example z=99 would be drawn on top of z=0.\n     */\n    get z() {\n        return this._transform.z;\n    }\n    set z(val) {\n        const oldz = this._transform.z;\n        this._transform.z = val;\n        if (oldz !== val) {\n            this.zIndexChanged$.notifyAll(val);\n        }\n    }\n    get globalZ() {\n        return this._transform.globalZ;\n    }\n    set globalZ(z) {\n        this._transform.globalZ = z;\n    }\n    /**\n     * The {@apilink CoordPlane | `coordinate plane`} for this transform for the entity.\n     */\n    get coordPlane() {\n        if (this._parentComponent) {\n            return this._parentComponent.coordPlane;\n        }\n        return this._coordPlane;\n    }\n    set coordPlane(value) {\n        var _a;\n        if (!this._parentComponent) {\n            this._coordPlane = value;\n        }\n        else {\n            this._logger.warn(`Cannot set coordinate plane on child entity ${(_a = this.owner) === null || _a === void 0 ? void 0 : _a.name}, children inherit their coordinate plane from their parents.`);\n        }\n    }\n    get pos() {\n        return this._transform.pos;\n    }\n    set pos(v) {\n        this._transform.pos = v;\n    }\n    get globalPos() {\n        return this._transform.globalPos;\n    }\n    set globalPos(v) {\n        this._transform.globalPos = v;\n    }\n    get rotation() {\n        return this._transform.rotation;\n    }\n    set rotation(rotation) {\n        this._transform.rotation = rotation;\n    }\n    get globalRotation() {\n        return this._transform.globalRotation;\n    }\n    set globalRotation(rotation) {\n        this._transform.globalRotation = rotation;\n    }\n    get scale() {\n        return this._transform.scale;\n    }\n    set scale(v) {\n        this._transform.scale = v;\n    }\n    get globalScale() {\n        return this._transform.globalScale;\n    }\n    set globalScale(v) {\n        this._transform.globalScale = v;\n    }\n    applyInverse(v) {\n        return this._transform.applyInverse(v);\n    }\n    apply(v) {\n        return this._transform.apply(v);\n    }\n    clone() {\n        const component = new TransformComponent();\n        component._transform = this._transform.clone();\n        return component;\n    }\n}\n\n;// ./Graphics/Animation.ts\n\n\n\n\nvar AnimationDirection;\n(function (AnimationDirection) {\n    /**\n     * Animation is playing forwards\n     */\n    AnimationDirection[\"Forward\"] = \"forward\";\n    /**\n     * Animation is playing backwards\n     */\n    AnimationDirection[\"Backward\"] = \"backward\";\n})(AnimationDirection || (AnimationDirection = {}));\nvar AnimationStrategy;\n(function (AnimationStrategy) {\n    /**\n     * Animation ends without displaying anything\n     */\n    AnimationStrategy[\"End\"] = \"end\";\n    /**\n     * Animation loops to the first frame after the last frame\n     */\n    AnimationStrategy[\"Loop\"] = \"loop\";\n    /**\n     * Animation plays to the last frame, then backwards to the first frame, then repeats\n     */\n    AnimationStrategy[\"PingPong\"] = \"pingpong\";\n    /**\n     * Animation ends stopping on the last frame\n     */\n    AnimationStrategy[\"Freeze\"] = \"freeze\";\n})(AnimationStrategy || (AnimationStrategy = {}));\nconst AnimationEvents = {\n    Frame: 'frame',\n    Loop: 'loop',\n    End: 'end'\n};\n/**\n * Create an Animation given a list of {@apilink Frame | `frames`} in {@apilink AnimationOptions}\n *\n * To create an Animation from a {@apilink SpriteSheet}, use {@apilink Animation.fromSpriteSheet}\n */\nclass Animation extends Graphic {\n    constructor(options) {\n        var _a, _b, _c;\n        super(options);\n        this.events = new EventEmitter();\n        this.frames = [];\n        this.strategy = AnimationStrategy.Loop;\n        this.frameDuration = 100;\n        this._idempotencyToken = -1;\n        this._firstTick = true;\n        this._currentFrame = 0;\n        this._timeLeftInFrame = 0;\n        this._pingPongDirection = 1;\n        this._done = false;\n        this._playing = true;\n        this._speed = 1;\n        this._reversed = false;\n        this.frames = options.frames;\n        this.speed = (_a = options.speed) !== null && _a !== void 0 ? _a : this.speed;\n        this.strategy = (_b = options.strategy) !== null && _b !== void 0 ? _b : this.strategy;\n        this.frameDuration = options.totalDuration ? options.totalDuration / this.frames.length : (_c = options.frameDuration) !== null && _c !== void 0 ? _c : this.frameDuration;\n        if (options.reverse) {\n            this.reverse();\n        }\n        this.goToFrame(0);\n    }\n    clone() {\n        return new Animation({\n            frames: this.frames.map((f) => ({ ...f })),\n            frameDuration: this.frameDuration,\n            speed: this.speed,\n            reverse: this._reversed,\n            strategy: this.strategy,\n            ...this.cloneGraphicOptions()\n        });\n    }\n    get width() {\n        const maybeFrame = this.currentFrame;\n        if (maybeFrame && maybeFrame.graphic) {\n            return Math.abs(maybeFrame.graphic.width * this.scale.x);\n        }\n        return 0;\n    }\n    get height() {\n        const maybeFrame = this.currentFrame;\n        if (maybeFrame && maybeFrame.graphic) {\n            return Math.abs(maybeFrame.graphic.height * this.scale.y);\n        }\n        return 0;\n    }\n    /**\n     * Create an Animation from a {@apilink SpriteSheet}, a list of indices into the sprite sheet, a duration per frame\n     * and optional {@apilink AnimationStrategy}\n     *\n     * Example:\n     * ```typescript\n     * const spriteSheet = SpriteSheet.fromImageSource({...});\n     *\n     * const anim = Animation.fromSpriteSheet(spriteSheet, range(0, 5), 200, AnimationStrategy.Loop);\n     * ```\n     * @param spriteSheet ex.SpriteSheet\n     * @param spriteSheetIndex 0 based index from left to right, top down (row major order) of the ex.SpriteSheet\n     * @param durationPerFrame duration per frame in milliseconds\n     * @param strategy Optional strategy, default AnimationStrategy.Loop\n     */\n    static fromSpriteSheet(spriteSheet, spriteSheetIndex, durationPerFrame, strategy = AnimationStrategy.Loop) {\n        const maxIndex = spriteSheet.sprites.length - 1;\n        const invalidIndices = spriteSheetIndex.filter((index) => index < 0 || index > maxIndex);\n        if (invalidIndices.length) {\n            Animation._LOGGER.warn(`Indices into SpriteSheet were provided that don\\'t exist: ${invalidIndices.join(',')} no frame will be shown`);\n        }\n        return new Animation({\n            frames: spriteSheet.sprites\n                .filter((_, index) => spriteSheetIndex.indexOf(index) > -1)\n                .map((f) => ({\n                graphic: f,\n                duration: durationPerFrame\n            })),\n            strategy: strategy\n        });\n    }\n    /**\n     * Create an {@apilink Animation} from a {@apilink SpriteSheet} given a list of coordinates\n     *\n     * Example:\n     * ```typescript\n     * const spriteSheet = SpriteSheet.fromImageSource({...});\n     *\n     * const anim = Animation.fromSpriteSheetCoordinates({\n     *  spriteSheet,\n     *  frameCoordinates: [\n     *    {x: 0, y: 5, duration: 100, options { flipHorizontal: true }},\n     *    {x: 1, y: 5, duration: 200},\n     *    {x: 2, y: 5},\n     *    {x: 3, y: 5}\n     *  ],\n     *  strategy: AnimationStrategy.PingPong\n     * });\n     * ```\n     * @param options\n     * @returns Animation\n     */\n    static fromSpriteSheetCoordinates(options) {\n        var _a;\n        const { spriteSheet, frameCoordinates, durationPerFrame, durationPerFrameMs, speed, strategy, reverse } = options;\n        const defaultDuration = (_a = durationPerFrame !== null && durationPerFrame !== void 0 ? durationPerFrame : durationPerFrameMs) !== null && _a !== void 0 ? _a : 100;\n        const frames = [];\n        for (const coord of frameCoordinates) {\n            const { x, y, duration, options } = coord;\n            const sprite = spriteSheet.getSprite(x, y, options);\n            if (sprite) {\n                frames.push({\n                    graphic: sprite,\n                    duration: duration !== null && duration !== void 0 ? duration : defaultDuration\n                });\n            }\n            else {\n                Animation._LOGGER.warn(`Skipping frame! SpriteSheet does not have coordinate (${x}, ${y}), please check your SpriteSheet to confirm that sprite exists`);\n            }\n        }\n        return new Animation({\n            frames,\n            strategy,\n            speed,\n            reverse\n        });\n    }\n    /**\n     * Current animation speed\n     *\n     * 1 meaning normal 1x speed.\n     * 2 meaning 2x speed and so on.\n     */\n    get speed() {\n        return this._speed;\n    }\n    /**\n     * Current animation speed\n     *\n     * 1 meaning normal 1x speed.\n     * 2 meaning 2x speed and so on.\n     */\n    set speed(val) {\n        this._speed = clamp(Math.abs(val), 0, Infinity);\n    }\n    /**\n     * Returns the current Frame of the animation\n     *\n     * Use {@apilink Animation.currentFrameIndex} to get the frame number and\n     * {@apilink Animation.goToFrame} to set the current frame index\n     */\n    get currentFrame() {\n        if (this._currentFrame >= 0 && this._currentFrame < this.frames.length) {\n            return this.frames[this._currentFrame];\n        }\n        return null;\n    }\n    /**\n     * Returns the current frame index of the animation\n     *\n     * Use {@apilink Animation.currentFrame} to grab the current {@apilink Frame} object\n     */\n    get currentFrameIndex() {\n        return this._currentFrame;\n    }\n    /**\n     * Returns the amount of time in milliseconds left in the current frame\n     */\n    get currentFrameTimeLeft() {\n        return this._timeLeftInFrame;\n    }\n    /**\n     * Returns `true` if the animation is playing\n     */\n    get isPlaying() {\n        return this._playing;\n    }\n    get isReversed() {\n        return this._reversed;\n    }\n    /**\n     * Reverses the play direction of the Animation, this preserves the current frame\n     */\n    reverse() {\n        // Don't mutate with the original frame list, create a copy\n        this.frames = this.frames.slice().reverse();\n        this._reversed = !this._reversed;\n    }\n    /**\n     * Returns the current play direction of the animation\n     */\n    get direction() {\n        // Keep logically consistent with ping-pong direction\n        // If ping-pong is forward = 1 and reversed is true then we are logically reversed\n        const reversed = this._reversed && this._pingPongDirection === 1 ? true : false;\n        return reversed ? AnimationDirection.Backward : AnimationDirection.Forward;\n    }\n    /**\n     * Plays or resumes the animation from the current frame\n     */\n    play() {\n        this._playing = true;\n    }\n    /**\n     * Pauses the animation on the current frame\n     */\n    pause() {\n        this._playing = false;\n        this._firstTick = true; // firstTick must be set to emit the proper frame event\n    }\n    /**\n     * Reset the animation back to the beginning, including if the animation were done\n     */\n    reset() {\n        this._done = false;\n        this._firstTick = true;\n        this._currentFrame = 0;\n        this._timeLeftInFrame = this.frameDuration;\n        const maybeFrame = this.frames[this._currentFrame];\n        if (maybeFrame) {\n            this._timeLeftInFrame = (maybeFrame === null || maybeFrame === void 0 ? void 0 : maybeFrame.duration) || this.frameDuration;\n        }\n    }\n    /**\n     * Returns `true` if the animation can end\n     */\n    get canFinish() {\n        switch (this.strategy) {\n            case AnimationStrategy.End:\n            case AnimationStrategy.Freeze: {\n                return true;\n            }\n            default: {\n                return false;\n            }\n        }\n    }\n    /**\n     * Returns `true` if the animation is done, for looping type animations\n     * `ex.AnimationStrategy.PingPong` and `ex.AnimationStrategy.Loop` this will always return `false`\n     *\n     * See the `ex.Animation.canFinish()` method to know if an animation type can end\n     */\n    get done() {\n        return this._done;\n    }\n    /**\n     * Jump the animation immediately to a specific frame if it exists\n     *\n     * Optionally specify an override for the duration of the frame, useful for\n     * keeping multiple animations in sync with one another.\n     * @param frameNumber\n     * @param duration\n     */\n    goToFrame(frameNumber, duration) {\n        this._currentFrame = frameNumber;\n        this._timeLeftInFrame = duration !== null && duration !== void 0 ? duration : this.frameDuration;\n        const maybeFrame = this.frames[this._currentFrame];\n        if (maybeFrame && !this._done) {\n            this._timeLeftInFrame = duration !== null && duration !== void 0 ? duration : ((maybeFrame === null || maybeFrame === void 0 ? void 0 : maybeFrame.duration) || this.frameDuration);\n            this.events.emit('frame', { ...maybeFrame, frameIndex: this.currentFrameIndex });\n        }\n    }\n    _nextFrame() {\n        const currentFrame = this._currentFrame;\n        if (this._done) {\n            return currentFrame;\n        }\n        let next = -1;\n        switch (this.strategy) {\n            case AnimationStrategy.Loop: {\n                next = (currentFrame + 1) % this.frames.length;\n                if (next === 0) {\n                    this.events.emit('loop', this);\n                }\n                break;\n            }\n            case AnimationStrategy.End: {\n                next = currentFrame + 1;\n                if (next >= this.frames.length) {\n                    this._done = true;\n                    this._currentFrame = this.frames.length;\n                    this.events.emit('end', this);\n                }\n                break;\n            }\n            case AnimationStrategy.Freeze: {\n                next = clamp(currentFrame + 1, 0, this.frames.length - 1);\n                if (next >= this.frames.length - 1) {\n                    this._done = true;\n                    this.events.emit('end', this);\n                }\n                break;\n            }\n            case AnimationStrategy.PingPong: {\n                if (currentFrame + this._pingPongDirection >= this.frames.length) {\n                    this._pingPongDirection = -1;\n                    this.events.emit('loop', this);\n                }\n                if (currentFrame + this._pingPongDirection < 0) {\n                    this._pingPongDirection = 1;\n                    this.events.emit('loop', this);\n                }\n                next = currentFrame + (this._pingPongDirection % this.frames.length);\n                break;\n            }\n        }\n        return next;\n    }\n    /**\n     * Called internally by Excalibur to update the state of the animation potential update the current frame\n     * @param elapsed Milliseconds elapsed\n     * @param idempotencyToken Prevents double ticking in a frame by passing a unique token to the frame\n     */\n    tick(elapsed, idempotencyToken = 0) {\n        if (this._idempotencyToken === idempotencyToken) {\n            return;\n        }\n        this._idempotencyToken = idempotencyToken;\n        if (!this._playing) {\n            return;\n        }\n        // if it's the first frame emit frame event\n        if (this._firstTick) {\n            this._firstTick = false;\n            this.events.emit('frame', { ...this.currentFrame, frameIndex: this.currentFrameIndex });\n        }\n        this._timeLeftInFrame -= elapsed * this._speed;\n        if (this._timeLeftInFrame <= 0) {\n            this.goToFrame(this._nextFrame());\n        }\n    }\n    _drawImage(ctx, x, y) {\n        if (this.currentFrame && this.currentFrame.graphic) {\n            this.currentFrame.graphic.draw(ctx, x, y);\n        }\n    }\n}\nAnimation._LOGGER = Logger.getInstance();\n\n;// ./Graphics/GraphicsGroup.ts\n\n\n\n\n\nclass GraphicsGroup extends Graphic {\n    constructor(options) {\n        var _a;\n        super(options);\n        this._logger = Logger.getInstance();\n        this.useAnchor = true;\n        this.members = [];\n        this.members = options.members;\n        this.useAnchor = (_a = options.useAnchor) !== null && _a !== void 0 ? _a : this.useAnchor;\n        this._updateDimensions();\n    }\n    clone() {\n        return new GraphicsGroup({\n            members: [...this.members],\n            ...this.cloneGraphicOptions()\n        });\n    }\n    _updateDimensions() {\n        const bb = this.localBounds;\n        this.width = bb.width;\n        this.height = bb.height;\n        return bb;\n    }\n    get localBounds() {\n        const bb = new BoundingBox();\n        for (const member of this.members) {\n            if (member instanceof Graphic) {\n                member.localBounds.combine(bb, bb);\n            }\n            else {\n                const { graphic, offset: pos, useBounds } = member;\n                const shouldUseBounds = useBounds === undefined ? true : useBounds;\n                if (graphic) {\n                    if (shouldUseBounds) {\n                        graphic.localBounds.translate(pos).combine(bb, bb);\n                    }\n                }\n                else {\n                    this._logger.warnOnce(`Graphics group member has an null or undefined graphic, member definition: ${JSON.stringify(member)}.`);\n                }\n            }\n        }\n        return bb;\n    }\n    _isAnimationOrGroup(graphic) {\n        return graphic instanceof Animation || graphic instanceof GraphicsGroup;\n    }\n    tick(elapsed, idempotencyToken) {\n        for (const member of this.members) {\n            let graphic;\n            if (member instanceof Graphic) {\n                graphic = member;\n            }\n            else {\n                graphic = member.graphic;\n            }\n            if (this._isAnimationOrGroup(graphic)) {\n                graphic.tick(elapsed, idempotencyToken);\n            }\n        }\n    }\n    reset() {\n        for (const member of this.members) {\n            let graphic;\n            if (member instanceof Graphic) {\n                graphic = member;\n            }\n            else {\n                graphic = member.graphic;\n            }\n            if (this._isAnimationOrGroup(graphic)) {\n                graphic.reset();\n            }\n        }\n    }\n    _preDraw(ex, x, y) {\n        this._updateDimensions();\n        super._preDraw(ex, this.useAnchor ? x : 0, this.useAnchor ? y : 0);\n    }\n    _drawImage(ex, x, y) {\n        const pos = Vector.Zero;\n        for (const member of this.members) {\n            let graphic;\n            if (member instanceof Graphic) {\n                graphic = member;\n            }\n            else {\n                graphic = member.graphic;\n                member.offset.clone(pos);\n            }\n            if (!graphic) {\n                continue;\n            }\n            ex.save();\n            ex.translate(x, y);\n            graphic.draw(ex, pos.x, pos.y);\n            if (this.showDebug) {\n                /* istanbul ignore next */\n                ex.debug.drawRect(0, 0, this.width, this.height);\n            }\n            ex.restore();\n        }\n    }\n}\n\n;// ./Graphics/Raster.ts\n\n\n\n\n\n\n/**\n * A Raster is a Graphic that needs to be first painted to a HTMLCanvasElement before it can be drawn to the\n * {@apilink ExcaliburGraphicsContext}. This is useful for generating custom images using the 2D canvas api.\n *\n * Implementors must implement the {@apilink Raster.execute} method to rasterize their drawing.\n */\nclass Raster extends Graphic {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        super(omit({ ...options }, ['width', 'height'])); // rasters do some special sauce with width/height\n        this.lineCap = 'butt';\n        this.quality = 1;\n        this._dirty = true;\n        this._smoothing = false;\n        this._color = watch(Color.Black, () => this.flagDirty());\n        this._lineWidth = 1;\n        this._lineDash = [];\n        this._padding = 0;\n        if (options) {\n            this.quality = (_a = options.quality) !== null && _a !== void 0 ? _a : this.quality;\n            this.color = (_b = options.color) !== null && _b !== void 0 ? _b : Color.Black;\n            this.strokeColor = options === null || options === void 0 ? void 0 : options.strokeColor;\n            this.smoothing = (_c = options.smoothing) !== null && _c !== void 0 ? _c : this.smoothing;\n            this.lineWidth = (_d = options.lineWidth) !== null && _d !== void 0 ? _d : this.lineWidth;\n            this.lineDash = (_e = options.lineDash) !== null && _e !== void 0 ? _e : this.lineDash;\n            this.lineCap = (_f = options.lineCap) !== null && _f !== void 0 ? _f : this.lineCap;\n            this.padding = (_g = options.padding) !== null && _g !== void 0 ? _g : this.padding;\n            this.filtering = (_h = options.filtering) !== null && _h !== void 0 ? _h : this.filtering;\n        }\n        this._bitmap = document.createElement('canvas');\n        // get the default canvas width/height as a fallback\n        const bitmapWidth = (_j = options === null || options === void 0 ? void 0 : options.width) !== null && _j !== void 0 ? _j : this._bitmap.width;\n        const bitmapHeight = (_k = options === null || options === void 0 ? void 0 : options.height) !== null && _k !== void 0 ? _k : this._bitmap.height;\n        this.width = bitmapWidth;\n        this.height = bitmapHeight;\n        const maybeCtx = this._bitmap.getContext('2d');\n        if (!maybeCtx) {\n            /* istanbul ignore next */\n            throw new Error('Browser does not support 2d canvas drawing, cannot create Raster graphic');\n        }\n        else {\n            this._ctx = maybeCtx;\n        }\n    }\n    cloneRasterOptions() {\n        return {\n            color: this.color ? this.color.clone() : undefined,\n            strokeColor: this.strokeColor ? this.strokeColor.clone() : undefined,\n            smoothing: this.smoothing,\n            lineWidth: this.lineWidth,\n            lineDash: this.lineDash,\n            lineCap: this.lineCap,\n            quality: this.quality,\n            padding: this.padding\n        };\n    }\n    /**\n     * Gets whether the graphic is dirty, this means there are changes that haven't been re-rasterized\n     */\n    get dirty() {\n        return this._dirty;\n    }\n    /**\n     * Flags the graphic as dirty, meaning it must be re-rasterized before draw.\n     * This should be called any time the graphics state changes such that it affects the outputted drawing\n     */\n    flagDirty() {\n        this._dirty = true;\n    }\n    /**\n     * Gets or sets the current width of the Raster graphic. Setting the width will cause the raster\n     * to be flagged dirty causing a re-raster on the next draw.\n     *\n     * Any `padding`s or `quality` set will be factored into the width\n     */\n    get width() {\n        return Math.abs(this._getTotalWidth() * this.scale.x);\n    }\n    set width(value) {\n        value /= Math.abs(this.scale.x);\n        this._bitmap.width = value;\n        this._originalWidth = value;\n        this.flagDirty();\n    }\n    /**\n     * Gets or sets the current height of the Raster graphic. Setting the height will cause the raster\n     * to be flagged dirty causing a re-raster on the next draw.\n     *\n     * Any `padding` or `quality` set will be factored into the height\n     */\n    get height() {\n        return Math.abs(this._getTotalHeight() * this.scale.y);\n    }\n    set height(value) {\n        value /= Math.abs(this.scale.y);\n        this._bitmap.height = value;\n        this._originalHeight = value;\n        this.flagDirty();\n    }\n    _getTotalWidth() {\n        var _a;\n        return (((_a = this._originalWidth) !== null && _a !== void 0 ? _a : this._bitmap.width) + this.padding * 2) * 1;\n    }\n    _getTotalHeight() {\n        var _a;\n        return (((_a = this._originalHeight) !== null && _a !== void 0 ? _a : this._bitmap.height) + this.padding * 2) * 1;\n    }\n    /**\n     * Returns the local bounds of the Raster including the padding\n     */\n    get localBounds() {\n        return BoundingBox.fromDimension(this._getTotalWidth() * this.scale.x, this._getTotalHeight() * this.scale.y, Vector.Zero);\n    }\n    /**\n     * Gets or sets the smoothing (anti-aliasing of the graphic). Setting the height will cause the raster\n     * to be flagged dirty causing a re-raster on the next draw.\n     */\n    get smoothing() {\n        return this._smoothing;\n    }\n    set smoothing(value) {\n        this._smoothing = value;\n        this.flagDirty();\n    }\n    /**\n     * Gets or sets the fillStyle of the Raster graphic. Setting the fillStyle will cause the raster to be\n     * flagged dirty causing a re-raster on the next draw.\n     */\n    get color() {\n        return this._color;\n    }\n    set color(value) {\n        this.flagDirty();\n        this._color = watch(value, () => this.flagDirty());\n    }\n    /**\n     * Gets or sets the strokeStyle of the Raster graphic. Setting the strokeStyle will cause the raster to be\n     * flagged dirty causing a re-raster on the next draw.\n     */\n    get strokeColor() {\n        return this._strokeColor;\n    }\n    set strokeColor(value) {\n        this.flagDirty();\n        if (value) {\n            this._strokeColor = watch(value, () => this.flagDirty());\n        }\n    }\n    /**\n     * Gets or sets the line width of the Raster graphic. Setting the lineWidth will cause the raster to be\n     * flagged dirty causing a re-raster on the next draw.\n     */\n    get lineWidth() {\n        return this._lineWidth;\n    }\n    set lineWidth(value) {\n        this._lineWidth = value;\n        this.flagDirty();\n    }\n    get lineDash() {\n        return this._lineDash;\n    }\n    set lineDash(value) {\n        this._lineDash = value;\n        this.flagDirty();\n    }\n    get padding() {\n        return this._padding;\n    }\n    set padding(value) {\n        this._padding = value;\n        this.flagDirty();\n    }\n    /**\n     * Rasterize the graphic to a bitmap making it usable as in excalibur. Rasterize is called automatically if\n     * the graphic is {@apilink Raster.dirty} on the next {@apilink Graphic.draw} call\n     */\n    rasterize() {\n        this._dirty = false;\n        this._ctx.clearRect(0, 0, this._getTotalWidth(), this._getTotalHeight());\n        this._ctx.save();\n        this._applyRasterProperties(this._ctx);\n        this.execute(this._ctx);\n        this._ctx.restore();\n    }\n    _applyRasterProperties(ctx) {\n        var _a, _b, _c, _d;\n        this._bitmap.width = this._getTotalWidth() * this.quality;\n        this._bitmap.height = this._getTotalHeight() * this.quality;\n        // Do a bad thing to pass the filtering as an attribute\n        this._bitmap.setAttribute('filtering', this.filtering);\n        this._bitmap.setAttribute('forceUpload', 'true');\n        ctx.scale(this.quality, this.quality);\n        ctx.translate(this.padding, this.padding);\n        ctx.imageSmoothingEnabled = this.smoothing;\n        ctx.lineWidth = this.lineWidth;\n        ctx.setLineDash((_a = this.lineDash) !== null && _a !== void 0 ? _a : ctx.getLineDash());\n        ctx.lineCap = this.lineCap;\n        ctx.strokeStyle = (_c = (_b = this.strokeColor) === null || _b === void 0 ? void 0 : _b.toString()) !== null && _c !== void 0 ? _c : '';\n        ctx.fillStyle = (_d = this.color) === null || _d === void 0 ? void 0 : _d.toString();\n    }\n    _drawImage(ex, x, y) {\n        if (this._dirty) {\n            this.rasterize();\n        }\n        ex.scale(1 / this.quality, 1 / this.quality);\n        ex.drawImage(this._bitmap, x, y);\n    }\n}\n\n;// ./Graphics/FontCommon.ts\n/**\n * Enum representing the different font size units\n * https://developer.mozilla.org/en-US/docs/Web/CSS/font-size\n */\nvar FontUnit;\n(function (FontUnit) {\n    /**\n     * Em is a scalable unit, 1 em is equal to the current font size of the current element, parent elements can effect em values\n     */\n    FontUnit[\"Em\"] = \"em\";\n    /**\n     * Rem is similar to the Em, it is a scalable unit. 1 rem is equal to the font size of the root element\n     */\n    FontUnit[\"Rem\"] = \"rem\";\n    /**\n     * Pixel is a unit of length in screen pixels\n     */\n    FontUnit[\"Px\"] = \"px\";\n    /**\n     * Point is a physical unit length (1/72 of an inch)\n     */\n    FontUnit[\"Pt\"] = \"pt\";\n    /**\n     * Percent is a scalable unit similar to Em, the only difference is the Em units scale faster when Text-Size stuff\n     */\n    FontUnit[\"Percent\"] = \"%\";\n})(FontUnit || (FontUnit = {}));\n/**\n * Enum representing the different horizontal text alignments\n */\nvar TextAlign;\n(function (TextAlign) {\n    /**\n     * The text is left-aligned.\n     */\n    TextAlign[\"Left\"] = \"left\";\n    /**\n     * The text is right-aligned.\n     */\n    TextAlign[\"Right\"] = \"right\";\n    /**\n     * The text is centered.\n     */\n    TextAlign[\"Center\"] = \"center\";\n    /**\n     * The text is aligned at the normal start of the line (left-aligned for left-to-right locales,\n     * right-aligned for right-to-left locales).\n     */\n    TextAlign[\"Start\"] = \"start\";\n    /**\n     * The text is aligned at the normal end of the line (right-aligned for left-to-right locales,\n     * left-aligned for right-to-left locales).\n     */\n    TextAlign[\"End\"] = \"end\";\n})(TextAlign || (TextAlign = {}));\n/**\n * Enum representing the different baseline text alignments\n */\nvar BaseAlign;\n(function (BaseAlign) {\n    /**\n     * The text baseline is the top of the em square.\n     */\n    BaseAlign[\"Top\"] = \"top\";\n    /**\n     * The text baseline is the hanging baseline.  Currently unsupported; this will act like\n     * alphabetic.\n     */\n    BaseAlign[\"Hanging\"] = \"hanging\";\n    /**\n     * The text baseline is the middle of the em square.\n     */\n    BaseAlign[\"Middle\"] = \"middle\";\n    /**\n     * The text baseline is the normal alphabetic baseline.\n     */\n    BaseAlign[\"Alphabetic\"] = \"alphabetic\";\n    /**\n     * The text baseline is the ideographic baseline; this is the bottom of\n     * the body of the characters, if the main body of characters protrudes\n     * beneath the alphabetic baseline.  Currently unsupported; this will\n     * act like alphabetic.\n     */\n    BaseAlign[\"Ideographic\"] = \"ideographic\";\n    /**\n     * The text baseline is the bottom of the bounding box.  This differs\n     * from the ideographic baseline in that the ideographic baseline\n     * doesn't consider descenders.\n     */\n    BaseAlign[\"Bottom\"] = \"bottom\";\n})(BaseAlign || (BaseAlign = {}));\n/**\n * Enum representing the different possible font styles\n */\nvar FontStyle;\n(function (FontStyle) {\n    FontStyle[\"Normal\"] = \"normal\";\n    FontStyle[\"Italic\"] = \"italic\";\n    FontStyle[\"Oblique\"] = \"oblique\";\n})(FontStyle || (FontStyle = {}));\n/**\n * Enum representing the text direction, useful for other languages, or writing text in reverse\n */\nvar Direction;\n(function (Direction) {\n    Direction[\"LeftToRight\"] = \"ltr\";\n    Direction[\"RightToLeft\"] = \"rtl\";\n})(Direction || (Direction = {}));\n\n;// ./Util/DrawUtil.ts\n\n/* istanbul ignore next */\n/**\n * Draw a line on canvas context\n * @param ctx The canvas context\n * @param color The color of the line\n * @param x1 The start x coordinate\n * @param y1 The start y coordinate\n * @param x2 The ending x coordinate\n * @param y2 The ending y coordinate\n * @param thickness The line thickness\n * @param cap The {@apilink LineCapStyle} (butt, round, or square)\n */\nfunction line(ctx, color = Color.Red, x1, y1, x2, y2, thickness = 1, cap = 'butt') {\n    ctx.save();\n    ctx.beginPath();\n    ctx.lineWidth = thickness;\n    ctx.lineCap = cap;\n    ctx.strokeStyle = color.toString();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\n/* istanbul ignore next */\n/**\n * Draw the vector as a point onto the canvas.\n */\nfunction point(ctx, color = Color.Red, point) {\n    ctx.beginPath();\n    ctx.strokeStyle = color.toString();\n    ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);\n    ctx.closePath();\n    ctx.stroke();\n}\n/**\n * Draw the vector as a line onto the canvas starting a origin point.\n */\n/* istanbul ignore next */\n/**\n *\n */\nfunction vector(ctx, color, origin, vector, scale = 1.0) {\n    const c = color ? color.toString() : 'blue';\n    const v = vector.scale(scale);\n    ctx.beginPath();\n    ctx.strokeStyle = c;\n    ctx.moveTo(origin.x, origin.y);\n    ctx.lineTo(origin.x + v.x, origin.y + v.y);\n    ctx.closePath();\n    ctx.stroke();\n}\n/**\n * Draw a round rectangle on a canvas context\n * @param ctx The canvas context\n * @param x The top-left x coordinate\n * @param y The top-left y coordinate\n * @param width The width of the rectangle\n * @param height The height of the rectangle\n * @param radius The border radius of the rectangle\n * @param stroke The {@apilink Color} to stroke rectangle with\n * @param fill The {@apilink Color} to fill rectangle with\n */\nfunction roundRect(ctx, x, y, width, height, radius = 5, stroke = Color.White, fill = null) {\n    let br;\n    if (typeof radius === 'number') {\n        br = { tl: radius, tr: radius, br: radius, bl: radius };\n    }\n    else {\n        const defaultRadius = { tl: 0, tr: 0, br: 0, bl: 0 };\n        for (const prop in defaultRadius) {\n            if (defaultRadius.hasOwnProperty(prop)) {\n                const side = prop;\n                br[side] = radius[side] || defaultRadius[side];\n            }\n        }\n    }\n    ctx.beginPath();\n    ctx.moveTo(x + br.tl, y);\n    ctx.lineTo(x + width - br.tr, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + br.tr);\n    ctx.lineTo(x + width, y + height - br.br);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - br.br, y + height);\n    ctx.lineTo(x + br.bl, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - br.bl);\n    ctx.lineTo(x, y + br.tl);\n    ctx.quadraticCurveTo(x, y, x + br.tl, y);\n    ctx.closePath();\n    if (fill) {\n        ctx.fillStyle = fill.toString();\n        ctx.fill();\n    }\n    if (stroke) {\n        ctx.strokeStyle = stroke.toString();\n        ctx.stroke();\n    }\n}\n/**\n *\n */\nfunction circle(ctx, x, y, radius, stroke = Color.White, fill = null) {\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2);\n    ctx.closePath();\n    if (fill) {\n        ctx.fillStyle = fill.toString();\n        ctx.fill();\n    }\n    if (stroke) {\n        ctx.strokeStyle = stroke.toString();\n        ctx.stroke();\n    }\n}\n\n;// ./Graphics/FontTextInstance.ts\n\n\n\n\nclass FontTextInstance {\n    constructor(font, text, color, maxWidth) {\n        this.font = font;\n        this.text = text;\n        this.color = color;\n        this.maxWidth = maxWidth;\n        this._textFragments = [];\n        this.disposed = false;\n        this._dirty = true;\n        this.canvas = document.createElement('canvas');\n        const ctx = this.canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Unable to create FontTextInstance, internal canvas failed to create');\n        }\n        this.ctx = ctx;\n        this.dimensions = this.measureText(text);\n        this._setDimension(this.dimensions, this.ctx);\n        this._lastHashCode = this.getHashCode();\n    }\n    measureText(text, maxWidth) {\n        if (this.disposed) {\n            throw Error('Accessing disposed text instance! ' + this.text);\n        }\n        let lines = null;\n        if (maxWidth != null) {\n            lines = this._getLinesFromText(text, maxWidth);\n        }\n        else {\n            lines = text.split('\\n');\n        }\n        const maxWidthLine = lines.reduce((a, b) => {\n            return a.length > b.length ? a : b;\n        });\n        this._applyFont(this.ctx); // font must be applied to the context to measure it\n        const metrics = this.ctx.measureText(maxWidthLine);\n        let textHeight = Math.abs(metrics.actualBoundingBoxAscent) + Math.abs(metrics.actualBoundingBoxDescent);\n        // TODO line height makes the text bounds wonky\n        const lineAdjustedHeight = textHeight * lines.length;\n        textHeight = lineAdjustedHeight;\n        const bottomBounds = lineAdjustedHeight - Math.abs(metrics.actualBoundingBoxAscent);\n        const x = 0;\n        const y = 0;\n        const measurement = new BoundingBox({\n            left: x - Math.abs(metrics.actualBoundingBoxLeft) - this.font.padding,\n            top: y - Math.abs(metrics.actualBoundingBoxAscent) - this.font.padding,\n            bottom: y + bottomBounds + this.font.padding,\n            right: x + Math.abs(metrics.actualBoundingBoxRight) + this.font.padding\n        });\n        return measurement;\n    }\n    _setDimension(textBounds, bitmap) {\n        let lineHeightRatio = 1;\n        if (this.font.lineHeight) {\n            lineHeightRatio = this.font.lineHeight / this.font.size;\n        }\n        // Changing the width and height clears the context properties\n        // We double the bitmap width to account for all possible alignment\n        // We scale by \"quality\" so we render text without jaggies\n        bitmap.canvas.width = (textBounds.width + this.font.padding * 2) * 2 * this.font.quality;\n        bitmap.canvas.height = (textBounds.height + this.font.padding * 2) * 2 * this.font.quality * lineHeightRatio;\n    }\n    static getHashCode(font, text, color) {\n        var _a;\n        const hash = text +\n            '__hashcode__' +\n            font.fontString +\n            font.showDebug +\n            font.textAlign +\n            font.baseAlign +\n            font.direction +\n            font.lineHeight +\n            JSON.stringify(font.shadow) +\n            (font.padding.toString() +\n                font.smoothing.toString() +\n                font.lineWidth.toString() +\n                font.lineDash.toString() +\n                ((_a = font.strokeColor) === null || _a === void 0 ? void 0 : _a.toString()) +\n                (color ? color.toString() : font.color.toString()));\n        return hash;\n    }\n    getHashCode(includeColor = true) {\n        return FontTextInstance.getHashCode(this.font, this.text, includeColor ? this.color : undefined);\n    }\n    _applyRasterProperties(ctx) {\n        var _a, _b, _c;\n        ctx.translate(this.font.padding, this.font.padding);\n        ctx.imageSmoothingEnabled = this.font.smoothing;\n        ctx.lineWidth = this.font.lineWidth;\n        ctx.setLineDash((_a = this.font.lineDash) !== null && _a !== void 0 ? _a : ctx.getLineDash());\n        ctx.strokeStyle = (_c = (_b = this.font.strokeColor) === null || _b === void 0 ? void 0 : _b.toString()) !== null && _c !== void 0 ? _c : '';\n        ctx.fillStyle = this.color.toString();\n    }\n    _applyFont(ctx) {\n        ctx.resetTransform();\n        ctx.translate(this.font.padding + ctx.canvas.width / 2, this.font.padding + ctx.canvas.height / 2);\n        ctx.scale(this.font.quality, this.font.quality);\n        ctx.textAlign = this.font.textAlign;\n        ctx.textBaseline = this.font.baseAlign;\n        ctx.font = this.font.fontString;\n        ctx.direction = this.font.direction;\n        if (this.font.shadow) {\n            if (this.font.shadow.color) {\n                ctx.shadowColor = this.font.shadow.color.toString();\n            }\n            if (this.font.shadow.blur) {\n                ctx.shadowBlur = this.font.shadow.blur;\n            }\n            if (this.font.shadow.offset) {\n                ctx.shadowOffsetX = this.font.shadow.offset.x;\n                ctx.shadowOffsetY = this.font.shadow.offset.y;\n            }\n        }\n    }\n    _drawText(ctx, lines, lineHeight) {\n        this._applyRasterProperties(ctx);\n        this._applyFont(ctx);\n        for (let i = 0; i < lines.length; i++) {\n            const line = lines[i];\n            if (this.color) {\n                ctx.fillText(line, 0, i * lineHeight);\n            }\n            if (this.font.strokeColor) {\n                ctx.strokeText(line, 0, i * lineHeight);\n            }\n        }\n        if (this.font.showDebug) {\n            // Horizontal line\n            /* istanbul ignore next */\n            line(ctx, Color.Green, -ctx.canvas.width / 2, 0, ctx.canvas.width / 2, 0, 2);\n            // Vertical line\n            /* istanbul ignore next */\n            line(ctx, Color.Red, 0, -ctx.canvas.height / 2, 0, ctx.canvas.height / 2, 2);\n        }\n    }\n    _splitTextBitmap(bitmap) {\n        const textImages = [];\n        let currentX = 0;\n        let currentY = 0;\n        // 4k is the max for mobile devices\n        const width = Math.min(4096, bitmap.canvas.width);\n        const height = Math.min(4096, bitmap.canvas.height);\n        // Splits the original bitmap into 4k max chunks\n        while (currentX < bitmap.canvas.width) {\n            while (currentY < bitmap.canvas.height) {\n                // create new bitmap\n                const canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext('2d');\n                if (!ctx) {\n                    throw new Error('Unable to split internal FontTextInstance bitmap, failed to create internal canvas');\n                }\n                // draw current slice to new bitmap in < 4k chunks\n                ctx.drawImage(bitmap.canvas, currentX, currentY, width, height, 0, 0, width, height);\n                textImages.push({ x: currentX, y: currentY, canvas });\n                currentY += height;\n            }\n            currentX += width;\n            currentY = 0;\n        }\n        return textImages;\n    }\n    flagDirty() {\n        this._dirty = true;\n    }\n    render(ex, x, y, maxWidth) {\n        var _a;\n        if (this.disposed) {\n            throw Error('Accessing disposed text instance! ' + this.text);\n        }\n        this._ex = ex;\n        const hashCode = this.getHashCode();\n        if (this._lastHashCode !== hashCode) {\n            this._dirty = true;\n        }\n        // Calculate image chunks\n        if (this._dirty) {\n            this.dimensions = this.measureText(this.text, maxWidth);\n            this._setDimension(this.dimensions, this.ctx);\n            const lines = this._getLinesFromText(this.text, maxWidth);\n            const lineHeight = (_a = this.font.lineHeight) !== null && _a !== void 0 ? _a : this.dimensions.height / lines.length;\n            // draws the text to the main bitmap\n            this._drawText(this.ctx, lines, lineHeight);\n            // clear any out old fragments\n            if (ex instanceof ExcaliburGraphicsContextWebGL) {\n                for (const frag of this._textFragments) {\n                    ex.textureLoader.delete(frag.canvas);\n                }\n            }\n            // splits to < 4k fragments for large text\n            this._textFragments = this._splitTextBitmap(this.ctx);\n            if (ex instanceof ExcaliburGraphicsContextWebGL) {\n                for (const frag of this._textFragments) {\n                    ex.textureLoader.load(frag.canvas, { filtering: this.font.filtering }, true);\n                }\n            }\n            this._lastHashCode = hashCode;\n            this._dirty = false;\n        }\n        // draws the bitmap fragments to excalibur graphics context\n        for (const frag of this._textFragments) {\n            ex.drawImage(frag.canvas, 0, 0, frag.canvas.width, frag.canvas.height, frag.x / this.font.quality + x - this.ctx.canvas.width / this.font.quality / 2, frag.y / this.font.quality + y - this.ctx.canvas.height / this.font.quality / 2, frag.canvas.width / this.font.quality, frag.canvas.height / this.font.quality);\n        }\n    }\n    dispose() {\n        this.disposed = true;\n        this.dimensions = undefined;\n        this.canvas = undefined;\n        this.ctx = undefined;\n        if (this._ex instanceof ExcaliburGraphicsContextWebGL) {\n            for (const frag of this._textFragments) {\n                this._ex.textureLoader.delete(frag.canvas);\n            }\n        }\n        this._textFragments.length = 0;\n    }\n    _getLinesFromText(text, maxWidth) {\n        var _a;\n        if (this._cachedText === text && this._cachedRenderWidth === maxWidth && ((_a = this._cachedLines) === null || _a === void 0 ? void 0 : _a.length)) {\n            return this._cachedLines;\n        }\n        const lines = text.split('\\n');\n        if (maxWidth == null) {\n            return lines;\n        }\n        // If the current line goes past the maxWidth, append a new line without modifying the underlying text.\n        for (let i = 0; i < lines.length; i++) {\n            let line = lines[i];\n            let newLine = '';\n            if (this.measureText(line).width > maxWidth) {\n                while (this.measureText(line).width > maxWidth) {\n                    newLine = line[line.length - 1] + newLine;\n                    line = line.slice(0, -1); // Remove last character from line\n                }\n                // Update the array with our new values\n                lines[i] = line;\n                lines[i + 1] = newLine;\n            }\n        }\n        this._cachedText = text;\n        this._cachedLines = lines;\n        this._cachedRenderWidth = maxWidth;\n        return lines;\n    }\n}\n\n;// ./Graphics/FontCache.ts\n\n\nclass FontCache {\n    static measureText(text, font, maxWidth) {\n        const hash = FontTextInstance.getHashCode(font, text);\n        if (FontCache._MEASURE_CACHE.has(hash)) {\n            return FontCache._MEASURE_CACHE.get(hash);\n        }\n        FontCache._LOGGER.debug('Font text measurement cache miss');\n        const measurement = font.measureTextWithoutCache(text, maxWidth);\n        FontCache._MEASURE_CACHE.set(hash, measurement);\n        return measurement;\n    }\n    static getTextInstance(text, font, color) {\n        const hash = FontTextInstance.getHashCode(font, text, color);\n        let textInstance = FontCache._TEXT_CACHE.get(hash);\n        if (!textInstance) {\n            textInstance = new FontTextInstance(font, text, color);\n            FontCache._TEXT_CACHE.set(hash, textInstance);\n            FontCache._LOGGER.debug('Font text instance cache miss');\n        }\n        // Cache the bitmap for certain amount of time\n        FontCache._TEXT_USAGE.set(textInstance, performance.now());\n        return textInstance;\n    }\n    static checkAndClearCache() {\n        const deferred = [];\n        const currentHashCodes = new Set();\n        for (const [textInstance, time] of FontCache._TEXT_USAGE.entries()) {\n            // if bitmap hasn't been used in 100 ms clear it\n            if (time + FontCache.FONT_TIMEOUT < performance.now()) {\n                FontCache._LOGGER.debug(`Text cache entry timed out ${textInstance.text}`);\n                deferred.push(textInstance);\n                textInstance.dispose();\n            }\n            else {\n                const hash = textInstance.getHashCode(false);\n                currentHashCodes.add(hash);\n            }\n        }\n        // Deferred removal of text instances\n        deferred.forEach((t) => {\n            FontCache._TEXT_USAGE.delete(t);\n        });\n        // Regenerate text instance cache\n        this._TEXT_CACHE.clear();\n        for (const [textInstance] of this._TEXT_USAGE.entries()) {\n            this._TEXT_CACHE.set(textInstance.getHashCode(), textInstance);\n        }\n        // Regenerated measurement cache\n        const newTextMeasurementCache = new Map();\n        for (const current of currentHashCodes) {\n            if (FontCache._MEASURE_CACHE.has(current)) {\n                newTextMeasurementCache.set(current, FontCache._MEASURE_CACHE.get(current));\n            }\n        }\n        this._MEASURE_CACHE.clear();\n        this._MEASURE_CACHE = newTextMeasurementCache;\n    }\n    static get cacheSize() {\n        return FontCache._TEXT_USAGE.size;\n    }\n    /**\n     * Force clear all cached text bitmaps\n     */\n    static clearCache() {\n        for (const [textInstance] of FontCache._TEXT_USAGE.entries()) {\n            textInstance.dispose();\n        }\n        FontCache._TEXT_USAGE.clear();\n        FontCache._TEXT_CACHE.clear();\n        FontCache._MEASURE_CACHE.clear();\n    }\n}\nFontCache.FONT_TIMEOUT = 500;\nFontCache._LOGGER = Logger.getInstance();\nFontCache._TEXT_USAGE = new Map();\nFontCache._TEXT_CACHE = new Map();\nFontCache._MEASURE_CACHE = new Map();\n\n;// ./Graphics/Font.ts\n\n\n\n\n\n\n\n/**\n * Represents a system or web font in Excalibur\n *\n * If no options specified, the system sans-serif 10 pixel is used\n *\n * If loading a custom web font be sure to have the font loaded before you use it https://erikonarheim.com/posts/dont-test-fonts/\n */\nclass Font extends Graphic {\n    constructor(options = {}) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v;\n        super(options); // <- Graphics properties\n        /**\n         * Set the font filtering mode, by default set to {@apilink ImageFiltering.Blended} regardless of the engine default smoothing\n         *\n         * If you have a pixel style font that may be a reason to switch this to {@apilink ImageFiltering.Pixel}\n         */\n        this.filtering = ImageFiltering.Blended;\n        /**\n         * Font quality determines the size of the underlying raster text, higher quality means less jagged edges.\n         * If quality is set to 1, then just enough raster bitmap is generated to render the text.\n         *\n         * You can think of quality as how zoomed in to the text you can get before seeing jagged edges.\n         *\n         * (Default 2)\n         */\n        this.quality = 2;\n        // Raster properties for fonts\n        this.padding = 2;\n        this.smoothing = false;\n        this.lineWidth = 1;\n        this.lineDash = [];\n        this.color = Color.Black;\n        this.family = 'sans-serif';\n        this.style = FontStyle.Normal;\n        this.bold = false;\n        this.unit = FontUnit.Px;\n        this.textAlign = TextAlign.Left;\n        this.baseAlign = BaseAlign.Top;\n        this.direction = Direction.LeftToRight;\n        /**\n         * Font line height in pixels, default line height if unset\n         */\n        this.lineHeight = undefined;\n        this.size = 10;\n        this._textBounds = new BoundingBox();\n        this._textMeasurement = new FontTextInstance(this, '', Color.Black);\n        // Raster properties\n        this.smoothing = (_a = options === null || options === void 0 ? void 0 : options.smoothing) !== null && _a !== void 0 ? _a : this.smoothing;\n        this.padding = (_b = options === null || options === void 0 ? void 0 : options.padding) !== null && _b !== void 0 ? _b : this.padding;\n        this.color = (_c = options === null || options === void 0 ? void 0 : options.color) !== null && _c !== void 0 ? _c : this.color;\n        this.strokeColor = (_d = options === null || options === void 0 ? void 0 : options.strokeColor) !== null && _d !== void 0 ? _d : this.strokeColor;\n        this.lineDash = (_e = options === null || options === void 0 ? void 0 : options.lineDash) !== null && _e !== void 0 ? _e : this.lineDash;\n        this.lineWidth = (_f = options === null || options === void 0 ? void 0 : options.lineWidth) !== null && _f !== void 0 ? _f : this.lineWidth;\n        this.filtering = (_g = options === null || options === void 0 ? void 0 : options.filtering) !== null && _g !== void 0 ? _g : this.filtering;\n        // Font specific properties\n        this.family = (_h = options === null || options === void 0 ? void 0 : options.family) !== null && _h !== void 0 ? _h : this.family;\n        this.style = (_j = options === null || options === void 0 ? void 0 : options.style) !== null && _j !== void 0 ? _j : this.style;\n        this.bold = (_k = options === null || options === void 0 ? void 0 : options.bold) !== null && _k !== void 0 ? _k : this.bold;\n        this.size = (_l = options === null || options === void 0 ? void 0 : options.size) !== null && _l !== void 0 ? _l : this.size;\n        this.unit = (_m = options === null || options === void 0 ? void 0 : options.unit) !== null && _m !== void 0 ? _m : this.unit;\n        this.textAlign = (_o = options === null || options === void 0 ? void 0 : options.textAlign) !== null && _o !== void 0 ? _o : this.textAlign;\n        this.baseAlign = (_p = options === null || options === void 0 ? void 0 : options.baseAlign) !== null && _p !== void 0 ? _p : this.baseAlign;\n        this.direction = (_q = options === null || options === void 0 ? void 0 : options.direction) !== null && _q !== void 0 ? _q : this.direction;\n        this.lineHeight = (_r = options === null || options === void 0 ? void 0 : options.lineHeight) !== null && _r !== void 0 ? _r : this.lineHeight;\n        this.quality = (_s = options === null || options === void 0 ? void 0 : options.quality) !== null && _s !== void 0 ? _s : this.quality;\n        if (options === null || options === void 0 ? void 0 : options.shadow) {\n            this.shadow = {};\n            this.shadow.blur = (_t = options.shadow.blur) !== null && _t !== void 0 ? _t : this.shadow.blur;\n            this.shadow.offset = (_u = options.shadow.offset) !== null && _u !== void 0 ? _u : this.shadow.offset;\n            this.shadow.color = (_v = options.shadow.color) !== null && _v !== void 0 ? _v : this.shadow.color;\n        }\n    }\n    clone() {\n        return new Font({\n            ...this.cloneGraphicOptions(),\n            size: this.size,\n            unit: this.unit,\n            family: this.family,\n            style: this.style,\n            bold: this.bold,\n            textAlign: this.textAlign,\n            baseAlign: this.baseAlign,\n            direction: this.direction,\n            shadow: this.shadow\n                ? {\n                    blur: this.shadow.blur,\n                    offset: this.shadow.offset,\n                    color: this.shadow.color\n                }\n                : undefined\n        });\n    }\n    get fontString() {\n        return `${this.style} ${this.bold ? 'bold' : ''} ${this.size}${this.unit} ${this.family}`;\n    }\n    get localBounds() {\n        return this._textBounds;\n    }\n    _drawImage(_ex, _x, _y) {\n        // TODO weird vestigial drawimage\n    }\n    _rotate(ex) {\n        var _a;\n        // TODO this needs to change depending on the bounding box...\n        const origin = (_a = this.origin) !== null && _a !== void 0 ? _a : this._textBounds.center;\n        ex.translate(origin.x, origin.y);\n        ex.rotate(this.rotation);\n        ex.translate(-origin.x, -origin.y);\n    }\n    _flip(ex) {\n        if (this.flipHorizontal) {\n            ex.translate(this._textBounds.width / this.scale.x, 0);\n            ex.scale(-1, 1);\n        }\n        if (this.flipVertical) {\n            ex.translate(0, -this._textBounds.height / 2 / this.scale.y);\n            ex.scale(1, -1);\n        }\n    }\n    measureTextWithoutCache(text, maxWidth) {\n        return this._textMeasurement.measureText(text, maxWidth);\n    }\n    /**\n     * Returns a BoundingBox that is the total size of the text including multiple lines\n     *\n     * Does not include any padding or adjustment\n     * @param text\n     * @returns BoundingBox\n     */\n    measureText(text, maxWidth) {\n        return FontCache.measureText(text, this, maxWidth);\n    }\n    _postDraw(ex) {\n        ex.restore();\n    }\n    render(ex, text, colorOverride, x, y, maxWidth) {\n        const textInstance = FontCache.getTextInstance(text, this, colorOverride);\n        // Apply affine transformations\n        this._textBounds = textInstance.dimensions;\n        this._preDraw(ex, x, y);\n        textInstance.render(ex, x, y, maxWidth);\n        this._postDraw(ex);\n    }\n}\n\n;// ./Graphics/Text.ts\n\n\n\n/**\n * Represent Text graphics in excalibur\n *\n * Useful for in game labels, ui, or overlays\n */\nclass Text extends Graphic {\n    constructor(options) {\n        var _a, _b;\n        super(options);\n        this._text = '';\n        this._textWidth = 0;\n        this._textHeight = 0;\n        // This order is important font, color, then text\n        this.font = (_a = options.font) !== null && _a !== void 0 ? _a : new Font();\n        this.color = (_b = options.color) !== null && _b !== void 0 ? _b : this.color;\n        this.text = options.text;\n        this.maxWidth = options.maxWidth;\n    }\n    clone() {\n        var _a, _b;\n        return new Text({\n            text: this.text.slice(),\n            color: (_b = (_a = this.color) === null || _a === void 0 ? void 0 : _a.clone()) !== null && _b !== void 0 ? _b : Color.Black,\n            font: this.font.clone(),\n            maxWidth: this.maxWidth\n        });\n    }\n    get text() {\n        return this._text;\n    }\n    set text(value) {\n        this._text = value;\n        this._calculateDimension();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n    }\n    get width() {\n        if (this._textWidth === 0) {\n            this._calculateDimension();\n        }\n        return this._textWidth * this.scale.x;\n    }\n    get height() {\n        if (this._textHeight === 0) {\n            this._calculateDimension();\n        }\n        return this._textHeight * this.scale.y;\n    }\n    _calculateDimension() {\n        const { width, height } = this.font.measureText(this._text, this.maxWidth);\n        this._textWidth = width;\n        this._textHeight = height;\n    }\n    get localBounds() {\n        return this.font.measureText(this._text, this.maxWidth).scale(this.scale);\n    }\n    _rotate(_ex) {\n        // None this is delegated to font\n        // This override erases the default behavior\n    }\n    _flip(_ex) {\n        // None this is delegated to font\n        // This override erases the default behavior\n    }\n    _preDraw(ex, x, y) {\n        if (this.isStale() || this.font.isStale()) {\n            this.font.flipHorizontal = this.flipHorizontal;\n            this.font.flipVertical = this.flipVertical;\n            this.font.rotation = this.rotation;\n            this.font.origin = this.origin;\n            this.font.opacity = this.opacity;\n        }\n        this.font.tint = this.tint;\n        super._preDraw(ex, x, y);\n    }\n    _drawImage(ex, x, y) {\n        var _a;\n        let color = Color.Black;\n        if (this.font instanceof Font) {\n            color = (_a = this.color) !== null && _a !== void 0 ? _a : this.font.color;\n        }\n        const { width, height } = this.font.measureText(this._text, this.maxWidth);\n        this._textWidth = width;\n        this._textHeight = height;\n        this.font.render(ex, this._text, color, x, y, this.maxWidth);\n        if (this.font.showDebug) {\n            ex.debug.drawRect(x - width, y - height, width * 2, height * 2);\n            if (this.maxWidth != null) {\n                ex.debug.drawRect(x, y, this.maxWidth, this.height, {\n                    color: Color.Yellow\n                });\n            }\n        }\n    }\n}\n\n;// ./Graphics/GraphicsComponent.ts\n\n\n\n\n\n\n\n\n\n\n/**\n * Type guard for checking if a Graphic HasTick (used for graphics that change over time like animations)\n * @param graphic\n */\nfunction hasGraphicsTick(graphic) {\n    return !!graphic.tick;\n}\n/**\n * Component to manage drawings, using with the position component\n */\nclass GraphicsComponent extends Component {\n    /**\n     * Sets or gets wether any drawing should be visible in this component\n     * @deprecated use isVisible\n     */\n    get visible() {\n        return this.isVisible;\n    }\n    /**\n     * Sets or gets wether any drawing should be visible in this component\n     * @deprecated use isVisible\n     */\n    set visible(val) {\n        this.isVisible = val;\n    }\n    /**\n     * Offset to apply to graphics by default\n     */\n    get offset() {\n        return this._offset;\n    }\n    set offset(value) {\n        this._offset = new WatchVector(value, () => this.recalculateBounds());\n        this.recalculateBounds();\n    }\n    /**\n     * Anchor to apply to graphics by default\n     */\n    get anchor() {\n        return this._anchor;\n    }\n    set anchor(value) {\n        this._anchor = new WatchVector(value, () => this.recalculateBounds());\n        this.recalculateBounds();\n    }\n    /**\n     * Sets the color of the actor's current graphic\n     */\n    get color() {\n        return this._color;\n    }\n    set color(v) {\n        if (v) {\n            this._color = v.clone();\n            const currentGraphic = this.graphics.current;\n            if (currentGraphic instanceof Raster || currentGraphic instanceof Text) {\n                currentGraphic.color = this._color;\n            }\n        }\n    }\n    constructor(options) {\n        super();\n        this._logger = Logger.getInstance();\n        this._current = 'default';\n        this._graphics = {};\n        this._options = {};\n        this.material = null;\n        /**\n         * Sets or gets wether any drawing should be visible in this component\n         */\n        this.isVisible = true;\n        /**\n         * Optionally force the graphic onscreen, default false. Not recommend to use for perf reasons, only if you known what you're doing.\n         */\n        this.forceOnScreen = false;\n        /**\n         * Sets or gets wither all drawings should have an opacity applied\n         */\n        this.opacity = 1;\n        this._offset = new WatchVector(Vector.Zero, () => this.recalculateBounds());\n        this._anchor = new WatchVector(Vector.Half, () => this.recalculateBounds());\n        /**\n         * Flip all graphics horizontally along the y-axis\n         */\n        this.flipHorizontal = false;\n        /**\n         * Flip all graphics vertically along the x-axis\n         */\n        this.flipVertical = false;\n        /**\n         * If set to true graphics added to the component will be copied. This can effect performance, but is useful if you don't want\n         * changes to a graphic to effect all the places it is used.\n         */\n        this.copyGraphics = false;\n        // Defaults\n        options = {\n            visible: this.isVisible,\n            graphics: {},\n            ...options\n        };\n        const { current, anchor, color, opacity, visible, graphics, offset, copyGraphics, onPreDraw, onPostDraw, onPreTransformDraw, onPostTransformDraw } = options;\n        for (const [key, graphicOrOptions] of Object.entries(graphics)) {\n            if (graphicOrOptions instanceof Graphic) {\n                this._graphics[key] = graphicOrOptions;\n            }\n            else {\n                this._graphics[key] = graphicOrOptions.graphic;\n                this._options[key] = graphicOrOptions.options;\n            }\n        }\n        this.offset = offset !== null && offset !== void 0 ? offset : this.offset;\n        this.opacity = opacity !== null && opacity !== void 0 ? opacity : this.opacity;\n        this.anchor = anchor !== null && anchor !== void 0 ? anchor : this.anchor;\n        this.color = color !== null && color !== void 0 ? color : this.color;\n        this.copyGraphics = copyGraphics !== null && copyGraphics !== void 0 ? copyGraphics : this.copyGraphics;\n        this.onPreDraw = onPreDraw !== null && onPreDraw !== void 0 ? onPreDraw : this.onPreDraw;\n        this.onPostDraw = onPostDraw !== null && onPostDraw !== void 0 ? onPostDraw : this.onPostDraw;\n        this.onPreDraw = onPreTransformDraw !== null && onPreTransformDraw !== void 0 ? onPreTransformDraw : this.onPreTransformDraw;\n        this.onPostTransformDraw = onPostTransformDraw !== null && onPostTransformDraw !== void 0 ? onPostTransformDraw : this.onPostTransformDraw;\n        this.isVisible = !!visible;\n        this._current = current !== null && current !== void 0 ? current : this._current;\n        if (current && this._graphics[current]) {\n            this.use(current);\n        }\n    }\n    getGraphic(name) {\n        return this._graphics[name];\n    }\n    getOptions(name) {\n        return this._options[name];\n    }\n    /**\n     * Get registered graphics names\n     */\n    getNames() {\n        return Object.keys(this._graphics);\n    }\n    /**\n     * Returns the currently displayed graphic\n     */\n    get current() {\n        return this._graphics[this._current];\n    }\n    /**\n     * Returns the currently displayed graphic offsets\n     */\n    get currentOptions() {\n        return this._options[this._current];\n    }\n    /**\n     * Returns all graphics associated with this component\n     */\n    get graphics() {\n        return this._graphics;\n    }\n    /**\n     * Returns all graphics options associated with this component\n     */\n    get options() {\n        return this._options;\n    }\n    add(nameOrGraphic, graphicOrOptions, options) {\n        let name = 'default';\n        let graphicToSet = null;\n        let optionsToSet = undefined;\n        if (typeof nameOrGraphic === 'string' && graphicOrOptions instanceof Graphic) {\n            name = nameOrGraphic;\n            graphicToSet = graphicOrOptions;\n            optionsToSet = options;\n        }\n        if (nameOrGraphic instanceof Graphic && !(graphicOrOptions instanceof Graphic)) {\n            graphicToSet = nameOrGraphic;\n            optionsToSet = graphicOrOptions;\n        }\n        if (!graphicToSet) {\n            throw new Error('Need to provide a graphic or valid graphic string');\n        }\n        this._graphics[name] = this.copyGraphics ? graphicToSet.clone() : graphicToSet;\n        this._options[name] = this.copyGraphics ? { ...optionsToSet } : optionsToSet;\n        if (name === 'default') {\n            this.use('default');\n        }\n        return graphicToSet;\n    }\n    /**\n     * Removes a registered graphic, if the removed graphic is the current it will switch to the default\n     * @param name\n     */\n    remove(name) {\n        delete this._graphics[name];\n        delete this._options[name];\n        if (this._current === name) {\n            this._current = 'default';\n            this.recalculateBounds();\n        }\n    }\n    /**\n     * Use a graphic only, will set the default graphic. Returns the new {@apilink Graphic}\n     *\n     * Optionally override the stored options\n     * @param nameOrGraphic\n     * @param options\n     */\n    use(nameOrGraphic, options) {\n        var _a;\n        if (nameOrGraphic instanceof Graphic) {\n            let graphic = nameOrGraphic;\n            if (this.copyGraphics) {\n                graphic = nameOrGraphic.clone();\n            }\n            this._current = 'default';\n            this._graphics[this._current] = graphic;\n            this._options[this._current] = options;\n        }\n        else {\n            this._current = nameOrGraphic;\n            this._options[this._current] = options;\n            if (!(this._current in this._graphics)) {\n                this._logger.warn(`Graphic ${this._current} is not registered with the graphics component owned by ${(_a = this.owner) === null || _a === void 0 ? void 0 : _a.name}. Nothing will be drawn.`);\n            }\n        }\n        this.recalculateBounds();\n        return this.current;\n    }\n    /**\n     * Hide currently shown graphic\n     */\n    hide() {\n        this._current = 'ex.none';\n    }\n    set localBounds(bounds) {\n        this._localBounds = bounds;\n    }\n    recalculateBounds() {\n        let bb = new BoundingBox();\n        const graphic = this._graphics[this._current];\n        const options = this._options[this._current];\n        if (!graphic) {\n            this._localBounds = bb;\n            return;\n        }\n        let anchor = this.anchor;\n        let offset = this.offset;\n        if (options === null || options === void 0 ? void 0 : options.anchor) {\n            anchor = options.anchor;\n        }\n        if (options === null || options === void 0 ? void 0 : options.offset) {\n            offset = options.offset;\n        }\n        const bounds = graphic.localBounds;\n        const offsetX = -bounds.width * anchor.x + offset.x;\n        const offsetY = -bounds.height * anchor.y + offset.y;\n        if (graphic instanceof GraphicsGroup && !graphic.useAnchor) {\n            bb = graphic === null || graphic === void 0 ? void 0 : graphic.localBounds.combine(bb);\n        }\n        else {\n            bb = graphic === null || graphic === void 0 ? void 0 : graphic.localBounds.translate(vec(offsetX, offsetY)).combine(bb);\n        }\n        this._localBounds = bb;\n    }\n    /**\n     * Get local bounds of graphics component\n     */\n    get localBounds() {\n        if (!this._localBounds || this._localBounds.hasZeroDimensions()) {\n            this.recalculateBounds();\n        }\n        return this._localBounds; // recalc guarantees type\n    }\n    /**\n     * Get world bounds of graphics component\n     */\n    get bounds() {\n        let bounds = this.localBounds;\n        if (this.owner) {\n            const tx = this.owner.get(TransformComponent);\n            if (tx) {\n                bounds = bounds.transform(tx.get().matrix);\n            }\n        }\n        return bounds;\n    }\n    /**\n     * Update underlying graphics if necessary, called internally\n     * @param elapsed\n     * @internal\n     */\n    update(elapsed, idempotencyToken = 0) {\n        const graphic = this.current;\n        if (graphic && hasGraphicsTick(graphic)) {\n            graphic.tick(elapsed, idempotencyToken);\n        }\n    }\n    clone() {\n        const graphics = new GraphicsComponent();\n        graphics._graphics = { ...this._graphics };\n        graphics._options = { ...this._options };\n        graphics.offset = this.offset.clone();\n        if (this.color) {\n            graphics.color = this.color.clone();\n        }\n        graphics.opacity = this.opacity;\n        graphics.anchor = this.anchor.clone();\n        graphics.copyGraphics = this.copyGraphics;\n        graphics.onPreDraw = this.onPreDraw;\n        graphics.onPostDraw = this.onPostDraw;\n        graphics.isVisible = this.isVisible;\n        return graphics;\n    }\n}\n\n;// ./Events.ts\nvar EventTypes;\n(function (EventTypes) {\n    EventTypes[\"Kill\"] = \"kill\";\n    EventTypes[\"PreKill\"] = \"prekill\";\n    EventTypes[\"PostKill\"] = \"postkill\";\n    EventTypes[\"PreDraw\"] = \"predraw\";\n    EventTypes[\"PostDraw\"] = \"postdraw\";\n    EventTypes[\"PreDebugDraw\"] = \"predebugdraw\";\n    EventTypes[\"PostDebugDraw\"] = \"postdebugdraw\";\n    EventTypes[\"PreUpdate\"] = \"preupdate\";\n    EventTypes[\"PostUpdate\"] = \"postupdate\";\n    EventTypes[\"PreFrame\"] = \"preframe\";\n    EventTypes[\"PostFrame\"] = \"postframe\";\n    EventTypes[\"PreCollision\"] = \"precollision\";\n    EventTypes[\"CollisionStart\"] = \"collisionstart\";\n    EventTypes[\"CollisionEnd\"] = \"collisionend\";\n    EventTypes[\"PostCollision\"] = \"postcollision\";\n    EventTypes[\"Initialize\"] = \"initialize\";\n    EventTypes[\"Activate\"] = \"activate\";\n    EventTypes[\"Deactivate\"] = \"deactivate\";\n    EventTypes[\"ExitViewport\"] = \"exitviewport\";\n    EventTypes[\"EnterViewport\"] = \"enterviewport\";\n    EventTypes[\"ExitTrigger\"] = \"exit\";\n    EventTypes[\"EnterTrigger\"] = \"enter\";\n    EventTypes[\"Connect\"] = \"connect\";\n    EventTypes[\"Disconnect\"] = \"disconnect\";\n    EventTypes[\"Button\"] = \"button\";\n    EventTypes[\"Axis\"] = \"axis\";\n    EventTypes[\"Visible\"] = \"visible\";\n    EventTypes[\"Hidden\"] = \"hidden\";\n    EventTypes[\"Start\"] = \"start\";\n    EventTypes[\"Stop\"] = \"stop\";\n    EventTypes[\"PointerUp\"] = \"pointerup\";\n    EventTypes[\"PointerDown\"] = \"pointerdown\";\n    EventTypes[\"PointerMove\"] = \"pointermove\";\n    EventTypes[\"PointerEnter\"] = \"pointerenter\";\n    EventTypes[\"PointerLeave\"] = \"pointerleave\";\n    EventTypes[\"PointerCancel\"] = \"pointercancel\";\n    EventTypes[\"PointerWheel\"] = \"pointerwheel\";\n    EventTypes[\"Up\"] = \"up\";\n    EventTypes[\"Down\"] = \"down\";\n    EventTypes[\"Move\"] = \"move\";\n    EventTypes[\"Enter\"] = \"enter\";\n    EventTypes[\"Leave\"] = \"leave\";\n    EventTypes[\"Cancel\"] = \"cancel\";\n    EventTypes[\"Wheel\"] = \"wheel\";\n    EventTypes[\"Press\"] = \"press\";\n    EventTypes[\"Release\"] = \"release\";\n    EventTypes[\"Hold\"] = \"hold\";\n    EventTypes[\"PointerDragStart\"] = \"pointerdragstart\";\n    EventTypes[\"PointerDragEnd\"] = \"pointerdragend\";\n    EventTypes[\"PointerDragEnter\"] = \"pointerdragenter\";\n    EventTypes[\"PointerDragLeave\"] = \"pointerdragleave\";\n    EventTypes[\"PointerDragMove\"] = \"pointerdragmove\";\n    EventTypes[\"ActionStart\"] = \"actionstart\";\n    EventTypes[\"ActionComplete\"] = \"actioncomplete\";\n    EventTypes[\"Add\"] = \"add\";\n    EventTypes[\"Remove\"] = \"remove\";\n})(EventTypes || (EventTypes = {}));\n/**\n * Base event type in Excalibur that all other event types derive from. Not all event types are thrown on all Excalibur game objects,\n * some events are unique to a type, others are not.\n *\n */\nclass GameEvent {\n    constructor() {\n        /**\n         * Other target object for this event\n         */\n        this.other = null;\n        this._bubbles = true;\n    }\n    /**\n     * If set to false, prevents event from propagating to other actors. If true it will be propagated\n     * to all actors that apply.\n     */\n    get bubbles() {\n        return this._bubbles;\n    }\n    set bubbles(value) {\n        this._bubbles = value;\n    }\n    /**\n     * Prevents event from bubbling\n     */\n    stopPropagation() {\n        this.bubbles = false;\n    }\n}\n/**\n * The 'kill' event is emitted on actors when it is killed. The target is the actor that was killed.\n */\nclass KillEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'prekill' event is emitted directly before an actor is killed.\n */\nclass PreKillEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'postkill' event is emitted directly after the actor is killed.\n */\nclass PostKillEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'start' event is emitted on engine when has started and is ready for interaction.\n */\nclass GameStartEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'stop' event is emitted on engine when has been stopped and will no longer take input, update or draw.\n */\nclass GameStopEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'predraw' event is emitted on actors, scenes, and engine before drawing starts. Actors' predraw happens inside their graphics\n * transform so that all drawing takes place with the actor as the origin.\n *\n */\nclass PreDrawEvent extends GameEvent {\n    constructor(ctx, elapsed, self) {\n        super();\n        this.ctx = ctx;\n        this.elapsed = elapsed;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'postdraw' event is emitted on actors, scenes, and engine after drawing finishes. Actors' postdraw happens inside their graphics\n * transform so that all drawing takes place with the actor as the origin.\n *\n */\nclass PostDrawEvent extends GameEvent {\n    constructor(ctx, elapsed, self) {\n        super();\n        this.ctx = ctx;\n        this.elapsed = elapsed;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'pretransformdraw' event is emitted on actors/entities before any graphics transforms have taken place.\n * Useful if you need to completely customize the draw or modify the transform before drawing in the draw step (for example needing\n * latest camera positions)\n *\n */\nclass PreTransformDrawEvent extends GameEvent {\n    constructor(ctx, elapsed, self) {\n        super();\n        this.ctx = ctx;\n        this.elapsed = elapsed;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'posttransformdraw' event is emitted on actors/entities after all graphics have been draw and transforms reset.\n * Useful if you need to completely custom the draw after everything is done.\n *\n */\nclass PostTransformDrawEvent extends GameEvent {\n    constructor(ctx, elapsed, self) {\n        super();\n        this.ctx = ctx;\n        this.elapsed = elapsed;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'predebugdraw' event is emitted on actors, scenes, and engine before debug drawing starts.\n */\nclass PreDebugDrawEvent extends GameEvent {\n    constructor(ctx, self) {\n        super();\n        this.ctx = ctx;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'postdebugdraw' event is emitted on actors, scenes, and engine after debug drawing starts.\n */\nclass PostDebugDrawEvent extends GameEvent {\n    constructor(ctx, self) {\n        super();\n        this.ctx = ctx;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'preupdate' event is emitted on actors, scenes, camera, and engine before the update starts.\n */\nclass PreUpdateEvent extends GameEvent {\n    constructor(engine, elapsed, self) {\n        super();\n        this.engine = engine;\n        this.elapsed = elapsed;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'postupdate' event is emitted on actors, scenes, camera, and engine after the update ends.\n */\nclass PostUpdateEvent extends GameEvent {\n    constructor(engine, elapsed, self) {\n        super();\n        this.engine = engine;\n        this.elapsed = elapsed;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * The 'preframe' event is emitted on the engine, before the frame begins.\n */\nclass PreFrameEvent extends GameEvent {\n    constructor(engine, prevStats) {\n        super();\n        this.engine = engine;\n        this.prevStats = prevStats;\n        this.target = engine;\n    }\n}\n/**\n * The 'postframe' event is emitted on the engine, after a frame ends.\n */\nclass PostFrameEvent extends GameEvent {\n    constructor(engine, stats) {\n        super();\n        this.engine = engine;\n        this.stats = stats;\n        this.target = engine;\n    }\n}\n/**\n * Event received when a gamepad is connected to Excalibur. {@apilink Gamepads} receives this event.\n */\nclass GamepadConnectEvent extends GameEvent {\n    constructor(index, gamepad) {\n        super();\n        this.index = index;\n        this.gamepad = gamepad;\n        this.target = gamepad;\n    }\n}\n/**\n * Event received when a gamepad is disconnected from Excalibur. {@apilink Gamepads} receives this event.\n */\nclass GamepadDisconnectEvent extends GameEvent {\n    constructor(index, gamepad) {\n        super();\n        this.index = index;\n        this.gamepad = gamepad;\n        this.target = gamepad;\n    }\n}\n/**\n * Gamepad button event. See {@apilink Gamepads} for information on responding to controller input. {@apilink Gamepad} instances receive this event;\n */\nclass GamepadButtonEvent extends GameEvent {\n    /**\n     * @param button  The Gamepad button\n     * @param value   A numeric value between 0 and 1\n     */\n    constructor(button, value, self) {\n        super();\n        this.button = button;\n        this.value = value;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Gamepad axis event. See {@apilink Gamepads} for information on responding to controller input. {@apilink Gamepad} instances receive this event;\n */\nclass GamepadAxisEvent extends GameEvent {\n    /**\n     * @param axis  The Gamepad axis\n     * @param value A numeric value between -1 and 1\n     */\n    constructor(axis, value, self) {\n        super();\n        this.axis = axis;\n        this.value = value;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event received by the {@apilink Engine} when the browser window is visible on a screen.\n */\nclass VisibleEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event received by the {@apilink Engine} when the browser window is hidden from all screens.\n */\nclass HiddenEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an {@apilink Actor | `actor`} when a collision will occur this frame if it resolves\n */\nclass PreCollisionEvent extends GameEvent {\n    /**\n     * @param self          The actor the event was thrown on\n     * @param other         The actor that will collided with the current actor\n     * @param side          The side that will be collided with the current actor\n     * @param intersection  Intersection vector\n     */\n    constructor(self, other, side, intersection, contact) {\n        super();\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an {@apilink Actor | `actor`} when a collision has been resolved (body reacted) this frame\n */\nclass PostCollisionEvent extends GameEvent {\n    /**\n     * @param self          The actor the event was thrown on\n     * @param other         The actor that did collide with the current actor\n     * @param side          The side that did collide with the current actor\n     * @param intersection  Intersection vector\n     */\n    constructor(self, other, side, intersection, contact) {\n        super();\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n        this.target = self;\n    }\n}\nclass ContactStartEvent {\n    constructor(self, other, side, contact) {\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.contact = contact;\n    }\n}\nclass ContactEndEvent {\n    constructor(self, other, side, lastContact) {\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.lastContact = lastContact;\n    }\n}\nclass CollisionPreSolveEvent {\n    constructor(self, other, side, intersection, contact) {\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n    }\n}\nclass CollisionPostSolveEvent {\n    constructor(self, other, side, intersection, contact) {\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.intersection = intersection;\n        this.contact = contact;\n    }\n}\n/**\n * Event thrown the first time an {@apilink Actor | `actor`} collides with another, after an actor is in contact normal collision events are fired.\n */\nclass CollisionStartEvent extends GameEvent {\n    /**\n     *\n     * @param self\n     * @param other\n     * @param side\n     * @param contact\n     */\n    constructor(self, other, side, contact) {\n        super();\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.contact = contact;\n        this.target = self;\n    }\n}\n/**\n * Event thrown when the {@apilink Actor | `actor`} is no longer colliding with another\n */\nclass CollisionEndEvent extends GameEvent {\n    /**\n     *\n     */\n    constructor(self, other, side, lastContact) {\n        super();\n        this.self = self;\n        this.other = other;\n        this.side = side;\n        this.lastContact = lastContact;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an {@apilink Actor}, {@apilink Scene}, and {@apilink Engine} only once before the first update call\n */\nclass InitializeEvent extends GameEvent {\n    /**\n     * @param engine  The reference to the current engine\n     */\n    constructor(engine, self) {\n        super();\n        this.engine = engine;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on a {@apilink Scene} on activation\n */\nclass ActivateEvent extends GameEvent {\n    /**\n     * @param context  The context for the scene activation\n     */\n    constructor(context, self) {\n        super();\n        this.context = context;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on a {@apilink Scene} on deactivation\n */\nclass DeactivateEvent extends GameEvent {\n    /**\n     * @param context  The context for the scene deactivation\n     */\n    constructor(context, self) {\n        super();\n        this.context = context;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an {@apilink Actor} when the graphics bounds completely leaves the screen.\n */\nclass ExitViewPortEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an {@apilink Actor} when any part of the graphics bounds are on screen.\n */\nclass EnterViewPortEvent extends GameEvent {\n    constructor(self) {\n        super();\n        this.self = self;\n        this.target = self;\n    }\n}\nclass EnterTriggerEvent extends GameEvent {\n    constructor(self, entity) {\n        super();\n        this.self = self;\n        this.entity = entity;\n        this.target = self;\n    }\n}\nclass ExitTriggerEvent extends GameEvent {\n    constructor(self, entity) {\n        super();\n        this.self = self;\n        this.entity = entity;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an {@apilink Actor} when an action starts.\n */\nclass ActionStartEvent extends GameEvent {\n    constructor(action, self) {\n        super();\n        this.action = action;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an {@apilink Actor} when an action completes.\n */\nclass ActionCompleteEvent extends GameEvent {\n    constructor(action, self) {\n        super();\n        this.action = action;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an [[Actor]] when an Actor added to scene.\n */\nclass AddEvent extends GameEvent {\n    constructor(engine, self) {\n        super();\n        this.engine = engine;\n        this.self = self;\n        this.target = self;\n    }\n}\n/**\n * Event thrown on an [[Actor]] when an Actor removed from scene.\n */\nclass RemoveEvent extends GameEvent {\n    constructor(engine, self) {\n        super();\n        this.engine = engine;\n        this.self = self;\n        this.target = self;\n    }\n}\n\n;// ./EntityComponentSystem/Entity.ts\n\n\n\n\n\n\n\n/**\n * AddedComponent message\n */\nclass AddedComponent {\n    constructor(data) {\n        this.data = data;\n        this.type = 'Component Added';\n    }\n}\n/**\n * Type guard to know if message is f an Added Component\n */\nfunction isAddedComponent(x) {\n    return !!x && x.type === 'Component Added';\n}\n/**\n * RemovedComponent message\n */\nclass RemovedComponent {\n    constructor(data) {\n        this.data = data;\n        this.type = 'Component Removed';\n    }\n}\n/**\n * Type guard to know if message is for a Removed Component\n */\nfunction isRemovedComponent(x) {\n    return !!x && x.type === 'Component Removed';\n}\nconst EntityEvents = {\n    Add: 'add',\n    Remove: 'remove',\n    Initialize: 'initialize',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    Kill: 'kill'\n};\n/**\n * An Entity is the base type of anything that can have behavior in Excalibur, they are part of the built in entity component system\n *\n * Entities can be strongly typed with the components they contain\n *\n * ```typescript\n * const entity = new Entity<ComponentA | ComponentB>();\n * entity.components.a; // Type ComponentA\n * entity.components.b; // Type ComponentB\n * ```\n */\nclass Entity {\n    constructor(componentsOrOptions, name) {\n        /**\n         * The unique identifier for the entity\n         */\n        this.id = Entity._ID++;\n        this.name = `Entity#${this.id}`;\n        /**\n         * Listen to or emit events for an entity\n         */\n        this.events = new EventEmitter();\n        this._tags = new Set();\n        this.componentAdded$ = new Observable();\n        this.componentRemoved$ = new Observable();\n        this.tagAdded$ = new Observable();\n        this.tagRemoved$ = new Observable();\n        /**\n         * Current components on the entity\n         *\n         * **Do not modify**\n         *\n         * Use addComponent/removeComponent otherwise the ECS will not be notified of changes.\n         */\n        this.components = new Map();\n        this.componentValues = [];\n        this._componentsToRemove = [];\n        /**\n         * The current scene that the entity is in, if any\n         */\n        this.scene = null;\n        /**\n         * Whether this entity is active, if set to false it will be reclaimed\n         */\n        this.isActive = true;\n        this._parent = null;\n        this.childrenAdded$ = new Observable();\n        this.childrenRemoved$ = new Observable();\n        this._children = [];\n        this._isInitialized = false;\n        this._isAdded = false;\n        let componentsToAdd;\n        let nameToAdd;\n        let silence = false;\n        if (Array.isArray(componentsOrOptions)) {\n            componentsToAdd = componentsOrOptions;\n            nameToAdd = name;\n        }\n        else if (componentsOrOptions && typeof componentsOrOptions === 'object') {\n            const { components, name, silenceWarnings } = componentsOrOptions;\n            componentsToAdd = components !== null && components !== void 0 ? components : [];\n            nameToAdd = name;\n            silence = !!silenceWarnings;\n        }\n        if (nameToAdd) {\n            this.name = nameToAdd;\n        }\n        if (componentsToAdd) {\n            for (const component of componentsToAdd) {\n                this.addComponent(component);\n            }\n        }\n        if (false) {}\n    }\n    /**\n     * Whether this entity is active, if set to false it will be reclaimed\n     * @deprecated use isActive\n     */\n    get active() {\n        return this.isActive;\n    }\n    /**\n     * Whether this entity is active, if set to false it will be reclaimed\n     * @deprecated use isActive\n     */\n    set active(val) {\n        this.isActive = val;\n    }\n    /**\n     * Kill the entity, means it will no longer be updated. Kills are deferred to the end of the update.\n     * If parented it will be removed from the parent when killed.\n     */\n    kill() {\n        if (this.isActive) {\n            this.isActive = false;\n            this.unparent();\n        }\n        this.emit('kill', new KillEvent(this));\n    }\n    isKilled() {\n        return !this.isActive;\n    }\n    /**\n     * Specifically get the tags on the entity from {@apilink TagsComponent}\n     */\n    get tags() {\n        return this._tags;\n    }\n    /**\n     * Check if a tag exists on the entity\n     * @param tag name to check for\n     */\n    hasTag(tag) {\n        return this._tags.has(tag);\n    }\n    /**\n     * Adds a tag to an entity\n     * @param tag\n     */\n    addTag(tag) {\n        this._tags.add(tag);\n        this.tagAdded$.notifyAll(tag);\n        return this;\n    }\n    /**\n     * Removes a tag on the entity\n     *\n     * Removals are deferred until the end of update\n     * @param tag\n     */\n    removeTag(tag) {\n        this._tags.delete(tag);\n        this.tagRemoved$.notifyAll(tag);\n        return this;\n    }\n    /**\n     * The types of the components on the Entity\n     */\n    get types() {\n        return Array.from(this.components.keys());\n    }\n    /**\n     * Returns all component instances on entity\n     */\n    getComponents() {\n        return Array.from(this.components.values());\n    }\n    /**\n     * Verifies that an entity has all the required types\n     * @param requiredTypes\n     */\n    hasAll(requiredTypes) {\n        for (let i = 0; i < requiredTypes.length; i++) {\n            if (!this.components.has(requiredTypes[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Verifies that an entity has all the required tags\n     * @param requiredTags\n     */\n    hasAllTags(requiredTags) {\n        for (let i = 0; i < requiredTags.length; i++) {\n            if (!this.tags.has(requiredTags[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    get(type) {\n        return this.components.get(type);\n    }\n    get parent() {\n        return this._parent;\n    }\n    /**\n     * Get the direct children of this entity\n     */\n    get children() {\n        return this._children;\n    }\n    /**\n     * Unparents this entity, if there is a parent. Otherwise it does nothing.\n     */\n    unparent() {\n        if (this._parent) {\n            this._parent.removeChild(this);\n            this._parent = null;\n        }\n    }\n    /**\n     * Adds an entity to be a child of this entity\n     * @param entity\n     */\n    addChild(entity) {\n        if (entity.parent === null) {\n            if (this.getAncestors().includes(entity)) {\n                throw new Error('Cycle detected, cannot add entity');\n            }\n            this._children.push(entity);\n            entity._parent = this;\n            this.childrenAdded$.notifyAll(entity);\n        }\n        else {\n            throw new Error('Entity already has a parent, cannot add without unparenting');\n        }\n        return this;\n    }\n    /**\n     * Remove an entity from children if it exists\n     * @param entity\n     */\n    removeChild(entity) {\n        if (entity.parent === this) {\n            removeItemFromArray(entity, this._children);\n            entity._parent = null;\n            this.childrenRemoved$.notifyAll(entity);\n        }\n        return this;\n    }\n    /**\n     * Removes all children from this entity\n     */\n    removeAllChildren() {\n        // Avoid modifying the array issue by walking backwards\n        for (let i = this.children.length - 1; i >= 0; i--) {\n            this.removeChild(this.children[i]);\n        }\n        return this;\n    }\n    /**\n     * Returns a list of parent entities starting with the topmost parent. Includes the current entity.\n     */\n    getAncestors() {\n        const result = [this];\n        let current = this.parent;\n        while (current) {\n            result.push(current);\n            current = current.parent;\n        }\n        return result.reverse();\n    }\n    /**\n     * Returns a list of all the entities that descend from this entity. Includes the current entity.\n     */\n    getDescendants() {\n        let result = [this];\n        let queue = [this];\n        while (queue.length > 0) {\n            const curr = queue.pop();\n            if (curr) {\n                queue = queue.concat(curr.children);\n                result = result.concat(curr.children);\n            }\n        }\n        return result;\n    }\n    /**\n     * Creates a deep copy of the entity and a copy of all its components\n     */\n    clone() {\n        const newEntity = new Entity();\n        for (const c of this.types) {\n            const componentInstance = this.get(c);\n            if (componentInstance) {\n                newEntity.addComponent(componentInstance.clone());\n            }\n        }\n        for (const child of this.children) {\n            newEntity.addChild(child.clone());\n        }\n        return newEntity;\n    }\n    /**\n     * Adds a copy of all the components from another template entity as a \"prefab\"\n     * @param templateEntity Entity to use as a template\n     * @param force Force component replacement if it already exists on the target entity\n     */\n    addTemplate(templateEntity, force = false) {\n        for (const c of templateEntity.getComponents()) {\n            this.addComponent(c.clone(), force);\n        }\n        for (const child of templateEntity.children) {\n            this.addChild(child.clone().addTemplate(child));\n        }\n        return this;\n    }\n    _getClassHierarchyRoot(componentType) {\n        var _a, _b;\n        let current = componentType;\n        let parent = (_a = Object.getPrototypeOf(current.prototype)) === null || _a === void 0 ? void 0 : _a.constructor;\n        while (parent && parent !== Object && parent !== Component) {\n            current = parent;\n            parent = (_b = Object.getPrototypeOf(current.prototype)) === null || _b === void 0 ? void 0 : _b.constructor;\n        }\n        return current;\n    }\n    /**\n     * Adds a component to the entity\n     * @param component Component or Entity to add copy of components from\n     * @param force Optionally overwrite any existing components of the same type\n     */\n    addComponent(component, force = false) {\n        // if component already exists, skip if not forced\n        if (this.has(component.constructor)) {\n            if (force) {\n                // Remove existing component type if exists when forced\n                this.removeComponent(component.constructor, true);\n            }\n            else {\n                // early exit component exits\n                return this;\n            }\n        }\n        // TODO circular dependencies will be a problem\n        if (component.dependencies && component.dependencies.length) {\n            for (const ctor of component.dependencies) {\n                this.addComponent(new ctor());\n            }\n        }\n        component.owner = this;\n        const rootComponent = this._getClassHierarchyRoot(component.constructor);\n        this.components.set(rootComponent, component);\n        this.components.set(component.constructor, component);\n        this.componentValues.push(component);\n        if (component.onAdd) {\n            component.onAdd(this);\n        }\n        this.componentAdded$.notifyAll(component);\n        return this;\n    }\n    /**\n     * Removes a component from the entity, by default removals are deferred to the end of entity update to avoid consistency issues\n     *\n     * Components can be force removed with the `force` flag, the removal is not deferred and happens immediately\n     * @param typeOrInstance\n     * @param force\n     */\n    removeComponent(typeOrInstance, force = false) {\n        let type;\n        if (isComponentCtor(typeOrInstance)) {\n            type = typeOrInstance;\n        }\n        else {\n            type = typeOrInstance.constructor;\n        }\n        if (force) {\n            const componentToRemove = this.components.get(type);\n            if (componentToRemove) {\n                this.componentRemoved$.notifyAll(componentToRemove);\n                componentToRemove.owner = undefined;\n                if (componentToRemove.onRemove) {\n                    componentToRemove.onRemove(this);\n                }\n                const componentIndex = this.componentValues.indexOf(componentToRemove);\n                if (componentIndex > -1) {\n                    this.componentValues.splice(componentIndex, 1);\n                }\n            }\n            const rootComponent = this._getClassHierarchyRoot(type);\n            this.components.delete(rootComponent);\n            this.components.delete(type); // remove after the notify to preserve typing\n        }\n        else {\n            this._componentsToRemove.push(type);\n        }\n        return this;\n    }\n    clearComponents() {\n        const components = this.types;\n        for (const c of components) {\n            this.removeComponent(c);\n        }\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    processComponentRemoval() {\n        for (const type of this._componentsToRemove) {\n            this.removeComponent(type, true);\n        }\n        this._componentsToRemove.length = 0;\n    }\n    /**\n     * Check if a component type exists\n     * @param type\n     */\n    has(type) {\n        return this.components.has(type);\n    }\n    /**\n     * Gets whether the actor is Initialized\n     */\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    get isAdded() {\n        return this._isAdded;\n    }\n    /**\n     * Initializes this entity, meant to be called by the Scene before first update not by users of Excalibur.\n     *\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     * @internal\n     */\n    _initialize(engine) {\n        if (!this.isInitialized) {\n            this.onInitialize(engine);\n            this.events.emit('initialize', new InitializeEvent(engine, this));\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * Adds this Actor, meant to be called by the Scene when Actor is added.\n     *\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     * @internal\n     */\n    _add(engine) {\n        if (!this.isAdded && this.isActive) {\n            this.onAdd(engine);\n            this.events.emit('add', new AddEvent(engine, this));\n            this._isAdded = true;\n        }\n    }\n    /**\n     * Removes Actor, meant to be called by the Scene when Actor is added.\n     *\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     * @internal\n     */\n    _remove(engine) {\n        if (this.isAdded && !this.isActive) {\n            this.onRemove(engine);\n            this.events.emit('remove', new RemoveEvent(engine, this));\n            this._isAdded = false;\n        }\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPreUpdate} lifecycle event\n     * @internal\n     */\n    _preupdate(engine, elapsed) {\n        this.events.emit('preupdate', new PreUpdateEvent(engine, elapsed, this));\n        this.onPreUpdate(engine, elapsed);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPostUpdate} lifecycle event\n     * @internal\n     */\n    _postupdate(engine, elapsed) {\n        this.events.emit('postupdate', new PostUpdateEvent(engine, elapsed, this));\n        this.onPostUpdate(engine, elapsed);\n    }\n    /**\n     * `onInitialize` is called before the first update of the entity. This method is meant to be\n     * overridden.\n     *\n     * Synonymous with the event handler `.on('initialize', (evt) => {...})`\n     */\n    onInitialize(engine) {\n        // Override me\n    }\n    /**\n     * `onAdd` is called when Actor is added to scene. This method is meant to be\n     * overridden.\n     *\n     * Synonymous with the event handler `.on('add', (evt) => {...})`\n     */\n    onAdd(engine) {\n        // Override me\n    }\n    /**\n     * `onRemove` is called when Actor is added to scene. This method is meant to be\n     * overridden.\n     *\n     * Synonymous with the event handler `.on('remove', (evt) => {...})`\n     */\n    onRemove(engine) {\n        // Override me\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before an entity is updated.\n     */\n    onPreUpdate(engine, elapsed) {\n        // Override me\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after an entity is updated.\n     */\n    onPostUpdate(engine, elapsed) {\n        // Override me\n    }\n    /**\n     *\n     * Entity update lifecycle, called internally\n     * @internal\n     * @param engine\n     * @param elapsed\n     */\n    update(engine, elapsed) {\n        this._initialize(engine);\n        this._add(engine);\n        this._preupdate(engine, elapsed);\n        for (const child of this.children) {\n            child.update(engine, elapsed);\n        }\n        this._postupdate(engine, elapsed);\n        this._remove(engine);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        if (handler) {\n            this.events.off(eventName, handler);\n        }\n        else {\n            this.events.off(eventName);\n        }\n    }\n}\nEntity._ID = 0;\n\n;// ./EntityComponentSystem/Components/MotionComponent.ts\n\n\nclass MotionComponent extends Component {\n    constructor() {\n        super(...arguments);\n        /**\n         * The velocity of an entity in pixels per second\n         */\n        this.vel = Vector.Zero;\n        /**\n         * The acceleration of entity in pixels per second^2\n         */\n        this.acc = Vector.Zero;\n        /**\n         * The scale rate of change in scale units per second\n         */\n        this.scaleFactor = Vector.Zero;\n        /**\n         * The angular velocity which is how quickly the entity is rotating in radians per second\n         */\n        this.angularVelocity = 0;\n        /**\n         * The amount of torque applied to the entity, angular acceleration is torque * inertia\n         */\n        this.torque = 0;\n        /**\n         * Inertia can be thought of as the resistance to motion\n         */\n        this.inertia = 1;\n    }\n}\n\n;// ./Collision/Integrator.ts\n\nclass EulerIntegrator {\n    static integrate(transform, motion, totalAcc, elapsed) {\n        const seconds = elapsed / 1000;\n        // This code looks a little wild, but it's to avoid creating any new Vector instances\n        // integration is done in a tight loop so this is key to avoid GC'ing\n        motion.vel.addEqual(totalAcc.scale(seconds, EulerIntegrator._ACC));\n        transform.pos\n            .add(motion.vel.scale(seconds, EulerIntegrator._VEL), EulerIntegrator._POS)\n            .addEqual(totalAcc.scale(0.5 * seconds * seconds, EulerIntegrator._VEL_ACC));\n        motion.angularVelocity += motion.torque * (1.0 / motion.inertia) * seconds;\n        const rotation = transform.rotation + motion.angularVelocity * seconds;\n        transform.scale.add(motion.scaleFactor.scale(seconds, this._SCALE_FACTOR), EulerIntegrator._SCALE);\n        const tx = transform.get();\n        tx.setTransform(EulerIntegrator._POS, rotation, EulerIntegrator._SCALE);\n    }\n}\n// Scratch vectors to avoid allocation\nEulerIntegrator._POS = new Vector(0, 0);\nEulerIntegrator._SCALE = new Vector(1, 1);\nEulerIntegrator._ACC = new Vector(0, 0);\nEulerIntegrator._VEL = new Vector(0, 0);\nEulerIntegrator._VEL_ACC = new Vector(0, 0);\nEulerIntegrator._SCALE_FACTOR = new Vector(0, 0);\n\n;// ./Particles/Particles.ts\n\n\n\n\n\n\n\n\n\n/**\n/**\n * CPU Particle is used in a {@apilink ParticleEmitter}\n */\nclass Particle extends Entity {\n    constructor(options) {\n        super({ silenceWarnings: true });\n        this.beginColor = Color.White;\n        this.endColor = Color.White;\n        // Life is counted in ms\n        this.life = 300;\n        this.fade = false;\n        // Color transitions\n        this._rRate = 1;\n        this._gRate = 1;\n        this._bRate = 1;\n        this._aRate = 0;\n        this._currentColor = Color.White;\n        this.size = 5;\n        this.sizeRate = 0;\n        this.visible = true;\n        this.isOffscreen = false;\n        this.particleTransform = ParticleTransform.Global;\n        this.name = `Particle#${this.id}`;\n        this.addComponent((this.transform = new TransformComponent()));\n        this.addComponent((this.motion = new MotionComponent()));\n        this.addComponent((this.graphics = new GraphicsComponent()));\n        this.configure(options);\n    }\n    registerEmitter(emitter) {\n        this._emitter = emitter;\n        if (this.particleTransform === ParticleTransform.Global) {\n            const globalPos = this._emitter.transform.globalPos;\n            this.transform.pos = this.transform.pos.add(globalPos);\n            this.motion.vel = this.motion.vel.rotate(this._emitter.transform.globalRotation);\n        }\n    }\n    configure(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n        this.particleTransform = (_a = options.transform) !== null && _a !== void 0 ? _a : this.particleTransform;\n        this.life = (_b = options.life) !== null && _b !== void 0 ? _b : this.life;\n        this.fade = (_c = options.fade) !== null && _c !== void 0 ? _c : this.fade;\n        this.size = (_d = options.size) !== null && _d !== void 0 ? _d : this.size;\n        this.endColor = (_e = options.endColor) !== null && _e !== void 0 ? _e : this.endColor.clone();\n        this.beginColor = (_f = options.beginColor) !== null && _f !== void 0 ? _f : this.beginColor.clone();\n        this._currentColor = this.beginColor.clone();\n        this.graphic = options.graphic;\n        this.graphics.opacity = (_g = options.opacity) !== null && _g !== void 0 ? _g : this.graphics.opacity;\n        this.transform.pos = (_h = options.pos) !== null && _h !== void 0 ? _h : this.transform.pos;\n        this.transform.rotation = (_j = options.rotation) !== null && _j !== void 0 ? _j : 0;\n        this.transform.scale = vec(1, 1);\n        this.motion.vel = (_k = options.vel) !== null && _k !== void 0 ? _k : this.motion.vel;\n        this.motion.angularVelocity = (_l = options.angularVelocity) !== null && _l !== void 0 ? _l : 0;\n        this.motion.acc = (_m = options.acc) !== null && _m !== void 0 ? _m : this.motion.acc;\n        this._rRate = (this.endColor.r - this.beginColor.r) / this.life;\n        this._gRate = (this.endColor.g - this.beginColor.g) / this.life;\n        this._bRate = (this.endColor.b - this.beginColor.b) / this.life;\n        this._aRate = this.graphics.opacity / this.life;\n        this.startSize = (_o = options.startSize) !== null && _o !== void 0 ? _o : 0;\n        this.endSize = (_p = options.endSize) !== null && _p !== void 0 ? _p : 0;\n        if (this.endSize > 0 && this.startSize > 0) {\n            this.sizeRate = (this.endSize - this.startSize) / this.life;\n            this.size = this.startSize;\n        }\n        if (this.graphic) {\n            this.graphics.use(this.graphic);\n            this.graphics.onPostDraw = undefined;\n        }\n        else {\n            this.graphics.localBounds = BoundingBox.fromDimension(this.size, this.size, Vector.Half);\n            this.graphics.onPostDraw = (ctx) => {\n                ctx.save();\n                ctx.debug.drawPoint(vec(0, 0), { color: this._currentColor, size: this.size });\n                ctx.restore();\n            };\n        }\n    }\n    kill() {\n        var _a;\n        if ((_a = this._emitter) === null || _a === void 0 ? void 0 : _a.isActive) {\n            this._emitter.removeParticle(this);\n        }\n        else {\n            super.kill();\n        }\n    }\n    update(engine, elapsed) {\n        this.life = this.life - elapsed;\n        if (this.life < 0) {\n            this.kill();\n        }\n        if (this.fade) {\n            this.graphics.opacity = clamp(this._aRate * this.life, 0.0001, 1);\n        }\n        if (this.startSize && this.endSize && this.startSize > 0 && this.endSize > 0) {\n            this.size = clamp(this.sizeRate * elapsed + this.size, Math.min(this.startSize, this.endSize), Math.max(this.startSize, this.endSize));\n        }\n        this._currentColor.r = clamp(this._currentColor.r + this._rRate * elapsed, 0, 255);\n        this._currentColor.g = clamp(this._currentColor.g + this._gRate * elapsed, 0, 255);\n        this._currentColor.b = clamp(this._currentColor.b + this._bRate * elapsed, 0, 255);\n        this._currentColor.a = this.graphics.opacity;\n        let accel = this.motion.acc;\n        if (this.focus) {\n            accel = this.focus\n                .sub(this.transform.pos)\n                .normalize()\n                .scale(this.focusAccel || 0)\n                .scale(elapsed / 1000);\n        }\n        // Update transform and motion based on Euler linear algebra\n        EulerIntegrator.integrate(this.transform, this.motion, accel, elapsed);\n    }\n}\nParticle.DefaultConfig = {\n    beginColor: Color.White,\n    endColor: Color.White,\n    life: 300,\n    fade: false,\n    size: 5,\n    graphic: undefined,\n    startSize: undefined,\n    endSize: undefined\n};\nvar ParticleTransform;\n(function (ParticleTransform) {\n    /**\n     * {@apilink ParticleTransform.Global} is the default and emits particles as if\n     * they were world space objects, useful for most effects.\n     */\n    ParticleTransform[\"Global\"] = \"global\";\n    /**\n     * {@apilink ParticleTransform.Local} particles are children of the emitter and move relative to the emitter\n     * as they would in a parent/child actor relationship.\n     */\n    ParticleTransform[\"Local\"] = \"local\";\n})(ParticleTransform || (ParticleTransform = {}));\n\n;// ./Graphics/Context/particle-renderer/particle-renderer.ts\n\n\n\n\n\n\n\n\n\nclass ParticleRenderer {\n    constructor() {\n        this.type = 'ex.particle';\n        this.priority = 0;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        this._shader = new Shader({\n            gl,\n            vertexSource: particle_vertex,\n            fragmentSource: particle_fragment,\n            onPreLink: (program) => {\n                gl.transformFeedbackVaryings(program, ['finalPosition', 'finalVelocity', 'finalRotation', 'finalAngularVelocity', 'finalLifeMs'], gl.INTERLEAVED_ATTRIBS);\n            }\n        });\n        this._shader.compile();\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n    }\n    _getTexture(image) {\n        const maybeFiltering = image.getAttribute(ImageSourceAttributeConstants.Filtering);\n        const filtering = maybeFiltering ? parseImageFiltering(maybeFiltering) : undefined;\n        const wrapX = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingX));\n        const wrapY = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingY));\n        const force = image.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._context.textureLoader.load(image, {\n            filtering,\n            wrapping: { x: wrapX, y: wrapY }\n        }, force);\n        // remove force attribute after upload\n        image.removeAttribute('forceUpload');\n        return texture;\n    }\n    draw(renderer, elapsed) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        const gl = this._gl;\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        const transform = renderer.particle.transform === ParticleTransform.Local\n            ? this._context.getTransform()\n            : this._context.getTransform().multiply(renderer.emitter.transform.get().inverse);\n        this._shader.setUniformAffineMatrix('u_transform', transform);\n        this._shader.setUniformBoolean('fade', renderer.particle.fade ? true : false);\n        this._shader.setUniformBoolean('useTexture', renderer.particle.graphic ? true : false);\n        this._shader.setUniformFloat('maxLifeMs', (_a = renderer.particle.life) !== null && _a !== void 0 ? _a : 2000);\n        this._shader.setUniformFloat('deltaMs', elapsed);\n        this._shader.setUniformFloatVector('gravity', (_b = renderer.particle.acc) !== null && _b !== void 0 ? _b : vec(0, 0));\n        this._shader.setUniformFloatColor('beginColor', (_c = renderer.particle.beginColor) !== null && _c !== void 0 ? _c : Color.Transparent);\n        this._shader.setUniformFloatColor('endColor', (_d = renderer.particle.endColor) !== null && _d !== void 0 ? _d : Color.Transparent);\n        let startSize = (_e = renderer.particle.startSize) !== null && _e !== void 0 ? _e : 0;\n        let endSize = (_f = renderer.particle.endSize) !== null && _f !== void 0 ? _f : 0;\n        const size = (_g = renderer.particle.size) !== null && _g !== void 0 ? _g : 0;\n        if (size > 0) {\n            startSize = size;\n            endSize = size;\n        }\n        this._shader.setUniformFloat('startSize', startSize !== null && startSize !== void 0 ? startSize : 10);\n        this._shader.setUniformFloat('endSize', endSize !== null && endSize !== void 0 ? endSize : 10);\n        this._shader.setUniformFloat('startOpacity', (_h = renderer.particle.opacity) !== null && _h !== void 0 ? _h : 1);\n        if (renderer.particle.focus) {\n            this._shader.setUniformFloatVector('focus', renderer.particle.focus);\n            this._shader.setUniformFloat('focusAccel', (_j = renderer.particle.focusAccel) !== null && _j !== void 0 ? _j : 0);\n        }\n        // Particle Graphic (only Sprites right now)\n        if (renderer.particle.graphic) {\n            const graphic = renderer.particle.graphic;\n            const texture = this._getTexture(graphic.image.image);\n            gl.activeTexture(gl.TEXTURE0);\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            this._shader.setUniformInt('graphic', 0);\n        }\n        // Collision Mask\n        // gl.activeTexture(gl.TEXTURE0 + 1);\n        // gl.bindTexture(gl.TEXTURE_2D, obstacleTex);\n        // gl.uniform1i(u_obstacle, 1);\n        renderer.draw(gl);\n    }\n    hasPendingDraws() {\n        return false;\n    }\n    flush() {\n        // pass\n    }\n    dispose() {\n        // pass\n    }\n}\n\n;// ./Graphics/Context/image-renderer-v2/image-renderer-v2.frag.glsl\n/* harmony default export */ const image_renderer_v2_frag = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\n// UV coord\\r\\nin vec2 v_texcoord;\\r\\n\\r\\n// Textures in the current draw\\r\\nuniform sampler2D u_textures[%%count%%];\\r\\n\\r\\nuniform bool u_pixelart;\\r\\n\\r\\nin float v_texture_index;\\r\\n\\r\\nin float v_opacity;\\r\\n\\r\\nin vec4 v_tint;\\r\\n\\r\\n// texture resolution\\r\\nin vec2 v_res;\\r\\n\\r\\nin vec2 v_uv_min;\\r\\nin vec2 v_uv_max;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\n// Inigo Quilez pixel art filter https://jorenjoestar.github.io/post/pixel_art_filtering/\\r\\nvec2 uv_iq(in vec2 uv, in vec2 texture_size) {\\r\\n  vec2 pixel = uv * texture_size;\\r\\n\\r\\n  vec2 seam=floor(pixel+.5);\\r\\n  vec2 dudv=fwidth(pixel);\\r\\n  pixel=seam+clamp((pixel-seam)/dudv,-.5,.5);\\r\\n\\r\\n  return pixel/texture_size;\\r\\n}\\r\\n\\r\\nfloat lerp(float from, float to, float rel){\\r\\n  return ((1. - rel) * from) + (rel * to);\\r\\n}\\r\\n\\r\\nfloat invLerp(float from, float to, float value){\\r\\n  return (value - from) / (to - from);\\r\\n}\\r\\n\\r\\nfloat remap(float origFrom, float origTo, float targetFrom, float targetTo, float value){\\r\\n  float rel = invLerp(origFrom, origTo, value);\\r\\n  return lerp(targetFrom, targetTo, rel);\\r\\n}\\r\\n\\r\\nvoid main(){\\r\\n  // In order to support the most efficient sprite batching, we have multiple\\r\\n  // textures loaded into the gpu (usually 8) this picker logic skips over textures\\r\\n  // that do not apply to a particular sprite.\\r\\n\\r\\n  vec4 color=vec4(1.,0,0,1.);\\r\\n\\r\\n  // GLSL is templated out to pick the right texture and set the vec4 color\\r\\n  vec2 uv = u_pixelart ? uv_iq(v_texcoord, v_res) : v_texcoord;\\r\\n  uv.x = remap(0.,1., v_uv_min.x, v_uv_max.x, uv.x);\\r\\n  uv.y = remap(0.,1., v_uv_min.y, v_uv_max.y, uv.y);\\r\\n\\r\\n  %%texture_picker%%\\r\\n\\r\\n  color.rgb = color.rgb * v_opacity;\\r\\n  color.a = color.a * v_opacity;\\r\\n  fragColor = color * v_tint;\\r\\n}\");\n;// ./Graphics/Context/image-renderer-v2/image-renderer-v2.vert.glsl\n/* harmony default export */ const image_renderer_v2_vert = (\"#version 300 es\\r\\nlayout(location=0) in vec2 pos;\\r\\nlayout(location=1) in vec2 a_texcoord;\\r\\nout vec2 v_texcoord;\\r\\n\\r\\nlayout(location=2) in vec2 a_offset;\\r\\nlayout(location=3) in vec2 a_mat_column1;\\r\\nlayout(location=4) in vec2 a_mat_column2;\\r\\nlayout(location=5) in vec2 a_mat_column3;\\r\\n\\r\\nlayout(location=6) in float a_opacity;\\r\\nout float v_opacity;\\r\\n\\r\\n// Texture resolution (could be bigger than a_siz)\\r\\nlayout(location=7) in vec2 a_res;\\r\\nout vec2 v_res;\\r\\n\\r\\n// Final size of graphic\\r\\nlayout(location=8) in vec2 a_size;\\r\\n\\r\\nlayout(location=9) in lowp float a_texture_index;\\r\\nout lowp float v_texture_index;\\r\\n\\r\\nlayout(location=10) in vec2 a_uv_min;\\r\\nout vec2 v_uv_min;\\r\\n\\r\\nlayout(location=11) in vec2 a_uv_max;\\r\\nout vec2 v_uv_max;\\r\\n\\r\\nlayout(location=12) in vec4 a_tint;\\r\\nout vec4 v_tint;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvoid main(){\\r\\n  mat4 world_mat = mat4(\\r\\n    a_mat_column1.x, a_mat_column1.y, 0., 0.,\\r\\n    a_mat_column2.x, a_mat_column2.y, 0., 0.,\\r\\n    0.             , 0.             , 1., 0.,\\r\\n    a_mat_column3.x, a_mat_column3.y, 0., 1.\\r\\n  );\\r\\n\\r\\n  vec2 newPos = vec2(pos.x * a_res.x, pos.y * a_res.y);\\r\\n  gl_Position = u_matrix * world_mat * vec4(newPos + a_offset, 0., 1.);\\r\\n\\r\\n  v_opacity = a_opacity;\\r\\n  v_texcoord = a_texcoord;\\r\\n  v_uv_min = a_uv_min;\\r\\n  v_uv_max = a_uv_max;\\r\\n  v_res = a_res;\\r\\n  v_texture_index = a_texture_index;\\r\\n  v_tint = a_tint;\\r\\n}\");\n;// ./Graphics/Context/image-renderer-v2/image-renderer-v2.ts\n// import { Color } from '../../../Color';\n// import { parseImageFiltering } from '../../Filtering';\n\n\n\n\n\n\n\n\n\n\n\nclass ImageRendererV2 {\n    constructor(options) {\n        this.type = 'ex.image-v2';\n        this.priority = 0;\n        // TODO this could be bigger probably\n        this._maxImages = 20000; // max(uint16) / 6 verts\n        this._maxTextures = 0;\n        this._components = 2 + 2 + 2 + 2 + 1 + 2 + 2 + 1 + 2 + 2 + 4;\n        // Per flush vars\n        this._imageCount = 0;\n        this._textures = [];\n        this._textureIndex = 0;\n        this._textureToIndex = new Map();\n        this._images = new Set();\n        this._vertexIndex = 0;\n        this._imageToWidth = new Map();\n        this._imageToHeight = new Map();\n        this._view = [0, 0, 0, 0];\n        this._dest = [0, 0];\n        this._defaultTint = Color.White;\n        this.pixelArtSampler = options.pixelArtSampler;\n        this.uvPadding = options.uvPadding;\n    }\n    initialize(gl, context) {\n        this._gl = gl;\n        this._context = context;\n        // Transform shader source\n        const maxTexture = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n        const maxComplexity = getMaxShaderComplexity(gl, maxTexture);\n        this._maxTextures = Math.min(maxTexture, maxComplexity);\n        const transformedFrag = this._transformFragmentSource(image_renderer_v2_frag, this._maxTextures);\n        // Compile shader\n        this._shader = new Shader({\n            gl,\n            fragmentSource: transformedFrag,\n            vertexSource: image_renderer_v2_vert\n        });\n        this._shader.compile();\n        // setup uniforms\n        this._shader.use();\n        this._shader.setUniformMatrix('u_matrix', context.ortho);\n        // Initialize texture slots to [0, 1, 2, 3, 4, .... maxGPUTextures]\n        this._shader.setUniformIntArray('u_textures', [...Array(this._maxTextures)].map((_, i) => i));\n        this._vao = gl.createVertexArray();\n        gl.bindVertexArray(this._vao);\n        this._quadMesh = new Float32Array([\n            // pos       uv\n            0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0,\n            1, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1\n        ]);\n        this._meshBuffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._meshBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, this._quadMesh, gl.STATIC_DRAW);\n        gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 16, 0);\n        gl.enableVertexAttribArray(0);\n        gl.vertexAttribPointer(1, 2, gl.FLOAT, false, 16, 8);\n        gl.enableVertexAttribArray(1);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        // Setup memory layout\n        const components = this._components;\n        this._transformData = new VertexBuffer({\n            gl,\n            size: components * this._maxImages, // components * images\n            type: 'dynamic'\n        });\n        this._transformData.bind();\n        // attributes\n        let offset = 0;\n        let start = 2;\n        const bytesPerFloat = 4;\n        const totalSize = components * 4;\n        // a_offset vec2 - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(2);\n        offset += 2 * bytesPerFloat;\n        // a_mat_column1 vec2 - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(3);\n        offset += 2 * bytesPerFloat;\n        // a_mat_column2 vec2 - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(4);\n        offset += 2 * bytesPerFloat;\n        // a_mat_column3 vec2 - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(5);\n        offset += 2 * bytesPerFloat;\n        // a_opacity float - 1\n        gl.vertexAttribPointer(start++, 1, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(6);\n        offset += 1 * bytesPerFloat;\n        // a_res vec2 - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(7);\n        offset += 2 * bytesPerFloat;\n        // a_size vec2 - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(8);\n        offset += 2 * bytesPerFloat;\n        // a_texture_index - 1\n        gl.vertexAttribPointer(start++, 1, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(9);\n        offset += 1 * bytesPerFloat;\n        // a_uv_min - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(10);\n        offset += 2 * bytesPerFloat;\n        // a_uv_max - 2\n        gl.vertexAttribPointer(start++, 2, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(11);\n        offset += 2 * bytesPerFloat;\n        // a_tint - 4\n        gl.vertexAttribPointer(start++, 4, gl.FLOAT, false, totalSize, offset);\n        gl.enableVertexAttribArray(12);\n        offset += 4 * bytesPerFloat;\n        gl.vertexAttribDivisor(2, 1);\n        gl.vertexAttribDivisor(3, 1);\n        gl.vertexAttribDivisor(4, 1);\n        gl.vertexAttribDivisor(5, 1);\n        gl.vertexAttribDivisor(6, 1);\n        gl.vertexAttribDivisor(7, 1);\n        gl.vertexAttribDivisor(8, 1);\n        gl.vertexAttribDivisor(9, 1);\n        gl.vertexAttribDivisor(10, 1);\n        gl.vertexAttribDivisor(11, 1);\n        gl.vertexAttribDivisor(12, 1);\n        gl.bindVertexArray(null);\n    }\n    _bindData(gl) {\n        // Setup memory layout\n        const components = this._components;\n        this._transformData.bind();\n        this._transformData.upload(components * this._imageCount);\n        gl.bindVertexArray(this._vao);\n    }\n    dispose() {\n        this._transformData.dispose();\n        this._shader.dispose();\n        this._textures.length = 0;\n        this._context = null;\n        this._gl = null;\n    }\n    _transformFragmentSource(source, maxTextures) {\n        let newSource = source.replace('%%count%%', maxTextures.toString());\n        let texturePickerBuilder = '';\n        for (let i = 0; i < maxTextures; i++) {\n            if (i === 0) {\n                texturePickerBuilder += `if (v_texture_index <= ${i}.5) {\\n`;\n            }\n            else {\n                texturePickerBuilder += `   else if (v_texture_index <= ${i}.5) {\\n`;\n            }\n            texturePickerBuilder += `      color = texture(u_textures[${i}], uv);\\n`;\n            texturePickerBuilder += `   }\\n`;\n        }\n        newSource = newSource.replace('%%texture_picker%%', texturePickerBuilder);\n        return newSource;\n    }\n    _addImageAsTexture(image) {\n        if (this._images.has(image)) {\n            return;\n        }\n        const maybeFiltering = image.getAttribute(ImageSourceAttributeConstants.Filtering);\n        const filtering = maybeFiltering ? parseImageFiltering(maybeFiltering) : undefined;\n        const wrapX = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingX));\n        const wrapY = parseImageWrapping(image.getAttribute(ImageSourceAttributeConstants.WrappingY));\n        const force = image.getAttribute('forceUpload') === 'true' ? true : false;\n        const texture = this._context.textureLoader.load(image, {\n            filtering,\n            wrapping: { x: wrapX, y: wrapY }\n        }, force);\n        // remove force attribute after upload\n        image.removeAttribute('forceUpload');\n        if (this._textures.indexOf(texture) === -1) {\n            this._textures.push(texture);\n            this._textureToIndex.set(texture, this._textureIndex++);\n            this._images.add(image);\n        }\n    }\n    _bindTextures(gl) {\n        // Bind textures in the correct order\n        const max = Math.min(this._textureIndex, this._maxTextures);\n        for (let i = 0; i < max; i++) {\n            gl.activeTexture(gl.TEXTURE0 + i);\n            gl.bindTexture(gl.TEXTURE_2D, this._textures[i] || this._textures[0]);\n        }\n    }\n    _getTextureIdForImage(image) {\n        var _a;\n        if (image) {\n            const maybeTexture = this._context.textureLoader.get(image);\n            return (_a = this._textureToIndex.get(maybeTexture)) !== null && _a !== void 0 ? _a : -1; //this._textures.indexOf(maybeTexture);\n        }\n        return -1;\n    }\n    _isFull() {\n        if (this._imageCount >= this._maxImages) {\n            return true;\n        }\n        if (this._textures.length >= this._maxTextures) {\n            return true;\n        }\n        return false;\n    }\n    _getImageWidth(image) {\n        let maybeWidth = this._imageToWidth.get(image);\n        if (maybeWidth === undefined) {\n            maybeWidth = image.width;\n            this._imageToWidth.set(image, maybeWidth);\n        }\n        return maybeWidth;\n    }\n    _getImageHeight(image) {\n        let maybeHeight = this._imageToHeight.get(image);\n        if (maybeHeight === undefined) {\n            maybeHeight = image.height;\n            this._imageToHeight.set(image, maybeHeight);\n        }\n        return maybeHeight;\n    }\n    draw(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        var _a, _b, _c, _d;\n        // Force a render if the batch is full\n        if (this._isFull()) {\n            this.flush();\n        }\n        this._imageCount++;\n        // This creates and uploads the texture if not already done\n        this._addImageAsTexture(image);\n        const maybeImageWidth = this._getImageWidth(image);\n        const maybeImageHeight = this._getImageHeight(image);\n        let width = maybeImageWidth || swidth || 0;\n        let height = maybeImageHeight || sheight || 0;\n        this._view[0] = 0;\n        this._view[1] = 0;\n        this._view[2] = (_a = swidth !== null && swidth !== void 0 ? swidth : maybeImageWidth) !== null && _a !== void 0 ? _a : 0;\n        this._view[3] = (_b = sheight !== null && sheight !== void 0 ? sheight : maybeImageHeight) !== null && _b !== void 0 ? _b : 0;\n        this._dest[0] = sx !== null && sx !== void 0 ? sx : 1;\n        this._dest[1] = sy !== null && sy !== void 0 ? sy : 1;\n        // If destination is specified, update view and dest\n        if (dx !== undefined && dy !== undefined && dwidth !== undefined && dheight !== undefined) {\n            this._view[0] = sx !== null && sx !== void 0 ? sx : 1;\n            this._view[1] = sy !== null && sy !== void 0 ? sy : 1;\n            this._view[2] = (_c = swidth !== null && swidth !== void 0 ? swidth : maybeImageWidth) !== null && _c !== void 0 ? _c : 0;\n            this._view[3] = (_d = sheight !== null && sheight !== void 0 ? sheight : maybeImageHeight) !== null && _d !== void 0 ? _d : 0;\n            this._dest[0] = dx;\n            this._dest[1] = dy;\n            width = dwidth;\n            height = dheight;\n        }\n        sx = this._view[0];\n        sy = this._view[1];\n        const sw = this._view[2];\n        const sh = this._view[3];\n        // transform based on current context\n        const transform = this._context.getTransform();\n        const opacity = this._context.opacity;\n        const snapToPixel = this._context.snapToPixel;\n        if (snapToPixel) {\n            this._dest[0] = ~~(this._dest[0] + pixelSnapEpsilon);\n            this._dest[1] = ~~(this._dest[1] + pixelSnapEpsilon);\n        }\n        const tint = this._context.tint || this._defaultTint;\n        const textureId = this._getTextureIdForImage(image);\n        const imageWidth = maybeImageWidth || width;\n        const imageHeight = maybeImageHeight || height;\n        const uvx0 = (sx + this.uvPadding) / imageWidth;\n        const uvy0 = (sy + this.uvPadding) / imageHeight;\n        const uvx1 = (sx + sw - this.uvPadding) / imageWidth;\n        const uvy1 = (sy + sh - this.uvPadding) / imageHeight;\n        const txWidth = maybeImageWidth;\n        const txHeight = maybeImageHeight;\n        // update data\n        const vertexBuffer = this._transformData.bufferData;\n        vertexBuffer[this._vertexIndex++] = this._dest[0];\n        vertexBuffer[this._vertexIndex++] = this._dest[1];\n        vertexBuffer[this._vertexIndex++] = transform.data[0];\n        vertexBuffer[this._vertexIndex++] = transform.data[1];\n        vertexBuffer[this._vertexIndex++] = transform.data[2];\n        vertexBuffer[this._vertexIndex++] = transform.data[3];\n        vertexBuffer[this._vertexIndex++] = transform.data[4];\n        vertexBuffer[this._vertexIndex++] = transform.data[5];\n        vertexBuffer[this._vertexIndex++] = opacity;\n        vertexBuffer[this._vertexIndex++] = width;\n        vertexBuffer[this._vertexIndex++] = height;\n        vertexBuffer[this._vertexIndex++] = txWidth;\n        vertexBuffer[this._vertexIndex++] = txHeight;\n        vertexBuffer[this._vertexIndex++] = textureId;\n        vertexBuffer[this._vertexIndex++] = uvx0;\n        vertexBuffer[this._vertexIndex++] = uvy0;\n        vertexBuffer[this._vertexIndex++] = uvx1;\n        vertexBuffer[this._vertexIndex++] = uvy1;\n        vertexBuffer[this._vertexIndex++] = tint.r / 255;\n        vertexBuffer[this._vertexIndex++] = tint.g / 255;\n        vertexBuffer[this._vertexIndex++] = tint.b / 255;\n        vertexBuffer[this._vertexIndex++] = tint.a;\n    }\n    hasPendingDraws() {\n        return this._imageCount !== 0;\n    }\n    flush() {\n        // nothing to draw early exit\n        if (this._imageCount === 0) {\n            return;\n        }\n        const gl = this._gl;\n        // Bind the shader\n        this._shader.use();\n        // Bind the memory layout and upload data\n        this._bindData(gl);\n        // Update ortho matrix uniform\n        this._shader.setUniformMatrix('u_matrix', this._context.ortho);\n        // Turn on pixel art aa sampler\n        this._shader.setUniformBoolean('u_pixelart', this.pixelArtSampler);\n        // Bind textures to\n        this._bindTextures(gl);\n        // Draw all the quads\n        gl.drawArraysInstanced(gl.TRIANGLES, 0, 6, this._imageCount);\n        GraphicsDiagnostics.DrawnImagesCount += this._imageCount;\n        GraphicsDiagnostics.DrawCallCount++;\n        gl.bindVertexArray(null);\n        // Reset\n        this._imageCount = 0;\n        this._vertexIndex = 0;\n        this._textures.length = 0;\n        this._textureIndex = 0;\n        this._textureToIndex.clear();\n        this._images.clear();\n        this._imageToWidth.clear();\n        this._imageToHeight.clear();\n    }\n}\n\n;// ./Graphics/Context/ExcaliburGraphicsContextWebGL.ts\n\n\n\n\n\n\n\n\n\n// renderers\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst pixelSnapEpsilon = 0.0001;\nclass ExcaliburGraphicsContextWebGLDebug {\n    constructor(_webglCtx) {\n        this._webglCtx = _webglCtx;\n        this._debugText = new DebugText();\n    }\n    /**\n     * Draw a debugging rectangle to the context\n     * @param x\n     * @param y\n     * @param width\n     * @param height\n     */\n    drawRect(x, y, width, height, rectOptions = { color: Color.Black }) {\n        this.drawLine(vec(x, y), vec(x + width, y), { ...rectOptions });\n        this.drawLine(vec(x + width, y), vec(x + width, y + height), { ...rectOptions });\n        this.drawLine(vec(x + width, y + height), vec(x, y + height), { ...rectOptions });\n        this.drawLine(vec(x, y + height), vec(x, y), { ...rectOptions });\n    }\n    /**\n     * Draw a debugging line to the context\n     * @param start\n     * @param end\n     * @param lineOptions\n     */\n    drawLine(start, end, lineOptions) {\n        var _a;\n        this._webglCtx.draw('ex.line', start, end, (_a = lineOptions === null || lineOptions === void 0 ? void 0 : lineOptions.color) !== null && _a !== void 0 ? _a : Color.Black);\n    }\n    /**\n     * Draw a debugging point to the context\n     * @param point\n     * @param pointOptions\n     */\n    drawPoint(point, pointOptions = { color: Color.Black, size: 5 }) {\n        this._webglCtx.draw('ex.point', point, pointOptions.color, pointOptions.size);\n    }\n    drawText(text, pos) {\n        this._debugText.write(this._webglCtx, text, pos);\n    }\n}\nclass ExcaliburGraphicsContextWebGL {\n    get z() {\n        return this._state.current.z;\n    }\n    set z(value) {\n        this._state.current.z = value;\n    }\n    get opacity() {\n        return this._state.current.opacity;\n    }\n    set opacity(value) {\n        this._state.current.opacity = value;\n    }\n    get tint() {\n        return this._state.current.tint;\n    }\n    set tint(color) {\n        this._state.current.tint = color;\n    }\n    get width() {\n        return this.__gl.canvas.width;\n    }\n    get height() {\n        return this.__gl.canvas.height;\n    }\n    get ortho() {\n        return this._ortho;\n    }\n    /**\n     * Checks the underlying webgl implementation if the requested internal resolution is supported\n     * @param dim\n     */\n    checkIfResolutionSupported(dim) {\n        // Slight hack based on this thread https://groups.google.com/g/webgl-dev-list/c/AHONvz3oQTo\n        let supported = true;\n        if (dim.width > 4096 || dim.height > 4096) {\n            supported = false;\n        }\n        return supported;\n    }\n    constructor(options) {\n        this._logger = Logger.getInstance();\n        this._renderers = new Map();\n        this.imageRenderer = Flags.isEnabled('use-legacy-image-renderer') ? 'ex.image' : 'ex.image-v2';\n        this._isDrawLifecycle = false;\n        this.useDrawSorting = true;\n        this._drawCallPool = new Pool(() => new DrawCall(), undefined, 4000);\n        this._drawCallIndex = 0;\n        this._drawCalls = new Array(4000).fill(null);\n        // Postprocessing is a tuple with 2 render targets, these are flip-flopped during the postprocessing process\n        this._postProcessTargets = [];\n        this._postprocessors = [];\n        this._transform = new TransformStack();\n        this._state = new StateStack();\n        /**\n         * Snaps the drawing x/y coordinate to the nearest whole pixel\n         */\n        this.snapToPixel = false;\n        /**\n         * Native context smoothing\n         */\n        this.smoothing = false;\n        /**\n         * Whether the pixel art sampler is enabled for smooth sub pixel anti-aliasing\n         */\n        this.pixelArtSampler = false;\n        /**\n         * UV padding in pixels to use in internal image rendering to prevent texture bleed\n         *\n         */\n        this.uvPadding = 0.01;\n        this.backgroundColor = Color.ExcaliburBlue;\n        this.multiSampleAntialiasing = true;\n        this.transparency = true;\n        this._isContextLost = false;\n        this._disposed = false;\n        this._imageToWidth = new Map();\n        this._imageToHeight = new Map();\n        this.debug = new ExcaliburGraphicsContextWebGLDebug(this);\n        this._totalPostProcessorTime = 0;\n        const { canvasElement, context, enableTransparency, antialiasing, uvPadding, multiSampleAntialiasing, pixelArtSampler, powerPreference, snapToPixel, backgroundColor, useDrawSorting, garbageCollector, handleContextLost, handleContextRestored } = options;\n        this.__gl =\n            context !== null && context !== void 0 ? context : canvasElement.getContext('webgl2', {\n                antialias: antialiasing !== null && antialiasing !== void 0 ? antialiasing : this.smoothing,\n                premultipliedAlpha: false,\n                alpha: enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : this.transparency,\n                depth: false,\n                powerPreference: powerPreference !== null && powerPreference !== void 0 ? powerPreference : 'high-performance'\n            });\n        if (!this.__gl) {\n            throw Error('Failed to retrieve webgl context from browser');\n        }\n        if (handleContextLost) {\n            this.__gl.canvas.addEventListener('webglcontextlost', handleContextLost, false);\n        }\n        if (handleContextRestored) {\n            this.__gl.canvas.addEventListener('webglcontextrestored', handleContextRestored, false);\n        }\n        this.__gl.canvas.addEventListener('webglcontextlost', () => {\n            this._isContextLost = true;\n        });\n        this.__gl.canvas.addEventListener('webglcontextrestored', () => {\n            this._isContextLost = false;\n        });\n        this.textureLoader = new TextureLoader(this.__gl, garbageCollector);\n        this.snapToPixel = snapToPixel !== null && snapToPixel !== void 0 ? snapToPixel : this.snapToPixel;\n        this.smoothing = antialiasing !== null && antialiasing !== void 0 ? antialiasing : this.smoothing;\n        this.transparency = enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : this.transparency;\n        this.pixelArtSampler = pixelArtSampler !== null && pixelArtSampler !== void 0 ? pixelArtSampler : this.pixelArtSampler;\n        this.uvPadding = uvPadding !== null && uvPadding !== void 0 ? uvPadding : this.uvPadding;\n        this.multiSampleAntialiasing = typeof multiSampleAntialiasing === 'boolean' ? multiSampleAntialiasing : this.multiSampleAntialiasing;\n        this.samples = typeof multiSampleAntialiasing === 'object' ? multiSampleAntialiasing.samples : undefined;\n        this.backgroundColor = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : this.backgroundColor;\n        this.useDrawSorting = useDrawSorting !== null && useDrawSorting !== void 0 ? useDrawSorting : this.useDrawSorting;\n        this._drawCallPool.disableWarnings = true;\n        this._drawCallPool.preallocate();\n        this._init();\n    }\n    dispose() {\n        if (!this._disposed) {\n            this._disposed = true;\n            this.textureLoader.dispose();\n            for (const renderer of this._renderers.values()) {\n                renderer.dispose();\n            }\n            this._renderers.clear();\n            this._drawCallPool.dispose();\n            this._drawCalls.length = 0;\n            this.__gl = null;\n        }\n    }\n    _init() {\n        const gl = this.__gl;\n        // Setup viewport and view matrix\n        this._ortho = Matrix.ortho(0, gl.canvas.width, gl.canvas.height, 0, 400, -400);\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n        // Clear background\n        gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        // Enable alpha blending\n        // https://www.realtimerendering.com/blog/gpus-prefer-premultiplication/\n        gl.enable(gl.BLEND);\n        gl.blendEquation(gl.FUNC_ADD);\n        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        gl.depthMask(false);\n        // Setup builtin renderers\n        this.register(new ImageRenderer({\n            uvPadding: this.uvPadding,\n            pixelArtSampler: this.pixelArtSampler\n        }));\n        this.register(new MaterialRenderer());\n        this.register(new RectangleRenderer());\n        this.register(new CircleRenderer());\n        this.register(new PointRenderer());\n        this.register(new LineRenderer());\n        this.register(new ParticleRenderer());\n        this.register(new ImageRendererV2({\n            uvPadding: this.uvPadding,\n            pixelArtSampler: this.pixelArtSampler\n        }));\n        this.materialScreenTexture = gl.createTexture();\n        if (!this.materialScreenTexture) {\n            throw new Error('Could not create screen texture!');\n        }\n        gl.bindTexture(gl.TEXTURE_2D, this.materialScreenTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        this._screenRenderer = new ScreenPassPainter(gl);\n        this._renderTarget = new RenderTarget({\n            gl,\n            transparency: this.transparency,\n            width: gl.canvas.width,\n            height: gl.canvas.height\n        });\n        this._postProcessTargets = [\n            new RenderTarget({\n                gl,\n                transparency: this.transparency,\n                width: gl.canvas.width,\n                height: gl.canvas.height\n            }),\n            new RenderTarget({\n                gl,\n                transparency: this.transparency,\n                width: gl.canvas.width,\n                height: gl.canvas.height\n            })\n        ];\n        this._msaaTarget = new RenderTarget({\n            gl,\n            transparency: this.transparency,\n            width: gl.canvas.width,\n            height: gl.canvas.height,\n            antialias: this.multiSampleAntialiasing,\n            samples: this.samples\n        });\n    }\n    register(renderer) {\n        this._renderers.set(renderer.type, renderer);\n        renderer.initialize(this.__gl, this);\n    }\n    get(rendererName) {\n        return this._renderers.get(rendererName);\n    }\n    _isCurrentRenderer(renderer) {\n        if (!this._currentRenderer || this._currentRenderer === renderer) {\n            return true;\n        }\n        return false;\n    }\n    beginDrawLifecycle() {\n        this._isDrawLifecycle = true;\n    }\n    endDrawLifecycle() {\n        this._isDrawLifecycle = false;\n    }\n    draw(rendererName, ...args) {\n        if (false) {}\n        if (!this._isDrawLifecycle) {\n            this._logger.warnOnce(`Attempting to draw outside the the drawing lifecycle (preDraw/postDraw) is not supported and is a source of bugs/errors.\\n` +\n                `If you want to do custom drawing, use Actor.graphics, or any onPreDraw or onPostDraw handler.`);\n        }\n        if (this._isContextLost) {\n            this._logger.errorOnce(`Unable to draw ${rendererName}, the webgl context is lost`);\n            return;\n        }\n        const renderer = this._renderers.get(rendererName);\n        if (renderer) {\n            if (this.useDrawSorting) {\n                const drawCall = this._drawCallPool.get();\n                drawCall.z = this._state.current.z;\n                drawCall.priority = renderer.priority;\n                drawCall.renderer = rendererName;\n                this.getTransform().clone(drawCall.transform);\n                drawCall.state.z = this._state.current.z;\n                drawCall.state.opacity = this._state.current.opacity;\n                drawCall.state.tint = this._state.current.tint;\n                drawCall.state.material = this._state.current.material;\n                drawCall.args[0] = args[0];\n                drawCall.args[1] = args[1];\n                drawCall.args[2] = args[2];\n                drawCall.args[3] = args[3];\n                drawCall.args[4] = args[4];\n                drawCall.args[5] = args[5];\n                drawCall.args[6] = args[6];\n                drawCall.args[7] = args[7];\n                drawCall.args[8] = args[8];\n                drawCall.args[9] = args[9];\n                this._drawCalls[this._drawCallIndex++] = drawCall;\n            }\n            else {\n                // Set the current renderer if not defined\n                if (!this._currentRenderer) {\n                    this._currentRenderer = renderer;\n                }\n                if (!this._isCurrentRenderer(renderer)) {\n                    // switching graphics means we must flush the previous\n                    this._currentRenderer.flush();\n                }\n                // If we are still using the same renderer we can add to the current batch\n                renderer.draw(args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9]);\n                this._currentRenderer = renderer;\n            }\n        }\n        else {\n            throw Error(`No renderer with name ${rendererName} has been registered`);\n        }\n    }\n    resetTransform() {\n        this._transform.reset();\n    }\n    updateViewport(resolution) {\n        const gl = this.__gl;\n        this._ortho = this._ortho = Matrix.ortho(0, resolution.width, resolution.height, 0, 400, -400);\n        this._renderTarget.setResolution(gl.canvas.width, gl.canvas.height);\n        this._msaaTarget.setResolution(gl.canvas.width, gl.canvas.height);\n        this._postProcessTargets[0].setResolution(gl.canvas.width, gl.canvas.height);\n        this._postProcessTargets[1].setResolution(gl.canvas.width, gl.canvas.height);\n    }\n    _getImageWidth(image) {\n        let maybeWidth = this._imageToWidth.get(image);\n        if (maybeWidth === undefined) {\n            maybeWidth = image.width;\n            this._imageToWidth.set(image, maybeWidth);\n        }\n        return maybeWidth;\n    }\n    _getImageHeight(image) {\n        let maybeHeight = this._imageToHeight.get(image);\n        if (maybeHeight === undefined) {\n            maybeHeight = image.height;\n            this._imageToHeight.set(image, maybeHeight);\n        }\n        return maybeHeight;\n    }\n    drawImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        if (swidth === 0 || sheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (dwidth === 0 || dheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (this._getImageWidth(image) === 0 || this._getImageHeight(image) === 0) {\n            return; // zero dimension source exit early\n        }\n        if (!image) {\n            Logger.getInstance().warn('Cannot draw a null or undefined image');\n            // tslint:disable-next-line: no-console\n            if (console.trace) {\n                // tslint:disable-next-line: no-console\n                console.trace();\n            }\n            return;\n        }\n        if (this._state.current.material) {\n            this.draw('ex.material', image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n        }\n        else {\n            if (this.imageRenderer === 'ex.image') {\n                this.draw(this.imageRenderer, image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n            }\n            else {\n                this.draw(this.imageRenderer, image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight);\n            }\n        }\n    }\n    drawLine(start, end, color, thickness = 1) {\n        this.draw('ex.rectangle', start, end, color, thickness);\n    }\n    drawRectangle(pos, width, height, color, stroke, strokeThickness) {\n        this.draw('ex.rectangle', pos, width, height, color, stroke, strokeThickness);\n    }\n    drawCircle(pos, radius, color, stroke, thickness) {\n        this.draw('ex.circle', pos, radius, color, stroke, thickness);\n    }\n    save() {\n        this._transform.save();\n        this._state.save();\n    }\n    restore() {\n        this._transform.restore();\n        this._state.restore();\n    }\n    translate(x, y) {\n        this._transform.translate(this.snapToPixel ? ~~(x + pixelSnapEpsilon) : x, this.snapToPixel ? ~~(y + pixelSnapEpsilon) : y);\n    }\n    rotate(angle) {\n        this._transform.rotate(angle);\n    }\n    scale(x, y) {\n        this._transform.scale(x, y);\n    }\n    transform(matrix) {\n        this._transform.current = matrix;\n    }\n    getTransform() {\n        return this._transform.current;\n    }\n    multiply(m) {\n        this._transform.current.multiply(m, this._transform.current);\n    }\n    addPostProcessor(postprocessor) {\n        this._postprocessors.push(postprocessor);\n        postprocessor.initialize(this.__gl);\n    }\n    removePostProcessor(postprocessor) {\n        const index = this._postprocessors.indexOf(postprocessor);\n        if (index !== -1) {\n            this._postprocessors.splice(index, 1);\n        }\n    }\n    clearPostProcessors() {\n        this._postprocessors.length = 0;\n    }\n    updatePostProcessors(elapsed) {\n        for (const postprocessor of this._postprocessors) {\n            const shader = postprocessor.getShader();\n            shader.use();\n            const uniforms = shader.getUniforms();\n            this._totalPostProcessorTime += elapsed;\n            if (uniforms.find((u) => u.name === 'u_time_ms')) {\n                shader.setUniformFloat('u_time_ms', this._totalPostProcessorTime);\n            }\n            if (uniforms.find((u) => u.name === 'u_elapsed_ms')) {\n                shader.setUniformFloat('u_elapsed_ms', elapsed);\n            }\n            if (uniforms.find((u) => u.name === 'u_resolution')) {\n                shader.setUniformFloatVector('u_resolution', vec(this.width, this.height));\n            }\n            if (postprocessor.onUpdate) {\n                postprocessor.onUpdate(elapsed);\n            }\n        }\n    }\n    set material(material) {\n        this._state.current.material = material;\n    }\n    get material() {\n        return this._state.current.material;\n    }\n    /**\n     * Creates and initializes the material which compiles the internal shader\n     * @param options\n     * @returns Material\n     */\n    createMaterial(options) {\n        const material = new Material({ ...options, graphicsContext: this });\n        return material;\n    }\n    createShader(options) {\n        const gl = this.__gl;\n        const { vertexSource, fragmentSource } = options;\n        const shader = new Shader({\n            gl,\n            vertexSource,\n            fragmentSource\n        });\n        shader.compile();\n        return shader;\n    }\n    clear() {\n        const gl = this.__gl;\n        const currentTarget = this.multiSampleAntialiasing ? this._msaaTarget : this._renderTarget;\n        currentTarget.use();\n        gl.clearColor(this.backgroundColor.r / 255, this.backgroundColor.g / 255, this.backgroundColor.b / 255, this.backgroundColor.a);\n        // Clear the context with the newly set color. This is\n        // the function call that actually does the drawing.\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    /**\n     * Flushes all batched rendering to the screen\n     */\n    flush() {\n        var _a;\n        if (this._isContextLost) {\n            this._logger.errorOnce(`Unable to flush the webgl context is lost`);\n            return;\n        }\n        // render target captures all draws and redirects to the render target\n        let currentTarget = this.multiSampleAntialiasing ? this._msaaTarget : this._renderTarget;\n        currentTarget.use();\n        if (this.useDrawSorting) {\n            // null out unused draw calls\n            for (let i = this._drawCallIndex; i < this._drawCalls.length; i++) {\n                this._drawCalls[i] = null;\n            }\n            // sort draw calls\n            // Find the original order of the first instance of the draw call\n            const originalSort = new Map();\n            for (const [name] of this._renderers) {\n                let firstIndex = 0;\n                for (firstIndex = 0; firstIndex < this._drawCallIndex; firstIndex++) {\n                    if (this._drawCalls[firstIndex].renderer === name) {\n                        break;\n                    }\n                }\n                originalSort.set(name, firstIndex);\n            }\n            this._drawCalls.sort((a, b) => {\n                if (a === null || b === null) {\n                    return 0;\n                }\n                const zIndex = a.z - b.z;\n                const originalSortOrder = originalSort.get(a.renderer) - originalSort.get(b.renderer);\n                const priority = a.priority - b.priority;\n                if (zIndex === 0) {\n                    // sort by z first\n                    if (priority === 0) {\n                        // sort by priority\n                        return originalSortOrder; // use the original order to inform draw call packing to maximally preserve painter order\n                    }\n                    return priority;\n                }\n                return zIndex;\n            });\n            const oldTransform = this._transform.current;\n            const oldState = this._state.current;\n            if (this._drawCalls.length && this._drawCallIndex) {\n                let currentRendererName = this._drawCalls[0].renderer;\n                let currentRenderer = this._renderers.get(currentRendererName);\n                for (let i = 0; i < this._drawCallIndex; i++) {\n                    // hydrate the state for renderers\n                    this._transform.current = this._drawCalls[i].transform;\n                    this._state.current = this._drawCalls[i].state;\n                    if (this._drawCalls[i].renderer !== currentRendererName) {\n                        // switching graphics renderer means we must flush the previous\n                        currentRenderer.flush();\n                        currentRendererName = this._drawCalls[i].renderer;\n                        currentRenderer = this._renderers.get(currentRendererName);\n                    }\n                    // ! hack to grab screen texture before materials run because they might want it\n                    if (currentRenderer instanceof MaterialRenderer && ((_a = this.material) === null || _a === void 0 ? void 0 : _a.isUsingScreenTexture)) {\n                        currentTarget.copyToTexture(this.materialScreenTexture);\n                        currentTarget.use();\n                    }\n                    // If we are still using the same renderer we can add to the current batch\n                    currentRenderer.draw(...this._drawCalls[i].args);\n                }\n                if (currentRenderer.hasPendingDraws()) {\n                    currentRenderer.flush();\n                }\n            }\n            // reset state\n            this._transform.current = oldTransform;\n            this._state.current = oldState;\n            // reclaim draw calls\n            this._drawCallPool.done();\n            this._drawCallIndex = 0;\n            this._imageToHeight.clear();\n            this._imageToWidth.clear();\n        }\n        else {\n            // This is the final flush at the moment to draw any leftover pending draw\n            for (const renderer of this._renderers.values()) {\n                if (renderer.hasPendingDraws()) {\n                    renderer.flush();\n                }\n            }\n        }\n        currentTarget.disable();\n        // post process step\n        if (this._postprocessors.length > 0) {\n            const source = currentTarget.toRenderSource();\n            source.use();\n        }\n        // flip flop render targets for post processing\n        for (let i = 0; i < this._postprocessors.length; i++) {\n            currentTarget = this._postProcessTargets[i % 2];\n            this._postProcessTargets[i % 2].use();\n            this._screenRenderer.renderWithPostProcessor(this._postprocessors[i]);\n            this._postProcessTargets[i % 2].toRenderSource().use();\n        }\n        // Final blit to the screen\n        currentTarget.blitToScreen();\n    }\n}\n\n;// ./Graphics/Context/ExcaliburGraphicsContext2DCanvas.ts\n\n\n\n\nconst ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon = 0.0001;\nclass ExcaliburGraphicsContext2DCanvasDebug {\n    constructor(_ex) {\n        this._ex = _ex;\n        this._debugText = new DebugText();\n    }\n    /**\n     * Draw a debug rectangle to the context\n     * @param x\n     * @param y\n     * @param width\n     * @param height\n     */\n    drawRect(x, y, width, height) {\n        this._ex.__ctx.save();\n        this._ex.__ctx.strokeStyle = 'red';\n        this._ex.__ctx.strokeRect(this._ex.snapToPixel ? ~~(x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : x, this._ex.snapToPixel ? ~~(y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : y, this._ex.snapToPixel ? ~~(width + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : width, this._ex.snapToPixel ? ~~(height + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : height);\n        this._ex.__ctx.restore();\n    }\n    drawLine(start, end, lineOptions = { color: Color.Black }) {\n        var _a, _b;\n        this._ex.__ctx.save();\n        this._ex.__ctx.beginPath();\n        this._ex.__ctx.strokeStyle = (_b = (_a = lineOptions.color) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : '';\n        this._ex.__ctx.moveTo(this._ex.snapToPixel ? ~~(start.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.x, this._ex.snapToPixel ? ~~(start.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.y);\n        this._ex.__ctx.lineTo(this._ex.snapToPixel ? ~~(end.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.x, this._ex.snapToPixel ? ~~(end.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.y);\n        this._ex.__ctx.lineWidth = 2;\n        this._ex.__ctx.stroke();\n        this._ex.__ctx.closePath();\n        this._ex.__ctx.restore();\n    }\n    drawPoint(point, pointOptions = { color: Color.Black, size: 5 }) {\n        this._ex.__ctx.save();\n        this._ex.__ctx.beginPath();\n        this._ex.__ctx.fillStyle = pointOptions.color.toString();\n        this._ex.__ctx.arc(this._ex.snapToPixel ? ~~(point.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : point.x, this._ex.snapToPixel ? ~~(point.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : point.y, pointOptions.size, 0, Math.PI * 2);\n        this._ex.__ctx.fill();\n        this._ex.__ctx.closePath();\n        this._ex.__ctx.restore();\n    }\n    drawText(text, pos) {\n        this._debugText.write(this._ex, text, pos);\n    }\n}\nclass ExcaliburGraphicsContext2DCanvas {\n    get width() {\n        return this.__ctx.canvas.width;\n    }\n    get height() {\n        return this.__ctx.canvas.height;\n    }\n    get opacity() {\n        return this._state.current.opacity;\n    }\n    set opacity(value) {\n        this._state.current.opacity = value;\n    }\n    get tint() {\n        return this._state.current.tint;\n    }\n    set tint(color) {\n        this._state.current.tint = color;\n    }\n    get smoothing() {\n        return this.__ctx.imageSmoothingEnabled;\n    }\n    set smoothing(value) {\n        this.__ctx.imageSmoothingEnabled = value;\n    }\n    constructor(options) {\n        /**\n         * Unused in Canvas implementation\n         */\n        this.useDrawSorting = false;\n        /**\n         * Unused in Canvas implementation\n         */\n        this.z = 0;\n        this.backgroundColor = Color.ExcaliburBlue;\n        this._state = new StateStack();\n        this.snapToPixel = false;\n        this.debug = new ExcaliburGraphicsContext2DCanvasDebug(this);\n        const { canvasElement, context, enableTransparency, snapToPixel, antialiasing: smoothing, backgroundColor } = options;\n        this.__ctx =\n            context !== null && context !== void 0 ? context : canvasElement.getContext('2d', {\n                alpha: enableTransparency !== null && enableTransparency !== void 0 ? enableTransparency : true\n            });\n        if (!this.__ctx) {\n            throw new Error('Cannot build new ExcaliburGraphicsContext2D for some reason!');\n        }\n        this.backgroundColor = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : this.backgroundColor;\n        this.snapToPixel = snapToPixel !== null && snapToPixel !== void 0 ? snapToPixel : this.snapToPixel;\n        this.smoothing = smoothing !== null && smoothing !== void 0 ? smoothing : this.smoothing;\n    }\n    resetTransform() {\n        this.__ctx.resetTransform();\n    }\n    updateViewport(_resolution) {\n        // pass\n    }\n    drawImage(image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight) {\n        if (swidth === 0 || sheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (dwidth === 0 || dheight === 0) {\n            return; // zero dimension dest exit early\n        }\n        else if (image.width === 0 || image.height === 0) {\n            return; // zero dimension source exit early\n        }\n        this.__ctx.globalAlpha = this.opacity;\n        const args = [image, sx, sy, swidth, sheight, dx, dy, dwidth, dheight]\n            .filter((a) => a !== undefined)\n            .map((a) => (typeof a === 'number' && this.snapToPixel ? ~~a : a));\n        this.__ctx.drawImage.apply(this.__ctx, args);\n        GraphicsDiagnostics.DrawCallCount++;\n        GraphicsDiagnostics.DrawnImagesCount = 1;\n    }\n    drawLine(start, end, color, thickness = 1) {\n        this.__ctx.save();\n        this.__ctx.beginPath();\n        this.__ctx.strokeStyle = color.toString();\n        this.__ctx.moveTo(this.snapToPixel ? ~~(start.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.x, this.snapToPixel ? ~~(start.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : start.y);\n        this.__ctx.lineTo(this.snapToPixel ? ~~(end.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.x, this.snapToPixel ? ~~(end.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : end.y);\n        this.__ctx.lineWidth = thickness;\n        this.__ctx.stroke();\n        this.__ctx.closePath();\n        this.__ctx.restore();\n    }\n    drawRectangle(pos, width, height, color) {\n        this.__ctx.save();\n        this.__ctx.fillStyle = color.toString();\n        this.__ctx.fillRect(this.snapToPixel ? ~~(pos.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.x, this.snapToPixel ? ~~(pos.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.y, this.snapToPixel ? ~~(width + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : width, this.snapToPixel ? ~~(height + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : height);\n        this.__ctx.restore();\n    }\n    drawCircle(pos, radius, color, stroke, thickness) {\n        this.__ctx.save();\n        this.__ctx.beginPath();\n        if (stroke) {\n            this.__ctx.strokeStyle = stroke.toString();\n        }\n        if (thickness) {\n            this.__ctx.lineWidth = thickness;\n        }\n        this.__ctx.fillStyle = color.toString();\n        this.__ctx.arc(this.snapToPixel ? ~~(pos.x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.x, this.snapToPixel ? ~~(pos.y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : pos.y, radius, 0, Math.PI * 2);\n        this.__ctx.fill();\n        if (stroke) {\n            this.__ctx.stroke();\n        }\n        this.__ctx.closePath();\n        this.__ctx.restore();\n    }\n    /**\n     * Save the current state of the canvas to the stack (transforms and opacity)\n     */\n    save() {\n        this.__ctx.save();\n        this._state.save();\n    }\n    /**\n     * Restore the state of the canvas from the stack\n     */\n    restore() {\n        this.__ctx.restore();\n        this._state.restore();\n    }\n    /**\n     * Translate the origin of the context by an x and y\n     * @param x\n     * @param y\n     */\n    translate(x, y) {\n        this.__ctx.translate(this.snapToPixel ? ~~(x + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : x, this.snapToPixel ? ~~(y + ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon) : y);\n    }\n    /**\n     * Rotate the context about the current origin\n     */\n    rotate(angle) {\n        this.__ctx.rotate(angle);\n    }\n    /**\n     * Scale the context by an x and y factor\n     * @param x\n     * @param y\n     */\n    scale(x, y) {\n        this.__ctx.scale(x, y);\n    }\n    getTransform() {\n        throw new Error('Not implemented');\n    }\n    multiply(_m) {\n        this.__ctx.setTransform(this.__ctx.getTransform().multiply(_m.toDOMMatrix()));\n    }\n    addPostProcessor(_postprocessor) {\n        // pass\n    }\n    removePostProcessor(_postprocessor) {\n        // pass\n    }\n    clearPostProcessors() {\n        // pass\n    }\n    updatePostProcessors(elapsed) {\n        // pass\n    }\n    beginDrawLifecycle() {\n        // pass\n    }\n    endDrawLifecycle() {\n        // pass\n    }\n    set material(material) {\n        this._state.current.material = material;\n    }\n    get material() {\n        return this._state.current.material;\n    }\n    createMaterial(options) {\n        // pass\n        return null;\n    }\n    clear() {\n        // Clear frame\n        this.__ctx.clearRect(0, 0, this.width, this.height);\n        this.__ctx.fillStyle = this.backgroundColor.toString();\n        this.__ctx.fillRect(0, 0, this.width, this.height);\n        GraphicsDiagnostics.clear();\n    }\n    /**\n     * Flushes the batched draw calls to the screen\n     */\n    flush() {\n        // pass\n    }\n    dispose() {\n        this.__ctx = undefined;\n    }\n}\n\n;// ./Screen.ts\n\n\n\n\n\n\n\n/**\n * Enum representing the different display modes available to Excalibur.\n */\nvar DisplayMode;\n(function (DisplayMode) {\n    /**\n     * Default, use a specified resolution for the game. Like 800x600 pixels for example.\n     */\n    DisplayMode[\"Fixed\"] = \"Fixed\";\n    /**\n     * Fit the aspect ratio given by the game resolution within the container at all times will fill any gaps with canvas.\n     * The displayed area outside the aspect ratio is not guaranteed to be on the screen, only the {@apilink Screen.contentArea}\n     * is guaranteed to be on screen.\n     */\n    DisplayMode[\"FitContainerAndFill\"] = \"FitContainerAndFill\";\n    /**\n     * Fit the aspect ratio given by the game resolution the screen at all times will fill the screen.\n     * This displayed area outside the aspect ratio is not guaranteed to be on the screen, only the {@apilink Screen.contentArea}\n     * is guaranteed to be on screen.\n     */\n    DisplayMode[\"FitScreenAndFill\"] = \"FitScreenAndFill\";\n    /**\n     * Fit the viewport to the parent element maintaining aspect ratio given by the game resolution, but zooms in to avoid the black bars\n     * (letterbox) that would otherwise be present in {@apilink FitContainer}.\n     *\n     * **warning** This will clip some drawable area from the user because of the zoom,\n     * use {@apilink Screen.contentArea} to know the safe to draw area.\n     */\n    DisplayMode[\"FitContainerAndZoom\"] = \"FitContainerAndZoom\";\n    /**\n     * Fit the viewport to the device screen maintaining aspect ratio given by the game resolution, but zooms in to avoid the black bars\n     * (letterbox) that would otherwise be present in {@apilink FitScreen}.\n     *\n     * **warning** This will clip some drawable area from the user because of the zoom,\n     * use {@apilink Screen.contentArea} to know the safe to draw area.\n     */\n    DisplayMode[\"FitScreenAndZoom\"] = \"FitScreenAndZoom\";\n    /**\n     * Fit to screen using as much space as possible while maintaining aspect ratio and resolution.\n     * This is not the same as {@apilink Screen.goFullScreen} but behaves in a similar way maintaining aspect ratio.\n     *\n     * You may want to center your game here is an example\n     * ```html\n     * <!-- html -->\n     * <body>\n     * <main>\n     *   <canvas id=\"game\"></canvas>\n     * </main>\n     * </body>\n     * ```\n     *\n     * ```css\n     * // css\n     * main {\n     *   display: flex;\n     *   align-items: center;\n     *   justify-content: center;\n     *   height: 100%;\n     *   width: 100%;\n     * }\n     * ```\n     */\n    DisplayMode[\"FitScreen\"] = \"FitScreen\";\n    /**\n     * Fill the entire screen's css width/height for the game resolution dynamically. This means the resolution of the game will\n     * change dynamically as the window is resized. This is not the same as {@apilink Screen.goFullScreen}\n     */\n    DisplayMode[\"FillScreen\"] = \"FillScreen\";\n    /**\n     * Fit to parent element width/height using as much space as possible while maintaining aspect ratio and resolution.\n     */\n    DisplayMode[\"FitContainer\"] = \"FitContainer\";\n    /**\n     * Use the parent DOM container's css width/height for the game resolution dynamically\n     */\n    DisplayMode[\"FillContainer\"] = \"FillContainer\";\n})(DisplayMode || (DisplayMode = {}));\n/**\n * Convenience class for quick resolutions\n * Mostly sourced from https://emulation.gametechwiki.com/index.php/Resolution\n */\nclass Resolution {\n    /* istanbul ignore next */\n    static get SVGA() {\n        return { width: 800, height: 600 };\n    }\n    /* istanbul ignore next */\n    static get Standard() {\n        return { width: 1920, height: 1080 };\n    }\n    /* istanbul ignore next */\n    static get Atari2600() {\n        return { width: 160, height: 192 };\n    }\n    /* istanbul ignore next */\n    static get GameBoy() {\n        return { width: 160, height: 144 };\n    }\n    /* istanbul ignore next */\n    static get GameBoyAdvance() {\n        return { width: 240, height: 160 };\n    }\n    /* istanbul ignore next */\n    static get NintendoDS() {\n        return { width: 256, height: 192 };\n    }\n    /* istanbul ignore next */\n    static get NES() {\n        return { width: 256, height: 224 };\n    }\n    /* istanbul ignore next */\n    static get SNES() {\n        return { width: 256, height: 244 };\n    }\n}\nconst ScreenEvents = {\n    ScreenResize: 'resize',\n    PixelRatioChange: 'pixelratio',\n    FullScreenChange: 'fullscreen'\n};\n/**\n * The Screen handles all aspects of interacting with the screen for Excalibur.\n */\nclass Screen {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        /**\n         * Listen to screen events {@apilink ScreenEvents}\n         */\n        this.events = new EventEmitter();\n        this._antialiasing = true;\n        this._canvasImageRendering = 'auto';\n        this._resolutionStack = [];\n        this._viewportStack = [];\n        this._pixelRatioOverride = null;\n        this._isFullscreen = false;\n        this._isDisposed = false;\n        this._logger = Logger.getInstance();\n        this._fullscreenChangeHandler = () => {\n            if (this._isDisposed) {\n                return;\n            }\n            this._isFullscreen = !this._isFullscreen;\n            this._logger.debug('Fullscreen Change', this._isFullscreen);\n            this.events.emit('fullscreen', {\n                fullscreen: this.isFullScreen\n            });\n        };\n        this._pixelRatioChangeHandler = () => {\n            if (this._isDisposed) {\n                return;\n            }\n            this._logger.debug('Pixel Ratio Change', window.devicePixelRatio);\n            this._listenForPixelRatio();\n            this._devicePixelRatio = this._calculateDevicePixelRatio();\n            this.applyResolutionAndViewport();\n            this.events.emit('pixelratio', {\n                pixelRatio: this.pixelRatio\n            });\n        };\n        this._resizeHandler = () => {\n            if (this._isDisposed) {\n                return;\n            }\n            const parent = this.parent;\n            this._logger.debug('View port resized');\n            this._setResolutionAndViewportByDisplayMode(parent);\n            this.applyResolutionAndViewport();\n            // Emit resize event\n            this.events.emit('resize', {\n                resolution: this.resolution,\n                viewport: this.viewport\n            });\n        };\n        // Asking the window.devicePixelRatio is expensive we do it once\n        this._devicePixelRatio = this._calculateDevicePixelRatio();\n        this._contentArea = new BoundingBox();\n        this._unsafeArea = new BoundingBox();\n        this.viewport = options.viewport;\n        this.resolution = (_a = options.resolution) !== null && _a !== void 0 ? _a : { ...this.viewport };\n        this._contentResolution = this.resolution;\n        this._displayMode = (_b = options.displayMode) !== null && _b !== void 0 ? _b : DisplayMode.Fixed;\n        this._canvas = options.canvas;\n        this.graphicsContext = options.context;\n        this._antialiasing = (_c = options.antialiasing) !== null && _c !== void 0 ? _c : this._antialiasing;\n        this._canvasImageRendering = (_d = options.canvasImageRendering) !== null && _d !== void 0 ? _d : this._canvasImageRendering;\n        this._browser = options.browser;\n        this._pixelRatioOverride = options.pixelRatio;\n        this._applyDisplayMode();\n        this._listenForPixelRatio();\n        this._canvas.addEventListener('fullscreenchange', this._fullscreenChangeHandler);\n        this.applyResolutionAndViewport();\n    }\n    _listenForPixelRatio() {\n        if (this._mediaQueryList && !this._mediaQueryList.addEventListener) {\n            // Safari <=13.1 workaround, remove any existing handlers\n            this._mediaQueryList.removeListener(this._pixelRatioChangeHandler);\n        }\n        this._mediaQueryList = this._browser.window.nativeComponent.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n        // Safari <=13.1 workaround\n        if (this._mediaQueryList.addEventListener) {\n            this._mediaQueryList.addEventListener('change', this._pixelRatioChangeHandler, { once: true });\n        }\n        else {\n            this._mediaQueryList.addListener(this._pixelRatioChangeHandler);\n        }\n    }\n    dispose() {\n        if (!this._isDisposed) {\n            // Clean up handlers\n            this._isDisposed = true;\n            this.events.clear();\n            this._browser.window.off('resize', this._resizeHandler);\n            this._browser.window.clear();\n            if (this._resizeObserver) {\n                this._resizeObserver.disconnect();\n            }\n            this.parent.removeEventListener('resize', this._resizeHandler);\n            // Safari <=13.1 workaround\n            if (this._mediaQueryList.removeEventListener) {\n                this._mediaQueryList.removeEventListener('change', this._pixelRatioChangeHandler);\n            }\n            else {\n                this._mediaQueryList.removeListener(this._pixelRatioChangeHandler);\n            }\n            this._canvas.removeEventListener('fullscreenchange', this._fullscreenChangeHandler);\n            this._canvas = null;\n        }\n    }\n    _calculateDevicePixelRatio() {\n        if (window.devicePixelRatio < 1) {\n            return 1;\n        }\n        const devicePixelRatio = window.devicePixelRatio || 1;\n        return devicePixelRatio;\n    }\n    /**\n     * Returns the computed pixel ratio, first using any override, then the device pixel ratio\n     */\n    get pixelRatio() {\n        if (this._pixelRatioOverride) {\n            return this._pixelRatioOverride;\n        }\n        return this._devicePixelRatio;\n    }\n    /**\n     * This calculates the ratio between excalibur pixels and the HTML pixels.\n     *\n     * This is useful for scaling HTML UI so that it matches your game.\n     */\n    get worldToPagePixelRatio() {\n        if (this._canvas) {\n            const pageOrigin = this.worldToPageCoordinates(Vector.Zero);\n            const pageDistance = this.worldToPageCoordinates(vec(1, 0)).sub(pageOrigin);\n            const pixelConversion = pageDistance.x;\n            return pixelConversion;\n        }\n        else {\n            return 1;\n        }\n    }\n    /**\n     * Get or set the pixel ratio override\n     *\n     * You will need to call applyResolutionAndViewport() affect change on the screen\n     */\n    get pixelRatioOverride() {\n        return this._pixelRatioOverride;\n    }\n    set pixelRatioOverride(value) {\n        this._pixelRatioOverride = value;\n    }\n    get isHiDpi() {\n        return this.pixelRatio !== 1;\n    }\n    get displayMode() {\n        return this._displayMode;\n    }\n    get canvas() {\n        return this._canvas;\n    }\n    get parent() {\n        switch (this.displayMode) {\n            case DisplayMode.FillContainer:\n            case DisplayMode.FitContainer:\n            case DisplayMode.FitContainerAndFill:\n            case DisplayMode.FitContainerAndZoom:\n                return this.canvas.parentElement || document.body;\n            default:\n                return window;\n        }\n    }\n    get resolution() {\n        return this._resolution;\n    }\n    set resolution(resolution) {\n        this._resolution = resolution;\n    }\n    /**\n     * Returns screen dimensions in pixels or percentage\n     */\n    get viewport() {\n        if (this._viewport) {\n            return this._viewport;\n        }\n        return this._resolution;\n    }\n    set viewport(viewport) {\n        this._viewport = viewport;\n    }\n    get aspectRatio() {\n        return this._resolution.width / this._resolution.height;\n    }\n    get scaledWidth() {\n        return this._resolution.width * this.pixelRatio;\n    }\n    get scaledHeight() {\n        return this._resolution.height * this.pixelRatio;\n    }\n    setCurrentCamera(camera) {\n        this._camera = camera;\n    }\n    pushResolutionAndViewport() {\n        this._resolutionStack.push(this.resolution);\n        this._viewportStack.push(this.viewport);\n        this.resolution = { ...this.resolution };\n        this.viewport = { ...this.viewport };\n    }\n    peekViewport() {\n        return this._viewportStack[this._viewportStack.length - 1];\n    }\n    peekResolution() {\n        return this._resolutionStack[this._resolutionStack.length - 1];\n    }\n    popResolutionAndViewport() {\n        if (this._resolutionStack.length && this._viewportStack.length) {\n            this.resolution = this._resolutionStack.pop();\n            this.viewport = this._viewportStack.pop();\n        }\n    }\n    applyResolutionAndViewport() {\n        if (this.graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            const scaledResolutionSupported = this.graphicsContext.checkIfResolutionSupported({\n                width: this.scaledWidth,\n                height: this.scaledHeight\n            });\n            if (!scaledResolutionSupported) {\n                this._logger.warnOnce(`The currently configured resolution (${this.resolution.width}x${this.resolution.height}) and pixel ratio (${this.pixelRatio})` +\n                    ' are too large for the platform WebGL implementation, this may work but cause WebGL rendering to behave oddly.' +\n                    ' Try reducing the resolution or disabling Hi DPI scaling to avoid this' +\n                    ' (read more here https://excaliburjs.com/docs/screens#understanding-viewport--resolution).');\n                // Attempt to recover if the user hasn't configured a specific ratio for up scaling\n                if (!this.pixelRatioOverride) {\n                    let currentPixelRatio = Math.max(1, this.pixelRatio - 0.5);\n                    let newResolutionSupported = false;\n                    while (currentPixelRatio > 1 && !newResolutionSupported) {\n                        currentPixelRatio = Math.max(1, currentPixelRatio - 0.5);\n                        const width = this._resolution.width * currentPixelRatio;\n                        const height = this._resolution.height * currentPixelRatio;\n                        newResolutionSupported = this.graphicsContext.checkIfResolutionSupported({ width, height });\n                    }\n                    this.pixelRatioOverride = currentPixelRatio;\n                    this._logger.warnOnce('Scaled resolution too big attempted recovery!' +\n                        ` Pixel ratio was automatically reduced to (${this.pixelRatio}) to avoid 4k texture limit.` +\n                        ' Setting `ex.Engine({pixelRatio: ...}) will override any automatic recalculation, do so at your own risk.` ' +\n                        ' (read more here https://excaliburjs.com/docs/screens#understanding-viewport--resolution).');\n                }\n            }\n        }\n        this._canvas.width = this.scaledWidth;\n        this._canvas.height = this.scaledHeight;\n        if (this._canvasImageRendering === 'auto') {\n            this._canvas.style.imageRendering = 'auto';\n        }\n        else {\n            this._canvas.style.imageRendering = 'pixelated';\n            // Fall back to 'crisp-edges' if 'pixelated' is not supported\n            // Currently for firefox https://developer.mozilla.org/en-US/docs/Web/CSS/image-rendering\n            if (this._canvas.style.imageRendering === '') {\n                this._canvas.style.imageRendering = 'crisp-edges';\n            }\n        }\n        const widthUnit = this.viewport.widthUnit === 'percent' ? '%' : 'px';\n        const heightUnit = this.viewport.heightUnit === 'percent' ? '%' : 'px';\n        this._canvas.style.width = this.viewport.width + widthUnit;\n        this._canvas.style.height = this.viewport.height + heightUnit;\n        // After messing with the canvas width/height the graphics context is invalidated and needs to have some properties reset\n        this.graphicsContext.updateViewport(this.resolution);\n        this.graphicsContext.resetTransform();\n        this.graphicsContext.smoothing = this._antialiasing;\n        if (this.graphicsContext instanceof ExcaliburGraphicsContext2DCanvas) {\n            this.graphicsContext.scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Add the excalibur world pixel to page pixel\n        document.documentElement.style.setProperty('--ex-pixel-ratio', this.worldToPagePixelRatio.toString());\n    }\n    /**\n     * Get or set screen antialiasing,\n     *\n     * If true smoothing is applied\n     */\n    get antialiasing() {\n        return this._antialiasing;\n    }\n    /**\n     * Get or set screen antialiasing\n     */\n    set antialiasing(isSmooth) {\n        this._antialiasing = isSmooth;\n        this.graphicsContext.smoothing = this._antialiasing;\n    }\n    /**\n     * Returns true if excalibur is fullscreen using the browser fullscreen api\n     * @deprecated use isFullscreen()\n     */\n    get isFullScreen() {\n        return this._isFullscreen;\n    }\n    /**\n     * Returns true if excalibur is fullscreen using the browser fullscreen api\n     */\n    get isFullscreen() {\n        return this._isFullscreen;\n    }\n    /**\n     * Requests to go fullscreen using the browser fullscreen api, requires user interaction to be successful.\n     * For example, wire this to a user click handler.\n     *\n     * Optionally specify a target element id to go fullscreen, by default the game canvas is used\n     * @param elementId\n     * @deprecated use enterFullscreen(...)\n     */\n    goFullScreen(elementId) {\n        return this.enterFullscreen(elementId);\n    }\n    /**\n     * Requests to enter fullscreen using the browser fullscreen api, requires user interaction to be successful.\n     * For example, wire this to a user click handler.\n     *\n     * Optionally specify a target element id to go fullscreen, by default the game canvas is used\n     * @param elementId\n     */\n    enterFullscreen(elementId) {\n        if (elementId) {\n            const maybeElement = document.getElementById(elementId);\n            if (maybeElement) {\n                if (!maybeElement.getAttribute('ex-fullscreen-listener')) {\n                    maybeElement.setAttribute('ex-fullscreen-listener', 'true');\n                    maybeElement.addEventListener('fullscreenchange', this._fullscreenChangeHandler);\n                }\n                const fullscreenPromise = maybeElement.requestFullscreen();\n                return fullscreenPromise;\n            }\n        }\n        return this._canvas.requestFullscreen();\n    }\n    /**\n     * Requests to exit fullscreen using the browser fullscreen api\n     * @deprecated use exitFullscreen()\n     */\n    exitFullScreen() {\n        return this.exitFullscreen();\n    }\n    exitFullscreen() {\n        return document.exitFullscreen();\n    }\n    _viewportToPixels(viewport) {\n        return {\n            width: viewport.widthUnit === 'percent' ? this.canvas.offsetWidth : viewport.width,\n            height: viewport.heightUnit === 'percent' ? this.canvas.offsetHeight : viewport.height\n        };\n    }\n    /**\n     * Takes a coordinate in normal html page space, for example from a pointer move event, and translates it to\n     * Excalibur screen space.\n     *\n     * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\n     * bottom right corner (resolutionX, resolutionY). When using *AndFill suffixed display modes screen space\n     * (0, 0) is the top left of the safe content area bounding box not the viewport.\n     * @param point\n     */\n    pageToScreenCoordinates(point) {\n        let newX = point.x;\n        let newY = point.y;\n        if (!this._isFullscreen) {\n            newX -= getPosition(this._canvas).x;\n            newY -= getPosition(this._canvas).y;\n        }\n        const viewport = this._viewportToPixels(this.viewport);\n        // if fullscreen api on it centers with black bars\n        // we need to adjust the screen to world coordinates in this case\n        if (this._isFullscreen) {\n            if (window.innerWidth / this.aspectRatio < window.innerHeight) {\n                const screenHeight = window.innerWidth / this.aspectRatio;\n                const screenMarginY = (window.innerHeight - screenHeight) / 2;\n                newY = ((newY - screenMarginY) / screenHeight) * viewport.height;\n                newX = (newX / window.innerWidth) * viewport.width;\n            }\n            else {\n                const screenWidth = window.innerHeight * this.aspectRatio;\n                const screenMarginX = (window.innerWidth - screenWidth) / 2;\n                newX = ((newX - screenMarginX) / screenWidth) * viewport.width;\n                newY = (newY / window.innerHeight) * viewport.height;\n            }\n        }\n        newX = (newX / viewport.width) * this.resolution.width;\n        newY = (newY / viewport.height) * this.resolution.height;\n        // offset by content area\n        newX = newX - this.contentArea.left;\n        newY = newY - this.contentArea.top;\n        return new Vector(newX, newY);\n    }\n    /**\n     * Takes a coordinate in Excalibur screen space, and translates it to normal html page space. For example,\n     * this is where html elements might live if you want to position them relative to Excalibur.\n     *\n     * Excalibur screen space starts at the top left (0, 0) corner of the viewport, and extends to the\n     * bottom right corner (resolutionX, resolutionY)\n     * @param point\n     */\n    screenToPageCoordinates(point) {\n        let newX = point.x;\n        let newY = point.y;\n        // no need to offset by content area, drawing is already offset by this\n        const viewport = this._viewportToPixels(this.viewport);\n        newX = (newX / this.resolution.width) * viewport.width;\n        newY = (newY / this.resolution.height) * viewport.height;\n        if (this._isFullscreen) {\n            if (window.innerWidth / this.aspectRatio < window.innerHeight) {\n                const screenHeight = window.innerWidth / this.aspectRatio;\n                const screenMarginY = (window.innerHeight - screenHeight) / 2;\n                newY = (newY / viewport.height) * screenHeight + screenMarginY;\n                newX = (newX / viewport.width) * window.innerWidth;\n            }\n            else {\n                const screenWidth = window.innerHeight * this.aspectRatio;\n                const screenMarginX = (window.innerWidth - screenWidth) / 2;\n                newX = (newX / viewport.width) * screenWidth + screenMarginX;\n                newY = (newY / viewport.height) * window.innerHeight;\n            }\n        }\n        if (!this._isFullscreen) {\n            newX += getPosition(this._canvas).x;\n            newY += getPosition(this._canvas).y;\n        }\n        return new Vector(newX, newY);\n    }\n    /**\n     * Takes a coordinate in Excalibur screen space, and translates it to Excalibur world space.\n     *\n     * World space is where {@apilink Entity | `entities`} in Excalibur live by default {@apilink CoordPlane.World}\n     * and extends infinitely out relative from the {@apilink Camera}.\n     * @param point  Screen coordinate to convert\n     */\n    screenToWorldCoordinates(point) {\n        // offset by content area\n        point = point.add(vec(this.contentArea.left, this.contentArea.top));\n        // the only difference between screen & world is the camera transform\n        if (this._camera) {\n            return this._camera.inverse.multiply(point);\n        }\n        return point.sub(vec(this.resolution.width / 2, this.resolution.height / 2));\n    }\n    /**\n     * Takes a coordinate in Excalibur world space, and translates it to Excalibur screen space.\n     *\n     * Screen space is where {@apilink ScreenElement | `screen elements`} and {@apilink Entity | `entities`} with {@apilink CoordPlane.Screen} live.\n     * @param point  World coordinate to convert\n     */\n    worldToScreenCoordinates(point) {\n        if (this._camera) {\n            return this._camera.transform.multiply(point);\n        }\n        return point.add(vec(this.resolution.width / 2, this.resolution.height / 2));\n    }\n    pageToWorldCoordinates(point) {\n        const screen = this.pageToScreenCoordinates(point);\n        return this.screenToWorldCoordinates(screen);\n    }\n    worldToPageCoordinates(point) {\n        const screen = this.worldToScreenCoordinates(point);\n        return this.screenToPageCoordinates(screen);\n    }\n    /**\n     * Returns a BoundingBox of the top left corner of the screen\n     * and the bottom right corner of the screen.\n     *\n     * World bounds are in world coordinates, useful for culling objects offscreen that are in world space\n     */\n    getWorldBounds() {\n        const bounds = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Half)\n            .scale(vec(1 / this._camera.zoom, 1 / this._camera.zoom))\n            .rotate(this._camera.rotation)\n            .translate(this._camera.drawPos);\n        return bounds;\n    }\n    /**\n     * Returns a BoundingBox of the top left corner of the screen and the bottom right corner of the screen.\n     *\n     * Screen bounds are in screen coordinates, useful for culling objects offscreen that are in screen space\n     */\n    getScreenBounds() {\n        const bounds = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero, Vector.Zero);\n        return bounds;\n    }\n    /**\n     * The width of the game canvas in pixels (physical width component of the\n     * resolution of the canvas element)\n     */\n    get canvasWidth() {\n        return this.canvas.width;\n    }\n    /**\n     * Returns half width of the game canvas in pixels (half physical width component)\n     */\n    get halfCanvasWidth() {\n        return this.canvas.width / 2;\n    }\n    /**\n     * The height of the game canvas in pixels, (physical height component of\n     * the resolution of the canvas element)\n     */\n    get canvasHeight() {\n        return this.canvas.height;\n    }\n    /**\n     * Returns half height of the game canvas in pixels (half physical height component)\n     */\n    get halfCanvasHeight() {\n        return this.canvas.height / 2;\n    }\n    /**\n     * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawWidth() {\n        if (this._camera) {\n            return this.resolution.width / this._camera.zoom;\n        }\n        return this.resolution.width;\n    }\n    /**\n     * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get width() {\n        if (this._camera) {\n            return this.resolution.width / this._camera.zoom;\n        }\n        return this.resolution.width;\n    }\n    /**\n     * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawWidth() {\n        return this.drawWidth / 2;\n    }\n    /**\n     * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawHeight() {\n        if (this._camera) {\n            return this.resolution.height / this._camera.zoom;\n        }\n        return this.resolution.height;\n    }\n    get height() {\n        if (this._camera) {\n            return this.resolution.height / this._camera.zoom;\n        }\n        return this.resolution.height;\n    }\n    /**\n     * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawHeight() {\n        return this.drawHeight / 2;\n    }\n    /**\n     * Returns screen center coordinates including zoom and device pixel ratio.\n     */\n    get center() {\n        return vec(this.halfDrawWidth, this.halfDrawHeight);\n    }\n    /**\n     * Returns the content area in screen space where it is safe to place content\n     */\n    get contentArea() {\n        return this._contentArea;\n    }\n    /**\n     * Returns the unsafe area in screen space, this is the full screen and some space may not be onscreen.\n     */\n    get unsafeArea() {\n        return this._unsafeArea;\n    }\n    _computeFit() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        const aspect = this.aspectRatio;\n        let adjustedWidth = 0;\n        let adjustedHeight = 0;\n        if (window.innerWidth / aspect < window.innerHeight) {\n            adjustedWidth = window.innerWidth;\n            adjustedHeight = window.innerWidth / aspect;\n        }\n        else {\n            adjustedWidth = window.innerHeight * aspect;\n            adjustedHeight = window.innerHeight;\n        }\n        this.viewport = {\n            width: adjustedWidth,\n            height: adjustedHeight\n        };\n        this._contentArea = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero);\n        this._unsafeArea = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero);\n        this.events.emit('resize', {\n            resolution: this.resolution,\n            viewport: this.viewport\n        });\n    }\n    _computeFitScreenAndFill() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        const vw = window.innerWidth;\n        const vh = window.innerHeight;\n        this._computeFitAndFill(vw, vh);\n        this.events.emit('resize', {\n            resolution: this.resolution,\n            viewport: this.viewport\n        });\n    }\n    _computeFitContainerAndFill() {\n        this.canvas.style.width = '100%';\n        this.canvas.style.height = '100%';\n        this._computeFitAndFill(this.canvas.offsetWidth, this.canvas.offsetHeight, {\n            width: 100,\n            widthUnit: 'percent',\n            height: 100,\n            heightUnit: 'percent'\n        });\n        this.events.emit('resize', {\n            resolution: this.resolution,\n            viewport: this.viewport\n        });\n    }\n    _computeFitAndFill(vw, vh, viewport) {\n        this.viewport = viewport !== null && viewport !== void 0 ? viewport : {\n            width: vw,\n            height: vh\n        };\n        // if the current screen aspectRatio is less than the original aspectRatio\n        if (vw / vh <= this._contentResolution.width / this._contentResolution.height) {\n            // compute new resolution to match the original aspect ratio\n            this.resolution = {\n                width: (vw * this._contentResolution.width) / vw,\n                height: (((vw * this._contentResolution.width) / vw) * vh) / vw\n            };\n            const clip = (this.resolution.height - this._contentResolution.height) / 2;\n            this._contentArea = new BoundingBox({\n                top: clip,\n                left: 0,\n                right: this._contentResolution.width,\n                bottom: this.resolution.height - clip\n            });\n            this._unsafeArea = new BoundingBox({\n                top: -clip,\n                left: 0,\n                right: this._contentResolution.width,\n                bottom: this.resolution.height + clip\n            });\n        }\n        else {\n            this.resolution = {\n                width: (((vh * this._contentResolution.height) / vh) * vw) / vh,\n                height: (vh * this._contentResolution.height) / vh\n            };\n            const clip = (this.resolution.width - this._contentResolution.width) / 2;\n            this._contentArea = new BoundingBox({\n                top: 0,\n                left: clip,\n                right: this.resolution.width - clip,\n                bottom: this._contentResolution.height\n            });\n            this._unsafeArea = new BoundingBox({\n                top: 0,\n                left: -clip,\n                right: this.resolution.width + clip,\n                bottom: this._contentResolution.height\n            });\n        }\n    }\n    _computeFitScreenAndZoom() {\n        document.body.style.margin = '0px';\n        document.body.style.overflow = 'hidden';\n        this.canvas.style.position = 'absolute';\n        const vw = window.innerWidth;\n        const vh = window.innerHeight;\n        this._computeFitAndZoom(vw, vh);\n        this.events.emit('resize', {\n            resolution: this.resolution,\n            viewport: this.viewport\n        });\n    }\n    _computeFitContainerAndZoom() {\n        this.canvas.style.width = '100%';\n        this.canvas.style.height = '100%';\n        this.canvas.style.position = 'relative';\n        const parent = this.canvas.parentElement;\n        parent.style.overflow = 'hidden';\n        const { offsetWidth: vw, offsetHeight: vh } = this.canvas;\n        this._computeFitAndZoom(vw, vh);\n        this.events.emit('resize', {\n            resolution: this.resolution,\n            viewport: this.viewport\n        });\n    }\n    _computeFitAndZoom(vw, vh) {\n        const aspect = this.aspectRatio;\n        let adjustedWidth = 0;\n        let adjustedHeight = 0;\n        if (vw / aspect < vh) {\n            adjustedWidth = vw;\n            adjustedHeight = vw / aspect;\n        }\n        else {\n            adjustedWidth = vh * aspect;\n            adjustedHeight = vh;\n        }\n        const scaleX = vw / adjustedWidth;\n        const scaleY = vh / adjustedHeight;\n        const maxScaleFactor = Math.max(scaleX, scaleY);\n        const zoomedWidth = adjustedWidth * maxScaleFactor;\n        const zoomedHeight = adjustedHeight * maxScaleFactor;\n        // Center zoomed dimension if bigger than the screen\n        if (zoomedWidth > vw) {\n            this.canvas.style.left = -(zoomedWidth - vw) / 2 + 'px';\n        }\n        else {\n            this.canvas.style.left = '';\n        }\n        if (zoomedHeight > vh) {\n            this.canvas.style.top = -(zoomedHeight - vh) / 2 + 'px';\n        }\n        else {\n            this.canvas.style.top = '';\n        }\n        this.viewport = {\n            width: zoomedWidth,\n            height: zoomedHeight\n        };\n        const bounds = BoundingBox.fromDimension(this.viewport.width, this.viewport.height, Vector.Zero);\n        // return safe area\n        if (this.viewport.width > vw) {\n            const clip = ((this.viewport.width - vw) / this.viewport.width) * this.resolution.width;\n            bounds.top = 0;\n            bounds.left = clip / 2;\n            bounds.right = this.resolution.width - clip / 2;\n            bounds.bottom = this.resolution.height;\n        }\n        if (this.viewport.height > vh) {\n            const clip = ((this.viewport.height - vh) / this.viewport.height) * this.resolution.height;\n            bounds.top = clip / 2;\n            bounds.left = 0;\n            bounds.bottom = this.resolution.height - clip / 2;\n            bounds.right = this.resolution.width;\n        }\n        this._contentArea = bounds;\n    }\n    _computeFitContainer() {\n        const aspect = this.aspectRatio;\n        let adjustedWidth = 0;\n        let adjustedHeight = 0;\n        let widthUnit = 'pixel';\n        let heightUnit = 'pixel';\n        const parent = this.canvas.parentElement;\n        if (parent.clientWidth / aspect < parent.clientHeight) {\n            this.canvas.style.width = '100%';\n            adjustedWidth = 100;\n            widthUnit = 'percent';\n            adjustedHeight = this.canvas.offsetWidth / aspect;\n        }\n        else {\n            this.canvas.style.height = '100%';\n            adjustedHeight = 100;\n            heightUnit = 'percent';\n            adjustedWidth = this.canvas.offsetHeight * aspect;\n        }\n        this.viewport = {\n            width: adjustedWidth,\n            widthUnit,\n            height: adjustedHeight,\n            heightUnit\n        };\n        this._contentArea = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero);\n        this.events.emit('resize', {\n            resolution: this.resolution,\n            viewport: this.viewport\n        });\n    }\n    _applyDisplayMode() {\n        this._setResolutionAndViewportByDisplayMode(this.parent);\n        // watch resizing\n        if (this.parent instanceof Window) {\n            this._browser.window.on('resize', this._resizeHandler);\n        }\n        else {\n            this._resizeObserver = new ResizeObserver(() => {\n                this._resizeHandler();\n            });\n            this._resizeObserver.observe(this.parent);\n        }\n        this.parent.addEventListener('resize', this._resizeHandler);\n    }\n    /**\n     * Sets the resolution and viewport based on the selected display mode.\n     */\n    _setResolutionAndViewportByDisplayMode(parent) {\n        if (this.displayMode === DisplayMode.FillContainer) {\n            this.canvas.style.width = '100%';\n            this.canvas.style.height = '100%';\n            this.viewport = {\n                width: 100,\n                widthUnit: 'percent',\n                height: 100,\n                heightUnit: 'percent'\n            };\n            this.resolution = {\n                width: this.canvas.offsetWidth,\n                height: this.canvas.offsetHeight\n            };\n        }\n        if (this.displayMode === DisplayMode.FillScreen) {\n            document.body.style.margin = '0px';\n            document.body.style.overflow = 'hidden';\n            this.resolution = {\n                width: parent.innerWidth,\n                height: parent.innerHeight\n            };\n            this.viewport = this.resolution;\n        }\n        this._contentArea = BoundingBox.fromDimension(this.resolution.width, this.resolution.height, Vector.Zero);\n        if (this.displayMode === DisplayMode.FitScreen) {\n            this._computeFit();\n        }\n        if (this.displayMode === DisplayMode.FitContainer) {\n            this._computeFitContainer();\n        }\n        if (this.displayMode === DisplayMode.FitScreenAndFill) {\n            this._computeFitScreenAndFill();\n        }\n        if (this.displayMode === DisplayMode.FitContainerAndFill) {\n            this._computeFitContainerAndFill();\n        }\n        if (this.displayMode === DisplayMode.FitScreenAndZoom) {\n            this._computeFitScreenAndZoom();\n        }\n        if (this.displayMode === DisplayMode.FitContainerAndZoom) {\n            this._computeFitContainerAndZoom();\n        }\n    }\n}\n\n;// ./Resources/Sound/AudioContext.ts\n/**\n * Internal class used to build instances of AudioContext\n */\n/* istanbul ignore next */\nclass AudioContextFactory {\n    static create() {\n        if (!this._INSTANCE) {\n            if (window.AudioContext || window.webkitAudioContext) {\n                this._INSTANCE = new AudioContext();\n            }\n        }\n        return this._INSTANCE;\n    }\n}\n\n;// ./Util/WebAudio.ts\n\n\n/**\n * Patch for detecting legacy web audio in browsers\n * @internal\n * @param source\n */\nfunction isLegacyWebAudioSource(source) {\n    return !!source.playbackState;\n}\nclass WebAudio {\n    /**\n     * Play an empty sound to unlock Safari WebAudio context. Call this function\n     * right after a user interaction event.\n     * @source https://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     */\n    static unlock() {\n        const promise = new Promise((resolve, reject) => {\n            if (WebAudio._UNLOCKED || !AudioContextFactory.create()) {\n                return resolve(true);\n            }\n            const unlockTimeoutTimer = setTimeout(() => {\n                Logger.getInstance().warn('Excalibur was unable to unlock the audio context, audio probably will not play in this browser.');\n                resolve(false);\n            }, 200);\n            const audioContext = AudioContextFactory.create();\n            audioContext.resume().then(() => {\n                // create empty buffer and play it\n                const buffer = audioContext.createBuffer(1, 1, 22050);\n                const source = audioContext.createBufferSource();\n                let ended = false;\n                source.buffer = buffer;\n                source.connect(audioContext.destination);\n                source.onended = () => (ended = true);\n                source.start(0);\n                // by checking the play state after some time, we know if we're really unlocked\n                setTimeout(() => {\n                    if (isLegacyWebAudioSource(source)) {\n                        if (source.playbackState === source.PLAYING_STATE || source.playbackState === source.FINISHED_STATE) {\n                            WebAudio._UNLOCKED = true;\n                        }\n                    }\n                    else {\n                        if (audioContext.currentTime > 0 || ended) {\n                            WebAudio._UNLOCKED = true;\n                        }\n                    }\n                }, 0);\n                clearTimeout(unlockTimeoutTimer);\n                resolve(true);\n            }, () => {\n                reject();\n            });\n        });\n        return promise;\n    }\n    static isUnlocked() {\n        return this._UNLOCKED;\n    }\n}\nWebAudio._UNLOCKED = false;\n\n;// ./Graphics/Canvas.ts\n\n/**\n * A canvas {@apilink Graphic} to provide an adapter between the 2D Canvas API and the {@apilink ExcaliburGraphicsContext}.\n *\n * The {@apilink Canvas} works by re-rastering a draw handler to a HTMLCanvasElement for every draw which is then passed\n * to the {@apilink ExcaliburGraphicsContext} implementation as a rendered image.\n *\n * **Low performance API**\n */\nclass Canvas extends Raster {\n    /**\n     * Return the 2D graphics context of this canvas\n     */\n    get ctx() {\n        return this._ctx;\n    }\n    constructor(_options = {}) {\n        super(_options);\n        this._options = _options;\n    }\n    clone() {\n        return new Canvas({\n            ...this._options,\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        var _a, _b;\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.draw) {\n            (_b = this._options) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n        }\n        if (!this._options.cache) {\n            this.flagDirty();\n        }\n    }\n}\n\n;// ./Interfaces/AudioImplementation.ts\nclass ExResponse {\n}\nExResponse.type = {\n    any: '',\n    blob: 'blob',\n    json: 'json',\n    text: 'text',\n    document: 'document',\n    arraybuffer: 'arraybuffer'\n};\n\n;// ./Util/StateMachine.ts\nclass StateMachine {\n    constructor() {\n        this.states = new Map();\n    }\n    get currentState() {\n        return this._currentState;\n    }\n    set currentState(state) {\n        this._currentState = state;\n    }\n    static create(machineDescription, data) {\n        const machine = new StateMachine();\n        machine.data = data;\n        for (const stateName in machineDescription.states) {\n            machine.states.set(stateName, {\n                name: stateName,\n                ...machineDescription.states[stateName]\n            });\n        }\n        // validate transitions are states\n        for (const state of machine.states.values()) {\n            for (const transitionState of state.transitions) {\n                if (transitionState === '*') {\n                    continue;\n                }\n                if (!machine.states.has(transitionState)) {\n                    throw Error(`Invalid state machine, state [${state.name}] has a transition to another state that doesn't exist [${transitionState}]`);\n                }\n            }\n        }\n        machine.currentState = machine.startState = machine.states.get(machineDescription.start);\n        return machine;\n    }\n    in(state) {\n        return this.currentState.name === state;\n    }\n    go(stateName, eventData) {\n        var _a, _b;\n        if (this.currentState.transitions.includes(stateName) || this.currentState.transitions.includes('*')) {\n            const potentialNewState = this.states.get(stateName);\n            if (this.currentState.onExit) {\n                const canExit = (_a = this.currentState) === null || _a === void 0 ? void 0 : _a.onExit({ to: potentialNewState.name, data: this.data });\n                if (canExit === false) {\n                    return false;\n                }\n            }\n            if (potentialNewState === null || potentialNewState === void 0 ? void 0 : potentialNewState.onEnter) {\n                const canEnter = potentialNewState === null || potentialNewState === void 0 ? void 0 : potentialNewState.onEnter({ from: this.currentState.name, eventData, data: this.data });\n                if (canEnter === false) {\n                    return false;\n                }\n            }\n            this.currentState = potentialNewState;\n            if ((_b = this.currentState) === null || _b === void 0 ? void 0 : _b.onState) {\n                this.currentState.onState();\n            }\n            return true;\n        }\n        return false;\n    }\n    update(elapsed) {\n        if (this.currentState.onUpdate) {\n            this.currentState.onUpdate(this.data, elapsed);\n        }\n    }\n    save(saveKey) {\n        localStorage.setItem(saveKey, JSON.stringify({\n            currentState: this.currentState.name,\n            data: this.data\n        }));\n    }\n    restore(saveKey) {\n        const state = JSON.parse(localStorage.getItem(saveKey));\n        this.currentState = this.states.get(state.currentState);\n        this.data = state.data;\n    }\n}\n\n;// ./Resources/Sound/WebAudioInstance.ts\n\n\n\n\n/**\n * Internal class representing a Web Audio AudioBufferSourceNode instance\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\n */\nclass WebAudioInstance {\n    _createNewBufferSource() {\n        this._instance = this._audioContext.createBufferSource();\n        this._instance.buffer = this._src;\n        this._instance.loop = this.loop;\n        this._instance.playbackRate.value = this._playbackRate;\n        this._instance.connect(this._volumeNode);\n        this._volumeNode.connect(this._audioContext.destination);\n    }\n    _handleEnd() {\n        if (!this.loop) {\n            this._instance.onended = () => {\n                this._playingFuture.resolve(true);\n            };\n        }\n    }\n    set loop(value) {\n        this._loop = value;\n        if (this._instance) {\n            this._instance.loop = value;\n            if (!this.loop) {\n                this._instance.onended = () => {\n                    this._playingFuture.resolve(true);\n                };\n            }\n        }\n    }\n    get loop() {\n        return this._loop;\n    }\n    set volume(value) {\n        value = clamp(value, 0, 1.0);\n        this._volume = value;\n        if (this._stateMachine.in('PLAYING') && this._volumeNode.gain.setTargetAtTime) {\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/setTargetAtTime\n            // After each .1 seconds timestep, the target value will ~63.2% closer to the target value.\n            // This exponential ramp provides a more pleasant transition in gain\n            this._volumeNode.gain.setTargetAtTime(value, this._audioContext.currentTime, 0.1);\n        }\n        else {\n            this._volumeNode.gain.value = value;\n        }\n    }\n    get volume() {\n        return this._volume;\n    }\n    /**\n     * Returns the set duration to play, otherwise returns the total duration if unset\n     */\n    get duration() {\n        var _a;\n        return (_a = this._duration) !== null && _a !== void 0 ? _a : this.getTotalPlaybackDuration();\n    }\n    /**\n     * Set the duration that this audio should play.\n     *\n     * Note: if you seek to a specific point the duration will start from that point, for example\n     *\n     * If you have a 10 second clip, seek to 5 seconds, then set the duration to 2, it will play the clip from 5-7 seconds.\n     */\n    set duration(duration) {\n        this._duration = duration;\n    }\n    constructor(_src) {\n        this._src = _src;\n        this._audioContext = AudioContextFactory.create();\n        this._volumeNode = this._audioContext.createGain();\n        this._playingFuture = new Future();\n        this._stateMachine = StateMachine.create({\n            start: 'STOPPED',\n            states: {\n                PLAYING: {\n                    onEnter: ({ data }) => {\n                        // Buffer nodes are single use\n                        this._createNewBufferSource();\n                        this._handleEnd();\n                        if (this.loop) {\n                            // when looping don't set a duration\n                            this._instance.start(0, data.pausedAt * this._playbackRate);\n                        }\n                        else {\n                            this._instance.start(0, data.pausedAt * this._playbackRate, this.duration);\n                        }\n                        data.startedAt = this._audioContext.currentTime - data.pausedAt;\n                        data.pausedAt = 0;\n                    },\n                    onState: () => this._playStarted(),\n                    onExit: ({ to }) => {\n                        // If you've exited early only resolve if explicitly STOPPED\n                        if (to === 'STOPPED') {\n                            this._playingFuture.resolve(true);\n                        }\n                        // Whenever you're not playing... you stop!\n                        this._instance.onended = null; // disconnect the wired on-end handler\n                        this._instance.disconnect();\n                        this._instance.stop(0);\n                        this._instance = null;\n                    },\n                    transitions: ['STOPPED', 'PAUSED', 'SEEK']\n                },\n                SEEK: {\n                    onEnter: ({ eventData: position, data }) => {\n                        data.pausedAt = (position !== null && position !== void 0 ? position : 0) / this._playbackRate;\n                        data.startedAt = 0;\n                    },\n                    transitions: ['*']\n                },\n                STOPPED: {\n                    onEnter: ({ data }) => {\n                        data.pausedAt = 0;\n                        data.startedAt = 0;\n                        this._playingFuture.resolve(true);\n                    },\n                    transitions: ['PLAYING', 'PAUSED', 'SEEK']\n                },\n                PAUSED: {\n                    onEnter: ({ data }) => {\n                        // Playback rate will be a scale factor of how fast/slow the audio is being played\n                        // default is 1.0\n                        // we need to invert it to get the time scale\n                        data.pausedAt = this._audioContext.currentTime - data.startedAt;\n                    },\n                    transitions: ['PLAYING', 'STOPPED', 'SEEK']\n                }\n            }\n        }, {\n            startedAt: 0,\n            pausedAt: 0\n        });\n        this._volume = 1;\n        this._loop = false;\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        this._playStarted = () => { };\n        this._playbackRate = 1.0;\n        this._createNewBufferSource();\n    }\n    isPlaying() {\n        return this._stateMachine.in('PLAYING');\n    }\n    isPaused() {\n        return this._stateMachine.in('PAUSED') || this._stateMachine.in('SEEK');\n    }\n    isStopped() {\n        return this._stateMachine.in('STOPPED');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    play(playStarted = () => { }) {\n        this._playStarted = playStarted;\n        this._stateMachine.go('PLAYING');\n        return this._playingFuture.promise;\n    }\n    pause() {\n        this._stateMachine.go('PAUSED');\n    }\n    stop() {\n        this._stateMachine.go('STOPPED');\n    }\n    seek(position) {\n        this._stateMachine.go('PAUSED');\n        this._stateMachine.go('SEEK', position);\n    }\n    getTotalPlaybackDuration() {\n        return this._src.duration;\n    }\n    getPlaybackPosition() {\n        const { pausedAt, startedAt } = this._stateMachine.data;\n        if (pausedAt) {\n            return pausedAt * this._playbackRate;\n        }\n        if (startedAt) {\n            return (this._audioContext.currentTime - startedAt) * this._playbackRate;\n        }\n        return 0;\n    }\n    set playbackRate(playbackRate) {\n        this._instance.playbackRate.value = this._playbackRate = playbackRate;\n    }\n    get playbackRate() {\n        return this._instance.playbackRate.value;\n    }\n}\n\n;// ./Events/MediaEvents.ts\n\nclass MediaEvent extends GameEvent {\n    /**\n     * Media event cannot bubble\n     */\n    set bubbles(_value) {\n        // stubbed\n    }\n    /**\n     * Media event cannot bubble\n     */\n    get bubbles() {\n        return false;\n    }\n    /**\n     * Media event cannot bubble, so they have no path\n     */\n    get _path() {\n        return null;\n    }\n    /**\n     * Media event cannot bubble, so they have no path\n     */\n    set _path(_val) {\n        // stubbed\n    }\n    constructor(target, _name = 'MediaEvent') {\n        super();\n        this.target = target;\n        this._name = _name;\n    }\n    /**\n     * Prevents event from bubbling\n     */\n    stopPropagation() {\n        /**\n         * Stub\n         */\n    }\n    /**\n     * Action, that calls when event happens\n     */\n    action() {\n        /**\n         * Stub\n         */\n    }\n    /**\n     * Propagate event further through event path\n     */\n    propagate() {\n        /**\n         * Stub\n         */\n    }\n    layPath(_actor) {\n        /**\n         * Stub\n         */\n    }\n}\nclass NativeSoundEvent extends MediaEvent {\n    constructor(target, track) {\n        super(target, 'NativeSoundEvent');\n        this.track = track;\n    }\n}\nclass NativeSoundProcessedEvent extends MediaEvent {\n    constructor(target, _processedData) {\n        super(target, 'NativeSoundProcessedEvent');\n        this._processedData = _processedData;\n        this.data = this._processedData;\n    }\n}\n\n;// ./Util/Sound.ts\n\n/**\n * Whether or not the browser can play this file as HTML5 Audio\n */\nfunction canPlayFile(file) {\n    try {\n        const a = new Audio();\n        const filetype = /.*\\.([A-Za-z0-9]+)(?:(?:\\?|\\#).*)*$/;\n        const type = file.match(filetype)[1];\n        if (a.canPlayType('audio/' + type)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    catch (e) {\n        Logger.getInstance().warn('Cannot determine audio support, assuming no support for the Audio Tag', e);\n        return false;\n    }\n}\n\n;// ./Resources/Sound/Sound.ts\n\n\n\n\n\n\n\n\nconst SoundEvents = {\n    VolumeChange: 'volumechange',\n    Processed: 'processed',\n    Pause: 'pause',\n    Stop: 'stop',\n    PlaybackEnd: 'playbackend',\n    Resume: 'resume',\n    PlaybackStart: 'playbackstart'\n};\n/**\n * The {@apilink Sound} object allows games built in Excalibur to load audio\n * components, from soundtracks to sound effects. {@apilink Sound} is an {@apilink Loadable}\n * which means it can be passed to a {@apilink Loader} to pre-load before a game or level.\n */\nclass Sound {\n    /**\n     * Indicates whether the clip should loop when complete\n     * @param value  Set the looping flag\n     */\n    set loop(value) {\n        this._loop = value;\n        for (const track of this._tracks) {\n            track.loop = this._loop;\n        }\n        this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._loop);\n    }\n    get loop() {\n        return this._loop;\n    }\n    set volume(value) {\n        this._volume = value;\n        for (const track of this._tracks) {\n            track.volume = this._volume;\n        }\n        this.events.emit('volumechange', new NativeSoundEvent(this));\n        this.logger.debug('Set loop for all instances of sound', this.path, 'to', this._volume);\n    }\n    get volume() {\n        return this._volume;\n    }\n    /**\n     * Get the duration that this audio should play. If unset the total natural playback duration will be used.\n     */\n    get duration() {\n        return this._duration;\n    }\n    /**\n     * Set the duration that this audio should play. If unset the total natural playback duration will be used.\n     *\n     * Note: if you seek to a specific point the duration will start from that point, for example\n     *\n     * If you have a 10 second clip, seek to 5 seconds, then set the duration to 2, it will play the clip from 5-7 seconds.\n     */\n    set duration(duration) {\n        this._duration = duration;\n    }\n    /**\n     * Return array of Current AudioInstances playing or being paused\n     */\n    get instances() {\n        return this._tracks;\n    }\n    get path() {\n        return this._resource.path;\n    }\n    set path(val) {\n        this._resource.path = val;\n    }\n    /**\n     * Should excalibur add a cache busting querystring? By default false.\n     * Must be set before loading\n     */\n    get bustCache() {\n        return this._resource.bustCache;\n    }\n    set bustCache(val) {\n        this._resource.bustCache = val;\n    }\n    /**\n     * @param paths A list of audio sources (clip.wav, clip.mp3, clip.ogg) for this audio clip. This is done for browser compatibility.\n     */\n    constructor(...paths) {\n        this.events = new EventEmitter();\n        this.logger = Logger.getInstance();\n        this._loop = false;\n        this._volume = 1;\n        this._isStopped = false;\n        // private _isPaused = false;\n        this._tracks = [];\n        this._wasPlayingOnHidden = false;\n        this._playbackRate = 1.0;\n        this._audioContext = AudioContextFactory.create();\n        this._resource = new Resource('', ExResponse.type.arraybuffer);\n        /**\n         * Chrome : MP3, WAV, Ogg\n         * Firefox : WAV, Ogg,\n         * IE : MP3, WAV coming soon\n         * Safari MP3, WAV, Ogg\n         */\n        for (const path of paths) {\n            if (canPlayFile(path)) {\n                this.path = path;\n                break;\n            }\n        }\n        if (!this.path) {\n            this.logger.warn('This browser does not support any of the audio files specified:', paths.join(', '));\n            this.logger.warn('Attempting to use', paths[0]);\n            this.path = paths[0]; // select the first specified\n        }\n    }\n    isLoaded() {\n        return !!this.data;\n    }\n    async load() {\n        var _a, _b;\n        if (this.data) {\n            return this.data;\n        }\n        const arraybuffer = await this._resource.load();\n        const audiobuffer = await this.decodeAudio(arraybuffer.slice(0));\n        this._duration = (_b = (_a = this._duration) !== null && _a !== void 0 ? _a : audiobuffer === null || audiobuffer === void 0 ? void 0 : audiobuffer.duration) !== null && _b !== void 0 ? _b : undefined;\n        this.events.emit('processed', new NativeSoundProcessedEvent(this, audiobuffer));\n        return (this.data = audiobuffer);\n    }\n    async decodeAudio(data) {\n        try {\n            return await this._audioContext.decodeAudioData(data.slice(0));\n        }\n        catch (e) {\n            this.logger.error('Unable to decode ' +\n                ' this browser may not fully support this format, or the file may be corrupt, ' +\n                'if this is an mp3 try removing id3 tags and album art from the file.');\n            return await Promise.reject();\n        }\n    }\n    wireEngine(engine) {\n        if (engine) {\n            this._engine = engine;\n            this._engine.on('hidden', () => {\n                if (engine.pauseAudioWhenHidden && this.isPlaying()) {\n                    this._wasPlayingOnHidden = true;\n                    this.pause();\n                }\n            });\n            this._engine.on('visible', () => {\n                if (engine.pauseAudioWhenHidden && this._wasPlayingOnHidden) {\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    this.play();\n                    this._wasPlayingOnHidden = false;\n                }\n            });\n            this._engine.on('start', () => {\n                this._isStopped = false;\n            });\n            this._engine.on('stop', () => {\n                this.stop();\n                this._isStopped = true;\n            });\n        }\n    }\n    /**\n     * Returns how many instances of the sound are currently playing\n     */\n    instanceCount() {\n        return this._tracks.length;\n    }\n    /**\n     * Whether or not the sound is playing right now\n     */\n    isPlaying() {\n        return this._tracks.some((t) => t.isPlaying());\n    }\n    isPaused() {\n        return this._tracks.some((t) => t.isPaused());\n    }\n    isStopped() {\n        return this._tracks.some((t) => t.isStopped());\n    }\n    /**\n     * Play the sound, returns a promise that resolves when the sound is done playing\n     * An optional volume argument can be passed in to play the sound. Max volume is 1.0\n     */\n    play(volume) {\n        if (!this.isLoaded()) {\n            this.logger.warn('Cannot start playing. Resource', this.path, 'is not loaded yet');\n            return Promise.resolve(true);\n        }\n        if (this._isStopped) {\n            this.logger.warn('Cannot start playing. Engine is in a stopped state.');\n            return Promise.resolve(false);\n        }\n        this.volume = volume || this.volume;\n        if (this.isPaused()) {\n            return this._resumePlayback();\n        }\n        else {\n            return this._startPlayback();\n        }\n    }\n    /**\n     * Stop the sound, and do not rewind\n     */\n    pause() {\n        if (!this.isPlaying()) {\n            return;\n        }\n        for (const track of this._tracks) {\n            track.pause();\n        }\n        this.events.emit('pause', new NativeSoundEvent(this));\n        this.logger.debug('Paused all instances of sound', this.path);\n    }\n    /**\n     * Stop the sound if it is currently playing and rewind the track. If the sound is not playing, rewinds the track.\n     */\n    stop() {\n        for (const track of this._tracks) {\n            track.stop();\n        }\n        this.events.emit('stop', new NativeSoundEvent(this));\n        this._tracks.length = 0;\n        this.logger.debug('Stopped all instances of sound', this.path);\n    }\n    get playbackRate() {\n        return this._playbackRate;\n    }\n    set playbackRate(playbackRate) {\n        this._playbackRate = playbackRate;\n        this._tracks.forEach((t) => {\n            t.playbackRate = this._playbackRate;\n        });\n    }\n    seek(position, trackId = 0) {\n        if (this._tracks.length === 0) {\n            this._getTrackInstance(this.data);\n        }\n        this._tracks[trackId].seek(position);\n    }\n    getTotalPlaybackDuration() {\n        if (!this.isLoaded()) {\n            this.logger.warnOnce(`Sound from ${this.path} is not loaded, cannot return total playback duration.` +\n                `Did you forget to add Sound to a loader? https://excaliburjs.com/docs/loaders/`);\n            return 0;\n        }\n        return this.data.duration;\n    }\n    /**\n     * Return the current playback time of the playing track in seconds from the start.\n     *\n     * Optionally specify the track to query if multiple are playing at once.\n     * @param trackId\n     */\n    getPlaybackPosition(trackId = 0) {\n        if (this._tracks.length) {\n            return this._tracks[trackId].getPlaybackPosition();\n        }\n        return 0;\n    }\n    /**\n     * Get Id of provided AudioInstance in current trackList\n     * @param track {@apilink Audio} which Id is to be given\n     */\n    getTrackId(track) {\n        return this._tracks.indexOf(track);\n    }\n    async _resumePlayback() {\n        if (this.isPaused()) {\n            const resumed = [];\n            // ensure we resume *current* tracks (if paused)\n            for (const track of this._tracks) {\n                resumed.push(track.play().then(() => {\n                    this._tracks.splice(this.getTrackId(track), 1);\n                    return true;\n                }));\n            }\n            this.events.emit('resume', new NativeSoundEvent(this));\n            this.logger.debug('Resuming paused instances for sound', this.path, this._tracks);\n            // resolve when resumed tracks are done\n            await Promise.all(resumed);\n        }\n        return true;\n    }\n    /**\n     * Starts playback, returns a promise that resolves when playback is complete\n     */\n    async _startPlayback() {\n        const track = this._getTrackInstance(this.data);\n        const complete = await track.play(() => {\n            this.events.emit('playbackstart', new NativeSoundEvent(this, track));\n            this.logger.debug('Playing new instance for sound', this.path);\n        });\n        this.events.emit('playbackend', new NativeSoundEvent(this, track));\n        // cleanup any done tracks\n        const trackId = this.getTrackId(track);\n        if (trackId !== -1) {\n            this._tracks.splice(trackId, 1);\n        }\n        return complete;\n    }\n    _getTrackInstance(data) {\n        var _a;\n        const newTrack = new WebAudioInstance(data);\n        newTrack.loop = this.loop;\n        newTrack.volume = this.volume;\n        newTrack.duration = (_a = this.duration) !== null && _a !== void 0 ? _a : 0;\n        newTrack.playbackRate = this._playbackRate;\n        this._tracks.push(newTrack);\n        return newTrack;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n}\n\n;// ./Director/DefaultLoader.ts\n\n\n\n\n\n\n\n\n\nconst LoaderEvents = {\n    // Add event types here\n    BeforeLoad: 'beforeload',\n    AfterLoad: 'afterload',\n    UserAction: 'useraction',\n    LoadResourceStart: 'loadresourcestart',\n    LoadResourceEnd: 'loadresourceend'\n};\n/**\n * Returns true if the constructor is for an Excalibur Loader\n */\nfunction isLoaderConstructor(x) {\n    var _a, _b;\n    return !!(x === null || x === void 0 ? void 0 : x.prototype) && !!((_b = (_a = x === null || x === void 0 ? void 0 : x.prototype) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name);\n}\nclass DefaultLoader {\n    get resources() {\n        return this._resources;\n    }\n    /**\n     * @param options Optionally provide the list of resources you want to load at constructor time\n     */\n    constructor(options) {\n        var _a;\n        this.events = new EventEmitter();\n        this.canvas = new Canvas({\n            filtering: ImageFiltering.Blended,\n            smoothing: true,\n            cache: false,\n            draw: this.onDraw.bind(this)\n        });\n        this._resources = [];\n        this._numLoaded = 0;\n        this._totalTimeMs = 0;\n        this._loadingFuture = new Future();\n        if (options && ((_a = options.loadables) === null || _a === void 0 ? void 0 : _a.length)) {\n            this.addResources(options.loadables);\n        }\n    }\n    /**\n     * Called by the engine before loading\n     * @param engine\n     */\n    onInitialize(engine) {\n        this.engine = engine;\n        this.canvas.width = this.engine.screen.resolution.width;\n        this.canvas.height = this.engine.screen.resolution.height;\n    }\n    /**\n     * Return a promise that resolves when the user interacts with the loading screen in some way, usually a click.\n     *\n     * It's important to implement this in order to unlock the audio context in the browser. Browsers automatically prevent\n     * audio from playing until the user performs an action.\n     *\n     */\n    async onUserAction() {\n        return await Promise.resolve();\n    }\n    /**\n     * Overridable lifecycle method, called directly before loading starts\n     */\n    async onBeforeLoad() {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called after loading has completed\n     */\n    async onAfterLoad() {\n        // override me\n        await delay(500, this.engine.clock); // avoid a flicker\n    }\n    /**\n     * Add a resource to the loader to load\n     * @param loadable  Resource to add\n     */\n    addResource(loadable) {\n        this._resources.push(loadable);\n    }\n    /**\n     * Add a list of resources to the loader to load\n     * @param loadables  The list of resources to load\n     */\n    addResources(loadables) {\n        let i = 0;\n        const len = loadables.length;\n        for (i; i < len; i++) {\n            this.addResource(loadables[i]);\n        }\n    }\n    markResourceComplete() {\n        this._numLoaded++;\n    }\n    /**\n     * Returns the progress of the loader as a number between [0, 1] inclusive.\n     */\n    get progress() {\n        const total = this._resources.length;\n        return total > 0 ? clamp(this._numLoaded, 0, total) / total : 1;\n    }\n    /**\n     * Returns true if the loader has completely loaded all resources\n     */\n    isLoaded() {\n        return this._numLoaded === this._resources.length;\n    }\n    /**\n     * Optionally override the onUpdate\n     * @param engine\n     * @param elapsed\n     */\n    onUpdate(engine, elapsed) {\n        this._totalTimeMs += elapsed;\n        // override me\n    }\n    /**\n     * Optionally override the onDraw\n     */\n    onDraw(ctx) {\n        const seconds = this._totalTimeMs / 1000;\n        ctx.fillStyle = Color.Black.toRGBA();\n        ctx.fillRect(0, 0, this.engine.screen.resolution.width, this.engine.screen.resolution.height);\n        ctx.save();\n        ctx.translate(this.engine.screen.resolution.width / 2, this.engine.screen.resolution.height / 2);\n        const speed = seconds * 10;\n        ctx.strokeStyle = 'white';\n        ctx.lineWidth = 10;\n        ctx.lineCap = 'round';\n        ctx.arc(0, 0, 40, speed, speed + (Math.PI * 3) / 2);\n        ctx.stroke();\n        ctx.fillStyle = 'white';\n        ctx.font = '16px sans-serif';\n        const text = (this.progress * 100).toFixed(0) + '%';\n        const textbox = ctx.measureText(text);\n        const width = Math.abs(textbox.actualBoundingBoxLeft) + Math.abs(textbox.actualBoundingBoxRight);\n        const height = Math.abs(textbox.actualBoundingBoxAscent) + Math.abs(textbox.actualBoundingBoxDescent);\n        ctx.fillText(text, -width / 2, height / 2); // center\n        ctx.restore();\n    }\n    areResourcesLoaded() {\n        if (this._resources.length === 0) {\n            // special case no resources mean loaded;\n            return Promise.resolve();\n        }\n        return this._loadingFuture.promise;\n    }\n    /**\n     * Not meant to be overridden\n     *\n     * Begin loading all of the supplied resources, returning a promise\n     * that resolves when loading of all is complete AND the user has interacted with the loading screen\n     */\n    async load() {\n        await this.onBeforeLoad();\n        this.events.emit('beforeload');\n        this.canvas.flagDirty();\n        await Promise.all(this._resources.map(async (r) => {\n            this.events.emit('loadresourcestart', r);\n            await r.load().finally(() => {\n                // capture progress\n                this._numLoaded++;\n                this.canvas.flagDirty();\n                this.events.emit('loadresourceend', r);\n            });\n        }));\n        // Wire all sound to the engine\n        for (const resource of this._resources) {\n            if (resource instanceof Sound) {\n                resource.wireEngine(this.engine);\n            }\n        }\n        this._loadingFuture.resolve();\n        this.canvas.flagDirty();\n        // Unlock browser AudioContext in after user gesture\n        // See: https://github.com/excaliburjs/Excalibur/issues/262\n        // See: https://github.com/excaliburjs/Excalibur/issues/1031\n        await this.onUserAction();\n        this.events.emit('useraction');\n        await WebAudio.unlock();\n        await this.onAfterLoad();\n        this.events.emit('afterload');\n        return (this.data = this._resources);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n}\n\n;// ./Director/Loader.logo.png\n/* harmony default export */ const Loader_logo = (\"data:image/png;base64,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\");\n// EXTERNAL MODULE: ./Director/Loader.css\nvar Director_Loader = __webpack_require__(851);\n;// ./Director/Loader.ts\n\n\n\n\n\n\n\n\n\n/**\n * Pre-loading assets\n *\n * The loader provides a mechanism to preload multiple resources at\n * one time. The loader must be passed to the engine in order to\n * trigger the loading progress bar.\n *\n * The {@apilink Loader} itself implements {@apilink Loadable} so you can load loaders.\n *\n * ## Example: Pre-loading resources for a game\n *\n * ```js\n * // create a loader\n * var loader = new ex.Loader();\n *\n * // create a resource dictionary (best practice is to keep a separate file)\n * var resources = {\n *   TextureGround: new ex.Texture(\"/images/textures/ground.png\"),\n *   SoundDeath: new ex.Sound(\"/sound/death.wav\", \"/sound/death.mp3\")\n * };\n *\n * // loop through dictionary and add to loader\n * for (var loadable in resources) {\n *   if (resources.hasOwnProperty(loadable)) {\n *     loader.addResource(resources[loadable]);\n *   }\n * }\n *\n * // start game\n * game.start(loader).then(function () {\n *   console.log(\"Game started!\");\n * });\n * ```\n *\n * ## Customize the Loader\n *\n * The loader can be customized to show different, text, logo, background color, and button.\n *\n * ```typescript\n * const loader = new ex.Loader([playerTexture]);\n *\n * // The loaders button text can simply modified using this\n * loader.playButtonText = 'Start the best game ever';\n *\n * // The logo can be changed by inserting a base64 image string here\n *\n * loader.logo = 'data:image/png;base64,iVBORw...';\n * loader.logoWidth = 15;\n * loader.logoHeight = 14;\n *\n * // The background color can be changed like so by supplying a valid CSS color string\n *\n * loader.backgroundColor = 'red'\n * loader.backgroundColor = '#176BAA'\n *\n * // To build a completely new button\n * loader.startButtonFactory = () => {\n *     let myButton = document.createElement('button');\n *     myButton.textContent = 'The best button';\n *     return myButton;\n * };\n *\n * engine.start(loader).then(() => {});\n * ```\n */\nclass Loader extends DefaultLoader {\n    get _image() {\n        if (!this._imageElement) {\n            this._imageElement = new Image();\n            this._imageElement.onload = () => this._imageLoaded.resolve();\n            this._imageElement.src = this.logo;\n        }\n        return this._imageElement;\n    }\n    get playButtonRootElement() {\n        return this._playButtonRootElement;\n    }\n    get playButtonElement() {\n        return this._playButtonElement;\n    }\n    get _playButton() {\n        const existingRoot = document.getElementById('excalibur-play-root');\n        if (existingRoot) {\n            this._playButtonRootElement = existingRoot;\n        }\n        if (!this._playButtonRootElement) {\n            this._playButtonRootElement = document.createElement('div');\n            this._playButtonRootElement.id = 'excalibur-play-root';\n            this._playButtonRootElement.style.position = 'absolute';\n            document.body.appendChild(this._playButtonRootElement);\n        }\n        if (!this._styleBlock) {\n            this._styleBlock = document.createElement('style');\n            this._styleBlock.textContent = this._playButtonStyles;\n            document.head.appendChild(this._styleBlock);\n        }\n        if (!this._playButtonElement) {\n            this._playButtonElement = this.startButtonFactory();\n            this._playButtonRootElement.appendChild(this._playButtonElement);\n        }\n        return this._playButtonElement;\n    }\n    constructor(loadablesOrOptions) {\n        const options = Array.isArray(loadablesOrOptions)\n            ? {\n                loadables: loadablesOrOptions\n            }\n            : loadablesOrOptions;\n        super(options);\n        this._logger = Logger.getInstance();\n        this._originalOptions = { loadables: [] };\n        this.events = new EventEmitter();\n        this._playButtonShown = false;\n        // logo drawing stuff\n        // base64 string encoding of the excalibur logo (logo-white.png)\n        this.logo = Loader_logo;\n        this.logoWidth = 468;\n        this.logoHeight = 118;\n        /**\n         * Gets or sets the color of the loading bar, default is {@apilink Color.White}\n         */\n        this.loadingBarColor = Color.White;\n        /**\n         * Gets or sets the background color of the loader as a hex string\n         */\n        this.backgroundColor = '#176BAA';\n        this._imageLoaded = new Future();\n        this.suppressPlayButton = false;\n        /** Loads the css from Loader.css */\n        this._playButtonStyles = Director_Loader/* default */.A.toString();\n        /**\n         * Get/set play button text\n         */\n        this.playButtonText = 'Play game';\n        /**\n         * Return a html button element for excalibur to use as a play button\n         */\n        this.startButtonFactory = () => {\n            let buttonElement = document.getElementById('excalibur-play');\n            if (!buttonElement) {\n                buttonElement = document.createElement('button');\n            }\n            buttonElement.id = 'excalibur-play';\n            buttonElement.textContent = this.playButtonText;\n            buttonElement.style.display = 'none';\n            return buttonElement;\n        };\n        this._originalOptions = { ...Loader._DEFAULT_LOADER_OPTIONS, ...options };\n    }\n    onInitialize(engine) {\n        this.engine = engine;\n        this.screen = engine.screen;\n        this.canvas.width = this.engine.canvas.width;\n        this.canvas.height = this.engine.canvas.height;\n        this.screen.events.on('resize', () => {\n            this.canvas.width = this.engine.canvas.width;\n            this.canvas.height = this.engine.canvas.height;\n        });\n    }\n    /**\n     * Shows the play button and returns a promise that resolves when clicked\n     */\n    async showPlayButton() {\n        var _a, _b;\n        if (this.suppressPlayButton) {\n            this.hidePlayButton();\n            // Delay is to give the logo a chance to show, otherwise don't delay\n            await delay(500, (_a = this.engine) === null || _a === void 0 ? void 0 : _a.clock);\n        }\n        else {\n            const resizeHandler = () => {\n                try {\n                    this._positionPlayButton();\n                }\n                catch (_a) {\n                    // swallow if can't position\n                }\n            };\n            if ((_b = this.engine) === null || _b === void 0 ? void 0 : _b.browser) {\n                this.engine.browser.window.on('resize', resizeHandler);\n            }\n            this._playButtonShown = true;\n            this._playButton.style.display = 'block';\n            document.body.addEventListener('keyup', (evt) => {\n                if (evt.key === 'Enter') {\n                    this._playButton.click();\n                }\n            });\n            this._positionPlayButton();\n            const playButtonClicked = new Promise((resolve) => {\n                const startButtonHandler = (e) => {\n                    var _a;\n                    // We want to stop propagation to keep bubbling to the engine pointer handlers\n                    e.stopPropagation();\n                    // Hide Button after click\n                    this.hidePlayButton();\n                    if ((_a = this.engine) === null || _a === void 0 ? void 0 : _a.browser) {\n                        this.engine.browser.window.off('resize', resizeHandler);\n                    }\n                    if (this._originalOptions.fullscreenAfterLoad) {\n                        try {\n                            this._logger.info('requesting fullscreen');\n                            if (this._originalOptions.fullscreenContainer instanceof HTMLElement) {\n                                this._originalOptions.fullscreenContainer.requestFullscreen();\n                            }\n                            else {\n                                this.engine.screen.goFullScreen(this._originalOptions.fullscreenContainer);\n                            }\n                        }\n                        catch (error) {\n                            this._logger.error('could not go fullscreen', error);\n                        }\n                    }\n                    resolve();\n                };\n                this._playButton.addEventListener('click', startButtonHandler);\n                this._playButton.addEventListener('touchend', startButtonHandler);\n                this._playButton.addEventListener('pointerup', startButtonHandler);\n            });\n            return await playButtonClicked;\n        }\n    }\n    hidePlayButton() {\n        this._playButtonShown = false;\n        this._playButton.style.display = 'none';\n    }\n    /**\n     * Clean up generated elements for the loader\n     */\n    dispose() {\n        if (this._playButtonRootElement.parentElement) {\n            this._playButtonRootElement.removeChild(this._playButtonElement);\n            document.body.removeChild(this._playButtonRootElement);\n            document.head.removeChild(this._styleBlock);\n            this._playButtonRootElement = null;\n            this._playButtonElement = null;\n            this._styleBlock = null;\n        }\n    }\n    async onUserAction() {\n        var _a;\n        // short delay in showing the button for aesthetics\n        await delay(200, (_a = this.engine) === null || _a === void 0 ? void 0 : _a.clock);\n        this.canvas.flagDirty();\n        // show play button\n        await this.showPlayButton();\n    }\n    async onBeforeLoad() {\n        this.screen.pushResolutionAndViewport();\n        this.screen.resolution = { width: this.canvas.width, height: this.canvas.height };\n        this.screen.applyResolutionAndViewport();\n        const image = this._image;\n        await this._imageLoaded.promise;\n        await (image === null || image === void 0 ? void 0 : image.decode()); // decode logo if it exists\n    }\n    // eslint-disable-next-line require-await\n    async onAfterLoad() {\n        this.screen.popResolutionAndViewport();\n        this.screen.applyResolutionAndViewport();\n        this.dispose();\n    }\n    _positionPlayButton() {\n        if (this.engine) {\n            const { x: left, y: top, width: screenWidth, height: screenHeight } = this.engine.canvas.getBoundingClientRect();\n            if (this._playButtonRootElement) {\n                const buttonWidth = this._playButton.clientWidth;\n                const buttonHeight = this._playButton.clientHeight;\n                if (this.playButtonPosition) {\n                    this._playButtonRootElement.style.left = `${this.playButtonPosition.x}px`;\n                    this._playButtonRootElement.style.top = `${this.playButtonPosition.y}px`;\n                }\n                else {\n                    this._playButtonRootElement.style.left = `${left + screenWidth / 2 - buttonWidth / 2}px`;\n                    this._playButtonRootElement.style.top = `${top + screenHeight / 2 - buttonHeight / 2 + 100}px`;\n                }\n            }\n        }\n    }\n    /**\n     * Loader draw function. Draws the default Excalibur loading screen.\n     * Override `logo`, `logoWidth`, `logoHeight` and `backgroundColor` properties\n     * to customize the drawing, or just override entire method.\n     */\n    onDraw(ctx) {\n        const canvasHeight = this.engine.canvasHeight / this.engine.pixelRatio;\n        const canvasWidth = this.engine.canvasWidth / this.engine.pixelRatio;\n        this._positionPlayButton();\n        ctx.fillStyle = this.backgroundColor;\n        ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n        let logoY = canvasHeight / 2;\n        const width = Math.min(this.logoWidth, canvasWidth * 0.75);\n        let logoX = canvasWidth / 2 - width / 2;\n        if (this.logoPosition) {\n            logoX = this.logoPosition.x;\n            logoY = this.logoPosition.y;\n        }\n        const imageHeight = Math.floor(width * (this.logoHeight / this.logoWidth)); // OG height/width factor\n        const oldAntialias = this.engine.screen.antialiasing;\n        this.engine.screen.antialiasing = true;\n        if (!this.logoPosition) {\n            ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY - imageHeight - 20, width, imageHeight);\n        }\n        else {\n            ctx.drawImage(this._image, 0, 0, this.logoWidth, this.logoHeight, logoX, logoY, width, imageHeight);\n        }\n        // loading box\n        if (!this.suppressPlayButton && this._playButtonShown) {\n            this.engine.screen.antialiasing = oldAntialias;\n            return;\n        }\n        let loadingX = logoX;\n        let loadingY = logoY;\n        if (this.loadingBarPosition) {\n            loadingX = this.loadingBarPosition.x;\n            loadingY = this.loadingBarPosition.y;\n        }\n        ctx.lineWidth = 2;\n        roundRect(ctx, loadingX, loadingY, width, 20, 10, this.loadingBarColor);\n        const progress = width * this.progress;\n        const margin = 5;\n        const progressWidth = progress - margin * 2;\n        const height = 20 - margin * 2;\n        roundRect(ctx, loadingX + margin, loadingY + margin, progressWidth > 10 ? progressWidth : 10, height, 5, null, this.loadingBarColor);\n        this.engine.screen.antialiasing = oldAntialias;\n    }\n}\nLoader._DEFAULT_LOADER_OPTIONS = {\n    loadables: [],\n    fullscreenAfterLoad: false,\n    fullscreenContainer: undefined\n};\n\n;// ./Util/Detector.ts\n\n/**\n * This is the list of features that will be used to log the supported\n * features to the console when Detector.logBrowserFeatures() is called.\n */\nconst REPORTED_FEATURES = {\n    webgl: 'WebGL',\n    webaudio: 'WebAudio',\n    gamepadapi: 'Gamepad API'\n};\n/**\n * Excalibur internal feature detection helper class\n */\nclass Detector {\n    constructor() {\n        this._features = null;\n        this.failedTests = [];\n        // critical browser features required for ex to run\n        this._criticalTests = {\n            // Test canvas/2d context support\n            canvasSupport: function () {\n                const elem = document.createElement('canvas');\n                return !!(elem.getContext && elem.getContext('2d'));\n            },\n            // Test array buffer support ex uses for downloading binary data\n            arrayBufferSupport: function () {\n                const xhr = new XMLHttpRequest();\n                xhr.open('GET', '/');\n                try {\n                    xhr.responseType = 'arraybuffer';\n                }\n                catch (e) {\n                    return false;\n                }\n                return xhr.responseType === 'arraybuffer';\n            },\n            // Test data urls ex uses for sprites\n            dataUrlSupport: function () {\n                const canvas = document.createElement('canvas');\n                return canvas.toDataURL('image/png').indexOf('data:image/png') === 0;\n            },\n            // Test object url support for loading\n            objectUrlSupport: function () {\n                return 'URL' in window && 'revokeObjectURL' in URL && 'createObjectURL' in URL;\n            },\n            // RGBA support for colors\n            rgbaSupport: function () {\n                const style = document.createElement('a').style;\n                style.cssText = 'background-color:rgba(150,255,150,.5)';\n                return ('' + style.backgroundColor).indexOf('rgba') > -1;\n            }\n        };\n        // warnings excalibur performance will be degraded\n        this._warningTest = {\n            webAudioSupport: function () {\n                return !!(window.AudioContext ||\n                    window.webkitAudioContext ||\n                    window.mozAudioContext ||\n                    window.msAudioContext ||\n                    window.oAudioContext);\n            },\n            webglSupport: function () {\n                const elem = document.createElement('canvas');\n                return !!(elem.getContext && elem.getContext('webgl'));\n            }\n        };\n        this._features = this._loadBrowserFeatures();\n    }\n    /**\n     * Returns a map of currently supported browser features. This method\n     * treats the features as a singleton and will only calculate feature\n     * support if it has not previously been done.\n     */\n    getBrowserFeatures() {\n        if (this._features === null) {\n            this._features = this._loadBrowserFeatures();\n        }\n        return this._features;\n    }\n    /**\n     * Report on non-critical browser support for debugging purposes.\n     * Use native browser console colors for visibility.\n     */\n    logBrowserFeatures() {\n        let msg = '%cSUPPORTED BROWSER FEATURES\\n==========================%c\\n';\n        const args = ['font-weight: bold; color: navy', 'font-weight: normal; color: inherit'];\n        const supported = this.getBrowserFeatures();\n        for (const feature of Object.keys(REPORTED_FEATURES)) {\n            if (supported[feature]) {\n                msg += '(%c\\u2713%c)'; // ()\n                args.push('font-weight: bold; color: green');\n                args.push('font-weight: normal; color: inherit');\n            }\n            else {\n                msg += '(%c\\u2717%c)'; // ()\n                args.push('font-weight: bold; color: red');\n                args.push('font-weight: normal; color: inherit');\n            }\n            msg += ' ' + REPORTED_FEATURES[feature] + '\\n';\n        }\n        args.unshift(msg);\n        // eslint-disable-next-line no-console\n        console.log.apply(console, args);\n    }\n    /**\n     * Executes several IIFE's to get a constant reference to supported\n     * features within the current execution context.\n     */\n    _loadBrowserFeatures() {\n        return {\n            // IIFE to check canvas support\n            canvas: (() => {\n                return this._criticalTests.canvasSupport();\n            })(),\n            // IIFE to check arraybuffer support\n            arraybuffer: (() => {\n                return this._criticalTests.arrayBufferSupport();\n            })(),\n            // IIFE to check dataurl support\n            dataurl: (() => {\n                return this._criticalTests.dataUrlSupport();\n            })(),\n            // IIFE to check objecturl support\n            objecturl: (() => {\n                return this._criticalTests.objectUrlSupport();\n            })(),\n            // IIFE to check rgba support\n            rgba: (() => {\n                return this._criticalTests.rgbaSupport();\n            })(),\n            // IIFE to check webaudio support\n            webaudio: (() => {\n                return this._warningTest.webAudioSupport();\n            })(),\n            // IIFE to check webgl support\n            webgl: (() => {\n                return this._warningTest.webglSupport();\n            })(),\n            // IIFE to check gamepadapi support\n            gamepadapi: (() => {\n                return !!navigator.getGamepads;\n            })()\n        };\n    }\n    test() {\n        // Critical test will for ex not to run\n        let failedCritical = false;\n        for (const test in this._criticalTests) {\n            if (!this._criticalTests[test].call(this)) {\n                this.failedTests.push(test);\n                Logger.getInstance().error('Critical browser feature missing, Excalibur requires:', test);\n                failedCritical = true;\n            }\n        }\n        if (failedCritical) {\n            return false;\n        }\n        // Warning tests do not for ex to return false to compatibility\n        for (const warning in this._warningTest) {\n            if (!this._warningTest[warning]()) {\n                Logger.getInstance().warn('Warning browser feature missing, Excalibur will have reduced performance:', warning);\n            }\n        }\n        return true;\n    }\n}\n\n;// ./Collision/CollisionType.ts\n/**\n * An enum that describes the types of collisions bodies can participate in\n */\nvar CollisionType;\n(function (CollisionType) {\n    /**\n     * Bodies with the `PreventCollision` setting do not participate in any\n     * collisions and do not raise collision events.\n     */\n    CollisionType[\"PreventCollision\"] = \"PreventCollision\";\n    /**\n     * Bodies with the `Passive` setting only raise collision events, but are not\n     * influenced or moved by other bodies and do not influence or move other bodies.\n     * This is useful for use in trigger type behavior.\n     */\n    CollisionType[\"Passive\"] = \"Passive\";\n    /**\n     * Bodies with the `Active` setting raise collision events and participate\n     * in collisions with other bodies and will be push or moved by bodies sharing\n     * the `Active` or `Fixed` setting.\n     */\n    CollisionType[\"Active\"] = \"Active\";\n    /**\n     * Bodies with the `Fixed` setting raise collision events and participate in\n     * collisions with other bodies. Actors with the `Fixed` setting will not be\n     * pushed or moved by other bodies sharing the `Fixed`. Think of Fixed\n     * bodies as \"immovable/unstoppable\" objects. If two `Fixed` bodies meet they will\n     * not be pushed or moved by each other, they will not interact except to throw\n     * collision events.\n     */\n    CollisionType[\"Fixed\"] = \"Fixed\";\n})(CollisionType || (CollisionType = {}));\n\n;// ./Collision/Group/CollisionGroupManager.ts\n\n/**\n * Static class for managing collision groups in excalibur, there is a maximum of 32 collision groups possible in excalibur\n */\nclass CollisionGroupManager {\n    /**\n     * Create a new named collision group up to a max of 32.\n     * @param name Name for the collision group\n     * @param mask Optionally provide your own 32-bit mask, if none is provide the manager will generate one\n     */\n    static create(name, mask) {\n        if (this._CURRENT_GROUP > this._MAX_GROUPS) {\n            throw new Error(`Cannot have more than ${this._MAX_GROUPS} collision groups`);\n        }\n        if (this._GROUPS.get(name)) {\n            const existingGroup = this._GROUPS.get(name);\n            if (existingGroup.mask === mask) {\n                return existingGroup;\n            }\n            throw new Error(`Collision group ${name} already exists with a different mask!`);\n        }\n        const group = new CollisionGroup(name, this._CURRENT_BIT, mask !== undefined ? mask : ~this._CURRENT_BIT);\n        this._CURRENT_BIT = (this._CURRENT_BIT << 1) | 0;\n        this._CURRENT_GROUP++;\n        this._GROUPS.set(name, group);\n        return group;\n    }\n    /**\n     * Get all collision groups currently tracked by excalibur\n     */\n    static get groups() {\n        return Array.from(this._GROUPS.values());\n    }\n    /**\n     * Get a collision group by it's name\n     * @param name\n     */\n    static groupByName(name) {\n        return this._GROUPS.get(name);\n    }\n    /**\n     * Resets the managers internal group management state\n     */\n    static reset() {\n        this._GROUPS = new Map();\n        this._CURRENT_BIT = this._STARTING_BIT;\n        this._CURRENT_GROUP = 1;\n    }\n}\n// using bitmasking the maximum number of groups is 32, because that is the highest 32bit integer that JS can present.\nCollisionGroupManager._STARTING_BIT = 0b1 | 0;\nCollisionGroupManager._MAX_GROUPS = 32;\nCollisionGroupManager._CURRENT_GROUP = 1;\nCollisionGroupManager._CURRENT_BIT = CollisionGroupManager._STARTING_BIT;\nCollisionGroupManager._GROUPS = new Map();\n\n;// ./Collision/Group/CollisionGroup.ts\n\n/**\n * CollisionGroups indicate like members that do not collide with each other. Use {@apilink CollisionGroupManager} to create {@apilink CollisionGroup}s\n *\n * For example:\n *\n * Players have collision group \"player\"\n *\n * ![Player Collision Group](/assets/images/docs/CollisionGroupsPlayer.png)\n *\n * Enemies have collision group \"enemy\"\n *\n * ![Enemy Collision Group](/assets/images/docs/CollisionGroupsEnemy.png)\n *\n * Blocks have collision group \"ground\"\n *\n * ![Ground collision group](/assets/images/docs/CollisionGroupsGround.png)\n *\n * Players don't collide with each other, but enemies and blocks. Likewise, enemies don't collide with each other but collide\n * with players and blocks.\n *\n * This is done with bitmasking, see the following pseudo-code\n *\n * PlayerGroup = `0b001`\n * PlayerGroupMask = `0b110`\n *\n * EnemyGroup = `0b010`\n * EnemyGroupMask = `0b101`\n *\n * BlockGroup = `0b100`\n * BlockGroupMask = `0b011`\n *\n * Should Players collide? No because the bitwise mask evaluates to 0\n * `(player1.group & player2.mask) === 0`\n * `(0b001 & 0b110) === 0`\n *\n * Should Players and Enemies collide? Yes because the bitwise mask is non-zero\n * `(player1.group & enemy1.mask) === 1`\n * `(0b001 & 0b101) === 1`\n *\n * Should Players and Blocks collide? Yes because the bitwise mask is non-zero\n * `(player1.group & blocks1.mask) === 1`\n * `(0b001 & 0b011) === 1`\n */\nclass CollisionGroup {\n    /**\n     * STOP!!** It is preferred that {@apilink CollisionGroupManager.create} is used to create collision groups\n     *  unless you know how to construct the proper bitmasks. See https://github.com/excaliburjs/Excalibur/issues/1091 for more info.\n     * @param name Name of the collision group\n     * @param category 32 bit category for the group, should be a unique power of 2. For example `0b001` or `0b010`\n     * @param mask 32 bit mask of category, or `~category` generally. For a category of `0b001`, the mask would be `0b110`\n     */\n    constructor(name, category, mask) {\n        this._name = name;\n        this._category = category;\n        this._mask = mask;\n    }\n    /**\n     * Get the name of the collision group\n     */\n    get name() {\n        return this._name;\n    }\n    /**\n     * Get the category of the collision group, a 32 bit number which should be a unique power of 2\n     */\n    get category() {\n        return this._category;\n    }\n    /**\n     * Get the mask for this collision group\n     */\n    get mask() {\n        return this._mask;\n    }\n    /**\n     * Evaluates whether 2 collision groups can collide\n     *\n     * This means the mask has the same bit set the other category and vice versa\n     * @param other  CollisionGroup\n     */\n    canCollide(other) {\n        const overlap1 = this.category & other.mask;\n        const overlap2 = this.mask & other.category;\n        return overlap1 !== 0 && overlap2 !== 0;\n    }\n    /**\n     * Inverts the collision group. For example, if before the group specified \"players\",\n     * inverting would specify all groups except players\n     * @returns CollisionGroup\n     */\n    invert() {\n        const group = CollisionGroupManager.create('~(' + this.name + ')', ~this.mask | 0);\n        group._category = ~this.category;\n        return group;\n    }\n    /**\n     * Combine collision groups with each other. The new group includes all of the previous groups.\n     * @param collisionGroups\n     */\n    static combine(collisionGroups) {\n        const combinedName = collisionGroups.map((c) => c.name).join('+');\n        const combinedCategory = collisionGroups.reduce((current, g) => g.category | current, 0b0);\n        const combinedMask = ~combinedCategory;\n        return CollisionGroupManager.create(combinedName, combinedMask);\n    }\n    /**\n     * Creates a collision group that collides with the listed groups\n     * @param collisionGroups\n     */\n    static collidesWith(collisionGroups) {\n        const combinedName = `collidesWith(${collisionGroups.map((c) => c.name).join('+')})`;\n        const combinedMask = collisionGroups.reduce((current, g) => g.category | current, 0b0);\n        return CollisionGroupManager.create(combinedName, combinedMask);\n    }\n    toString() {\n        return `\r\ncategory: ${this.category.toString(2).padStart(32, '0')}\r\nmask:     ${(this.mask >>> 0).toString(2).padStart(32, '0')}\r\n    `;\n    }\n}\n/**\n * The `All` {@apilink CollisionGroup} is a special group that collides with all other groups including itself,\n * it is the default collision group on colliders.\n */\nCollisionGroup.All = new CollisionGroup('Collide with all groups', -1, -1);\n\n;// ./Collision/Detection/Pair.ts\n\n\n/**\n * Models a potential collision between 2 colliders\n */\nclass Pair {\n    constructor(colliderA, colliderB) {\n        this.colliderA = colliderA;\n        this.colliderB = colliderB;\n        this.id = null;\n        this.id = Pair.calculatePairHash(colliderA.id, colliderB.id);\n    }\n    /**\n     * Returns whether a it is allowed for 2 colliders in a Pair to collide\n     * @param colliderA\n     * @param colliderB\n     */\n    static canCollide(colliderA, colliderB) {\n        var _a, _b;\n        // Prevent self collision\n        if (colliderA.id === colliderB.id) {\n            return false;\n        }\n        // Colliders with the same owner do not collide (composite colliders)\n        if (colliderA.owner && colliderB.owner && colliderA.owner.id === colliderB.owner.id) {\n            return false;\n        }\n        // if the pair has a member with zero dimension don't collide\n        if (colliderA.localBounds.hasZeroDimensions() || colliderB.localBounds.hasZeroDimensions()) {\n            return false;\n        }\n        const bodyA = (_a = colliderA === null || colliderA === void 0 ? void 0 : colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = colliderB === null || colliderB === void 0 ? void 0 : colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        // Body's needed for collision in the current state\n        // TODO can we collide without a body?\n        if (!bodyA || !bodyB) {\n            return false;\n        }\n        // If both are in the same collision group short circuit\n        if (!bodyA.group.canCollide(bodyB.group)) {\n            return false;\n        }\n        // if both are fixed short circuit\n        if (bodyA.collisionType === CollisionType.Fixed && bodyB.collisionType === CollisionType.Fixed) {\n            return false;\n        }\n        // if the either is prevent collision short circuit\n        if (bodyB.collisionType === CollisionType.PreventCollision || bodyA.collisionType === CollisionType.PreventCollision) {\n            return false;\n        }\n        // if either is dead short circuit\n        if (!bodyA.isActive || !bodyB.isActive) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Returns whether or not it is possible for the pairs to collide\n     */\n    get canCollide() {\n        const colliderA = this.colliderA;\n        const colliderB = this.colliderB;\n        return Pair.canCollide(colliderA, colliderB);\n    }\n    /**\n     * Runs the collision intersection logic on the members of this pair\n     */\n    collide() {\n        return this.colliderA.collide(this.colliderB);\n    }\n    /**\n     * Check if the collider is part of the pair\n     * @param collider\n     */\n    hasCollider(collider) {\n        return collider === this.colliderA || collider === this.colliderB;\n    }\n    /**\n     * Calculates the unique pair hash id for this collision pair (owning id)\n     */\n    static calculatePairHash(idA, idB) {\n        if (idA.value < idB.value) {\n            return `#${idA.value}+${idB.value}`;\n        }\n        else {\n            return `#${idB.value}+${idA.value}`;\n        }\n    }\n}\n\n;// ./Math/projection.ts\n/**\n * A 1 dimensional projection on an axis, used to test overlaps\n */\nclass Projection {\n    constructor(min, max) {\n        this.min = min;\n        this.max = max;\n    }\n    overlaps(projection) {\n        return this.max > projection.min && projection.max > this.min;\n    }\n    getOverlap(projection) {\n        if (this.overlaps(projection)) {\n            if (this.max > projection.max) {\n                return projection.max - this.min;\n            }\n            else {\n                return this.max - projection.min;\n            }\n        }\n        return 0;\n    }\n}\n\n;// ./Collision/Detection/DynamicTree.ts\n\n\n\n\n/**\n * Dynamic Tree Node used for tracking bounds within the tree\n */\nclass TreeNode {\n    constructor(parent) {\n        this.parent = parent;\n        this.parent = parent || null;\n        this.data = null;\n        this.bounds = new BoundingBox();\n        this.left = null;\n        this.right = null;\n        this.height = 0;\n    }\n    isLeaf() {\n        return !this.left && !this.right;\n    }\n}\n/**\n * The DynamicTrees provides a spatial partitioning data structure for quickly querying for overlapping bounding boxes for\n * all tracked bodies. The worst case performance of this is O(n*log(n)) where n is the number of bodies in the tree.\n *\n * Internally the bounding boxes are organized as a balanced binary tree of bounding boxes, where the leaf nodes are tracked bodies.\n * Every non-leaf node is a bounding box that contains child bounding boxes.\n */\nclass DynamicTree {\n    constructor(_config, worldBounds = new BoundingBox(-Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE)) {\n        this._config = _config;\n        this.worldBounds = worldBounds;\n        this.root = null;\n        this.nodes = {};\n    }\n    /**\n     * Inserts a node into the dynamic tree\n     */\n    _insert(leaf) {\n        // If there are no nodes in the tree, make this the root leaf\n        if (this.root === null) {\n            this.root = leaf;\n            this.root.parent = null;\n            return;\n        }\n        // Search the tree for a node that is not a leaf and find the best place to insert\n        const leafAABB = leaf.bounds;\n        let currentRoot = this.root;\n        while (!currentRoot.isLeaf()) {\n            const left = currentRoot.left;\n            const right = currentRoot.right;\n            const area = currentRoot.bounds.getPerimeter();\n            const combinedAABB = currentRoot.bounds.combine(leafAABB);\n            const combinedArea = combinedAABB.getPerimeter();\n            // Calculate cost heuristic for creating a new parent and leaf\n            const cost = 2 * combinedArea;\n            // Minimum cost of pushing the leaf down the tree\n            const inheritanceCost = 2 * (combinedArea - area);\n            // Cost of descending\n            let leftCost = 0;\n            const leftCombined = leafAABB.combine(left.bounds);\n            let newArea;\n            let oldArea;\n            if (left.isLeaf()) {\n                leftCost = leftCombined.getPerimeter() + inheritanceCost;\n            }\n            else {\n                oldArea = left.bounds.getPerimeter();\n                newArea = leftCombined.getPerimeter();\n                leftCost = newArea - oldArea + inheritanceCost;\n            }\n            let rightCost = 0;\n            const rightCombined = leafAABB.combine(right.bounds);\n            if (right.isLeaf()) {\n                rightCost = rightCombined.getPerimeter() + inheritanceCost;\n            }\n            else {\n                oldArea = right.bounds.getPerimeter();\n                newArea = rightCombined.getPerimeter();\n                rightCost = newArea - oldArea + inheritanceCost;\n            }\n            // cost is acceptable\n            if (cost < leftCost && cost < rightCost) {\n                break;\n            }\n            // Descend to the depths\n            if (leftCost < rightCost) {\n                currentRoot = left;\n            }\n            else {\n                currentRoot = right;\n            }\n        }\n        // Create the new parent node and insert into the tree\n        const oldParent = currentRoot.parent;\n        const newParent = new TreeNode(oldParent);\n        newParent.bounds = leafAABB.combine(currentRoot.bounds);\n        newParent.height = currentRoot.height + 1;\n        if (oldParent !== null) {\n            // The sibling node was not the root\n            if (oldParent.left === currentRoot) {\n                oldParent.left = newParent;\n            }\n            else {\n                oldParent.right = newParent;\n            }\n            newParent.left = currentRoot;\n            newParent.right = leaf;\n            currentRoot.parent = newParent;\n            leaf.parent = newParent;\n        }\n        else {\n            // The sibling node was the root\n            newParent.left = currentRoot;\n            newParent.right = leaf;\n            currentRoot.parent = newParent;\n            leaf.parent = newParent;\n            this.root = newParent;\n        }\n        // Walk up the tree fixing heights and AABBs\n        let currentNode = leaf.parent;\n        while (currentNode) {\n            currentNode = this._balance(currentNode);\n            if (!currentNode.left) {\n                throw new Error('Parent of current leaf cannot have a null left child' + currentNode);\n            }\n            if (!currentNode.right) {\n                throw new Error('Parent of current leaf cannot have a null right child' + currentNode);\n            }\n            currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n            currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n            currentNode = currentNode.parent;\n        }\n    }\n    /**\n     * Removes a node from the dynamic tree\n     */\n    _remove(leaf) {\n        if (leaf === this.root) {\n            this.root = null;\n            return;\n        }\n        const parent = leaf.parent;\n        const grandParent = parent.parent;\n        let sibling;\n        if (parent.left === leaf) {\n            sibling = parent.right;\n        }\n        else {\n            sibling = parent.left;\n        }\n        if (grandParent) {\n            if (grandParent.left === parent) {\n                grandParent.left = sibling;\n            }\n            else {\n                grandParent.right = sibling;\n            }\n            sibling.parent = grandParent;\n            let currentNode = grandParent;\n            while (currentNode) {\n                currentNode = this._balance(currentNode);\n                currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);\n                currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);\n                currentNode = currentNode.parent;\n            }\n        }\n        else {\n            this.root = sibling;\n            sibling.parent = null;\n        }\n    }\n    /**\n     * Tracks a body in the dynamic tree\n     */\n    trackCollider(collider) {\n        const node = new TreeNode();\n        node.data = collider;\n        node.bounds = collider.bounds;\n        node.bounds.left -= 2;\n        node.bounds.top -= 2;\n        node.bounds.right += 2;\n        node.bounds.bottom += 2;\n        this.nodes[collider.id.value] = node;\n        this._insert(node);\n    }\n    /**\n     * Updates the dynamic tree given the current bounds of each body being tracked\n     */\n    updateCollider(collider) {\n        var _a;\n        const node = this.nodes[collider.id.value];\n        if (!node) {\n            return false;\n        }\n        const b = collider.bounds;\n        // if the body is outside the world no longer update it\n        if (!this.worldBounds.contains(b)) {\n            Logger.getInstance().warn('Collider with id ' + collider.id.value + ' is outside the world bounds and will no longer be tracked for physics');\n            this.untrackCollider(collider);\n            return false;\n        }\n        if (node.bounds.contains(b)) {\n            return false;\n        }\n        this._remove(node);\n        b.left -= this._config.boundsPadding;\n        b.top -= this._config.boundsPadding;\n        b.right += this._config.boundsPadding;\n        b.bottom += this._config.boundsPadding;\n        // THIS IS CAUSING UNNECESSARY CHECKS\n        if (collider.owner) {\n            const body = (_a = collider.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n            if (body) {\n                const multdx = ((body.vel.x * 32) / 1000) * this._config.velocityMultiplier;\n                const multdy = ((body.vel.y * 32) / 1000) * this._config.velocityMultiplier;\n                if (multdx < 0) {\n                    b.left += multdx;\n                }\n                else {\n                    b.right += multdx;\n                }\n                if (multdy < 0) {\n                    b.top += multdy;\n                }\n                else {\n                    b.bottom += multdy;\n                }\n            }\n        }\n        node.bounds = b;\n        this._insert(node);\n        return true;\n    }\n    /**\n     * Untracks a body from the dynamic tree\n     */\n    untrackCollider(collider) {\n        const node = this.nodes[collider.id.value];\n        if (!node) {\n            return;\n        }\n        this._remove(node);\n        this.nodes[collider.id.value] = null;\n        delete this.nodes[collider.id.value];\n    }\n    /**\n     * Balances the tree about a node\n     */\n    _balance(node) {\n        if (node === null) {\n            throw new Error('Cannot balance at null node');\n        }\n        if (node.isLeaf() || node.height < 2) {\n            return node;\n        }\n        const left = node.left;\n        const right = node.right;\n        const a = node;\n        const b = left;\n        const c = right;\n        const d = left.left;\n        const e = left.right;\n        const f = right.left;\n        const g = right.right;\n        const balance = c.height - b.height;\n        // Rotate c node up\n        if (balance > 1) {\n            // Swap the right node with it's parent\n            c.left = a;\n            c.parent = a.parent;\n            a.parent = c;\n            // The original node's old parent should point to the right node\n            // this is mega confusing\n            if (c.parent) {\n                if (c.parent.left === a) {\n                    c.parent.left = c;\n                }\n                else {\n                    c.parent.right = c;\n                }\n            }\n            else {\n                this.root = c;\n            }\n            // Rotate\n            if (f.height > g.height) {\n                c.right = f;\n                a.right = g;\n                g.parent = a;\n                a.bounds = b.bounds.combine(g.bounds);\n                c.bounds = a.bounds.combine(f.bounds);\n                a.height = 1 + Math.max(b.height, g.height);\n                c.height = 1 + Math.max(a.height, f.height);\n            }\n            else {\n                c.right = g;\n                a.right = f;\n                f.parent = a;\n                a.bounds = b.bounds.combine(f.bounds);\n                c.bounds = a.bounds.combine(g.bounds);\n                a.height = 1 + Math.max(b.height, f.height);\n                c.height = 1 + Math.max(a.height, g.height);\n            }\n            return c;\n        }\n        // Rotate left node up\n        if (balance < -1) {\n            // swap\n            b.left = a;\n            b.parent = a.parent;\n            a.parent = b;\n            // node's old parent should point to b\n            if (b.parent) {\n                if (b.parent.left === a) {\n                    b.parent.left = b;\n                }\n                else {\n                    if (b.parent.right !== a) {\n                        throw 'Error rotating Dynamic Tree';\n                    }\n                    b.parent.right = b;\n                }\n            }\n            else {\n                this.root = b;\n            }\n            // rotate\n            if (d.height > e.height) {\n                b.right = d;\n                a.left = e;\n                e.parent = a;\n                a.bounds = c.bounds.combine(e.bounds);\n                b.bounds = a.bounds.combine(d.bounds);\n                a.height = 1 + Math.max(c.height, e.height);\n                b.height = 1 + Math.max(a.height, d.height);\n            }\n            else {\n                b.right = e;\n                a.left = d;\n                d.parent = a;\n                a.bounds = c.bounds.combine(d.bounds);\n                b.bounds = a.bounds.combine(e.bounds);\n                a.height = 1 + Math.max(c.height, d.height);\n                b.height = 1 + Math.max(a.height, e.height);\n            }\n            return b;\n        }\n        return node;\n    }\n    /**\n     * Returns the internal height of the tree, shorter trees are better. Performance drops as the tree grows\n     */\n    getHeight() {\n        if (this.root === null) {\n            return 0;\n        }\n        return this.root.height;\n    }\n    /**\n     * Queries the Dynamic Axis Aligned Tree for bodies that could be colliding with the provided body.\n     *\n     * In the query callback, it will be passed a potential collider. Returning true from this callback indicates\n     * that you are complete with your query and you do not want to continue. Returning false will continue searching\n     * the tree until all possible colliders have been returned.\n     */\n    query(collider, callback) {\n        const bounds = collider.bounds;\n        const helper = (currentNode) => {\n            if (currentNode && currentNode.bounds.overlaps(bounds)) {\n                if (currentNode.isLeaf() && currentNode.data !== collider) {\n                    if (callback.call(collider, currentNode.data)) {\n                        return true;\n                    }\n                }\n                else {\n                    return helper(currentNode.left) || helper(currentNode.right);\n                }\n            }\n            return false;\n        };\n        helper(this.root);\n    }\n    /**\n     * Queries the Dynamic Axis Aligned Tree for bodies that could be intersecting. By default the raycast query uses an infinitely\n     * long ray to test the tree specified by `max`.\n     *\n     * In the query callback, it will be passed a potential body that intersects with the raycast. Returning true from this\n     * callback indicates that your are complete with your query and do not want to continue. Return false will continue searching\n     * the tree until all possible bodies that would intersect with the ray have been returned.\n     */\n    rayCastQuery(ray, max = Infinity, callback) {\n        const helper = (currentNode) => {\n            if (currentNode && currentNode.bounds.rayCast(ray, max)) {\n                if (currentNode.isLeaf()) {\n                    if (callback.call(ray, currentNode.data)) {\n                        // ray hit a leaf! return the body\n                        return true;\n                    }\n                }\n                else {\n                    // ray hit but not at a leaf, recurse deeper\n                    return helper(currentNode.left) || helper(currentNode.right);\n                }\n            }\n            return false; // ray missed\n        };\n        helper(this.root);\n    }\n    getNodes() {\n        const helper = (currentNode) => {\n            if (currentNode) {\n                return [currentNode].concat(helper(currentNode.left), helper(currentNode.right));\n            }\n            else {\n                return [];\n            }\n        };\n        return helper(this.root);\n    }\n    debug(ex) {\n        // draw all the nodes in the Dynamic Tree\n        const helper = (currentNode) => {\n            if (currentNode) {\n                if (currentNode.isLeaf()) {\n                    currentNode.bounds.draw(ex, Color.Green);\n                }\n                else {\n                    currentNode.bounds.draw(ex, Color.White);\n                }\n                if (currentNode.left) {\n                    helper(currentNode.left);\n                }\n                if (currentNode.right) {\n                    helper(currentNode.right);\n                }\n            }\n        };\n        helper(this.root);\n    }\n}\n\n;// ./Math/ray.ts\n/**\n * A 2D ray that can be cast into the scene to do collision detection\n */\nclass Ray {\n    /**\n     * @param pos The starting position for the ray\n     * @param dir The vector indicating the direction of the ray\n     */\n    constructor(pos, dir) {\n        this.pos = pos;\n        this.dir = dir.normalize();\n    }\n    /**\n     * Tests a whether this ray intersects with a line segment. Returns a number greater than or equal to 0 on success.\n     * This number indicates the mathematical intersection time.\n     * @param line  The line to test\n     */\n    intersect(line) {\n        const numerator = line.begin.sub(this.pos);\n        // Test is line and ray are parallel and non intersecting\n        if (this.dir.cross(line.getSlope()) === 0 && numerator.cross(this.dir) !== 0) {\n            return -1;\n        }\n        // Lines are parallel\n        const divisor = this.dir.cross(line.getSlope());\n        if (divisor === 0) {\n            return -1;\n        }\n        const t = numerator.cross(line.getSlope()) / divisor;\n        if (t >= 0) {\n            const u = numerator.cross(this.dir) / divisor / line.getLength();\n            if (u >= 0 && u <= 1) {\n                return t;\n            }\n        }\n        return -1;\n    }\n    intersectPoint(line) {\n        const time = this.intersect(line);\n        if (time < 0) {\n            return null;\n        }\n        return this.getPoint(time);\n    }\n    /**\n     * Returns the point of intersection given the intersection time\n     */\n    getPoint(time) {\n        return this.pos.add(this.dir.scale(time));\n    }\n}\n\n;// ./Collision/Detection/DynamicTreeCollisionProcessor.ts\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Responsible for performing the collision broadphase (locating potential collisions) and\n * the narrowphase (actual collision contacts)\n */\nclass DynamicTreeCollisionProcessor {\n    constructor(_config) {\n        this._config = _config;\n        this._pairs = new Set();\n        this._collisionPairCache = [];\n        this._colliders = [];\n        this._dynamicCollisionTree = new DynamicTree(_config.dynamicTree);\n    }\n    getColliders() {\n        return this._colliders;\n    }\n    query(pointOrBounds) {\n        const results = [];\n        if (pointOrBounds instanceof BoundingBox) {\n            this._dynamicCollisionTree.query({\n                id: createId('collider', -1),\n                owner: null,\n                bounds: pointOrBounds\n            }, (other) => {\n                results.push(other);\n                return false;\n            });\n        }\n        else {\n            this._dynamicCollisionTree.query({\n                id: createId('collider', -1),\n                owner: null,\n                bounds: new BoundingBox(pointOrBounds.x, pointOrBounds.y, pointOrBounds.x, pointOrBounds.y)\n            }, (other) => {\n                results.push(other);\n                return false;\n            });\n        }\n        return results;\n    }\n    rayCast(ray, options) {\n        var _a, _b, _c;\n        const results = [];\n        const maxDistance = (_a = options === null || options === void 0 ? void 0 : options.maxDistance) !== null && _a !== void 0 ? _a : Infinity;\n        const collisionGroup = options === null || options === void 0 ? void 0 : options.collisionGroup;\n        const collisionMask = !collisionGroup ? (_b = options === null || options === void 0 ? void 0 : options.collisionMask) !== null && _b !== void 0 ? _b : CollisionGroup.All.category : collisionGroup.category;\n        const searchAllColliders = (_c = options === null || options === void 0 ? void 0 : options.searchAllColliders) !== null && _c !== void 0 ? _c : false;\n        this._dynamicCollisionTree.rayCastQuery(ray, maxDistance, (collider) => {\n            const owner = collider.owner;\n            const maybeBody = owner.get(BodyComponent);\n            if ((options === null || options === void 0 ? void 0 : options.ignoreCollisionGroupAll) && maybeBody.group === CollisionGroup.All) {\n                return false;\n            }\n            const canCollide = (collisionMask & maybeBody.group.category) !== 0;\n            // Early exit if not the right group\n            if ((maybeBody === null || maybeBody === void 0 ? void 0 : maybeBody.group) && !canCollide) {\n                return false;\n            }\n            const hit = collider.rayCast(ray, maxDistance);\n            if (hit) {\n                if (options === null || options === void 0 ? void 0 : options.filter) {\n                    if (options.filter(hit)) {\n                        results.push(hit);\n                        if (!searchAllColliders) {\n                            // returning true exits the search\n                            return true;\n                        }\n                    }\n                }\n                else {\n                    results.push(hit);\n                    if (!searchAllColliders) {\n                        // returning true exits the search\n                        return true;\n                    }\n                }\n            }\n            return false;\n        });\n        return results;\n    }\n    /**\n     * Tracks a physics body for collisions\n     */\n    track(target) {\n        if (!target) {\n            Logger.getInstance().warn('Cannot track null collider');\n            return;\n        }\n        if (target instanceof CompositeCollider) {\n            const colliders = target.getColliders();\n            for (const c of colliders) {\n                c.owner = target.owner;\n                this._colliders.push(c);\n                this._dynamicCollisionTree.trackCollider(c);\n            }\n        }\n        else {\n            this._colliders.push(target);\n            this._dynamicCollisionTree.trackCollider(target);\n        }\n    }\n    /**\n     * Untracks a physics body\n     */\n    untrack(target) {\n        if (!target) {\n            Logger.getInstance().warn('Cannot untrack a null collider');\n            return;\n        }\n        if (target instanceof CompositeCollider) {\n            const colliders = target.getColliders();\n            for (const c of colliders) {\n                const index = this._colliders.indexOf(c);\n                if (index !== -1) {\n                    this._colliders.splice(index, 1);\n                }\n                this._dynamicCollisionTree.untrackCollider(c);\n            }\n        }\n        else {\n            const index = this._colliders.indexOf(target);\n            if (index !== -1) {\n                this._colliders.splice(index, 1);\n            }\n            this._dynamicCollisionTree.untrackCollider(target);\n        }\n    }\n    _pairExists(colliderA, colliderB) {\n        // if the collision pair has been calculated already short circuit\n        const hash = Pair.calculatePairHash(colliderA.id, colliderB.id);\n        return this._pairs.has(hash);\n    }\n    /**\n     * Detects potential collision pairs in a broadphase approach with the dynamic AABB tree strategy\n     */\n    broadphase(targets, elapsed, stats) {\n        const seconds = elapsed / 1000;\n        // Retrieve the list of potential colliders, exclude killed, prevented, and self\n        const potentialColliders = targets.filter((other) => {\n            var _a, _b;\n            const body = (_a = other.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n            return ((_b = other.owner) === null || _b === void 0 ? void 0 : _b.isActive) && body.collisionType !== CollisionType.PreventCollision;\n        });\n        // clear old list of collision pairs\n        this._collisionPairCache = [];\n        this._pairs.clear();\n        // check for normal collision pairs\n        let collider;\n        for (let j = 0, l = potentialColliders.length; j < l; j++) {\n            collider = potentialColliders[j];\n            // Query the collision tree for potential colliders\n            this._dynamicCollisionTree.query(collider, (other) => {\n                if (!this._pairExists(collider, other) && Pair.canCollide(collider, other)) {\n                    const pair = new Pair(collider, other);\n                    this._pairs.add(pair.id);\n                    this._collisionPairCache.push(pair);\n                }\n                // Always return false, to query whole tree. Returning true in the query method stops searching\n                return false;\n            });\n        }\n        if (stats) {\n            stats.physics.pairs = this._collisionPairCache.length;\n        }\n        // Check dynamic tree for fast moving objects\n        // Fast moving objects are those moving at least there smallest bound per frame\n        if (this._config.continuous.checkForFastBodies) {\n            for (const collider of potentialColliders) {\n                const body = collider.owner.get(BodyComponent);\n                // Skip non-active objects. Does not make sense on other collision types\n                if (body.collisionType !== CollisionType.Active) {\n                    continue;\n                }\n                // Maximum travel distance next frame\n                const updateDistance = body.vel.magnitude * seconds + // velocity term\n                    body.acc.magnitude * 0.5 * seconds * seconds; // acc term\n                // Find the minimum dimension\n                const minDimension = Math.min(collider.bounds.height, collider.bounds.width);\n                if (this._config.continuous.disableMinimumSpeedForFastBody || updateDistance > minDimension / 2) {\n                    if (stats) {\n                        stats.physics.fastBodies++;\n                    }\n                    // start with the oldPos because the integration for actors has already happened\n                    // objects resting on a surface may be slightly penetrating in the current position\n                    const updateVec = body.globalPos.sub(body.oldPos);\n                    const centerPoint = collider.center;\n                    const furthestPoint = collider.getFurthestPoint(body.vel);\n                    const origin = furthestPoint.sub(updateVec);\n                    const ray = new Ray(origin, body.vel);\n                    // back the ray up by -2x surfaceEpsilon to account for fast moving objects starting on the surface\n                    ray.pos = ray.pos.add(ray.dir.scale(-2 * this._config.continuous.surfaceEpsilon));\n                    let minCollider;\n                    let minTranslate = new Vector(Infinity, Infinity);\n                    this._dynamicCollisionTree.rayCastQuery(ray, updateDistance + this._config.continuous.surfaceEpsilon * 2, (other) => {\n                        if (!this._pairExists(collider, other) && Pair.canCollide(collider, other)) {\n                            const hit = other.rayCast(ray, updateDistance + this._config.continuous.surfaceEpsilon * 10);\n                            if (hit) {\n                                const translate = hit.point.sub(origin);\n                                if (translate.magnitude < minTranslate.magnitude) {\n                                    minTranslate = translate;\n                                    minCollider = other;\n                                }\n                            }\n                        }\n                        return false;\n                    });\n                    if (minCollider && Vector.isValid(minTranslate)) {\n                        const pair = new Pair(collider, minCollider);\n                        if (!this._pairs.has(pair.id)) {\n                            this._pairs.add(pair.id);\n                            this._collisionPairCache.push(pair);\n                        }\n                        // move the fast moving object to the other body\n                        // need to push into the surface by ex.Physics.surfaceEpsilon\n                        const shift = centerPoint.sub(furthestPoint);\n                        body.globalPos = origin\n                            .add(shift)\n                            .add(minTranslate)\n                            .add(ray.dir.scale(10 * this._config.continuous.surfaceEpsilon)); // needed to push the shape slightly into contact\n                        collider.update(body.transform.get());\n                        if (stats) {\n                            stats.physics.fastBodyCollisions++;\n                        }\n                    }\n                }\n            }\n        }\n        // return cache\n        return this._collisionPairCache;\n    }\n    /**\n     * Applies narrow phase on collision pairs to find actual area intersections\n     * Adds actual colliding pairs to stats' Frame data\n     */\n    narrowphase(pairs, stats) {\n        let contacts = [];\n        for (let i = 0; i < pairs.length; i++) {\n            const newContacts = pairs[i].collide();\n            contacts = contacts.concat(newContacts);\n            if (stats && newContacts.length > 0) {\n                for (const c of newContacts) {\n                    stats.physics.contacts.set(c.id, c);\n                }\n            }\n        }\n        if (stats) {\n            stats.physics.collisions += contacts.length;\n        }\n        return contacts;\n    }\n    /**\n     * Update the dynamic tree positions\n     */\n    update(targets) {\n        let updated = 0;\n        const len = targets.length;\n        for (let i = 0; i < len; i++) {\n            if (this._dynamicCollisionTree.updateCollider(targets[i])) {\n                updated++;\n            }\n        }\n        return updated;\n    }\n    debug(ex) {\n        this._dynamicCollisionTree.debug(ex);\n    }\n}\n\n;// ./Collision/Colliders/Collider.ts\n\n\n\n/**\n * A collision collider specifies the geometry that can detect when other collision colliders intersect\n * for the purposes of colliding 2 objects in excalibur.\n */\nclass Collider {\n    constructor() {\n        this.id = createId('collider', Collider._ID++);\n        /**\n         * Composite collider if any this collider is attached to\n         *\n         * **WARNING** do not tamper with this property\n         */\n        this.composite = null;\n        this.events = new EventEmitter();\n        /**\n         * Pixel offset of the collision collider relative to the collider, by default (0, 0) meaning the collider is positioned\n         * on top of the collider.\n         */\n        this.offset = Vector.Zero;\n    }\n    /**\n     * Returns a boolean indicating whether this body collided with\n     * or was in stationary contact with\n     * the body of the other {@apilink Collider}\n     */\n    touching(other) {\n        const contact = this.collide(other);\n        if (contact) {\n            return true;\n        }\n        return false;\n    }\n}\nCollider._ID = 0;\n\n;// ./Collision/SolverStrategy.ts\n/**\n * Possible collision resolution strategies\n *\n * The default is {@apilink SolverStrategy.Arcade} which performs simple axis aligned arcade style physics. This is useful for things\n * like platformers or top down games.\n *\n * More advanced rigid body physics are enabled by setting {@apilink SolverStrategy.Realistic} which allows for complicated\n * simulated physical interactions.\n */\nvar SolverStrategy;\n(function (SolverStrategy) {\n    SolverStrategy[\"Arcade\"] = \"arcade\";\n    SolverStrategy[\"Realistic\"] = \"realistic\";\n})(SolverStrategy || (SolverStrategy = {}));\n\n;// ./Collision/Solver/ContactBias.ts\n/**\n * Tells the Arcade collision solver to prefer certain contacts over others\n */\nvar ContactSolveBias;\n(function (ContactSolveBias) {\n    ContactSolveBias[\"None\"] = \"none\";\n    ContactSolveBias[\"VerticalFirst\"] = \"vertical-first\";\n    ContactSolveBias[\"HorizontalFirst\"] = \"horizontal-first\";\n})(ContactSolveBias || (ContactSolveBias = {}));\n/**\n * Vertical First contact solve bias Used by the {@apilink ArcadeSolver} to sort contacts\n */\nconst VerticalFirst = {\n    vertical: 1,\n    horizontal: 2\n};\n/**\n * Horizontal First contact solve bias Used by the {@apilink ArcadeSolver} to sort contacts\n */\nconst HorizontalFirst = {\n    horizontal: 1,\n    vertical: 2\n};\n/**\n * None value, {@apilink ArcadeSolver} sorts contacts using distance by default\n */\nconst None = {\n    horizontal: 0,\n    vertical: 0\n};\n\n;// ./Collision/Detection/SpatialPartitionStrategy.ts\n/**\n * Possible collision resolution strategies\n *\n * The default is {@apilink SolverStrategy.Arcade} which performs simple axis aligned arcade style physics. This is useful for things\n * like platformers or top down games.\n *\n * More advanced rigid body physics are enabled by setting {@apilink SolverStrategy.Realistic} which allows for complicated\n * simulated physical interactions.\n */\nvar SpatialPartitionStrategy;\n(function (SpatialPartitionStrategy) {\n    SpatialPartitionStrategy[\"DynamicTree\"] = \"dynamic-tree\";\n    SpatialPartitionStrategy[\"SparseHashGrid\"] = \"sparse-hash-grid\";\n})(SpatialPartitionStrategy || (SpatialPartitionStrategy = {}));\n\n;// ./Collision/PhysicsConfig.ts\n\n\n\n\nconst getDefaultPhysicsConfig = () => ({\n    enabled: true,\n    gravity: vec(0, 0).clone(),\n    solver: SolverStrategy.Arcade,\n    substep: 1,\n    colliders: {\n        compositeStrategy: 'together'\n    },\n    continuous: {\n        checkForFastBodies: true,\n        disableMinimumSpeedForFastBody: false,\n        surfaceEpsilon: 0.1\n    },\n    bodies: {\n        canSleepByDefault: false,\n        sleepEpsilon: 0.07,\n        wakeThreshold: 0.07 * 3,\n        sleepBias: 0.9,\n        defaultMass: 10\n    },\n    spatialPartition: SpatialPartitionStrategy.SparseHashGrid,\n    sparseHashGrid: {\n        size: 100\n    },\n    dynamicTree: {\n        boundsPadding: 5,\n        velocityMultiplier: 2\n    },\n    arcade: {\n        contactSolveBias: ContactSolveBias.None\n    },\n    realistic: {\n        positionIterations: 3,\n        velocityIterations: 8,\n        slop: 1,\n        steeringFactor: 0.2,\n        warmStart: true\n    }\n});\n\n;// ./Collision/Colliders/CompositeCollider.ts\n\n\n\n\n\n\n\n\n\nclass CompositeCollider extends Collider {\n    /**\n     * Treat composite collider's member colliders as either separate colliders for the purposes of onCollisionStart/onCollision\n     * or as a single collider together.\n     *\n     * This property can be overridden on individual {@apilink CompositeColliders}.\n     *\n     * For composites without gaps or small groups of colliders, you probably want 'together'\n     *\n     * For composites with deliberate gaps, like a platforming level layout, you probably want 'separate'\n     *\n     * Default is 'together' if unset\n     */\n    set compositeStrategy(value) {\n        this._compositeStrategy = value;\n    }\n    get compositeStrategy() {\n        return this._compositeStrategy;\n    }\n    constructor(colliders) {\n        super();\n        this._collisionProcessor = new DynamicTreeCollisionProcessor({\n            ...getDefaultPhysicsConfig()\n        });\n        this._dynamicAABBTree = new DynamicTree({\n            boundsPadding: 5,\n            velocityMultiplier: 2\n        });\n        this._colliders = [];\n        for (const c of colliders) {\n            this.addCollider(c);\n        }\n    }\n    clearColliders() {\n        this._colliders = [];\n    }\n    addCollider(collider) {\n        let colliders;\n        if (collider instanceof CompositeCollider) {\n            colliders = collider.getColliders();\n            colliders.forEach((c) => c.offset.addEqual(collider.offset));\n        }\n        else {\n            colliders = [collider];\n        }\n        // Flatten composites\n        for (const c of colliders) {\n            c.events.pipe(this.events);\n            c.composite = this;\n            this._colliders.push(c);\n            this._collisionProcessor.track(c);\n            this._dynamicAABBTree.trackCollider(c);\n        }\n    }\n    removeCollider(collider) {\n        collider.events.pipe(this.events);\n        collider.composite = null;\n        removeItemFromArray(collider, this._colliders);\n        this._collisionProcessor.untrack(collider);\n        this._dynamicAABBTree.untrackCollider(collider);\n    }\n    getColliders() {\n        return this._colliders;\n    }\n    get worldPos() {\n        var _a, _b;\n        return ((_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero).add(this.offset);\n    }\n    get center() {\n        var _a, _b;\n        return ((_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : Vector.Zero).add(this.offset);\n    }\n    get bounds() {\n        var _a, _b;\n        // TODO cache this\n        const colliders = this.getColliders();\n        const results = colliders.reduce((acc, collider) => acc.combine(collider.bounds), (_b = (_a = colliders[0]) === null || _a === void 0 ? void 0 : _a.bounds) !== null && _b !== void 0 ? _b : new BoundingBox().translate(this.worldPos));\n        return results.translate(this.offset);\n    }\n    get localBounds() {\n        var _a, _b;\n        // TODO cache this\n        const colliders = this.getColliders();\n        const results = colliders.reduce((acc, collider) => acc.combine(collider.localBounds), (_b = (_a = colliders[0]) === null || _a === void 0 ? void 0 : _a.localBounds) !== null && _b !== void 0 ? _b : new BoundingBox());\n        return results;\n    }\n    get axes() {\n        // TODO cache this\n        const colliders = this.getColliders();\n        let axes = [];\n        for (const collider of colliders) {\n            axes = axes.concat(collider.axes);\n        }\n        return axes;\n    }\n    getFurthestPoint(direction) {\n        const colliders = this.getColliders();\n        const furthestPoints = [];\n        for (const collider of colliders) {\n            furthestPoints.push(collider.getFurthestPoint(direction));\n        }\n        // Pick best point from all colliders\n        let bestPoint = furthestPoints[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (const point of furthestPoints) {\n            const distance = point.dot(direction);\n            if (distance > maxDistance) {\n                bestPoint = point;\n                maxDistance = distance;\n            }\n        }\n        return bestPoint;\n    }\n    getInertia(mass) {\n        const colliders = this.getColliders();\n        let totalInertia = 0;\n        for (const collider of colliders) {\n            totalInertia += collider.getInertia(mass);\n        }\n        return totalInertia;\n    }\n    collide(other) {\n        let otherColliders = [other];\n        if (other instanceof CompositeCollider) {\n            otherColliders = other.getColliders();\n        }\n        const pairs = [];\n        for (const c of otherColliders) {\n            this._dynamicAABBTree.query(c, (potentialCollider) => {\n                pairs.push(new Pair(c, potentialCollider));\n                return false;\n            });\n        }\n        let contacts = [];\n        for (const p of pairs) {\n            contacts = contacts.concat(p.collide());\n        }\n        return contacts;\n    }\n    getClosestLineBetween(other) {\n        const colliders = this.getColliders();\n        const lines = [];\n        if (other instanceof CompositeCollider) {\n            const otherColliders = other.getColliders();\n            for (const colliderA of colliders) {\n                for (const colliderB of otherColliders) {\n                    const maybeLine = colliderA.getClosestLineBetween(colliderB);\n                    if (maybeLine) {\n                        lines.push(maybeLine);\n                    }\n                }\n            }\n        }\n        else {\n            for (const collider of colliders) {\n                const maybeLine = other.getClosestLineBetween(collider);\n                if (maybeLine) {\n                    lines.push(maybeLine);\n                }\n            }\n        }\n        if (lines.length) {\n            let minLength = lines[0].getLength();\n            let minLine = lines[0];\n            for (const line of lines) {\n                const length = line.getLength();\n                if (length < minLength) {\n                    minLength = length;\n                    minLine = line;\n                }\n            }\n            return minLine;\n        }\n        return null;\n    }\n    contains(point) {\n        const colliders = this.getColliders();\n        for (const collider of colliders) {\n            if (collider.contains(point)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    rayCast(ray, max) {\n        const colliders = this.getColliders();\n        const hits = [];\n        for (const collider of colliders) {\n            const hit = collider.rayCast(ray, max);\n            if (hit) {\n                hits.push(hit);\n            }\n        }\n        if (hits.length) {\n            let minHit = hits[0];\n            let minDistance = minHit.point.dot(ray.dir);\n            for (const hit of hits) {\n                const distance = ray.dir.dot(hit.point);\n                if (distance < minDistance) {\n                    minHit = hit;\n                    minDistance = distance;\n                }\n            }\n            return minHit;\n        }\n        return null;\n    }\n    project(axis) {\n        const colliders = this.getColliders();\n        const projections = [];\n        for (const collider of colliders) {\n            const proj = collider.project(axis);\n            if (proj) {\n                projections.push(proj);\n            }\n        }\n        // Merge all proj's on the same axis\n        if (projections.length) {\n            const newProjection = new Projection(projections[0].min, projections[0].max);\n            for (const proj of projections) {\n                newProjection.min = Math.min(proj.min, newProjection.min);\n                newProjection.max = Math.max(proj.max, newProjection.max);\n            }\n            return newProjection;\n        }\n        return null;\n    }\n    update(transform) {\n        if (transform) {\n            const colliders = this.getColliders();\n            for (const collider of colliders) {\n                collider.owner = this.owner;\n                collider.update(transform);\n            }\n        }\n    }\n    debug(ex, color, options) {\n        const colliders = this.getColliders();\n        ex.save();\n        ex.translate(this.offset.x, this.offset.y);\n        for (const collider of colliders) {\n            collider.debug(ex, color, options);\n        }\n        ex.restore();\n    }\n    clone() {\n        const result = new CompositeCollider(this._colliders.map((c) => c.clone()));\n        result.offset = this.offset.clone();\n        return result;\n    }\n}\n\n;// ./Math/line-segment.ts\n\n/**\n * A 2D line segment\n */\nclass LineSegment {\n    /**\n     * @param begin  The starting point of the line segment\n     * @param end  The ending point of the line segment\n     */\n    constructor(begin, end) {\n        this.begin = begin;\n        this.end = end;\n    }\n    clone(dest) {\n        const result = dest || new LineSegment(this.begin.clone(), this.end.clone());\n        result.begin = this.begin.clone(result.begin);\n        result.end = this.end.clone(result.end);\n        return result;\n    }\n    transform(matrix, dest) {\n        const result = dest || new LineSegment(Vector.Zero, Vector.Zero);\n        result.begin = matrix.multiply(this.begin, result.begin);\n        result.end = matrix.multiply(this.end, result.end);\n        return result;\n    }\n    /**\n     * Gets the raw slope (m) of the line. Will return (+/-)Infinity for vertical lines.\n     */\n    get slope() {\n        return (this.end.y - this.begin.y) / (this.end.x - this.begin.x);\n    }\n    /**\n     * Gets the Y-intercept (b) of the line. Will return (+/-)Infinity if there is no intercept.\n     */\n    get intercept() {\n        return this.begin.y - this.slope * this.begin.x;\n    }\n    /**\n     * Gets the normal of the line\n     */\n    normal() {\n        if (this._normal) {\n            return this._normal;\n        }\n        return (this._normal = this.end.sub(this.begin).normal());\n    }\n    dir() {\n        if (this._dir) {\n            return this._dir;\n        }\n        return (this._dir = this.end.sub(this.begin));\n    }\n    getPoints() {\n        return [this.begin, this.end];\n    }\n    /**\n     * Returns the slope of the line in the form of a vector of length 1\n     */\n    getSlope() {\n        if (this._slope) {\n            return this._slope;\n        }\n        const begin = this.begin;\n        const end = this.end;\n        const distance = begin.distance(end);\n        return (this._slope = end.sub(begin).scale(1 / distance));\n    }\n    /**\n     * Returns the edge of the line as vector, the length of the vector is the length of the edge\n     */\n    getEdge() {\n        const begin = this.begin;\n        const end = this.end;\n        return end.sub(begin);\n    }\n    /**\n     * Returns the length of the line segment in pixels\n     */\n    getLength() {\n        const begin = this.begin;\n        const end = this.end;\n        const distance = begin.distance(end);\n        return distance;\n    }\n    /**\n     * Returns the midpoint of the edge\n     */\n    get midpoint() {\n        return this.begin.add(this.end).scale(0.5);\n    }\n    /**\n     * Flips the direction of the line segment\n     */\n    flip() {\n        return new LineSegment(this.end, this.begin);\n    }\n    /**\n     * Tests if a given point is below the line, points in the normal direction above the line are considered above.\n     * @param point\n     */\n    below(point) {\n        const above2 = (this.end.x - this.begin.x) * (point.y - this.begin.y) - (this.end.y - this.begin.y) * (point.x - this.begin.x);\n        return above2 >= 0;\n    }\n    /**\n     * Returns the clip point\n     * @param sideVector Vector that traces the line\n     * @param length Length to clip along side\n     */\n    clip(sideVector, length, normalize = true) {\n        let dir = sideVector;\n        if (normalize) {\n            dir = dir.normalize();\n        }\n        const near = dir.dot(this.begin) - length;\n        const far = dir.dot(this.end) - length;\n        const results = [];\n        if (near <= 0) {\n            results.push(this.begin);\n        }\n        if (far <= 0) {\n            results.push(this.end);\n        }\n        if (near * far < 0) {\n            const clipTime = near / (near - far);\n            results.push(this.begin.add(this.end.sub(this.begin).scale(clipTime)));\n        }\n        if (results.length !== 2) {\n            return null;\n        }\n        return new LineSegment(results[0], results[1]);\n    }\n    /**\n     * Find the perpendicular distance from the line to a point\n     * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n     * @param point\n     */\n    distanceToPoint(point, signed = false) {\n        const x0 = point.x;\n        const y0 = point.y;\n        const l = this.getLength();\n        const dy = this.end.y - this.begin.y;\n        const dx = this.end.x - this.begin.x;\n        const distance = (dy * x0 - dx * y0 + this.end.x * this.begin.y - this.end.y * this.begin.x) / l;\n        return signed ? distance : Math.abs(distance);\n    }\n    /**\n     * Find the perpendicular line from the line to a point\n     * https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n     * (a - p) - ((a - p) * n)n\n     * a is a point on the line\n     * p is the arbitrary point above the line\n     * n is a unit vector in direction of the line\n     * @param point\n     */\n    findVectorToPoint(point) {\n        const aMinusP = this.begin.sub(point);\n        const n = this.getSlope();\n        return aMinusP.sub(n.scale(aMinusP.dot(n)));\n    }\n    /**\n     * Finds a point on the line given only an X or a Y value. Given an X value, the function returns\n     * a new point with the calculated Y value and vice-versa.\n     * @param x The known X value of the target point\n     * @param y The known Y value of the target point\n     * @returns A new point with the other calculated axis value\n     */\n    findPoint(x = null, y = null) {\n        const m = this.slope;\n        const b = this.intercept;\n        if (x !== null) {\n            return new Vector(x, m * x + b);\n        }\n        else if (y !== null) {\n            return new Vector((y - b) / m, y);\n        }\n        else {\n            throw new Error('You must provide an X or a Y value');\n        }\n    }\n    /**\n     * @see http://stackoverflow.com/a/11908158/109458\n     */\n    hasPoint() {\n        let currPoint;\n        let threshold = 0;\n        if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\n            currPoint = new Vector(arguments[0], arguments[1]);\n            threshold = arguments[2] || 0;\n        }\n        else if (arguments[0] instanceof Vector) {\n            currPoint = arguments[0];\n            threshold = arguments[1] || 0;\n        }\n        else {\n            throw 'Could not determine the arguments for Vector.hasPoint';\n        }\n        const dxc = currPoint.x - this.begin.x;\n        const dyc = currPoint.y - this.begin.y;\n        const dx1 = this.end.x - this.begin.x;\n        const dy1 = this.end.y - this.begin.y;\n        const cross = dxc * dy1 - dyc * dx1;\n        // check whether point lines on the line\n        if (Math.abs(cross) > threshold) {\n            return false;\n        }\n        // check whether point lies in-between start and end\n        if (Math.abs(dx1) >= Math.abs(dy1)) {\n            return dx1 > 0 ? this.begin.x <= currPoint.x && currPoint.x <= this.end.x : this.end.x <= currPoint.x && currPoint.x <= this.begin.x;\n        }\n        else {\n            return dy1 > 0 ? this.begin.y <= currPoint.y && currPoint.y <= this.end.y : this.end.y <= currPoint.y && currPoint.y <= this.begin.y;\n        }\n    }\n}\n\n;// ./Collision/Colliders/ClosestLineJumpTable.ts\n\n\n\n\n/**\n * Finds the closest line segment between two given line segments.\n */\nfunction ClosestLine(line1, line2) {\n    // https://math.stackexchange.com/questions/1993953/closest-points-between-2-lines-in-2d\n    const EPSILON = 1e-9;\n    const line1Dir = line1.dir();\n    const line2Dir = line2.dir();\n    const d1Squared = line1Dir.dot(line1Dir);\n    const d2Squared = line2Dir.dot(line2Dir);\n    if (d1Squared < EPSILON && d2Squared < EPSILON) {\n        return new LineSegment(line1.begin, line2.begin);\n    }\n    if (d1Squared < EPSILON) {\n        const t = clamp(line2Dir.dot(line1.begin.sub(line2.begin)) / d2Squared, 0, 1);\n        const closestPoint = line2.begin.add(line2Dir.scale(t));\n        return new LineSegment(line1.begin, closestPoint);\n    }\n    if (d2Squared < EPSILON) {\n        const t = clamp(line1Dir.dot(line2.begin.sub(line1.begin)) / d1Squared, 0, 1);\n        const closestPoint = line1.begin.add(line1Dir.scale(t));\n        return new LineSegment(closestPoint, line2.begin);\n    }\n    const r = line1.begin.sub(line2.begin);\n    const a = d1Squared;\n    const e = d2Squared;\n    const f = line2Dir.dot(r);\n    const denom = a * e - Math.pow(line1Dir.dot(line2Dir), 2);\n    let s = 0;\n    let t = 0;\n    if (Math.abs(denom) > EPSILON) {\n        s = clamp((line1Dir.dot(line2Dir) * f - e * line1Dir.dot(r)) / denom, 0, 1);\n    }\n    else {\n        // lines are parallel\n        s = clamp(line1Dir.dot(r) / a, 0, 1);\n    }\n    if (Math.abs(e) > EPSILON) {\n        t = clamp((line1Dir.dot(line2Dir) * s + f) / e, 0, 1);\n    }\n    else {\n        // line2 is a degenerate point\n        t = 0;\n    }\n    const closestPointOnLine1 = line1.begin.add(line1Dir.scale(s));\n    const closestPointOnLine2 = line2.begin.add(line2Dir.scale(t));\n    return new LineSegment(closestPointOnLine1, closestPointOnLine2);\n}\nconst ClosestLineJumpTable = {\n    PolygonPolygonClosestLine(polygonA, polygonB) {\n        const aSides = polygonA.getSides();\n        const bSides = polygonB.getSides();\n        let minDistance = Number.MAX_VALUE;\n        let closestLine = null;\n        for (let i = 0; i < aSides.length; i++) {\n            for (let j = 0; j < bSides.length; j++) {\n                const line = ClosestLine(aSides[i], bSides[j]);\n                const distance = line.getLength();\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestLine = line;\n                }\n            }\n        }\n        return closestLine;\n    },\n    PolygonEdgeClosestLine(polygon, edge) {\n        // Find the 2 closest faces on each polygon\n        const otherWorldPos = edge.worldPos;\n        const otherDirection = otherWorldPos.sub(polygon.worldPos);\n        const rayTowardsOther = new Ray(polygon.worldPos, otherDirection);\n        const thisPoint = polygon.rayCast(rayTowardsOther).point.add(rayTowardsOther.dir.scale(0.1));\n        const thisFace = polygon.getClosestFace(thisPoint);\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n        const edgeLine = edge.asLine();\n        return ClosestLine(thisFace.face, edgeLine);\n    },\n    PolygonCircleClosestLine(polygon, circle) {\n        // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\n        // Find the 2 closest faces on each polygon\n        const otherWorldPos = circle.worldPos;\n        const otherDirection = otherWorldPos.sub(polygon.worldPos);\n        const rayTowardsOther = new Ray(polygon.worldPos, otherDirection.normalize());\n        const thisPoint = polygon.rayCast(rayTowardsOther).point.add(rayTowardsOther.dir.scale(0.1));\n        const thisFace = polygon.getClosestFace(thisPoint);\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const p0 = thisFace.face.begin;\n        const u = thisFace.face.getEdge();\n        // Time of minimum distance\n        let t = (u.x * (otherWorldPos.x - p0.x) + u.y * (otherWorldPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\n        // If time of minimum is past the edge clamp\n        if (t > 1) {\n            t = 1;\n        }\n        else if (t < 0) {\n            t = 0;\n        }\n        // Minimum distance\n        const d = Math.sqrt(Math.pow(p0.x + u.x * t - otherWorldPos.x, 2) + Math.pow(p0.y + u.y * t - otherWorldPos.y, 2)) - circle.radius;\n        const circlex = ((p0.x + u.x * t - otherWorldPos.x) * circle.radius) / (circle.radius + d);\n        const circley = ((p0.y + u.y * t - otherWorldPos.y) * circle.radius) / (circle.radius + d);\n        return new LineSegment(u.scale(t).add(p0), new Vector(otherWorldPos.x + circlex, otherWorldPos.y + circley));\n    },\n    CircleCircleClosestLine(circleA, circleB) {\n        // Find the 2 closest faces on each polygon\n        const otherWorldPos = circleB.worldPos;\n        const otherDirection = otherWorldPos.sub(circleA.worldPos);\n        const thisWorldPos = circleA.worldPos;\n        const thisDirection = thisWorldPos.sub(circleB.worldPos);\n        const rayTowardsOther = new Ray(circleA.worldPos, otherDirection);\n        const rayTowardsThis = new Ray(circleB.worldPos, thisDirection);\n        const thisPoint = circleA.rayCast(rayTowardsOther);\n        const otherPoint = circleB.rayCast(rayTowardsThis);\n        return new LineSegment(thisPoint.point, otherPoint.point);\n    },\n    CircleEdgeClosestLine(circle, edge) {\n        // https://math.stackexchange.com/questions/1919177/how-to-find-point-on-line-closest-to-sphere\n        const circleWorldPos = circle.worldPos;\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const edgeLine = edge.asLine();\n        const edgeStart = edgeLine.begin;\n        const edgeVector = edgeLine.getEdge();\n        const p0 = edgeStart;\n        const u = edgeVector;\n        // Time of minimum distance\n        let t = (u.x * (circleWorldPos.x - p0.x) + u.y * (circleWorldPos.y - p0.y)) / (u.x * u.x + u.y * u.y);\n        // If time of minimum is past the edge clamp to edge\n        if (t > 1) {\n            t = 1;\n        }\n        else if (t < 0) {\n            t = 0;\n        }\n        // Minimum distance\n        const d = Math.sqrt(Math.pow(p0.x + u.x * t - circleWorldPos.x, 2) + Math.pow(p0.y + u.y * t - circleWorldPos.y, 2)) - circle.radius;\n        const circlex = ((p0.x + u.x * t - circleWorldPos.x) * circle.radius) / (circle.radius + d);\n        const circley = ((p0.y + u.y * t - circleWorldPos.y) * circle.radius) / (circle.radius + d);\n        return new LineSegment(u.scale(t).add(p0), new Vector(circleWorldPos.x + circlex, circleWorldPos.y + circley));\n    },\n    EdgeEdgeClosestLine(edgeA, edgeB) {\n        // L1 = P(s) = p0 + s * u, where s is time and p0 is the start of the line\n        const edgeLineA = edgeA.asLine();\n        // L2 = Q(t) = q0 + t * v, where t is time and q0 is the start of the line\n        const edgeLineB = edgeB.asLine();\n        return ClosestLine(edgeLineA, edgeLineB);\n    }\n};\n\n;// ./Collision/Colliders/CircleCollider.ts\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * This is a circle collider for the excalibur rigid body physics simulation\n */\nclass CircleCollider extends Collider {\n    get worldPos() {\n        return this._globalMatrix.getPosition();\n    }\n    /**\n     * Get the radius of the circle\n     */\n    get radius() {\n        var _a;\n        if (this._radius) {\n            return this._radius;\n        }\n        const tx = this._transform;\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\n        // This is a trade off, the alternative is retooling circles to support ellipse collisions\n        return (this._radius = this._naturalRadius * Math.min(scale.x, scale.y));\n    }\n    /**\n     * Set the radius of the circle\n     */\n    set radius(val) {\n        var _a;\n        const tx = this._transform;\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\n        // This is a trade off, the alternative is retooling circles to support ellipse collisions\n        this._naturalRadius = val / Math.min(scale.x, scale.y);\n        this._localBoundsDirty = true;\n        this._radius = val;\n    }\n    constructor(options) {\n        super();\n        /**\n         * Position of the circle relative to the collider, by default (0, 0).\n         */\n        this.offset = Vector.Zero;\n        this._globalMatrix = AffineMatrix.identity();\n        this._localBoundsDirty = true;\n        this.offset = options.offset || Vector.Zero;\n        this.radius = options.radius || 0;\n        this._globalMatrix.translate(this.offset.x, this.offset.y);\n    }\n    /**\n     * Returns a clone of this shape, not associated with any collider\n     */\n    clone() {\n        return new CircleCollider({\n            offset: this.offset.clone(),\n            radius: this.radius\n        });\n    }\n    /**\n     * Get the center of the collider in world coordinates\n     */\n    get center() {\n        return this._globalMatrix.getPosition();\n    }\n    /**\n     * Tests if a point is contained in this collider\n     */\n    contains(point) {\n        var _a, _b;\n        const pos = (_b = (_a = this._transform) === null || _a === void 0 ? void 0 : _a.pos) !== null && _b !== void 0 ? _b : this.offset;\n        const distance = pos.distance(point);\n        if (distance <= this.radius) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Casts a ray at the Circle collider and returns the nearest point of collision\n     * @param ray\n     */\n    rayCast(ray, max = Infinity) {\n        var _a, _b;\n        // https://en.wikipedia.org/wiki/Intersection_(geometry)#A_line_and_a_circle\n        const c = this.center;\n        const dir = ray.dir;\n        const orig = ray.pos;\n        const u = c.sub(orig);\n        const u1 = dir.scale(u.dot(dir));\n        const u2 = u.sub(u1);\n        const d = u2.magnitude;\n        if (d > this.radius) {\n            return null;\n        }\n        else {\n            // tangent case\n            let toi = 0;\n            if (approximatelyEqual(d, this.radius, 0.0001)) {\n                toi = -dir.dot(orig.sub(c));\n                if (toi > 0 && toi < max) {\n                    const point = ray.getPoint(toi);\n                    return {\n                        point,\n                        normal: point.sub(c).normalize(),\n                        collider: this,\n                        body: (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent),\n                        distance: toi\n                    };\n                }\n                return null;\n            }\n            else {\n                // two point\n                const discriminant = Math.sqrt(Math.pow(dir.dot(orig.sub(c)), 2) - Math.pow(orig.sub(c).distance(), 2) + Math.pow(this.radius, 2));\n                const toi1 = -dir.dot(orig.sub(c)) + discriminant;\n                const toi2 = -dir.dot(orig.sub(c)) - discriminant;\n                const positiveToi = [];\n                if (toi1 >= 0) {\n                    positiveToi.push(toi1);\n                }\n                if (toi2 >= 0) {\n                    positiveToi.push(toi2);\n                }\n                const minToi = Math.min(...positiveToi);\n                if (minToi <= max) {\n                    const point = ray.getPoint(minToi);\n                    return {\n                        point,\n                        normal: point.sub(c).normalize(),\n                        collider: this,\n                        body: (_b = this.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent),\n                        distance: minToi\n                    };\n                }\n                return null;\n            }\n        }\n    }\n    getClosestLineBetween(shape) {\n        if (shape instanceof CircleCollider) {\n            return ClosestLineJumpTable.CircleCircleClosestLine(this, shape);\n        }\n        else if (shape instanceof PolygonCollider) {\n            return ClosestLineJumpTable.PolygonCircleClosestLine(shape, this).flip();\n        }\n        else if (shape instanceof EdgeCollider) {\n            return ClosestLineJumpTable.CircleEdgeClosestLine(this, shape).flip();\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n        }\n    }\n    /**\n     * @inheritdoc\n     */\n    collide(collider) {\n        if (collider instanceof CircleCollider) {\n            return CollisionJumpTable.CollideCircleCircle(this, collider);\n        }\n        else if (collider instanceof PolygonCollider) {\n            return CollisionJumpTable.CollideCirclePolygon(this, collider);\n        }\n        else if (collider instanceof EdgeCollider) {\n            return CollisionJumpTable.CollideCircleEdge(this, collider);\n        }\n        else {\n            throw new Error(`Circle could not collide with unknown CollisionShape ${typeof collider}`);\n        }\n    }\n    /**\n     * Find the point on the collider furthest in the direction specified\n     */\n    getFurthestPoint(direction) {\n        return this.center.add(direction.normalize().scale(this.radius));\n    }\n    /**\n     * Find the local point on the shape in the direction specified\n     * @param direction\n     */\n    getFurthestLocalPoint(direction) {\n        const dir = direction.normalize();\n        return dir.scale(this.radius);\n    }\n    /**\n     * Get the axis aligned bounding box for the circle collider in world coordinates\n     */\n    get bounds() {\n        return this.localBounds.transform(this._globalMatrix);\n    }\n    /**\n     * Get the axis aligned bounding box for the circle collider in local coordinates\n     */\n    get localBounds() {\n        if (this._localBoundsDirty) {\n            this._localBounds = new BoundingBox(-this._naturalRadius, -this._naturalRadius, +this._naturalRadius, +this._naturalRadius);\n            this._localBoundsDirty = false;\n        }\n        return this._localBounds;\n    }\n    /**\n     * Get axis not implemented on circles, since there are infinite axis in a circle\n     */\n    get axes() {\n        return [];\n    }\n    /**\n     * Returns the moment of inertia of a circle given it's mass\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n     */\n    getInertia(mass) {\n        return (mass * this.radius * this.radius) / 2;\n    }\n    /* istanbul ignore next */\n    update(transform) {\n        var _a;\n        this._transform = transform;\n        const globalMat = (_a = transform.matrix) !== null && _a !== void 0 ? _a : this._globalMatrix;\n        globalMat.clone(this._globalMatrix);\n        this._globalMatrix.translate(this.offset.x, this.offset.y);\n        this._radius = undefined;\n    }\n    /**\n     * Project the circle along a specified axis\n     */\n    project(axis) {\n        const scalars = [];\n        const point = this.center;\n        const dotProduct = point.dot(axis);\n        scalars.push(dotProduct);\n        scalars.push(dotProduct + this.radius);\n        scalars.push(dotProduct - this.radius);\n        return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n    }\n    debug(ex, color, options) {\n        var _a, _b, _c, _d;\n        const { lineWidth } = { ...{ lineWidth: 1 }, ...options };\n        const tx = this._transform;\n        const scale = (_a = tx === null || tx === void 0 ? void 0 : tx.globalScale) !== null && _a !== void 0 ? _a : Vector.One;\n        const rotation = (_b = tx === null || tx === void 0 ? void 0 : tx.globalRotation) !== null && _b !== void 0 ? _b : 0;\n        const pos = (_c = tx === null || tx === void 0 ? void 0 : tx.globalPos) !== null && _c !== void 0 ? _c : Vector.Zero;\n        ex.save();\n        ex.translate(pos.x, pos.y);\n        ex.rotate(rotation);\n        ex.scale(scale.x, scale.y);\n        ex.drawCircle((_d = this.offset) !== null && _d !== void 0 ? _d : Vector.Zero, this._naturalRadius, Color.Transparent, color, lineWidth);\n        ex.restore();\n    }\n}\n\n;// ./Collision/Detection/CollisionContact.ts\n\n\n\n/**\n * Collision contacts are used internally by Excalibur to resolve collision between colliders. This\n * Pair prevents collisions from being evaluated more than one time\n */\nclass CollisionContact {\n    constructor(colliderA, colliderB, mtv, normal, tangent, points, localPoints, info) {\n        var _a, _b, _c, _d, _e, _f;\n        this._canceled = false;\n        this.bodyA = null;\n        this.bodyB = null;\n        this.colliderA = colliderA;\n        this.colliderB = colliderB;\n        this.mtv = mtv;\n        this.normal = normal;\n        this.tangent = tangent;\n        this.points = points;\n        this.localPoints = localPoints;\n        this.info = info;\n        this.id = Pair.calculatePairHash(colliderA.id, colliderB.id);\n        if (colliderA.composite || colliderB.composite) {\n            // Add on the parent composite pair for start/end contact if 'together\n            const colliderAId = ((_a = colliderA.composite) === null || _a === void 0 ? void 0 : _a.compositeStrategy) === 'separate' ? colliderA.id : (_c = (_b = colliderA.composite) === null || _b === void 0 ? void 0 : _b.id) !== null && _c !== void 0 ? _c : colliderA.id;\n            const colliderBId = ((_d = colliderB.composite) === null || _d === void 0 ? void 0 : _d.compositeStrategy) === 'separate' ? colliderB.id : (_f = (_e = colliderB.composite) === null || _e === void 0 ? void 0 : _e.id) !== null && _f !== void 0 ? _f : colliderB.id;\n            this.id += '|' + Pair.calculatePairHash(colliderAId, colliderBId);\n        }\n        if (this.colliderA.owner) {\n            this.bodyA = this.colliderA.owner.get(BodyComponent);\n        }\n        if (this.colliderB.owner) {\n            this.bodyB = this.colliderB.owner.get(BodyComponent);\n        }\n    }\n    /**\n     * Match contact awake state, except if body's are Fixed\n     */\n    matchAwake() {\n        const bodyA = this.bodyA;\n        const bodyB = this.bodyB;\n        if (bodyA && bodyB) {\n            if (bodyA.isSleeping !== bodyB.isSleeping) {\n                if (bodyA.isSleeping && bodyA.collisionType !== CollisionType.Fixed && bodyB.sleepMotion >= bodyA.wakeThreshold) {\n                    bodyA.isSleeping = false;\n                }\n                if (bodyB.isSleeping && bodyB.collisionType !== CollisionType.Fixed && bodyA.sleepMotion >= bodyB.wakeThreshold) {\n                    bodyB.isSleeping = false;\n                }\n            }\n        }\n    }\n    isCanceled() {\n        return this._canceled;\n    }\n    cancel() {\n        this._canceled = true;\n    }\n    /**\n     * Biases the contact so that the given collider is colliderA\n     */\n    bias(collider) {\n        if (collider !== this.colliderA && collider !== this.colliderB) {\n            throw new Error('Collider must be either colliderA or colliderB from this contact');\n        }\n        if (collider === this.colliderA) {\n            return this;\n        }\n        const colliderA = this.colliderA;\n        const colliderB = this.colliderB;\n        this.colliderB = colliderA;\n        this.colliderA = colliderB;\n        this.mtv = this.mtv.negate();\n        this.normal = this.normal.negate();\n        this.tangent = this.tangent.negate();\n        return this;\n    }\n}\n\n;// ./Collision/Colliders/SeparatingAxis.ts\n\n\n\n\n/**\n * Specific information about a contact and it's separation\n */\nclass SeparationInfo {\n    constructor() {\n        /**\n         * Axis of separation from the collider's perspective\n         */\n        this.axis = vec(0, 0);\n        /**\n         * Local axis of separation from the collider's perspective\n         */\n        this.localAxis = vec(0, 0);\n        /**\n         * Side of separation (reference) from the collider's perspective\n         */\n        this.side = new LineSegment(vec(0, 0), vec(0, 0));\n        /**\n         * Local side of separation (reference) from the collider's perspective\n         */\n        this.localSide = new LineSegment(vec(0, 0), vec(0, 0));\n        /**\n         * Point on collider B (incident point)\n         */\n        this.point = vec(0, 0);\n        /**\n         * Local point on collider B (incident point)\n         */\n        this.localPoint = vec(0, 0);\n    }\n}\nclass SeparatingAxis {\n    static findPolygonPolygonSeparation(polyA, polyB) {\n        // if polyB has 0 scale we need to hop back to degenerate separation\n        if (polyB.transform.matrix.determinant() === 0) {\n            return SeparatingAxis.findPolygonPolygonSeparationDegenerate(polyA, polyB);\n        }\n        // Multi contact from SAT\n        // https://gamedev.stackexchange.com/questions/111390/multiple-contacts-for-sat-collision-detection\n        // do a SAT test to find a min axis if it exists\n        let bestSeparation = -Number.MAX_VALUE;\n        let bestSideIndex = -1;\n        let localPoint;\n        // Work inside polyB reference frame\n        // inv polyB converts to local space from polyA world space\n        const toPolyBSpace = polyB.transform.inverse.multiply(polyA.transform.matrix, SeparatingAxis._SCRATCH_MATRIX);\n        const toPolyBSpaceRotation = toPolyBSpace.getRotation();\n        const normalsA = polyA.normals;\n        const pointsA = polyA.points;\n        const pointsB = polyB.points;\n        for (let pointsAIndex = 0; pointsAIndex < pointsA.length; pointsAIndex++) {\n            const normal = normalsA[pointsAIndex].rotate(toPolyBSpaceRotation, SeparatingAxis._ZERO, SeparatingAxis._SCRATCH_NORMAL);\n            const point = toPolyBSpace.multiply(pointsA[pointsAIndex], SeparatingAxis._SCRATCH_POINT);\n            // For every point in polyB\n            // We want to see how much overlap there is on the axis provided by the normal\n            // We want to find the minimum overlap among all points\n            let smallestPointDistance = Number.MAX_VALUE;\n            let smallestLocalPoint;\n            for (let pointsBIndex = 0; pointsBIndex < pointsB.length; pointsBIndex++) {\n                const distance = normal.dot(pointsB[pointsBIndex].sub(point, SeparatingAxis._SCRATCH_SUB_POINT));\n                if (distance < smallestPointDistance) {\n                    smallestPointDistance = distance;\n                    smallestLocalPoint = pointsB[pointsBIndex];\n                }\n            }\n            // We take the maximum overlap as the separation between the\n            // A negative separation means there were no gaps between the two shapes\n            if (smallestPointDistance > bestSeparation) {\n                bestSeparation = smallestPointDistance;\n                bestSideIndex = pointsAIndex;\n                localPoint = smallestLocalPoint;\n            }\n        }\n        // TODO can we avoid applying world space transforms?\n        const bestSide2 = (bestSideIndex + 1) % pointsA.length;\n        const separationInfo = SeparatingAxis.SeparationPool.get();\n        separationInfo.collider = polyA;\n        separationInfo.separation = bestSeparation;\n        if (bestSeparation > 0) {\n            // early out because if separation is > 0 then no local point\n            return separationInfo;\n        }\n        normalsA[bestSideIndex].clone(separationInfo.localAxis);\n        normalsA[bestSideIndex].rotate(polyA.transform.rotation, SeparatingAxis._ZERO, separationInfo.axis);\n        polyA.transform.matrix.multiply(pointsA[bestSideIndex], separationInfo.side.begin);\n        polyA.transform.matrix.multiply(pointsA[bestSide2], separationInfo.side.end);\n        polyB.transform.matrix.multiply(localPoint, separationInfo.point);\n        separationInfo.sideId = bestSideIndex;\n        localPoint.clone(separationInfo.localPoint);\n        pointsA[bestSideIndex].clone(separationInfo.localSide.begin);\n        pointsA[bestSide2].clone(separationInfo.localSide.end);\n        return separationInfo;\n    }\n    static findCirclePolygonSeparation(circle, polygon) {\n        const axes = polygon.axes;\n        const pc = polygon.center;\n        // Special SAT with circles\n        const polyDir = pc.sub(circle.worldPos);\n        const closestPointOnPoly = polygon.getFurthestPoint(polyDir.negate());\n        axes.push(closestPointOnPoly.sub(circle.worldPos).normalize());\n        let minOverlap = Number.MAX_VALUE;\n        let minAxis = null;\n        let minIndex = -1;\n        for (let i = 0; i < axes.length; i++) {\n            const proj1 = polygon.project(axes[i]);\n            const proj2 = circle.project(axes[i]);\n            const overlap = proj1.getOverlap(proj2);\n            if (overlap <= 0) {\n                return null;\n            }\n            else {\n                if (overlap < minOverlap) {\n                    minOverlap = overlap;\n                    minAxis = axes[i];\n                    minIndex = i;\n                }\n            }\n        }\n        if (minIndex < 0) {\n            return null;\n        }\n        return minAxis.normalize().scale(minOverlap);\n    }\n    static findPolygonPolygonSeparationDegenerate(polyA, polyB) {\n        let bestSeparation = -Number.MAX_VALUE;\n        let bestSide = null;\n        let bestAxis = null;\n        let bestSideIndex = -1;\n        let bestOtherPoint = null;\n        const sides = polyA.getSides();\n        const localSides = polyA.getLocalSides();\n        for (let i = 0; i < sides.length; i++) {\n            const side = sides[i];\n            const axis = side.normal();\n            const vertB = polyB.getFurthestPoint(axis.negate());\n            // Separation on side i's axis\n            // We are looking for the largest separation between poly A's sides\n            const vertSeparation = side.distanceToPoint(vertB, true);\n            if (vertSeparation > bestSeparation) {\n                bestSeparation = vertSeparation;\n                bestSide = side;\n                bestAxis = axis;\n                bestSideIndex = i;\n                bestOtherPoint = vertB;\n            }\n        }\n        return {\n            collider: polyA,\n            separation: bestAxis ? bestSeparation : 99,\n            axis: bestAxis,\n            side: bestSide,\n            localSide: localSides[bestSideIndex],\n            sideId: bestSideIndex,\n            point: bestOtherPoint,\n            localPoint: bestAxis ? polyB.getFurthestLocalPoint(bestAxis.negate()) : null\n        };\n    }\n}\nSeparatingAxis.SeparationPool = new Pool(() => new SeparationInfo(), (i) => i, // no recycle\n500);\nSeparatingAxis._ZERO = vec(0, 0);\nSeparatingAxis._SCRATCH_POINT = vec(0, 0);\nSeparatingAxis._SCRATCH_SUB_POINT = vec(0, 0);\nSeparatingAxis._SCRATCH_NORMAL = vec(0, 0);\nSeparatingAxis._SCRATCH_MATRIX = AffineMatrix.identity();\nSeparatingAxis.SeparationPool.disableWarnings = true;\n\n;// ./Collision/Colliders/CollisionJumpTable.ts\n\n\n\n\n\n\n\n\n\n\nconst ScratchZero = Vector.Zero; // TODO constant vector\nconst ScratchNormal = Vector.Zero; // TODO constant vector\nconst ScratchMatrix = AffineMatrix.identity();\nconst CollisionJumpTable = {\n    CollideCircleCircle(circleA, circleB) {\n        const circleAPos = circleA.worldPos;\n        const circleBPos = circleB.worldPos;\n        const combinedRadius = circleA.radius + circleB.radius;\n        const distance = circleAPos.distance(circleBPos);\n        if (distance > combinedRadius) {\n            return [];\n        }\n        // negative means overlap\n        const separation = combinedRadius - distance;\n        // Normal points from A -> B\n        const normal = circleBPos.sub(circleAPos).normalize();\n        const tangent = normal.perpendicular();\n        const mvt = normal.scale(separation);\n        const point = circleA.getFurthestPoint(normal);\n        const local = circleA.getFurthestLocalPoint(normal);\n        const info = {\n            collider: circleA,\n            separation,\n            axis: normal,\n            point: point\n        };\n        return [new CollisionContact(circleA, circleB, mvt, normal, tangent, [point], [local], info)];\n    },\n    CollideCirclePolygon(circle, polygon) {\n        var _a, _b;\n        let minAxis = SeparatingAxis.findCirclePolygonSeparation(circle, polygon);\n        if (!minAxis) {\n            return [];\n        }\n        // make sure that the minAxis is pointing away from circle\n        const sameDir = minAxis.dot(polygon.center.sub(circle.center));\n        minAxis = sameDir < 0 ? minAxis.negate() : minAxis;\n        const point = circle.getFurthestPoint(minAxis);\n        const xf = (_b = (_a = circle.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent)) !== null && _b !== void 0 ? _b : new TransformComponent();\n        const local = xf.applyInverse(point);\n        const normal = minAxis.normalize();\n        const info = {\n            collider: circle,\n            separation: -minAxis.magnitude,\n            axis: normal,\n            point: point,\n            localPoint: local,\n            side: polygon.findSide(normal.negate()),\n            localSide: polygon.findLocalSide(normal.negate())\n        };\n        return [new CollisionContact(circle, polygon, minAxis, normal, normal.perpendicular(), [point], [local], info)];\n    },\n    CollideCircleEdge(circle, edge) {\n        // TODO not sure this actually abides by local/world collisions\n        // Are edge.begin and edge.end local space or world space? I think they should be local\n        // center of the circle in world pos\n        const cc = circle.center;\n        // vector in the direction of the edge\n        const edgeWorld = edge.asLine();\n        const e = edgeWorld.end.sub(edgeWorld.begin);\n        // amount of overlap with the circle's center along the edge direction\n        const u = e.dot(edgeWorld.end.sub(cc));\n        const v = e.dot(cc.sub(edgeWorld.begin));\n        const side = edge.asLine();\n        const localSide = edge.asLocalLine();\n        // Potential region A collision (circle is on the left side of the edge, before the beginning)\n        if (v <= 0) {\n            const da = edgeWorld.begin.sub(cc);\n            const dda = da.dot(da); // quick and dirty way of calc'n distance in r^2 terms saves some sqrts\n            // save some sqrts\n            if (dda > circle.radius * circle.radius) {\n                return []; // no collision\n            }\n            const normal = da.normalize();\n            const separation = circle.radius - Math.sqrt(dda);\n            const info = {\n                collider: circle,\n                separation: separation,\n                axis: normal,\n                point: side.begin,\n                side: side,\n                localSide: localSide\n            };\n            return [\n                new CollisionContact(circle, edge, normal.scale(separation), normal, normal.perpendicular(), [side.begin], [localSide.begin], info)\n            ];\n        }\n        // Potential region B collision (circle is on the right side of the edge, after the end)\n        if (u <= 0) {\n            const db = edgeWorld.end.sub(cc);\n            const ddb = db.dot(db);\n            if (ddb > circle.radius * circle.radius) {\n                return [];\n            }\n            const normal = db.normalize();\n            const separation = circle.radius - Math.sqrt(ddb);\n            const info = {\n                collider: circle,\n                separation: separation,\n                axis: normal,\n                point: side.end,\n                side: side,\n                localSide: localSide\n            };\n            return [\n                new CollisionContact(circle, edge, normal.scale(separation), normal, normal.perpendicular(), [side.end], [localSide.end], info)\n            ];\n        }\n        // Otherwise potential region AB collision (circle is in the middle of the edge between the beginning and end)\n        const den = e.dot(e);\n        const pointOnEdge = edgeWorld.begin\n            .scale(u)\n            .add(edgeWorld.end.scale(v))\n            .scale(1 / den);\n        const d = cc.sub(pointOnEdge);\n        const dd = d.dot(d);\n        if (dd > circle.radius * circle.radius) {\n            return []; // no collision\n        }\n        let normal = e.perpendicular();\n        // flip correct direction\n        if (normal.dot(cc.sub(edgeWorld.begin)) < 0) {\n            normal.x = -normal.x;\n            normal.y = -normal.y;\n        }\n        normal = normal.normalize();\n        const separation = circle.radius - Math.sqrt(dd);\n        const mvt = normal.scale(separation);\n        const info = {\n            collider: circle,\n            separation: separation,\n            axis: normal,\n            point: pointOnEdge,\n            side: side,\n            localSide: localSide\n        };\n        return [\n            new CollisionContact(circle, edge, mvt, normal.negate(), normal.negate().perpendicular(), [pointOnEdge], [pointOnEdge.sub(edge.worldPos)], info)\n        ];\n    },\n    CollideEdgeEdge() {\n        // Edge-edge collision doesn't make sense\n        return [];\n    },\n    CollidePolygonEdge(polygon, edge) {\n        var _a;\n        const pc = polygon.center;\n        const ec = edge.center;\n        const dir = ec.sub(pc).normalize();\n        // build a temporary polygon from the edge to use SAT\n        const linePoly = new PolygonCollider({\n            points: [edge.begin, edge.end, edge.end.add(dir.scale(100)), edge.begin.add(dir.scale(100))],\n            offset: edge.offset\n        });\n        linePoly.owner = edge.owner;\n        const tx = (_a = edge.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\n        if (tx) {\n            linePoly.update(edge.owner.get(TransformComponent).get());\n        }\n        // Gross hack but poly-poly works well\n        const contact = this.CollidePolygonPolygon(polygon, linePoly);\n        if (contact.length) {\n            // Fudge the contact back to edge\n            contact[0].colliderB = edge;\n            contact[0].id = Pair.calculatePairHash(polygon.id, edge.id);\n        }\n        return contact;\n    },\n    CollidePolygonPolygon(polyA, polyB) {\n        // Multi contact from SAT\n        // https://gamedev.stackexchange.com/questions/111390/multiple-contacts-for-sat-collision-detection\n        // do a SAT test to find a min axis if it exists\n        const separationA = SeparatingAxis.findPolygonPolygonSeparation(polyA, polyB);\n        // If there is no overlap from boxA's perspective we can end early\n        if (separationA.separation > 0) {\n            return [];\n        }\n        const separationB = SeparatingAxis.findPolygonPolygonSeparation(polyB, polyA);\n        // If there is no overlap from boxB's perspective exit now\n        if (separationB.separation > 0) {\n            return [];\n        }\n        // Separations are both negative, we want to pick the least negative (minimal movement)\n        const separation = separationA.separation > separationB.separation ? separationA : separationB;\n        // The incident side is the most opposite from the axes of collision on the other collider\n        const other = separation.collider === polyA ? polyB : polyA;\n        const main = separation.collider === polyA ? polyA : polyB;\n        const toIncidentFrame = other.transform.inverse.multiply(main.transform.matrix, ScratchMatrix);\n        const toIncidentFrameRotation = toIncidentFrame.getRotation();\n        const referenceEdgeNormal = main.normals[separation.sideId].rotate(toIncidentFrameRotation, ScratchZero, ScratchNormal);\n        let minEdge = Number.MAX_VALUE;\n        let incidentEdgeIndex = 0;\n        for (let i = 0; i < other.normals.length; i++) {\n            const value = referenceEdgeNormal.dot(other.normals[i]);\n            if (value < minEdge) {\n                minEdge = value;\n                incidentEdgeIndex = i;\n            }\n        }\n        // Clip incident side by the perpendicular lines at each end of the reference side\n        // https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm\n        const referenceSide = separation.localSide.transform(toIncidentFrame);\n        const referenceDirection = separation.localAxis.perpendicular().negate().rotate(toIncidentFrameRotation);\n        const incidentSide = new LineSegment(other.points[incidentEdgeIndex], other.points[(incidentEdgeIndex + 1) % other.points.length]);\n        const clipRight = incidentSide.clip(referenceDirection.negate(), -referenceDirection.dot(referenceSide.begin), false);\n        let clipLeft = null;\n        if (clipRight) {\n            clipLeft = clipRight.clip(referenceDirection, referenceDirection.dot(referenceSide.end), false);\n        }\n        if (clipLeft) {\n            const localPoints = [];\n            const points = [];\n            const clipPoints = clipLeft.getPoints();\n            for (let i = 0; i < clipPoints.length; i++) {\n                const p = clipPoints[i];\n                if (referenceSide.below(p)) {\n                    localPoints.push(p);\n                    points.push(other.transform.apply(p));\n                }\n            }\n            let normal = separation.axis;\n            let tangent = normal.perpendicular();\n            // Point Contact A -> B\n            if (polyB.center.sub(polyA.center).dot(normal) < 0) {\n                normal = normal.negate();\n                tangent = normal.perpendicular();\n            }\n            return [new CollisionContact(polyA, polyB, normal.scale(-separation.separation), normal, tangent, points, localPoints, separation)];\n        }\n        return [];\n    },\n    FindContactSeparation(contact, localPoint) {\n        var _a, _b, _c, _d;\n        const shapeA = contact.colliderA;\n        const txA = (_b = (_a = contact.bodyA) === null || _a === void 0 ? void 0 : _a.transform) !== null && _b !== void 0 ? _b : new TransformComponent();\n        const shapeB = contact.colliderB;\n        const txB = (_d = (_c = contact.bodyB) === null || _c === void 0 ? void 0 : _c.transform) !== null && _d !== void 0 ? _d : new TransformComponent();\n        // both are circles\n        if (shapeA instanceof CircleCollider && shapeB instanceof CircleCollider) {\n            const combinedRadius = shapeA.radius + shapeB.radius;\n            const distance = txA.pos.distance(txB.pos);\n            const separation = combinedRadius - distance;\n            return -separation;\n        }\n        // both are polygons\n        if (shapeA instanceof PolygonCollider && shapeB instanceof PolygonCollider) {\n            if (contact.info.localSide) {\n                let side;\n                let worldPoint;\n                if (contact.info.collider === shapeA) {\n                    side = new LineSegment(txA.apply(contact.info.localSide.begin), txA.apply(contact.info.localSide.end));\n                    worldPoint = txB.apply(localPoint);\n                }\n                else {\n                    side = new LineSegment(txB.apply(contact.info.localSide.begin), txB.apply(contact.info.localSide.end));\n                    worldPoint = txA.apply(localPoint);\n                }\n                return side.distanceToPoint(worldPoint, true);\n            }\n        }\n        // polygon v circle\n        if ((shapeA instanceof PolygonCollider && shapeB instanceof CircleCollider) ||\n            (shapeB instanceof PolygonCollider && shapeA instanceof CircleCollider)) {\n            const worldPoint = txA.apply(localPoint);\n            if (contact.info.side) {\n                return contact.info.side.distanceToPoint(worldPoint, true);\n            }\n        }\n        // polygon v edge\n        if ((shapeA instanceof EdgeCollider && shapeB instanceof PolygonCollider) ||\n            (shapeB instanceof EdgeCollider && shapeA instanceof PolygonCollider)) {\n            let worldPoint;\n            if (contact.info.collider === shapeA) {\n                worldPoint = txB.apply(localPoint);\n            }\n            else {\n                worldPoint = txA.apply(localPoint);\n            }\n            if (contact.info.side) {\n                return contact.info.side.distanceToPoint(worldPoint, true);\n            }\n        }\n        // circle v edge\n        if ((shapeA instanceof CircleCollider && shapeB instanceof EdgeCollider) ||\n            (shapeB instanceof CircleCollider && shapeA instanceof EdgeCollider)) {\n            // Local point is always on the edge which is always shapeB\n            const worldPoint = txB.apply(localPoint);\n            let circlePoint;\n            if (shapeA instanceof CircleCollider) {\n                circlePoint = shapeA.getFurthestPoint(contact.normal);\n            }\n            const dist = worldPoint.distance(circlePoint);\n            if (contact.info.side) {\n                return dist > 0 ? -dist : 0;\n            }\n        }\n        return 0;\n    }\n};\n\n;// ./Collision/Colliders/EdgeCollider.ts\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Edge is a single line collider to create collisions with a single line.\n */\nclass EdgeCollider extends Collider {\n    constructor(options) {\n        var _a;\n        super();\n        this._globalMatrix = AffineMatrix.identity();\n        this.begin = options.begin || Vector.Zero;\n        this.end = options.end || Vector.Zero;\n        this.offset = (_a = options.offset) !== null && _a !== void 0 ? _a : Vector.Zero;\n    }\n    /**\n     * Returns a clone of this Edge, not associated with any collider\n     */\n    clone() {\n        return new EdgeCollider({\n            begin: this.begin.clone(),\n            end: this.end.clone()\n        });\n    }\n    get worldPos() {\n        var _a;\n        const tx = this._transform;\n        return (_a = tx === null || tx === void 0 ? void 0 : tx.globalPos.add(this.offset)) !== null && _a !== void 0 ? _a : this.offset;\n    }\n    /**\n     * Get the center of the collision area in world coordinates\n     */\n    get center() {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        const pos = begin.average(end);\n        return pos;\n    }\n    _getTransformedBegin() {\n        return this._globalMatrix.multiply(this.begin);\n    }\n    _getTransformedEnd() {\n        return this._globalMatrix.multiply(this.end);\n    }\n    /**\n     * Returns the slope of the line in the form of a vector\n     */\n    getSlope() {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        const distance = begin.distance(end);\n        return end.sub(begin).scale(1 / distance);\n    }\n    /**\n     * Returns the length of the line segment in pixels\n     */\n    getLength() {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        const distance = begin.distance(end);\n        return distance;\n    }\n    /**\n     * Tests if a point is contained in this collision area\n     */\n    contains() {\n        return false;\n    }\n    /**\n     * @inheritdoc\n     */\n    rayCast(ray, max = Infinity) {\n        var _a;\n        const numerator = this._getTransformedBegin().sub(ray.pos);\n        // Test is line and ray are parallel and non intersecting\n        if (ray.dir.cross(this.getSlope()) === 0 && numerator.cross(ray.dir) !== 0) {\n            return null;\n        }\n        // Lines are parallel\n        const divisor = ray.dir.cross(this.getSlope());\n        if (divisor === 0) {\n            return null;\n        }\n        const t = numerator.cross(this.getSlope()) / divisor;\n        if (t >= 0 && t <= max) {\n            const u = numerator.cross(ray.dir) / divisor / this.getLength();\n            if (u >= 0 && u <= 1) {\n                return {\n                    distance: t,\n                    normal: this.asLine().normal(),\n                    collider: this,\n                    body: (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent),\n                    point: ray.getPoint(t)\n                };\n            }\n        }\n        return null;\n    }\n    /**\n     * Returns the closes line between this and another collider, from this -> collider\n     * @param shape\n     */\n    getClosestLineBetween(shape) {\n        if (shape instanceof CircleCollider) {\n            return ClosestLineJumpTable.CircleEdgeClosestLine(shape, this);\n        }\n        else if (shape instanceof PolygonCollider) {\n            return ClosestLineJumpTable.PolygonEdgeClosestLine(shape, this).flip();\n        }\n        else if (shape instanceof EdgeCollider) {\n            return ClosestLineJumpTable.EdgeEdgeClosestLine(this, shape);\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof shape}`);\n        }\n    }\n    /**\n     * @inheritdoc\n     */\n    collide(shape) {\n        if (shape instanceof CircleCollider) {\n            return CollisionJumpTable.CollideCircleEdge(shape, this);\n        }\n        else if (shape instanceof PolygonCollider) {\n            return CollisionJumpTable.CollidePolygonEdge(shape, this);\n        }\n        else if (shape instanceof EdgeCollider) {\n            return CollisionJumpTable.CollideEdgeEdge();\n        }\n        else {\n            throw new Error(`Edge could not collide with unknown CollisionShape ${typeof shape}`);\n        }\n    }\n    /**\n     * Find the point on the collider furthest in the direction specified\n     */\n    getFurthestPoint(direction) {\n        const transformedBegin = this._getTransformedBegin();\n        const transformedEnd = this._getTransformedEnd();\n        if (direction.dot(transformedBegin) > 0) {\n            return transformedBegin;\n        }\n        else {\n            return transformedEnd;\n        }\n    }\n    _boundsFromBeginEnd(begin, end, padding = 10) {\n        // A perfectly vertical or horizontal edge would have a bounds 0 width or height\n        // this causes problems for the collision system so we give them some padding\n        return new BoundingBox(Math.min(begin.x, end.x) - padding, Math.min(begin.y, end.y) - padding, Math.max(begin.x, end.x) + padding, Math.max(begin.y, end.y) + padding);\n    }\n    /**\n     * Get the axis aligned bounding box for the edge collider in world space\n     */\n    get bounds() {\n        const transformedBegin = this._getTransformedBegin();\n        const transformedEnd = this._getTransformedEnd();\n        return this._boundsFromBeginEnd(transformedBegin, transformedEnd);\n    }\n    /**\n     * Get the axis aligned bounding box for the edge collider in local space\n     */\n    get localBounds() {\n        return this._boundsFromBeginEnd(this.begin, this.end);\n    }\n    /**\n     * Returns this edge represented as a line in world coordinates\n     */\n    asLine() {\n        return new LineSegment(this._getTransformedBegin(), this._getTransformedEnd());\n    }\n    /**\n     * Return this edge as a line in local line coordinates (relative to the position)\n     */\n    asLocalLine() {\n        return new LineSegment(this.begin, this.end);\n    }\n    /**\n     * Get the axis associated with the edge\n     */\n    get axes() {\n        const e = this._getTransformedEnd().sub(this._getTransformedBegin());\n        const edgeNormal = e.normal();\n        const axes = [];\n        axes.push(edgeNormal);\n        axes.push(edgeNormal.negate());\n        axes.push(edgeNormal.normal());\n        axes.push(edgeNormal.normal().negate());\n        return axes;\n    }\n    /**\n     * Get the moment of inertia for an edge\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n     */\n    getInertia(mass) {\n        const length = this.end.sub(this.begin).distance() / 2;\n        return mass * length * length;\n    }\n    /**\n     * @inheritdoc\n     */\n    update(transform) {\n        var _a;\n        this._transform = transform;\n        const globalMat = (_a = transform.matrix) !== null && _a !== void 0 ? _a : this._globalMatrix;\n        globalMat.clone(this._globalMatrix);\n        this._globalMatrix.translate(this.offset.x, this.offset.y);\n    }\n    /**\n     * Project the edge along a specified axis\n     */\n    project(axis) {\n        const scalars = [];\n        const points = [this._getTransformedBegin(), this._getTransformedEnd()];\n        const len = points.length;\n        for (let i = 0; i < len; i++) {\n            scalars.push(points[i].dot(axis));\n        }\n        return new Projection(Math.min.apply(Math, scalars), Math.max.apply(Math, scalars));\n    }\n    debug(ex, color) {\n        const begin = this._getTransformedBegin();\n        const end = this._getTransformedEnd();\n        ex.drawLine(begin, end, color, 2);\n        ex.drawCircle(begin, 2, color);\n        ex.drawCircle(end, 2, color);\n    }\n}\n\n;// ./Graphics/Debug.ts\n\nclass Debug {\n    static registerGraphicsContext(ctx) {\n        Debug._ctx = ctx;\n    }\n    static draw(debugDrawCall) {\n        this._drawCalls.push(debugDrawCall);\n    }\n    static drawPoint(point, options) {\n        Debug.draw((ctx) => {\n            ctx.debug.drawPoint(point, options);\n        });\n    }\n    static drawLine(start, end, options) {\n        Debug.draw((ctx) => {\n            ctx.debug.drawLine(start, end, options);\n        });\n    }\n    static drawLines(points, options) {\n        if (points.length > 1) {\n            Debug.draw((ctx) => {\n                for (let i = 0; i < points.length - 1; i++) {\n                    ctx.debug.drawLine(points[i], points[i + 1], options);\n                }\n            });\n        }\n    }\n    static drawText(text, pos) {\n        Debug.draw((ctx) => {\n            ctx.debug.drawText(text, pos);\n        });\n    }\n    static drawPolygon(points, options) {\n        if (points.length > 1) {\n            Debug.draw((ctx) => {\n                const firstPoint = points[0];\n                const polygon = [...points, firstPoint];\n                for (let i = 0; i < polygon.length - 1; i++) {\n                    ctx.debug.drawLine(polygon[i], polygon[i + 1], options);\n                }\n            });\n        }\n    }\n    static drawCircle(center, radius, options) {\n        const { color, strokeColor, width } = {\n            color: Color.Black,\n            strokeColor: undefined,\n            width: undefined,\n            ...options\n        };\n        Debug.draw((ctx) => {\n            ctx.drawCircle(center, radius, color, strokeColor, width);\n        });\n    }\n    static drawBounds(boundingBox, options) {\n        Debug.draw((ctx) => {\n            ctx.debug.drawRect(boundingBox.left, boundingBox.top, boundingBox.width, boundingBox.height, options);\n        });\n    }\n    static drawRay(ray, options) {\n        const { distance, color } = {\n            color: Color.Blue,\n            distance: 10,\n            ...options\n        };\n        Debug.draw((ctx) => {\n            const start = ray.pos;\n            const end = ray.pos.add(ray.dir.scale(distance));\n            ctx.debug.drawLine(start, end, { color });\n        });\n    }\n    static flush(ctx) {\n        ctx.save();\n        ctx.z = Debug.z;\n        for (const drawCall of Debug._drawCalls) {\n            drawCall(ctx);\n        }\n        ctx.restore();\n        Debug.clear();\n    }\n    static clear() {\n        Debug._drawCalls.length = 0;\n    }\n}\nDebug._drawCalls = [];\nDebug.z = Infinity;\n\n;// ./Collision/Colliders/PolygonCollider.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Polygon collider for detecting collisions\n */\nclass PolygonCollider extends Collider {\n    flagDirty() {\n        this._localBoundsDirty = true;\n        this._localSidesDirty = true;\n        this._transformedPointsDirty = true;\n        this._sidesDirty = true;\n    }\n    get normals() {\n        return this._normals;\n    }\n    /**\n     * Points in the polygon in order around the perimeter in local coordinates. These are relative from the body transform position.\n     * Excalibur stores these in counter-clockwise order\n     */\n    set points(points) {\n        if (points.length < 3) {\n            throw new Error('PolygonCollider cannot be created with less that 3 points');\n        }\n        this._points = points;\n        this._checkAndUpdateWinding(this._points);\n        this._calculateNormals();\n        this.flagDirty();\n    }\n    _calculateNormals() {\n        const normals = [];\n        for (let i = 0; i < this._points.length; i++) {\n            normals.push(this._points[(i + 1) % this._points.length].sub(this._points[i]).normal());\n        }\n        this._normals = normals;\n    }\n    /**\n     * Points in the polygon in order around the perimeter in local coordinates. These are relative from the body transform position.\n     * Excalibur stores these in counter-clockwise order\n     */\n    get points() {\n        return this._points;\n    }\n    get transform() {\n        return this._transform;\n    }\n    constructor(options) {\n        var _a;\n        super();\n        this._logger = Logger.getInstance();\n        this._transform = new transform_Transform();\n        this._transformedPoints = [];\n        this._sides = [];\n        this._localSides = [];\n        this._transformedPointsDirty = true;\n        this._sidesDirty = true;\n        this._localSidesDirty = true;\n        this._localBoundsDirty = true;\n        this.offset = (_a = options.offset) !== null && _a !== void 0 ? _a : Vector.Zero;\n        this._transform.pos.x += this.offset.x;\n        this._transform.pos.y += this.offset.y;\n        this.points = options.points;\n        if (!this.isConvex()) {\n            if (!options.suppressConvexWarning) {\n                this._logger.warn('Excalibur only supports convex polygon colliders and will not behave properly.' +\n                    'Call PolygonCollider.triangulate() to build a new collider composed of smaller convex triangles');\n            }\n        }\n        // calculate initial transformation\n        this._calculateTransformation();\n    }\n    _checkAndUpdateWinding(points) {\n        const counterClockwise = this._isCounterClockwiseWinding(points);\n        if (!counterClockwise) {\n            points.reverse();\n        }\n    }\n    _isCounterClockwiseWinding(points) {\n        // https://stackoverflow.com/a/1165943\n        let sum = 0;\n        for (let i = 0; i < points.length; i++) {\n            sum += (points[(i + 1) % points.length].x - points[i].x) * (points[(i + 1) % points.length].y + points[i].y);\n        }\n        return sum < 0;\n    }\n    /**\n     * Returns if the polygon collider is convex, Excalibur does not handle non-convex collision shapes.\n     * Call {@apilink Polygon.triangulate} to generate a {@apilink CompositeCollider} from this non-convex shape\n     */\n    isConvex() {\n        // From SO: https://stackoverflow.com/a/45372025\n        if (this.points.length < 3) {\n            return false;\n        }\n        let oldPoint = this.points[this.points.length - 2];\n        let newPoint = this.points[this.points.length - 1];\n        let direction = Math.atan2(newPoint.y - oldPoint.y, newPoint.x - oldPoint.x);\n        let oldDirection = 0;\n        let orientation = 0;\n        let angleSum = 0;\n        for (const [i, point] of this.points.entries()) {\n            oldPoint = newPoint;\n            oldDirection = direction;\n            newPoint = point;\n            direction = Math.atan2(newPoint.y - oldPoint.y, newPoint.x - oldPoint.x);\n            if (oldPoint.equals(newPoint)) {\n                return false; // repeat point\n            }\n            let angle = direction - oldDirection;\n            if (angle <= -Math.PI) {\n                angle += Math.PI * 2;\n            }\n            else if (angle > Math.PI) {\n                angle -= Math.PI * 2;\n            }\n            if (i === 0) {\n                if (angle === 0.0) {\n                    return false;\n                }\n                orientation = angle > 0 ? 1 : -1;\n            }\n            else {\n                if (orientation * angle <= 0) {\n                    return false;\n                }\n            }\n            angleSum += angle;\n        }\n        return Math.abs(Math.round(angleSum / (Math.PI * 2))) === 1;\n    }\n    /**\n     * Tessellates the polygon into a triangle fan as a {@apilink CompositeCollider} of triangle polygons\n     */\n    tessellate() {\n        const polygons = [];\n        for (let i = 1; i < this.points.length - 2; i++) {\n            polygons.push([this.points[0], this.points[i + 1], this.points[i + 2]]);\n        }\n        polygons.push([this.points[0], this.points[1], this.points[2]]);\n        return new CompositeCollider(polygons.map((points) => Shape.Polygon(points)));\n    }\n    /**\n     * Triangulate the polygon collider using the \"Ear Clipping\" algorithm.\n     * Returns a new {@apilink CompositeCollider} made up of smaller triangles.\n     */\n    triangulate() {\n        // https://www.youtube.com/watch?v=hTJFcHutls8\n        if (this.points.length < 3) {\n            throw Error('Invalid polygon');\n        }\n        const triangles = [];\n        // algorithm likes clockwise\n        const vertices = [...this.points].reverse();\n        let vertexCount = vertices.length;\n        /**\n         * Returns the previous index based on the current vertex\n         */\n        function getPrevIndex(index) {\n            return index === 0 ? vertexCount - 1 : index - 1;\n        }\n        /**\n         * Retrieves the next index based on the current vertex\n         */\n        function getNextIndex(index) {\n            return index === vertexCount - 1 ? 0 : index + 1;\n        }\n        /**\n         * Whether or not the angle at this vertex index is convex\n         */\n        function isConvex(index) {\n            const prev = getPrevIndex(index);\n            const next = getNextIndex(index);\n            const va = vertices[prev];\n            const vb = vertices[index];\n            const vc = vertices[next];\n            // Check convexity\n            const leftArm = va.sub(vb);\n            const rightArm = vc.sub(vb);\n            // Positive cross product is convex\n            if (leftArm.cross(rightArm) < 0) {\n                return false;\n            }\n            return true;\n        }\n        const convexVertices = vertices.map((_, i) => isConvex(i));\n        /**\n         * Quick test for point in triangle\n         */\n        function isPointInTriangle(point, a, b, c) {\n            const ab = b.sub(a);\n            const bc = c.sub(b);\n            const ca = a.sub(c);\n            const ap = point.sub(a);\n            const bp = point.sub(b);\n            const cp = point.sub(c);\n            const cross1 = ab.cross(ap);\n            const cross2 = bc.cross(bp);\n            const cross3 = ca.cross(cp);\n            if (cross1 > 0 || cross2 > 0 || cross3 > 0) {\n                return false;\n            }\n            return true;\n        }\n        /**\n         * Calculate the area of the triangle\n         */\n        // function triangleArea(a: Vector, b: Vector, c: Vector) {\n        //   return Math.abs(a.x * (b.y - c.y) + b.x * (c.y - a.y) + c.x * (a.y - c.y))/2;\n        // }\n        /**\n         * Find the next suitable ear tip\n         */\n        function findEarTip() {\n            for (let i = 0; i < vertexCount; i++) {\n                if (convexVertices[i]) {\n                    const prev = getPrevIndex(i);\n                    const next = getNextIndex(i);\n                    const va = vertices[prev];\n                    const vb = vertices[i];\n                    const vc = vertices[next];\n                    let isEar = true;\n                    // Check that if any vertices are in the triangle a, b, c\n                    for (let j = 0; j < vertexCount; j++) {\n                        // We can skip these verts because they are the triangle we are testing\n                        if (j === i || j === prev || j === next) {\n                            continue;\n                        }\n                        const point = vertices[j];\n                        if (isPointInTriangle(point, va, vb, vc)) {\n                            isEar = false;\n                            break;\n                        }\n                    }\n                    // Add ear to polygon list and remove from list\n                    if (isEar) {\n                        return i;\n                    }\n                }\n            }\n            // Fall back to any convex vertex\n            for (let i = 0; i < vertexCount; i++) {\n                if (convexVertices[i]) {\n                    return i;\n                }\n            }\n            // bail and return the first one?\n            return 0;\n        }\n        /**\n         * Cut the ear and produce a triangle, update internal state\n         */\n        function cutEarTip(index) {\n            const prev = getPrevIndex(index);\n            const next = getNextIndex(index);\n            const va = vertices[prev];\n            const vb = vertices[index];\n            const vc = vertices[next];\n            // Clockwise winding\n            // if (triangleArea(va, vb, vc) > 0) {\n            triangles.push([va, vb, vc]);\n            // }\n            vertices.splice(index, 1);\n            convexVertices.splice(index, 1);\n            vertexCount--;\n        }\n        // Loop over all the vertices finding ears\n        while (vertexCount > 3) {\n            const earIndex = findEarTip();\n            cutEarTip(earIndex);\n            // reclassify vertices\n            for (let i = 0; i < vertexCount; i++) {\n                convexVertices[i] = isConvex(i);\n            }\n        }\n        // Last triangle after the loop\n        triangles.push([vertices[0], vertices[1], vertices[2]]);\n        // FIXME: there is a colinear triangle that sneaks in here sometimes\n        return new CompositeCollider(triangles.map((points) => Shape.Polygon(points, Vector.Zero, true)));\n    }\n    /**\n     * Returns a clone of this ConvexPolygon, not associated with any collider\n     */\n    clone() {\n        return new PolygonCollider({\n            offset: this.offset.clone(),\n            points: this.points.map((p) => p.clone())\n        });\n    }\n    /**\n     * Returns the world position of the collider, which is the current body transform plus any defined offset\n     */\n    get worldPos() {\n        return this._transform.pos;\n    }\n    /**\n     * Get the center of the collider in world coordinates\n     */\n    get center() {\n        return this.bounds.center;\n    }\n    /**\n     * Calculates the underlying transformation from the body relative space to world space\n     */\n    _calculateTransformation() {\n        const points = this.points;\n        const len = points.length;\n        this._transformedPoints.length = 0; // clear out old transform\n        for (let i = 0; i < len; i++) {\n            this._transformedPoints[i] = this._transform.apply(points[i].clone());\n        }\n    }\n    /**\n     * Gets the points that make up the polygon in world space, from actor relative space (if specified)\n     */\n    getTransformedPoints() {\n        if (this._transformedPointsDirty) {\n            this._calculateTransformation();\n            this._transformedPointsDirty = false;\n        }\n        return this._transformedPoints;\n    }\n    /**\n     * Gets the sides of the polygon in world space\n     */\n    getSides() {\n        if (this._sidesDirty) {\n            const lines = [];\n            const points = this.getTransformedPoints();\n            const len = points.length;\n            for (let i = 0; i < len; i++) {\n                // This winding is important\n                lines.push(new LineSegment(points[i], points[(i + 1) % len]));\n            }\n            this._sides = lines;\n            this._sidesDirty = false;\n        }\n        return this._sides;\n    }\n    /**\n     * Returns the local coordinate space sides\n     */\n    getLocalSides() {\n        if (this._localSidesDirty) {\n            const lines = [];\n            const points = this.points;\n            const len = points.length;\n            for (let i = 0; i < len; i++) {\n                // This winding is important\n                lines.push(new LineSegment(points[i], points[(i + 1) % len]));\n            }\n            this._localSides = lines;\n            this._localSidesDirty = false;\n        }\n        return this._localSides;\n    }\n    /**\n     * Given a direction vector find the world space side that is most in that direction\n     * @param direction\n     */\n    findSide(direction) {\n        const sides = this.getSides();\n        let bestSide = sides[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (let side = 0; side < sides.length; side++) {\n            const currentSide = sides[side];\n            const sideNormal = currentSide.normal();\n            const mostDirection = sideNormal.dot(direction);\n            if (mostDirection > maxDistance) {\n                bestSide = currentSide;\n                maxDistance = mostDirection;\n            }\n        }\n        return bestSide;\n    }\n    /**\n     * Given a direction vector find the local space side that is most in that direction\n     * @param direction\n     */\n    findLocalSide(direction) {\n        const sides = this.getLocalSides();\n        let bestSide = sides[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (let side = 0; side < sides.length; side++) {\n            const currentSide = sides[side];\n            const sideNormal = currentSide.normal();\n            const mostDirection = sideNormal.dot(direction);\n            if (mostDirection > maxDistance) {\n                bestSide = currentSide;\n                maxDistance = mostDirection;\n            }\n        }\n        return bestSide;\n    }\n    /**\n     * Get the axis associated with the convex polygon\n     */\n    get axes() {\n        const axes = [];\n        const sides = this.getSides();\n        for (let i = 0; i < sides.length; i++) {\n            axes.push(sides[i].normal());\n        }\n        return axes;\n    }\n    /**\n     * Updates the transform for the collision geometry\n     *\n     * Collision geometry (points/bounds) will not change until this is called.\n     * @param transform\n     */\n    update(transform) {\n        if (transform) {\n            // This change means an update must be performed in order for geometry to update\n            transform.cloneWithParent(this._transform);\n            this._transformedPointsDirty = true;\n            this._sidesDirty = true;\n            if (this.offset.x !== 0 || this.offset.y !== 0) {\n                this._transform.pos.x += this.offset.x;\n                this._transform.pos.y += this.offset.y;\n            }\n            if (this._transform.isMirrored()) {\n                // negative transforms really mess with things in collision local space\n                // flatten out the negatives by applying to geometry\n                this.points = this.points.map((p) => vec(p.x * sign(this._transform.scale.x), p.y * sign(this._transform.scale.y)));\n                this._transform.scale.x = Math.abs(this._transform.scale.x);\n                this._transform.scale.y = Math.abs(this._transform.scale.y);\n            }\n        }\n    }\n    /**\n     * Tests if a point is contained in this collider in world space\n     */\n    contains(point) {\n        // Always cast to the right, as long as we cast in a consistent fixed direction we\n        // will be fine\n        const localPoint = this._transform.applyInverse(point);\n        const testRay = new Ray(localPoint, new Vector(1, 0));\n        let intersectCount = 0;\n        const sides = this.getLocalSides();\n        for (let sideIndex = 0; sideIndex < sides.length; sideIndex++) {\n            const side = sides[sideIndex];\n            if (testRay.intersect(side) >= 0) {\n                intersectCount++;\n            }\n        }\n        if (intersectCount % 2 === 0) {\n            return false;\n        }\n        return true;\n    }\n    getClosestLineBetween(collider) {\n        if (collider instanceof CircleCollider) {\n            return ClosestLineJumpTable.PolygonCircleClosestLine(this, collider);\n        }\n        else if (collider instanceof PolygonCollider) {\n            return ClosestLineJumpTable.PolygonPolygonClosestLine(this, collider);\n        }\n        else if (collider instanceof EdgeCollider) {\n            return ClosestLineJumpTable.PolygonEdgeClosestLine(this, collider);\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof collider}`);\n        }\n    }\n    /**\n     * Returns a collision contact if the 2 colliders collide, otherwise collide will\n     * return null.\n     * @param collider\n     */\n    collide(collider) {\n        if (collider instanceof CircleCollider) {\n            return CollisionJumpTable.CollideCirclePolygon(collider, this);\n        }\n        else if (collider instanceof PolygonCollider) {\n            return CollisionJumpTable.CollidePolygonPolygon(this, collider);\n        }\n        else if (collider instanceof EdgeCollider) {\n            return CollisionJumpTable.CollidePolygonEdge(this, collider);\n        }\n        else {\n            throw new Error(`Polygon could not collide with unknown CollisionShape ${typeof collider}`);\n        }\n    }\n    /**\n     * Find the point on the collider furthest in the direction specified\n     */\n    getFurthestPoint(direction) {\n        const pts = this.getTransformedPoints();\n        let furthestPoint = null;\n        let maxDistance = -Number.MAX_VALUE;\n        for (let i = 0; i < pts.length; i++) {\n            const distance = direction.dot(pts[i]);\n            if (distance > maxDistance) {\n                maxDistance = distance;\n                furthestPoint = pts[i];\n            }\n        }\n        return furthestPoint;\n    }\n    /**\n     * Find the local point on the collider furthest in the direction specified\n     * @param direction\n     */\n    getFurthestLocalPoint(direction) {\n        const pts = this.points;\n        let furthestPoint = pts[0];\n        let maxDistance = -Number.MAX_VALUE;\n        for (let i = 0; i < pts.length; i++) {\n            const distance = direction.dot(pts[i]);\n            if (distance > maxDistance) {\n                maxDistance = distance;\n                furthestPoint = pts[i];\n            }\n        }\n        return furthestPoint;\n    }\n    /**\n     * Finds the closes face to the point using perpendicular distance\n     * @param point point to test against polygon\n     */\n    getClosestFace(point) {\n        const sides = this.getSides();\n        let min = Number.POSITIVE_INFINITY;\n        let faceIndex = -1;\n        let distance = -1;\n        for (let i = 0; i < sides.length; i++) {\n            const dist = sides[i].distanceToPoint(point);\n            if (dist < min) {\n                min = dist;\n                faceIndex = i;\n                distance = dist;\n            }\n        }\n        if (faceIndex !== -1) {\n            return {\n                distance: sides[faceIndex].normal().scale(distance),\n                face: sides[faceIndex]\n            };\n        }\n        return null;\n    }\n    /**\n     * Get the axis aligned bounding box for the polygon collider in world coordinates\n     */\n    get bounds() {\n        return this.localBounds.transform(this._transform.matrix);\n    }\n    /**\n     * Get the axis aligned bounding box for the polygon collider in local coordinates\n     */\n    get localBounds() {\n        if (this._localBoundsDirty) {\n            this._localBounds = BoundingBox.fromPoints(this.points);\n            this._localBoundsDirty = false;\n        }\n        return this._localBounds;\n    }\n    /**\n     * Get the moment of inertia for an arbitrary polygon\n     * https://en.wikipedia.org/wiki/List_of_moments_of_inertia\n     */\n    getInertia(mass) {\n        if (this._cachedMass === mass && this._cachedInertia) {\n            return this._cachedInertia;\n        }\n        let numerator = 0;\n        let denominator = 0;\n        const points = this.points;\n        for (let i = 0; i < points.length; i++) {\n            const iplusone = (i + 1) % points.length;\n            const crossTerm = points[iplusone].cross(points[i]);\n            numerator += crossTerm * (points[i].dot(points[i]) + points[i].dot(points[iplusone]) + points[iplusone].dot(points[iplusone]));\n            denominator += crossTerm;\n        }\n        this._cachedMass = mass;\n        return (this._cachedInertia = (mass / 6) * (numerator / denominator));\n    }\n    /**\n     * Casts a ray into the polygon and returns a vector representing the point of contact (in world space) or null if no collision.\n     */\n    rayCast(ray, max = Infinity) {\n        var _a;\n        // find the minimum contact time greater than 0\n        // contact times less than 0 are behind the ray and we don't want those\n        const sides = this.getSides();\n        const len = sides.length;\n        let minContactTime = Number.MAX_VALUE;\n        let contactSide;\n        let contactIndex = -1;\n        for (let i = 0; i < len; i++) {\n            const contactTime = ray.intersect(sides[i]);\n            if (contactTime >= 0 && contactTime < minContactTime && contactTime <= max) {\n                minContactTime = contactTime;\n                contactSide = sides[i];\n                contactIndex = i;\n            }\n        }\n        // contact was found\n        if (contactIndex >= 0) {\n            return {\n                collider: this,\n                distance: minContactTime,\n                body: (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent),\n                point: ray.getPoint(minContactTime),\n                normal: contactSide.normal()\n            };\n        }\n        // no contact found\n        return null;\n    }\n    /**\n     * Project the edges of the polygon along a specified axis\n     */\n    project(axis) {\n        const points = this.getTransformedPoints();\n        const len = points.length;\n        let min = Number.MAX_VALUE;\n        let max = -Number.MAX_VALUE;\n        for (let i = 0; i < len; i++) {\n            const scalar = points[i].dot(axis);\n            min = Math.min(min, scalar);\n            max = Math.max(max, scalar);\n        }\n        return new Projection(min, max);\n    }\n    debug(ex, color, options) {\n        const points = this.getTransformedPoints();\n        Debug.drawPolygon(points, { color });\n    }\n}\n\n;// ./Collision/Colliders/Shape.ts\n\n\n\n\n\n\n\n/**\n * Excalibur helper for defining colliders quickly\n */\nclass Shape {\n    /**\n     * Creates a box collider, under the hood defines a {@apilink PolygonCollider} collider\n     * @param width Width of the box\n     * @param height Height of the box\n     * @param anchor Anchor of the box (default (.5, .5)) which positions the box relative to the center of the collider's position\n     * @param offset Optional offset relative to the collider in local coordinates\n     */\n    static Box(width, height, anchor = Vector.Half, offset = Vector.Zero) {\n        return new PolygonCollider({\n            points: new BoundingBox(-width * anchor.x, -height * anchor.y, width - width * anchor.x, height - height * anchor.y).getPoints(),\n            offset: offset\n        });\n    }\n    /**\n     * Creates a new {@apilink PolygonCollider | `arbitrary polygon`} collider\n     *\n     * PolygonColliders are useful for creating convex polygon shapes\n     * @param points Points specified in counter clockwise\n     * @param offset Optional offset relative to the collider in local coordinates\n     */\n    static Polygon(points, offset = Vector.Zero, suppressConvexWarning = false) {\n        return new PolygonCollider({\n            points: points,\n            offset: offset,\n            suppressConvexWarning\n        });\n    }\n    /**\n     * Creates a new {@apilink CircleCollider | `circle`} collider\n     *\n     * Circle colliders are useful for balls, or to make collisions more forgiving on sharp edges\n     * @param radius Radius of the circle collider\n     * @param offset Optional offset relative to the collider in local coordinates\n     */\n    static Circle(radius, offset = Vector.Zero) {\n        return new CircleCollider({\n            radius: radius,\n            offset: offset\n        });\n    }\n    /**\n     * Creates a new {@apilink EdgeCollider | `edge`} collider\n     *\n     * Edge colliders are useful for  floors, walls, and other barriers\n     * @param begin Beginning of the edge in local coordinates to the collider\n     * @param end Ending of the edge in local coordinates to the collider\n     */\n    static Edge(begin, end) {\n        return new EdgeCollider({\n            begin: begin,\n            end: end\n        });\n    }\n    /**\n     * Creates a new capsule shaped {@apilink CompositeCollider} using 2 circles and a box\n     *\n     * Capsule colliders are useful for platformers with incline or jagged floors to have a smooth\n     * player experience.\n     * @param width\n     * @param height\n     * @param offset Optional offset\n     */\n    static Capsule(width, height, offset = Vector.Zero) {\n        const logger = Logger.getInstance();\n        if (width === height) {\n            logger.warn('A capsule collider with equal width and height is a circle, consider using a ex.Shape.Circle or ex.CircleCollider');\n        }\n        const vertical = height >= width;\n        if (vertical) {\n            // height > width, if equal maybe use a circle\n            const capsule = new CompositeCollider([\n                Shape.Circle(width / 2, vec(0, -height / 2 + width / 2).add(offset)),\n                Shape.Box(width, height - width, Vector.Half, offset),\n                Shape.Circle(width / 2, vec(0, height / 2 - width / 2).add(offset))\n            ]);\n            return capsule;\n        }\n        else {\n            // width > height, if equal maybe use a circle\n            const capsule = new CompositeCollider([\n                Shape.Circle(height / 2, vec(-width / 2 + height / 2, 0).add(offset)),\n                Shape.Box(width - height, height, Vector.Half, offset),\n                Shape.Circle(height / 2, vec(width / 2 - height / 2, 0).add(offset))\n            ]);\n            return capsule;\n        }\n    }\n}\n\n;// ./Collision/ColliderComponent.ts\n\n\n\n\n\n\n\n\n\n\nclass ColliderComponent extends Component {\n    constructor(collider) {\n        super();\n        this.events = new EventEmitter();\n        /**\n         * Observable that notifies when a collider is added to the body\n         */\n        this.$colliderAdded = new Observable();\n        /**\n         * Observable that notifies when a collider is removed from the body\n         */\n        this.$colliderRemoved = new Observable();\n        this._collidersToRemove = [];\n        this.set(collider);\n    }\n    /**\n     * Get the current collider geometry\n     */\n    get() {\n        return this._collider;\n    }\n    /**\n     * Set the collider geometry\n     * @param collider\n     * @returns the collider you set\n     */\n    set(collider) {\n        this.clear();\n        if (collider) {\n            this._collider = collider;\n            this._collider.owner = this.owner;\n            collider.events.pipe(this.events);\n            this.$colliderAdded.notifyAll(collider);\n            this.update();\n        }\n        return collider;\n    }\n    /**\n     * Remove collider geometry from collider component\n     */\n    clear() {\n        if (this._collider) {\n            this._collidersToRemove.push(this._collider);\n            this._collider = null;\n        }\n    }\n    processColliderRemoval() {\n        for (const collider of this._collidersToRemove) {\n            collider.events.unpipe(this.events);\n            this.$colliderRemoved.notifyAll(collider);\n            collider.owner = null;\n        }\n    }\n    clone() {\n        const clone = new ColliderComponent(this._collider.clone());\n        return clone;\n    }\n    /**\n     * Return world space bounds\n     */\n    get bounds() {\n        var _a, _b;\n        return (_b = (_a = this._collider) === null || _a === void 0 ? void 0 : _a.bounds) !== null && _b !== void 0 ? _b : new BoundingBox();\n    }\n    /**\n     * Return local space bounds\n     */\n    get localBounds() {\n        var _a, _b;\n        return (_b = (_a = this._collider) === null || _a === void 0 ? void 0 : _a.localBounds) !== null && _b !== void 0 ? _b : new BoundingBox();\n    }\n    /**\n     * Update the collider's transformed geometry\n     */\n    update() {\n        var _a;\n        const tx = (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\n        if (this._collider) {\n            this._collider.owner = this.owner;\n            if (tx) {\n                this._collider.update(tx.get());\n            }\n        }\n    }\n    /**\n     * Collide component with another\n     * @param other\n     */\n    collide(other) {\n        let colliderA = this._collider;\n        let colliderB = other._collider;\n        if (!colliderA || !colliderB) {\n            return [];\n        }\n        // If we have a composite left hand side :(\n        // Might bite us, but to avoid updating all the handlers make composite always left side\n        let flipped = false;\n        if (colliderB instanceof CompositeCollider) {\n            colliderA = colliderB;\n            colliderB = this._collider;\n            flipped = true;\n        }\n        if (this._collider) {\n            const contacts = colliderA.collide(colliderB);\n            if (contacts) {\n                if (flipped) {\n                    contacts.forEach((contact) => {\n                        contact.mtv = contact.mtv.negate();\n                        contact.normal = contact.normal.negate();\n                        contact.tangent = contact.normal.perpendicular();\n                        contact.colliderA = this._collider;\n                        contact.colliderB = other._collider;\n                    });\n                }\n                return contacts;\n            }\n            return [];\n        }\n        return [];\n    }\n    onAdd(entity) {\n        if (this._collider) {\n            this.update();\n        }\n        // Wire up the collider events to the owning entity\n        this.events.on('precollision', (evt) => {\n            const precollision = evt;\n            entity.events.emit('precollision', new PreCollisionEvent(precollision.self, precollision.other, precollision.side, precollision.intersection, precollision.contact));\n            if (entity instanceof Actor) {\n                entity.onPreCollisionResolve(precollision.self, precollision.other, precollision.side, precollision.contact);\n            }\n        });\n        this.events.on('postcollision', (evt) => {\n            const postcollision = evt;\n            entity.events.emit('postcollision', new PostCollisionEvent(postcollision.self, postcollision.other, postcollision.side, postcollision.intersection, postcollision.contact));\n            if (entity instanceof Actor) {\n                entity.onPostCollisionResolve(postcollision.self, postcollision.other, postcollision.side, postcollision.contact);\n            }\n        });\n        this.events.on('collisionstart', (evt) => {\n            const start = evt;\n            entity.events.emit('collisionstart', new CollisionStartEvent(start.self, start.other, start.side, start.contact));\n            if (entity instanceof Actor) {\n                entity.onCollisionStart(start.self, start.other, start.side, start.contact);\n            }\n        });\n        this.events.on('collisionend', (evt) => {\n            const end = evt;\n            entity.events.emit('collisionend', new CollisionEndEvent(end.self, end.other, end.side, end.lastContact));\n            if (entity instanceof Actor) {\n                entity.onCollisionEnd(end.self, end.other, end.side, end.lastContact);\n            }\n        });\n    }\n    onRemove() {\n        this.events.clear();\n        this.$colliderRemoved.notifyAll(this._collider);\n    }\n    /**\n     * Sets up a box geometry based on the current bounds of the associated actor of this physics body.\n     *\n     * If no width/height are specified the body will attempt to use the associated actor's width/height.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    useBoxCollider(width, height, anchor = Vector.Half, center = Vector.Zero) {\n        const collider = Shape.Box(width, height, anchor, center);\n        return this.set(collider);\n    }\n    /**\n     * Sets up a {@apilink PolygonCollider | `polygon`} collision geometry based on a list of of points relative\n     *  to the anchor of the associated actor\n     * of this physics body.\n     *\n     * Only [convex polygon](https://en.wikipedia.org/wiki/Convex_polygon) definitions are supported.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    usePolygonCollider(points, center = Vector.Zero) {\n        const poly = Shape.Polygon(points, center);\n        return this.set(poly);\n    }\n    /**\n     * Sets up a {@apilink Circle | `circle collision geometry`} as the only collider with a specified radius in pixels.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    useCircleCollider(radius, center = Vector.Zero) {\n        const collider = Shape.Circle(radius, center);\n        return this.set(collider);\n    }\n    /**\n     * Sets up an {@apilink Edge | `edge collision geometry`} with a start point and an end point relative to the anchor of the associated actor\n     * of this physics body.\n     *\n     * By default, the box is center is at (0, 0) which means it is centered around the actors anchor.\n     */\n    useEdgeCollider(begin, end) {\n        const collider = Shape.Edge(begin, end);\n        return this.set(collider);\n    }\n    /**\n     * Setups up a {@apilink CompositeCollider} which can define any arbitrary set of excalibur colliders\n     * @param colliders\n     */\n    useCompositeCollider(colliders) {\n        return this.set(new CompositeCollider(colliders));\n    }\n}\n\n;// ./Collision/BodyComponent.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar DegreeOfFreedom;\n(function (DegreeOfFreedom) {\n    DegreeOfFreedom[\"Rotation\"] = \"rotation\";\n    DegreeOfFreedom[\"X\"] = \"x\";\n    DegreeOfFreedom[\"Y\"] = \"y\";\n})(DegreeOfFreedom || (DegreeOfFreedom = {}));\n/**\n * Body describes all the physical properties pos, vel, acc, rotation, angular velocity for the purpose of\n * of physics simulation.\n */\nclass BodyComponent extends Component {\n    constructor(options) {\n        var _a, _b, _c;\n        super();\n        this.dependencies = [TransformComponent, MotionComponent];\n        this.id = createId('body', BodyComponent._ID++);\n        this.events = new EventEmitter();\n        this.oldTransform = new transform_Transform();\n        /**\n         * Indicates whether the old transform has been captured at least once for interpolation\n         * @internal\n         */\n        this.__oldTransformCaptured = false;\n        /**\n         * Enable or disabled the fixed update interpolation, by default interpolation is on.\n         */\n        this.enableFixedUpdateInterpolate = true;\n        /**\n         * Collision type for the rigidbody physics simulation, by default {@apilink CollisionType.PreventCollision}\n         */\n        this.collisionType = CollisionType.PreventCollision;\n        /**\n         * The collision group for the body's colliders, by default body colliders collide with everything\n         */\n        this.group = CollisionGroup.All;\n        this._sleeping = false;\n        /**\n         * The also known as coefficient of restitution of this actor, represents the amount of energy preserved after collision or the\n         * bounciness. If 1, it is 100% bouncy, 0 it completely absorbs.\n         */\n        this.bounciness = 0.2;\n        /**\n         * The coefficient of friction on this actor.\n         *\n         * The {@apilink SolverStrategy.Arcade} does not support this property.\n         *\n         */\n        this.friction = 0.99;\n        /**\n         * Should use global gravity {@apilink Physics.gravity} in it's physics simulation, default is true\n         */\n        this.useGravity = true;\n        /**\n         * Degrees of freedom to limit\n         *\n         * Note: this only limits responses in the realistic solver, if velocity/angularVelocity is set the actor will still respond\n         */\n        this.limitDegreeOfFreedom = [];\n        this._oldGlobalPos = Vector.Zero;\n        /**\n         * The velocity of the actor last frame (vx, vy) in pixels/second\n         */\n        this.oldVel = new Vector(0, 0);\n        /**\n         * Gets/sets the acceleration of the actor from the last frame. This does not include the global acc {@apilink Physics.acc}.\n         */\n        this.oldAcc = Vector.Zero;\n        this._impulseScratch = vec(0, 0);\n        this._distanceFromCenterScratch = vec(0, 0);\n        if (options) {\n            this.collisionType = (_a = options.type) !== null && _a !== void 0 ? _a : this.collisionType;\n            this.group = (_b = options.group) !== null && _b !== void 0 ? _b : this.group;\n            this.useGravity = (_c = options.useGravity) !== null && _c !== void 0 ? _c : this.useGravity;\n            this._bodyConfig = {\n                ...getDefaultPhysicsConfig().bodies,\n                ...options.config\n            };\n        }\n        else {\n            this._bodyConfig = {\n                ...getDefaultPhysicsConfig().bodies\n            };\n        }\n        this.updatePhysicsConfig(this._bodyConfig);\n        this._mass = BodyComponent._DEFAULT_CONFIG.defaultMass;\n    }\n    get matrix() {\n        return this.transform.get().matrix;\n    }\n    /**\n     * Called by excalibur to update physics config defaults if they change\n     * @param config\n     */\n    updatePhysicsConfig(config) {\n        this._bodyConfig = {\n            ...getDefaultPhysicsConfig().bodies,\n            ...config\n        };\n        this.canSleep = this._bodyConfig.canSleepByDefault;\n        this.sleepMotion = this._bodyConfig.sleepEpsilon * 5;\n        this.wakeThreshold = this._bodyConfig.wakeThreshold;\n    }\n    /**\n     * Called by excalibur to update defaults\n     * @param config\n     */\n    static updateDefaultPhysicsConfig(config) {\n        BodyComponent._DEFAULT_CONFIG = config;\n    }\n    get mass() {\n        return this._mass;\n    }\n    set mass(newMass) {\n        this._mass = newMass;\n        this._cachedInertia = undefined;\n        this._cachedInverseInertia = undefined;\n    }\n    /**\n     * The inverse mass (1/mass) of the body. If {@apilink CollisionType.Fixed} this is 0, meaning \"infinite\" mass\n     */\n    get inverseMass() {\n        return this.collisionType === CollisionType.Fixed ? 0 : 1 / this.mass;\n    }\n    /**\n     * Whether this body is sleeping or not\n     * @deprecated use isSleeping\n     */\n    get sleeping() {\n        return this.isSleeping;\n    }\n    /**\n     * Whether this body is sleeping or not\n     */\n    get isSleeping() {\n        return this._sleeping;\n    }\n    /**\n     * Set the sleep state of the body\n     * @param sleeping\n     * @deprecated use isSleeping\n     */\n    setSleeping(sleeping) {\n        this.isSleeping = sleeping;\n    }\n    set isSleeping(sleeping) {\n        this._sleeping = sleeping;\n        if (!sleeping) {\n            // Give it a kick to keep it from falling asleep immediately\n            this.sleepMotion = this._bodyConfig.sleepEpsilon * 5;\n        }\n        else {\n            this.vel = Vector.Zero;\n            this.acc = Vector.Zero;\n            this.angularVelocity = 0;\n            this.sleepMotion = 0;\n        }\n    }\n    /**\n     * Update body's {@apilink BodyComponent.sleepMotion} for the purpose of sleeping\n     */\n    updateMotion() {\n        if (this._sleeping) {\n            this.isSleeping = true;\n        }\n        const currentMotion = this.vel.magnitude * this.vel.magnitude + Math.abs(this.angularVelocity * this.angularVelocity);\n        const bias = this._bodyConfig.sleepBias;\n        this.sleepMotion = bias * this.sleepMotion + (1 - bias) * currentMotion;\n        this.sleepMotion = clamp(this.sleepMotion, 0, 10 * this._bodyConfig.sleepEpsilon);\n        if (this.canSleep && this.sleepMotion < this._bodyConfig.sleepEpsilon) {\n            this.isSleeping = true;\n        }\n    }\n    /**\n     * Get the moment of inertia from the {@apilink ColliderComponent}\n     */\n    get inertia() {\n        if (this._cachedInertia) {\n            return this._cachedInertia;\n        }\n        // Inertia is a property of the geometry, so this is a little goofy but seems to be okay?\n        const collider = this.owner.get(ColliderComponent);\n        if (collider) {\n            collider.$colliderAdded.subscribe(() => {\n                this._cachedInertia = null;\n            });\n            collider.$colliderRemoved.subscribe(() => {\n                this._cachedInertia = null;\n            });\n            const maybeCollider = collider.get();\n            if (maybeCollider) {\n                return (this._cachedInertia = maybeCollider.getInertia(this.mass));\n            }\n        }\n        return 0;\n    }\n    /**\n     * Get the inverse moment of inertial from the {@apilink ColliderComponent}. If {@apilink CollisionType.Fixed} this is 0, meaning \"infinite\" mass\n     */\n    get inverseInertia() {\n        if (this._cachedInverseInertia) {\n            return this._cachedInverseInertia;\n        }\n        return (this._cachedInverseInertia = this.collisionType === CollisionType.Fixed ? 0 : 1 / this.inertia);\n    }\n    /**\n     * Returns if the owner is active\n     * @deprecated use isActive\n     */\n    get active() {\n        var _a;\n        return !!((_a = this.owner) === null || _a === void 0 ? void 0 : _a.isActive);\n    }\n    /**\n     * Returns if the owner is active\n     */\n    get isActive() {\n        var _a;\n        return !!((_a = this.owner) === null || _a === void 0 ? void 0 : _a.isActive);\n    }\n    /**\n     * @deprecated Use globalPos\n     */\n    get center() {\n        return this.globalPos;\n    }\n    onAdd(owner) {\n        var _a, _b;\n        this.transform = (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(TransformComponent);\n        this.motion = (_b = this.owner) === null || _b === void 0 ? void 0 : _b.get(MotionComponent);\n    }\n    get pos() {\n        return this.transform.pos;\n    }\n    set pos(val) {\n        this.transform.pos = val;\n    }\n    /**\n     * The (x, y) position of the actor this will be in the middle of the actor if the\n     * {@apilink Actor.anchor} is set to (0.5, 0.5) which is default.\n     * If you want the (x, y) position to be the top left of the actor specify an anchor of (0, 0).\n     */\n    get globalPos() {\n        return this.transform.globalPos;\n    }\n    set globalPos(val) {\n        this.transform.globalPos = val;\n    }\n    /**\n     * The position of the actor last frame (x, y) in pixels\n     */\n    get oldPos() {\n        return this.oldTransform.pos;\n    }\n    /**\n     * The global position of the actor last frame (x, y) in pixels\n     */\n    get oldGlobalPos() {\n        return this._oldGlobalPos;\n    }\n    /**\n     * The current velocity vector (vx, vy) of the actor in pixels/second\n     */\n    get vel() {\n        return this.motion.vel;\n    }\n    set vel(val) {\n        this.motion.vel = val;\n    }\n    /**\n     * The current acceleration vector (ax, ay) of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may\n     * be useful to simulate a gravitational effect.\n     */\n    get acc() {\n        return this.motion.acc;\n    }\n    set acc(val) {\n        this.motion.acc = val;\n    }\n    /**\n     * The current torque applied to the actor\n     */\n    get torque() {\n        return this.motion.torque;\n    }\n    set torque(val) {\n        this.motion.torque = val;\n    }\n    /**\n     * Gets/sets the rotation of the body from the last frame.\n     */\n    get oldRotation() {\n        return this.oldTransform.rotation;\n    }\n    /**\n     * The rotation of the body in radians\n     */\n    get rotation() {\n        return this.transform.globalRotation;\n    }\n    set rotation(val) {\n        this.transform.globalRotation = val;\n    }\n    /**\n     * The scale vector of the actor\n     */\n    get scale() {\n        return this.transform.globalScale;\n    }\n    set scale(val) {\n        this.transform.globalScale = val;\n    }\n    /**\n     * The scale of the actor last frame\n     */\n    get oldScale() {\n        return this.oldTransform.scale;\n    }\n    /**\n     * The scale rate of change of the actor in scale/second\n     */\n    get scaleFactor() {\n        return this.motion.scaleFactor;\n    }\n    set scaleFactor(scaleFactor) {\n        this.motion.scaleFactor = scaleFactor;\n    }\n    /**\n     * Get the angular velocity in radians/second\n     */\n    get angularVelocity() {\n        return this.motion.angularVelocity;\n    }\n    /**\n     * Set the angular velocity in radians/second\n     */\n    set angularVelocity(value) {\n        this.motion.angularVelocity = value;\n    }\n    /**\n     * Apply a specific impulse to the body\n     * @param point\n     * @param impulse\n     */\n    applyImpulse(point, impulse) {\n        if (this.collisionType !== CollisionType.Active) {\n            return; // only active objects participate in the simulation\n        }\n        const finalImpulse = impulse.scale(this.inverseMass, this._impulseScratch);\n        if (this.limitDegreeOfFreedom.indexOf(DegreeOfFreedom.X) > -1) {\n            finalImpulse.x = 0;\n        }\n        if (this.limitDegreeOfFreedom.indexOf(DegreeOfFreedom.Y) > -1) {\n            finalImpulse.y = 0;\n        }\n        this.vel.addEqual(finalImpulse);\n        if (!this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n            const distanceFromCenter = point.sub(this.globalPos, this._distanceFromCenterScratch);\n            this.angularVelocity += this.inverseInertia * distanceFromCenter.cross(impulse);\n        }\n    }\n    /**\n     * Apply only linear impulse to the body\n     * @param impulse\n     */\n    applyLinearImpulse(impulse) {\n        if (this.collisionType !== CollisionType.Active) {\n            return; // only active objects participate in the simulation\n        }\n        const finalImpulse = impulse.scale(this.inverseMass);\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\n            finalImpulse.x = 0;\n        }\n        if (this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\n            finalImpulse.y = 0;\n        }\n        this.vel = this.vel.add(finalImpulse);\n    }\n    /**\n     * Apply only angular impulse to the body\n     * @param point\n     * @param impulse\n     */\n    applyAngularImpulse(point, impulse) {\n        if (this.collisionType !== CollisionType.Active) {\n            return; // only active objects participate in the simulation\n        }\n        if (!this.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n            const distanceFromCenter = point.sub(this.globalPos);\n            this.angularVelocity += this.inverseInertia * distanceFromCenter.cross(impulse);\n        }\n    }\n    /**\n     * Sets the old versions of pos, vel, acc, and scale.\n     */\n    captureOldTransform() {\n        // Capture old values before integration step updates them\n        this.__oldTransformCaptured = true;\n        const tx = this.transform.get();\n        tx.clone(this.oldTransform);\n        this.oldTransform.parent = tx.parent; // also grab parent\n        this.oldVel.setTo(this.vel.x, this.vel.y);\n        this.oldAcc.setTo(this.acc.x, this.acc.y);\n        this.oldGlobalPos.setTo(this.globalPos.x, this.globalPos.y);\n    }\n    clone() {\n        const component = super.clone();\n        return component;\n    }\n}\nBodyComponent._ID = 0;\nBodyComponent._DEFAULT_CONFIG = {\n    ...getDefaultPhysicsConfig().bodies\n};\n\n;// ./Graphics/Rectangle.ts\n\n/**\n * A Rectangle {@apilink Graphic} for drawing rectangles to the {@apilink ExcaliburGraphicsContext}\n */\nclass Rectangle extends Raster {\n    constructor(options) {\n        super(options);\n        this.width = options.width;\n        this.height = options.height;\n        this.rasterize();\n    }\n    clone() {\n        return new Rectangle({\n            width: this.width,\n            height: this.height,\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        if (this.color) {\n            ctx.fillRect(0, 0, this.width, this.height);\n        }\n        if (this.strokeColor) {\n            ctx.strokeRect(0, 0, this.width, this.height);\n        }\n    }\n}\n\n;// ./Graphics/Circle.ts\n\n\n/**\n * A circle {@apilink Graphic} for drawing circles to the {@apilink ExcaliburGraphicsContext}\n *\n * Circles default to {@apilink ImageFiltering.Blended}\n */\nclass Circle extends Raster {\n    get radius() {\n        return this._radius;\n    }\n    set radius(value) {\n        this._radius = value;\n        this.width = this._radius * 2;\n        this.height = this._radius * 2;\n        this.flagDirty();\n    }\n    constructor(options) {\n        var _a, _b, _c;\n        super(options);\n        this._radius = 0;\n        const lineWidth = (_a = options.lineWidth) !== null && _a !== void 0 ? _a : (options.strokeColor ? 1 : 0); // default lineWidth in canvas is 1px\n        this.padding = (_b = options.padding) !== null && _b !== void 0 ? _b : 2 + lineWidth / 2; // default 2 padding for circles looks nice\n        this.radius = options.radius;\n        this.filtering = (_c = options.filtering) !== null && _c !== void 0 ? _c : ImageFiltering.Blended;\n        this.rasterize();\n    }\n    clone() {\n        return new Circle({\n            radius: this.radius,\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        if (this.radius > 0) {\n            ctx.beginPath();\n            ctx.arc(this.radius, this.radius, this.radius, 0, Math.PI * 2);\n            if (this.color) {\n                ctx.fill();\n            }\n            if (this.strokeColor) {\n                ctx.stroke();\n            }\n        }\n    }\n}\n\n;// ./Input/PointerComponent.ts\n\n/**\n * Add this component to optionally configure how the pointer\n * system detects pointer events.\n *\n * By default the collider shape is used and graphics bounds is not.\n *\n * If both collider shape and graphics bounds are enabled it will fire events if either or\n * are intersecting the pointer.\n */\nclass PointerComponent extends Component {\n    constructor(options) {\n        var _a, _b;\n        super();\n        /**\n         * Use any existing Collider component geometry for pointer events. This is useful if you want\n         * user pointer events only to trigger on the same collision geometry used in the collider component\n         * for collision resolution. Default is `true`.\n         */\n        this.useColliderShape = true;\n        /**\n         * Use any existing Graphics component bounds for pointers. This is useful if you want the axis aligned\n         * bounds around the graphic to trigger pointer events. Default is `true`.\n         */\n        this.useGraphicsBounds = true;\n        this.useColliderShape = (_a = options === null || options === void 0 ? void 0 : options.useColliderShape) !== null && _a !== void 0 ? _a : this.useColliderShape;\n        this.useGraphicsBounds = (_b = options === null || options === void 0 ? void 0 : options.useGraphicsBounds) !== null && _b !== void 0 ? _b : this.useGraphicsBounds;\n        this.localBounds = options === null || options === void 0 ? void 0 : options.localBounds;\n    }\n}\n\n;// ./Util/EasingFunctions.ts\n\n/**\n * Standard easing functions for motion in Excalibur, defined on a domain of [0, duration] and a range from [+startValue,+endValue]\n * Given a time, the function will return a value from positive startValue to positive endValue.\n *\n * ```js\n * function Linear (t) {\n *    return t * t;\n * }\n *\n * // accelerating from zero velocity\n * function EaseInQuad (t) {\n *    return t * t;\n * }\n *\n * // decelerating to zero velocity\n * function EaseOutQuad (t) {\n *    return t * (2 - t);\n * }\n *\n * // acceleration until halfway, then deceleration\n * function EaseInOutQuad (t) {\n *    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n * }\n *\n * // accelerating from zero velocity\n * function EaseInCubic (t) {\n *    return t * t * t;\n * }\n *\n * // decelerating to zero velocity\n * function EaseOutCubic (t) {\n *    return (--t) * t * t + 1;\n * }\n *\n * // acceleration until halfway, then deceleration\n * function EaseInOutCubic (t) {\n *    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n * }\n * ```\n */\nclass EasingFunctions {\n    static CreateReversibleEasingFunction(easing) {\n        return (time, start, end, duration) => {\n            if (end < start) {\n                return start - (easing(time, end, start, duration) - end);\n            }\n            else {\n                return easing(time, start, end, duration);\n            }\n        };\n    }\n    static CreateVectorEasingFunction(easing) {\n        return (time, start, end, duration) => {\n            return new Vector(easing(time, start.x, end.x, duration), easing(time, start.y, end.y, duration));\n        };\n    }\n}\nEasingFunctions.Linear = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    return (endValue * currentTime) / duration + startValue;\n});\nEasingFunctions.EaseInQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    return endValue * currentTime * currentTime + startValue;\n});\nEasingFunctions.EaseOutQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    return -endValue * currentTime * (currentTime - 2) + startValue;\n});\nEasingFunctions.EaseInOutQuad = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration / 2;\n    if (currentTime < 1) {\n        return (endValue / 2) * currentTime * currentTime + startValue;\n    }\n    currentTime--;\n    return (-endValue / 2) * (currentTime * (currentTime - 2) - 1) + startValue;\n});\nEasingFunctions.EaseInCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    return endValue * currentTime * currentTime * currentTime + startValue;\n});\nEasingFunctions.EaseOutCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration;\n    currentTime--;\n    return endValue * (currentTime * currentTime * currentTime + 1) + startValue;\n});\nEasingFunctions.EaseInOutCubic = EasingFunctions.CreateReversibleEasingFunction((currentTime, startValue, endValue, duration) => {\n    endValue = endValue - startValue;\n    currentTime /= duration / 2;\n    if (currentTime < 1) {\n        return (endValue / 2) * currentTime * currentTime * currentTime + startValue;\n    }\n    currentTime -= 2;\n    return (endValue / 2) * (currentTime * currentTime * currentTime + 2) + startValue;\n});\n\n;// ./Actions/ActionQueue.ts\n\n/**\n * Action Queues represent an ordered sequence of actions\n *\n * Action queues are part of the {@apilink ActionContext | `Action API`} and\n * store the list of actions to be executed for an {@apilink Actor}.\n *\n * Actors implement {@apilink Actor.actions} which can be manipulated by\n * advanced users to adjust the actions currently being executed in the\n * queue.\n */\nclass ActionQueue {\n    constructor(entity) {\n        this._actions = [];\n        this._currentAction = null;\n        this._completedActions = [];\n        this._entity = entity;\n    }\n    /**\n     * Add an action to the sequence\n     * @param action\n     */\n    add(action) {\n        this._actions.push(action);\n    }\n    /**\n     * Remove an action by reference from the sequence\n     * @param action\n     */\n    remove(action) {\n        const index = this._actions.indexOf(action);\n        this._actions.splice(index, 1);\n    }\n    /**\n     * Removes all actions from this sequence\n     */\n    clearActions() {\n        this._actions.length = 0;\n        this._completedActions.length = 0;\n        if (this._currentAction) {\n            this._currentAction.stop();\n        }\n    }\n    /**\n     *\n     * @returns The total list of actions in this sequence complete or not\n     */\n    getActions() {\n        return this._actions.concat(this._completedActions);\n    }\n    getIncompleteActions() {\n        return this._actions;\n    }\n    getCurrentAction() {\n        return this._currentAction;\n    }\n    /**\n     *\n     * @returns `true` if there are more actions to process in the sequence\n     */\n    hasNext() {\n        return this._actions.length > 0;\n    }\n    /**\n     * @returns `true` if the current sequence of actions is done\n     */\n    isComplete() {\n        return this._actions.length === 0;\n    }\n    /**\n     * Resets the sequence of actions, this is used to restart a sequence from the beginning\n     */\n    reset() {\n        this._actions = this.getActions();\n        const len = this._actions.length;\n        for (let i = 0; i < len; i++) {\n            this._actions[i].reset();\n        }\n        this._completedActions = [];\n    }\n    /**\n     * Update the queue which updates actions and handles completing actions\n     * @param elapsed\n     */\n    update(elapsed) {\n        if (this._actions.length > 0) {\n            if (this._currentAction !== this._actions[0]) {\n                this._currentAction = this._actions[0];\n                this._entity.emit('actionstart', new ActionStartEvent(this._currentAction, this._entity));\n            }\n            this._currentAction.update(elapsed);\n            if (this._currentAction.isComplete(this._entity)) {\n                this._entity.emit('actioncomplete', new ActionCompleteEvent(this._currentAction, this._entity));\n                const complete = this._actions.shift();\n                if (complete) {\n                    this._completedActions.push(complete);\n                }\n            }\n        }\n    }\n}\n\n;// ./Actions/Action.ts\nlet _ACTION_ID = 0;\n/**\n *\n */\nfunction nextActionId() {\n    return _ACTION_ID++;\n}\n\n;// ./Actions/Action/Repeat.ts\n\n\nclass Repeat {\n    constructor(entity, repeatBuilder, repeat) {\n        this.id = nextActionId();\n        this._stopped = false;\n        this._repeatBuilder = repeatBuilder;\n        this._repeatContext = new ActionContext(entity);\n        this._actionQueue = this._repeatContext.getQueue();\n        this._repeat = repeat;\n        this._originalRepeat = repeat;\n        this._repeatBuilder(this._repeatContext);\n        this._repeat--; // current execution is the first repeat\n    }\n    update(elapsed) {\n        if (this._actionQueue.isComplete()) {\n            this._actionQueue.clearActions();\n            this._repeatBuilder(this._repeatContext);\n            this._repeat--;\n        }\n        this._actionQueue.update(elapsed);\n    }\n    isComplete() {\n        return this._stopped || (this._repeat <= 0 && this._actionQueue.isComplete());\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._repeat = this._originalRepeat;\n    }\n}\n\n;// ./Actions/Action/RepeatForever.ts\n\n\n/**\n * RepeatForever Action implementation, it is recommended you use the fluent action\n * context API.\n *\n *\n */\nclass RepeatForever {\n    constructor(entity, repeatBuilder) {\n        this.id = nextActionId();\n        this._stopped = false;\n        this._repeatBuilder = repeatBuilder;\n        this._repeatContext = new ActionContext(entity);\n        this._actionQueue = this._repeatContext.getQueue();\n        this._repeatBuilder(this._repeatContext);\n    }\n    update(elapsed) {\n        if (this._stopped) {\n            return;\n        }\n        if (this._actionQueue.isComplete()) {\n            this._actionQueue.clearActions();\n            this._repeatBuilder(this._repeatContext);\n        }\n        this._actionQueue.update(elapsed);\n    }\n    isComplete() {\n        return this._stopped;\n    }\n    stop() {\n        this._stopped = true;\n        this._actionQueue.clearActions();\n    }\n    reset() {\n        return;\n    }\n}\n\n;// ./Math/lerp.ts\n\n\n/**\n * Linear interpolation between `a` and `b`, at `time = 0` the value will be `a` at `time = 1` the value will be `b`\n * @param a\n * @param b\n * @param time\n */\nfunction lerp(a, b, time) {\n    return (1 - time) * a + b * time;\n}\n/**\n * Linear interpolation between angles in radians\n * @param startAngle\n * @param endAngle\n * @param rotationType\n * @param time\n */\nfunction lerpAngle(startAngle, endAngle, rotationType, time) {\n    const shortestPathIsPositive = (startAngle - endAngle + TwoPI) % TwoPI >= Math.PI;\n    const distance1 = Math.abs(endAngle - startAngle);\n    const distance2 = TwoPI - distance1;\n    let shortDistance = 0;\n    let longDistance = 0;\n    if (distance1 > distance2) {\n        shortDistance = distance2;\n        longDistance = distance1;\n    }\n    else {\n        shortDistance = distance1;\n        longDistance = distance2;\n    }\n    let distance = 0;\n    let direction = 1;\n    switch (rotationType) {\n        case RotationType.ShortestPath:\n            distance = shortDistance;\n            direction = shortestPathIsPositive ? 1 : -1;\n            break;\n        case RotationType.LongestPath:\n            distance = longDistance;\n            direction = shortestPathIsPositive ? -1 : 1;\n            break;\n        case RotationType.Clockwise:\n            direction = 1;\n            distance = shortestPathIsPositive ? shortDistance : longDistance;\n            break;\n        case RotationType.CounterClockwise:\n            direction = -1;\n            distance = shortestPathIsPositive ? longDistance : shortDistance;\n            break;\n    }\n    return startAngle + direction * (distance * time);\n}\n/**\n * Linear interpolation between `a` and `b`, at `time = 0` the value will be `a` at `time = 1` the value will be `b`\n * @param a\n * @param b\n * @param time\n */\nfunction lerpVector(a, b, time) {\n    return a.scale(1 - time).add(b.scale(time));\n}\n/**\n * Inverse of a linear interpolation, given a `value` in between `a` and `b` return how close to `a` or `b` the `value` is.\n *\n * Example: `a=1`, `b=5`, `value=4` will return `.75`\n * @param a\n * @param b\n * @param value\n */\nfunction inverseLerp(a, b, value) {\n    return (value - a) / (b - a);\n}\n/**\n * Inverse of a linear interpolation, given a `value` in between `a` and `b` return how close to `a` or `b` the `value` is.\n *\n * **Warning** assumes that the `value` vector is co-linear with vector `a` and `b`\n *\n * Example: `a=1`, `b=5`, `value=4` will return `.75`\n * @param a\n * @param b\n * @param value\n */\nfunction inverseLerpVector(a, b, value) {\n    const numerator = value.sub(a);\n    const denominator = b.sub(a);\n    const x = numerator.x / denominator.x;\n    const y = numerator.y / denominator.y;\n    return Math.min(x, y);\n}\n/**\n * Remaps a value from a source domain to a destination\n * @param minSource\n * @param maxSource\n * @param minDestination\n * @param maxDestination\n * @param value\n */\nfunction remap(minSource, maxSource, minDestination, maxDestination, value) {\n    const time = inverseLerp(minSource, maxSource, value);\n    return lerp(minDestination, maxDestination, time);\n}\n/**\n * Remaps a value from a source domain to a destination\n *\n * **Warning** assumes that the `value` vector is co-linear with vector `minSource` and `maxSource`\n * @param minSource\n * @param maxSource\n * @param minDestination\n * @param maxDestination\n * @param value\n */\nfunction remapVector(minSource, maxSource, minDestination, maxDestination, value) {\n    const time = inverseLerpVector(minSource, maxSource, value);\n    return lerpVector(minDestination, maxDestination, time);\n}\n\n;// ./Actions/Action/MoveBy.ts\n\n\n\n\n\n\n\n/**\n *\n */\nfunction isMoveByOptions(x) {\n    return x.offset instanceof Vector && typeof x.duration === 'number';\n}\nclass MoveByWithOptions {\n    constructor(entity, options) {\n        var _a;\n        this.entity = entity;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._easing = EasingFunctions.Linear;\n        this._offset = options.offset;\n        this._easing = (_a = options.easing) !== null && _a !== void 0 ? _a : this._easing;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only MoveBy on Entities with TransformComponents.`);\n        }\n        this._durationMs = options.duration;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._start = this._tx.pos.clone();\n            this._end = this._start.add(this._offset);\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        const currentPos = this._tx.pos;\n        const newPosX = this._easing(t, this._start.x, this._end.x, 1);\n        const newPosY = this._easing(t, this._start.y, this._end.y, 1);\n        const velX = (newPosX - currentPos.x) / (elapsed / 1000);\n        const velY = (newPosY - currentPos.y) / (elapsed / 1000);\n        this._motion.vel.x = velX;\n        this._motion.vel.y = velY;\n        if (this.isComplete(this.entity)) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    isComplete(entity) {\n        return this._stopped || this._currentMs < 0;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n        this._currentMs = 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n}\nclass MoveBy {\n    constructor(entity, offsetX, offsetY, speed) {\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._entity = entity;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._speed = speed;\n        this._offset = new Vector(offsetX, offsetY);\n        if (speed <= 0) {\n            Logger.getInstance().error('Attempted to moveBy with speed less than or equal to zero : ' + speed);\n            throw new Error('Speed must be greater than 0 pixels per second');\n        }\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._start = new Vector(this._tx.pos.x, this._tx.pos.y);\n            this._end = this._start.add(this._offset);\n            this._distance = this._offset.magnitude;\n            this._dir = this._end.sub(this._start).normalize();\n        }\n        if (this.isComplete(this._entity)) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n        else {\n            this._motion.vel = this._dir.scale(this._speed);\n        }\n    }\n    isComplete(entity) {\n        const tx = entity.get(TransformComponent);\n        return this._stopped || tx.pos.distance(this._start) >= this._distance;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Actions/Action/MoveTo.ts\n\n\n\n\n\n\n/**\n *\n */\nfunction isMoveToOptions(x) {\n    return x.pos instanceof Vector && typeof x.duration === 'number';\n}\nclass MoveToWithOptions {\n    constructor(entity, options) {\n        var _a;\n        this.entity = entity;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._easing = EasingFunctions.Linear;\n        this._end = options.pos;\n        this._easing = (_a = options.easing) !== null && _a !== void 0 ? _a : this._easing;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only moveTo on Entities with TransformComponents.`);\n        }\n        this._durationMs = options.duration;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._start = this._tx.pos.clone();\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        const currentPos = this._tx.pos;\n        const newPosX = this._easing(t, this._start.x, this._end.x, 1);\n        const newPosY = this._easing(t, this._start.y, this._end.y, 1);\n        const velX = (newPosX - currentPos.x) / (elapsed / 1000);\n        const velY = (newPosY - currentPos.y) / (elapsed / 1000);\n        this._motion.vel.x = velX;\n        this._motion.vel.y = velY;\n        if (this.isComplete(this.entity)) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    isComplete(entity) {\n        return this._stopped || this._currentMs < 0;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n        this._currentMs = 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n}\nclass MoveTo {\n    constructor(entity, destX, destY, speed) {\n        this.entity = entity;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._end = new Vector(destX, destY);\n        this._speed = speed;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._start = new Vector(this._tx.pos.x, this._tx.pos.y);\n            this._distance = this._start.distance(this._end);\n            this._dir = this._end.sub(this._start).normalize();\n        }\n        const m = this._dir.scale(this._speed);\n        this._motion.vel = vec(m.x, m.y);\n        if (this.isComplete(this.entity)) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    isComplete(entity) {\n        const tx = entity.get(TransformComponent);\n        return this._stopped || new Vector(tx.pos.x, tx.pos.y).distance(this._start) >= this._distance;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Actions/Action/RotateTo.ts\n\n\n\n\n\n\n/**\n *\n */\nfunction isRotateToOptions(x) {\n    return typeof x.angle === 'number' && typeof x.duration === 'number';\n}\nclass RotateToWithOptions {\n    constructor(entity, options) {\n        var _a;\n        this.entity = entity;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._endAngle = 0;\n        this._startAngle = 0;\n        this._endAngle = options.angle;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only RotateTo on Entities with TransformComponents.`);\n        }\n        this._durationMs = options.duration;\n        this._rotationType = (_a = options.rotationType) !== null && _a !== void 0 ? _a : RotationType.ShortestPath;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._startAngle = this._tx.rotation;\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        const newAngle = lerpAngle(this._startAngle, this._endAngle, this._rotationType, t);\n        const currentAngle = this._tx.rotation;\n        const rx = (newAngle - currentAngle) / (elapsed / 1000);\n        this._motion.angularVelocity = rx;\n        if (this.isComplete(this.entity)) {\n            this._tx.rotation = this._endAngle;\n            this._motion.angularVelocity = 0;\n        }\n    }\n    isComplete(entity) {\n        return this._stopped || this._currentMs < 0;\n    }\n    stop() {\n        this._motion.angularVelocity = 0;\n        this._stopped = true;\n        this._currentMs = 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n}\nclass RotateTo {\n    constructor(entity, angle, speed, rotationType) {\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._end = angle;\n        this._speed = speed;\n        this._rotationType = rotationType || RotationType.ShortestPath;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._start = this._tx.rotation;\n            this._currentNonCannonAngle = this._tx.rotation;\n            const distance1 = Math.abs(this._end - this._start);\n            const distance2 = TwoPI - distance1;\n            if (distance1 > distance2) {\n                this._shortDistance = distance2;\n                this._longDistance = distance1;\n            }\n            else {\n                this._shortDistance = distance1;\n                this._longDistance = distance2;\n            }\n            this._shortestPathIsPositive = (this._start - this._end + TwoPI) % TwoPI >= Math.PI;\n            switch (this._rotationType) {\n                case RotationType.ShortestPath:\n                    this._distance = this._shortDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = 1;\n                    }\n                    else {\n                        this._direction = -1;\n                    }\n                    break;\n                case RotationType.LongestPath:\n                    this._distance = this._longDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = -1;\n                    }\n                    else {\n                        this._direction = 1;\n                    }\n                    break;\n                case RotationType.Clockwise:\n                    this._direction = 1;\n                    if (this._shortestPathIsPositive) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n                case RotationType.CounterClockwise:\n                    this._direction = -1;\n                    if (!this._shortestPathIsPositive) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n            }\n        }\n        this._motion.angularVelocity = this._direction * this._speed;\n        this._currentNonCannonAngle += this._direction * this._speed * (elapsed / 1000);\n        if (this.isComplete()) {\n            this._tx.rotation = this._end;\n            this._motion.angularVelocity = 0;\n            this._stopped = true;\n        }\n    }\n    isComplete() {\n        const distanceTraveled = Math.abs(this._currentNonCannonAngle - this._start);\n        return this._stopped || distanceTraveled >= Math.abs(this._distance);\n    }\n    stop() {\n        this._motion.angularVelocity = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Actions/Action/RotateBy.ts\n\n\n\n\n\n/**\n *\n */\nfunction isRotateByOptions(x) {\n    return typeof x.angleRadiansOffset === 'number' && typeof x.duration === 'number';\n}\nclass RotateByWithOptions {\n    constructor(entity, options) {\n        var _a;\n        this.entity = entity;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._offset = 0;\n        this._startAngle = 0;\n        this._endAngle = 0;\n        this._offset = options.angleRadiansOffset;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only RotateBy on Entities with TransformComponents.`);\n        }\n        this._durationMs = options.duration;\n        this._rotationType = (_a = options.rotationType) !== null && _a !== void 0 ? _a : RotationType.ShortestPath;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._startAngle = this._tx.rotation;\n            this._endAngle = canonicalizeAngle(this._startAngle + this._offset);\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        const newAngle = lerpAngle(this._startAngle, this._endAngle, this._rotationType, t);\n        const currentAngle = this._tx.rotation;\n        const rx = (newAngle - currentAngle) / (elapsed / 1000);\n        this._motion.angularVelocity = rx;\n        if (this.isComplete()) {\n            this._tx.rotation = this._endAngle;\n            this._motion.angularVelocity = 0;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentMs < 0;\n    }\n    stop() {\n        this._motion.angularVelocity = 0;\n        this._stopped = true;\n        this._currentMs = 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n}\nclass RotateBy {\n    constructor(entity, angleRadiansOffset, speed, rotationType) {\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._speed = speed;\n        this._offset = angleRadiansOffset;\n        this._rotationType = rotationType || RotationType.ShortestPath;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._start = this._tx.rotation;\n            this._currentNonCannonAngle = this._tx.rotation;\n            this._end = this._start + this._offset;\n            const distance1 = Math.abs(this._end - this._start);\n            const distance2 = TwoPI - distance1;\n            if (distance1 > distance2) {\n                this._shortDistance = distance2;\n                this._longDistance = distance1;\n            }\n            else {\n                this._shortDistance = distance1;\n                this._longDistance = distance2;\n            }\n            this._shortestPathIsPositive = (this._start - this._end + TwoPI) % TwoPI >= Math.PI;\n            switch (this._rotationType) {\n                case RotationType.ShortestPath:\n                    this._distance = this._shortDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = 1;\n                    }\n                    else {\n                        this._direction = -1;\n                    }\n                    break;\n                case RotationType.LongestPath:\n                    this._distance = this._longDistance;\n                    if (this._shortestPathIsPositive) {\n                        this._direction = -1;\n                    }\n                    else {\n                        this._direction = 1;\n                    }\n                    break;\n                case RotationType.Clockwise:\n                    this._direction = 1;\n                    if (this._shortDistance >= 0) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n                case RotationType.CounterClockwise:\n                    this._direction = -1;\n                    if (this._shortDistance <= 0) {\n                        this._distance = this._shortDistance;\n                    }\n                    else {\n                        this._distance = this._longDistance;\n                    }\n                    break;\n            }\n        }\n        this._motion.angularVelocity = this._direction * this._speed;\n        this._currentNonCannonAngle += this._direction * this._speed * (elapsed / 1000);\n        if (this.isComplete()) {\n            this._tx.rotation = this._end;\n            this._motion.angularVelocity = 0;\n            this._stopped = true;\n        }\n    }\n    isComplete() {\n        const distanceTraveled = Math.abs(this._currentNonCannonAngle - this._start);\n        return this._stopped || distanceTraveled >= Math.abs(this._distance);\n    }\n    stop() {\n        this._motion.angularVelocity = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n        this._start = undefined;\n        this._currentNonCannonAngle = undefined;\n        this._distance = undefined;\n    }\n}\n\n;// ./Actions/Action/ScaleTo.ts\n\n\n\n\n\n/**\n *\n */\nfunction isScaleToOptions(x) {\n    return typeof x.scale === 'object' && typeof x.duration === 'number';\n}\nclass ScaleToWithOptions {\n    constructor(entity, options) {\n        this.entity = entity;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._endScale = vec(1, 1);\n        this._startScale = vec(1, 1);\n        this._endScale = options.scale;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only ScaleTo on Entities with TransformComponents.`);\n        }\n        this._durationMs = options.duration;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._startScale = this._tx.scale;\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        const newScale = lerpVector(this._startScale, this._endScale, t);\n        const currentScale = this._tx.scale;\n        const sx = newScale.sub(currentScale).scale(1 / (elapsed / 1000));\n        this._motion.scaleFactor = sx;\n        if (this.isComplete()) {\n            this._tx.scale = this._endScale;\n            this._motion.angularVelocity = 0;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentMs < 0;\n    }\n    stop() {\n        this._motion.scaleFactor = Vector.Zero;\n        this._stopped = true;\n        this._currentMs = 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n}\nclass ScaleTo {\n    constructor(entity, scaleX, scaleY, speedX, speedY) {\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._endX = scaleX;\n        this._endY = scaleY;\n        this._speedX = speedX;\n        this._speedY = speedY;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._startX = this._tx.scale.x;\n            this._startY = this._tx.scale.y;\n            this._distanceX = Math.abs(this._endX - this._startX);\n            this._distanceY = Math.abs(this._endY - this._startY);\n        }\n        if (!(Math.abs(this._tx.scale.x - this._startX) >= this._distanceX)) {\n            const directionX = this._endY < this._startY ? -1 : 1;\n            this._motion.scaleFactor.x = this._speedX * directionX;\n        }\n        else {\n            this._motion.scaleFactor.x = 0;\n        }\n        if (!(Math.abs(this._tx.scale.y - this._startY) >= this._distanceY)) {\n            const directionY = this._endY < this._startY ? -1 : 1;\n            this._motion.scaleFactor.y = this._speedY * directionY;\n        }\n        else {\n            this._motion.scaleFactor.y = 0;\n        }\n        if (this.isComplete()) {\n            this._tx.scale = vec(this._endX, this._endY);\n            this._motion.scaleFactor.x = 0;\n            this._motion.scaleFactor.y = 0;\n        }\n    }\n    isComplete() {\n        return (this._stopped ||\n            (Math.abs(this._tx.scale.x - this._startX) >= this._distanceX - 0.01 &&\n                Math.abs(this._tx.scale.y - this._startY) >= this._distanceY - 0.01));\n    }\n    stop() {\n        this._motion.scaleFactor.x = 0;\n        this._motion.scaleFactor.y = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Actions/Action/ScaleBy.ts\n\n\n\n\n\n/**\n *\n */\nfunction isScaleByOptions(x) {\n    return typeof x.scaleOffset === 'object' && typeof x.duration === 'number';\n}\nclass ScaleByWithOptions {\n    constructor(entity, options) {\n        this.entity = entity;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._endScale = vec(1, 1);\n        this._scaleOffset = vec(0, 0);\n        this._startScale = vec(1, 1);\n        this._scaleOffset = options.scaleOffset;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only ScaleBy on Entities with TransformComponents.`);\n        }\n        this._durationMs = options.duration;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._startScale = this._tx.scale;\n            this._endScale = this._startScale.add(this._scaleOffset);\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        const newScale = lerpVector(this._startScale, this._endScale, t);\n        const currentScale = this._tx.scale;\n        const sx = newScale.sub(currentScale).scale(1 / (elapsed / 1000));\n        this._motion.scaleFactor = sx;\n        if (this.isComplete()) {\n            this._tx.scale = this._endScale;\n            this._motion.angularVelocity = 0;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentMs < 0;\n    }\n    stop() {\n        this._motion.scaleFactor = Vector.Zero;\n        this._stopped = true;\n        this._currentMs = 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n}\nclass ScaleBy {\n    constructor(entity, scaleOffsetX, scaleOffsetY, speed) {\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._offset = new Vector(scaleOffsetX, scaleOffsetY);\n        this._speedX = this._speedY = speed;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._startScale = this._tx.scale.clone();\n            this._endScale = this._startScale.add(this._offset);\n            this._distanceX = Math.abs(this._endScale.x - this._startScale.x);\n            this._distanceY = Math.abs(this._endScale.y - this._startScale.y);\n            this._directionX = this._endScale.x < this._startScale.x ? -1 : 1;\n            this._directionY = this._endScale.y < this._startScale.y ? -1 : 1;\n        }\n        this._motion.scaleFactor.x = this._speedX * this._directionX;\n        this._motion.scaleFactor.y = this._speedY * this._directionY;\n        if (this.isComplete()) {\n            this._tx.scale = this._endScale;\n            this._motion.scaleFactor.x = 0;\n            this._motion.scaleFactor.y = 0;\n        }\n    }\n    isComplete() {\n        return (this._stopped ||\n            (Math.abs(this._tx.scale.x - this._startScale.x) >= this._distanceX - 0.01 &&\n                Math.abs(this._tx.scale.y - this._startScale.y) >= this._distanceY - 0.01));\n    }\n    stop() {\n        this._motion.scaleFactor.x = 0;\n        this._motion.scaleFactor.y = 0;\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Actions/Action/CallMethod.ts\n\nclass CallMethod {\n    constructor(method) {\n        this.id = nextActionId();\n        this._hasBeenCalled = false;\n        this._method = method;\n    }\n    update(elapsed) {\n        this._method();\n        this._hasBeenCalled = true;\n    }\n    isComplete() {\n        return this._hasBeenCalled;\n    }\n    reset() {\n        this._hasBeenCalled = false;\n    }\n    stop() {\n        this._hasBeenCalled = true;\n    }\n}\n\n;// ./Actions/Action/EaseTo.ts\n\n\n\n\n/**\n * @deprecated use moveTo({pos: Vector, duration: number, easing: EasingFunction})\n */\nclass EaseTo {\n    constructor(entity, x, y, duration, easingFcn) {\n        this.easingFcn = easingFcn;\n        this.id = nextActionId();\n        this._currentLerpTime = 0;\n        this._lerpDuration = 1 * 1000; // 1 second\n        this._lerpStart = new Vector(0, 0);\n        this._lerpEnd = new Vector(0, 0);\n        this._initialized = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._lerpDuration = duration;\n        this._lerpEnd = new Vector(x, y);\n    }\n    _initialize() {\n        this._lerpStart = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._currentLerpTime = 0;\n    }\n    update(elapsed) {\n        if (!this._initialized) {\n            this._initialize();\n            this._initialized = true;\n        }\n        // Need to update lerp time first, otherwise the first update will always be zero\n        this._currentLerpTime += elapsed;\n        let newX = this._tx.pos.x;\n        let newY = this._tx.pos.y;\n        if (this._currentLerpTime < this._lerpDuration) {\n            if (this._lerpEnd.x < this._lerpStart.x) {\n                newX =\n                    this._lerpStart.x -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.x, this._lerpStart.x, this._lerpDuration) - this._lerpEnd.x);\n            }\n            else {\n                newX = this.easingFcn(this._currentLerpTime, this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\n            }\n            if (this._lerpEnd.y < this._lerpStart.y) {\n                newY =\n                    this._lerpStart.y -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.y, this._lerpStart.y, this._lerpDuration) - this._lerpEnd.y);\n            }\n            else {\n                newY = this.easingFcn(this._currentLerpTime, this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\n            }\n            // Given the lerp position figure out the velocity in pixels per second\n            this._motion.vel = vec((newX - this._tx.pos.x) / (elapsed / 1000), (newY - this._tx.pos.y) / (elapsed / 1000));\n        }\n        else {\n            this._tx.pos = vec(this._lerpEnd.x, this._lerpEnd.y);\n            this._motion.vel = Vector.Zero;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentLerpTime >= this._lerpDuration;\n    }\n    reset() {\n        this._initialized = false;\n        this._stopped = false;\n        this._currentLerpTime = 0;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n}\n\n;// ./Actions/Action/EaseBy.ts\n\n\n\n\n/**\n * @deprecated use moveBy({offset: Vector, duration: number, easing: EasingFunction})\n */\nclass EaseBy {\n    constructor(entity, offsetX, offsetY, duration, easingFcn) {\n        this.easingFcn = easingFcn;\n        this.id = nextActionId();\n        this._currentLerpTime = 0;\n        this._lerpDuration = 1 * 1000; // 1 second\n        this._lerpStart = new Vector(0, 0);\n        this._lerpEnd = new Vector(0, 0);\n        this._initialized = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._lerpDuration = duration;\n        this._offset = new Vector(offsetX, offsetY);\n    }\n    _initialize() {\n        this._lerpStart = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._currentLerpTime = 0;\n        this._lerpEnd = this._lerpStart.add(this._offset);\n    }\n    update(elapsed) {\n        if (!this._initialized) {\n            this._initialize();\n            this._initialized = true;\n        }\n        // Need to update lerp time first, otherwise the first update will always be zero\n        this._currentLerpTime += elapsed;\n        let newX = this._tx.pos.x;\n        let newY = this._tx.pos.y;\n        if (this._currentLerpTime < this._lerpDuration) {\n            if (this._lerpEnd.x < this._lerpStart.x) {\n                newX =\n                    this._lerpStart.x -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.x, this._lerpStart.x, this._lerpDuration) - this._lerpEnd.x);\n            }\n            else {\n                newX = this.easingFcn(this._currentLerpTime, this._lerpStart.x, this._lerpEnd.x, this._lerpDuration);\n            }\n            if (this._lerpEnd.y < this._lerpStart.y) {\n                newY =\n                    this._lerpStart.y -\n                        (this.easingFcn(this._currentLerpTime, this._lerpEnd.y, this._lerpStart.y, this._lerpDuration) - this._lerpEnd.y);\n            }\n            else {\n                newY = this.easingFcn(this._currentLerpTime, this._lerpStart.y, this._lerpEnd.y, this._lerpDuration);\n            }\n            // Given the lerp position figure out the velocity in pixels per second\n            this._motion.vel = vec((newX - this._tx.pos.x) / (elapsed / 1000), (newY - this._tx.pos.y) / (elapsed / 1000));\n        }\n        else {\n            this._tx.pos = vec(this._lerpEnd.x, this._lerpEnd.y);\n            this._motion.vel = Vector.Zero;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentLerpTime >= this._lerpDuration;\n    }\n    reset() {\n        this._initialized = false;\n        this._stopped = false;\n        this._currentLerpTime = 0;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n}\n\n;// ./Actions/Action/Blink.ts\n\n\nclass Blink {\n    constructor(entity, timeVisible, timeNotVisible, numBlinks = 1) {\n        this.id = nextActionId();\n        this._timeVisible = 0;\n        this._timeNotVisible = 0;\n        this._elapsedTime = 0;\n        this._totalTime = 0;\n        this._stopped = false;\n        this._started = false;\n        this._graphics = entity.get(GraphicsComponent);\n        this._timeVisible = timeVisible;\n        this._timeNotVisible = timeNotVisible;\n        this._duration = (timeVisible + timeNotVisible) * numBlinks;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._elapsedTime = 0;\n            this._totalTime = 0;\n        }\n        if (!this._graphics) {\n            return;\n        }\n        this._elapsedTime += elapsed;\n        this._totalTime += elapsed;\n        if (this._graphics.isVisible && this._elapsedTime >= this._timeVisible) {\n            this._graphics.isVisible = false;\n            this._elapsedTime = 0;\n        }\n        if (!this._graphics.isVisible && this._elapsedTime >= this._timeNotVisible) {\n            this._graphics.isVisible = true;\n            this._elapsedTime = 0;\n        }\n        if (this.isComplete()) {\n            this._graphics.isVisible = true;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._totalTime >= this._duration;\n    }\n    stop() {\n        if (this._graphics) {\n            this._graphics.isVisible = true;\n        }\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n        this._elapsedTime = 0;\n        this._totalTime = 0;\n    }\n}\n\n;// ./Actions/Action/Fade.ts\n\n\n\nclass Fade {\n    constructor(entity, endOpacity, duration) {\n        this.id = nextActionId();\n        this._multiplier = 1;\n        this._started = false;\n        this._stopped = false;\n        this._graphics = entity.get(GraphicsComponent);\n        this._endOpacity = endOpacity;\n        this._remainingTime = this._originalTime = duration;\n    }\n    update(elapsed) {\n        if (!this._graphics) {\n            return;\n        }\n        if (!this._started) {\n            this._started = true;\n            this._remainingTime = this._originalTime;\n            // determine direction when we start\n            if (this._endOpacity < this._graphics.opacity) {\n                this._multiplier = -1;\n            }\n            else {\n                this._multiplier = 1;\n            }\n        }\n        if (this._remainingTime > 0) {\n            this._graphics.opacity += (this._multiplier * (Math.abs(this._graphics.opacity - this._endOpacity) * elapsed)) / this._remainingTime;\n        }\n        this._remainingTime -= elapsed;\n        if (this.isComplete()) {\n            this._graphics.opacity = this._endOpacity;\n        }\n        Logger.getInstance().debug('[Action fade] Actor opacity:', this._graphics.opacity);\n    }\n    isComplete() {\n        return this._stopped || this._remainingTime <= 0;\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n        this._remainingTime = this._originalTime;\n    }\n}\n\n;// ./Actions/Action/Delay.ts\n\nclass Delay {\n    constructor(duration) {\n        this.id = nextActionId();\n        this._elapsedTime = 0;\n        this._started = false;\n        this._stopped = false;\n        this._delay = duration;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n        }\n        this._elapsedTime += elapsed;\n    }\n    isComplete() {\n        return this._stopped || this._elapsedTime >= this._delay;\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._elapsedTime = 0;\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Actions/Action/Die.ts\n\n\nclass Die {\n    constructor(entity) {\n        this.id = nextActionId();\n        this._stopped = false;\n        this._entity = entity;\n    }\n    update(elapsed) {\n        this._entity.get(ActionsComponent).clearActions();\n        this._entity.kill();\n        this._stopped = true;\n    }\n    isComplete() {\n        return this._stopped;\n    }\n    stop() {\n        return;\n    }\n    reset() {\n        return;\n    }\n}\n\n;// ./Actions/Action/Follow.ts\n\n\n\n\nclass Follow {\n    constructor(entity, entityToFollow, followDistance) {\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._tx = entity.get(TransformComponent);\n        this._motion = entity.get(MotionComponent);\n        this._followTx = entityToFollow.get(TransformComponent);\n        this._followMotion = entityToFollow.get(MotionComponent);\n        this._current = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._end = new Vector(this._followTx.pos.x, this._followTx.pos.y);\n        this._maximumDistance = followDistance !== undefined ? followDistance : this._current.distance(this._end);\n        this._speed = 0;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._distanceBetween = this._current.distance(this._end);\n            this._dir = this._end.sub(this._current).normalize();\n        }\n        const actorToFollowSpeed = Math.sqrt(Math.pow(this._followMotion.vel.x, 2) + Math.pow(this._followMotion.vel.y, 2));\n        if (actorToFollowSpeed !== 0) {\n            this._speed = actorToFollowSpeed;\n        }\n        this._current = vec(this._tx.pos.x, this._tx.pos.y);\n        this._end = vec(this._followTx.pos.x, this._followTx.pos.y);\n        this._distanceBetween = this._current.distance(this._end);\n        this._dir = this._end.sub(this._current).normalize();\n        if (this._distanceBetween >= this._maximumDistance) {\n            const m = this._dir.scale(this._speed);\n            this._motion.vel = vec(m.x, m.y);\n        }\n        else {\n            this._motion.vel = vec(0, 0);\n        }\n        if (this.isComplete()) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    isComplete() {\n        // the actor following should never stop unless specified to do so\n        return this._stopped;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Actions/Action/Meet.ts\n\n\n\n\nclass Meet {\n    constructor(actor, actorToMeet, speed) {\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._speedWasSpecified = false;\n        this._tx = actor.get(TransformComponent);\n        this._motion = actor.get(MotionComponent);\n        this._meetTx = actorToMeet.get(TransformComponent);\n        this._meetMotion = actorToMeet.get(MotionComponent);\n        this._current = new Vector(this._tx.pos.x, this._tx.pos.y);\n        this._end = new Vector(this._meetTx.pos.x, this._meetTx.pos.y);\n        this._speed = speed || 0;\n        if (speed !== undefined) {\n            this._speedWasSpecified = true;\n        }\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._started = true;\n            this._distanceBetween = this._current.distance(this._end);\n            this._dir = this._end.sub(this._current).normalize();\n        }\n        const actorToMeetSpeed = Math.sqrt(Math.pow(this._meetMotion.vel.x, 2) + Math.pow(this._meetMotion.vel.y, 2));\n        if (actorToMeetSpeed !== 0 && !this._speedWasSpecified) {\n            this._speed = actorToMeetSpeed;\n        }\n        this._current = vec(this._tx.pos.x, this._tx.pos.y);\n        this._end = vec(this._meetTx.pos.x, this._meetTx.pos.y);\n        this._distanceBetween = this._current.distance(this._end);\n        this._dir = this._end.sub(this._current).normalize();\n        const m = this._dir.scale(this._speed);\n        this._motion.vel = vec(m.x, m.y);\n        if (this.isComplete()) {\n            this._tx.pos = vec(this._end.x, this._end.y);\n            this._motion.vel = vec(0, 0);\n        }\n    }\n    isComplete() {\n        return this._stopped || this._distanceBetween <= 1;\n    }\n    stop() {\n        this._motion.vel = vec(0, 0);\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n        this._distanceBetween = Infinity;\n    }\n}\n\n;// ./Actions/Action/Flash.ts\n\n\nclass Flash {\n    constructor(entity, color, duration = 1000) {\n        var _a;\n        this.id = nextActionId();\n        this._stopped = false;\n        this._started = false;\n        this._total = 0;\n        this._currentDuration = 0;\n        this._graphics = entity.get(GraphicsComponent);\n        this._duration = duration;\n        this._entity = entity;\n        this._material = (_a = entity.scene) === null || _a === void 0 ? void 0 : _a.engine.graphicsContext.createMaterial({\n            name: 'flash-material',\n            color,\n            fragmentSource: `#version 300 es\r\n    \r\n        precision mediump float;\r\n        uniform float u_blend;\r\n        uniform sampler2D u_graphic;\r\n        uniform vec4 u_color;\r\n    \r\n        in vec2 v_uv; \r\n        out vec4 color;\r\n    \r\n        void main() { \r\n            vec4 textureColor = texture(u_graphic, v_uv); \r\n            color = mix(textureColor, u_color, u_blend * textureColor.a);\r\n            color.rgb = color.rgb * color.a;\r\n        }`\n        });\n        this._total = duration;\n    }\n    update(elapsed) {\n        var _a;\n        if (!this._started) {\n            this._started = true;\n            this._total = this._duration;\n            this._currentDuration = this._duration;\n            this._entity.graphics.material = this._material;\n        }\n        if (!this._graphics) {\n            return;\n        }\n        this._currentDuration -= elapsed;\n        if (this._graphics) {\n            (_a = this._material) === null || _a === void 0 ? void 0 : _a.update((shader) => {\n                shader.trySetUniformFloat('u_blend', this._currentDuration / this._total);\n            });\n        }\n        if (this.isComplete()) {\n            this._entity.graphics.material = null;\n        }\n    }\n    isComplete() {\n        return this._stopped || this._currentDuration <= 0;\n    }\n    stop() {\n        if (this._graphics) {\n            this._graphics.isVisible = true;\n        }\n        this._stopped = true;\n    }\n    reset() {\n        this._started = false;\n        this._stopped = false;\n    }\n}\n\n;// ./Math/bezier-curve.ts\n\n/**\n * BezierCurve that supports cubic Bezier curves.\n */\nclass BezierCurve {\n    constructor(options) {\n        var _a;\n        // Thanks Freya! https://www.youtube.com/watch?v=aVwxzDHniEw\n        this._distLookup = [];\n        this.quality = 4;\n        if (options.controlPoints.length !== 4) {\n            throw new Error('Only cubic bezier curves are supported');\n        }\n        this._controlPoints = [...options.controlPoints];\n        this.quality = (_a = options.quality) !== null && _a !== void 0 ? _a : this.quality;\n        this._calculateLookup();\n    }\n    get arcLength() {\n        return this._arcLength;\n    }\n    get controlPoints() {\n        return this._controlPoints;\n    }\n    set controlPoints(points) {\n        this._controlPoints = [...points];\n        this._calculateLookup();\n    }\n    setControlPoint(index, point) {\n        this._controlPoints[index] = point;\n        this._calculateLookup();\n    }\n    _calculateLookup() {\n        let totalLength = 0;\n        this._distLookup.length = 0;\n        let prev = this.controlPoints[0];\n        const n = this.controlPoints.length * this.quality;\n        for (let i = 0; i < n; i++) {\n            const t = i / (n - 1);\n            const pt = this.getPoint(t);\n            const diff = prev.distance(pt);\n            totalLength += diff;\n            this._distLookup.push(totalLength);\n            prev = pt;\n        }\n        this._arcLength = totalLength;\n    }\n    _getTimeGivenDistance(distance) {\n        const n = this._distLookup.length;\n        const arcLength = this.arcLength;\n        if (distance >= 0 && distance < arcLength) {\n            for (let i = 0; i < n - 1; i++) {\n                if (this._distLookup[i] <= distance && distance < this._distLookup[i + 1]) {\n                    return remap(this._distLookup[i], this._distLookup[i + 1], i / (n - 1), (i + 1) / (n - 1), distance);\n                }\n            }\n        }\n        return distance / arcLength;\n    }\n    /**\n     * Get the point on the Bezier curve at a certain time\n     * @param time Between 0-1\n     */\n    getPoint(time) {\n        const points = [...this.controlPoints];\n        for (let r = 1; r < points.length; r++) {\n            for (let i = 0; i < points.length - r; i++) {\n                points[i] = lerpVector(points[i], points[i + 1], time);\n            }\n        }\n        return points[0];\n    }\n    /**\n     * Get the tangent of the Bezier curve at a certain time\n     * @param time Between 0-1\n     */\n    getTangent(time) {\n        const timeSquared = time * time;\n        const p0 = this.controlPoints[0];\n        const p1 = this.controlPoints[1];\n        const p2 = this.controlPoints[2];\n        const p3 = this.controlPoints[3];\n        // Derivative of Bernstein polynomial\n        const pPrime = p0\n            .scale(-3 * timeSquared + 6 * time - 3)\n            .add(p1.scale(9 * timeSquared - 12 * time + 3).add(p2.scale(-9 * timeSquared + 6 * time).add(p3.scale(3 * timeSquared))));\n        return pPrime.normalize();\n    }\n    /**\n     * Get the tangent of the Bezier curve where the distance is uniformly distributed over time\n     * @param time\n     */\n    getUniformTangent(time) {\n        const desiredDistance = time * this.arcLength;\n        const uniformTime = this._getTimeGivenDistance(desiredDistance);\n        return this.getTangent(uniformTime);\n    }\n    /**\n     * Get the normal of the Bezier curve at a certain time\n     * @param time Between 0-1\n     */\n    getNormal(time) {\n        return this.getTangent(time).normal();\n    }\n    /**\n     * Get the normal of the Bezier curve where the distance is uniformly distributed over time\n     * @param time\n     */\n    getUniformNormal(time) {\n        return this.getUniformTangent(time).normal();\n    }\n    /**\n     * Points are spaced uniformly across the length of the curve over time\n     * @param time\n     */\n    getUniformPoint(time) {\n        const desiredDistance = time * this.arcLength;\n        const uniformTime = this._getTimeGivenDistance(desiredDistance);\n        return this.getPoint(uniformTime);\n    }\n    clone() {\n        return new BezierCurve({\n            controlPoints: [...this.controlPoints],\n            quality: this.quality\n        });\n    }\n}\n\n;// ./Actions/Action/CurveTo.ts\n\n\n\nclass CurveTo {\n    constructor(entity, options) {\n        var _a;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._mode = 'dynamic';\n        this._entity = entity;\n        this._tx = this._entity.get(TransformComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only curveTo on Entities with TransformComponents.`);\n        }\n        this._curve = new BezierCurve({\n            controlPoints: [vec(0, 0), ...options.controlPoints],\n            quality: options.quality\n        });\n        this._durationMs = options.duration;\n        this._mode = (_a = options.mode) !== null && _a !== void 0 ? _a : this._mode;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._curve.setControlPoint(0, this._tx.globalPos.clone());\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        if (this._mode === 'dynamic') {\n            this._tx.pos = this._curve.getPoint(t);\n        }\n        else {\n            this._tx.pos = this._curve.getUniformPoint(t);\n        }\n        if (this.isComplete(this._entity)) {\n            if (this._mode === 'dynamic') {\n                this._tx.pos = this._curve.getPoint(1);\n            }\n            else {\n                this._tx.pos = this._curve.getUniformPoint(1);\n            }\n        }\n    }\n    isComplete(entity) {\n        return this._stopped || this._currentMs < 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n    stop() {\n        this._stopped = true;\n        this._currentMs = 0;\n    }\n}\n\n;// ./Actions/Action/CurveBy.ts\n\n\n\nclass CurveBy {\n    constructor(entity, options) {\n        var _a;\n        this.id = nextActionId();\n        this._started = false;\n        this._stopped = false;\n        this._mode = 'dynamic';\n        this._entity = entity;\n        this._tx = this._entity.get(TransformComponent);\n        if (!this._tx) {\n            throw new Error(`Entity ${entity.name} has no TransformComponent, can only curveTo on Entities with TransformComponents.`);\n        }\n        this._curve = this._curve = new BezierCurve({\n            controlPoints: [vec(0, 0), ...options.controlPoints],\n            quality: options.quality\n        });\n        this._durationMs = options.duration;\n        this._mode = (_a = options.mode) !== null && _a !== void 0 ? _a : this._mode;\n        this._currentMs = this._durationMs;\n    }\n    update(elapsed) {\n        if (!this._started) {\n            this._curve.setControlPoint(0, this._tx.globalPos);\n            this._curve.setControlPoint(1, this._curve.controlPoints[1].add(this._tx.globalPos));\n            this._curve.setControlPoint(2, this._curve.controlPoints[2].add(this._tx.globalPos));\n            this._curve.setControlPoint(3, this._curve.controlPoints[3].add(this._tx.globalPos));\n            this._started = true;\n        }\n        this._currentMs -= elapsed;\n        const t = clamp(remap(0, this._durationMs, 0, 1, this._durationMs - this._currentMs), 0, 1);\n        if (this._mode === 'dynamic') {\n            this._tx.pos = this._curve.getPoint(t);\n        }\n        else {\n            this._tx.pos = this._curve.getUniformPoint(t);\n        }\n        if (this.isComplete(this._entity)) {\n            if (this._mode === 'dynamic') {\n                this._tx.pos = this._curve.getPoint(1);\n            }\n            else {\n                this._tx.pos = this._curve.getUniformPoint(1);\n            }\n        }\n    }\n    isComplete(entity) {\n        return this._stopped || this._currentMs < 0;\n    }\n    reset() {\n        this._currentMs = this._durationMs;\n        this._started = false;\n        this._stopped = false;\n    }\n    stop() {\n        this._stopped = true;\n    }\n}\n\n;// ./Actions/ActionContext.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * The fluent Action API allows you to perform \"actions\" on\n * {@apilink Actor | `actors`} such as following, moving, rotating, and\n * more. You can implement your own actions by implementing\n * the {@apilink Action} interface.\n */\nclass ActionContext {\n    constructor(entity) {\n        this._entity = entity;\n        this._queue = new ActionQueue(entity);\n    }\n    getQueue() {\n        return this._queue;\n    }\n    update(elapsed) {\n        this._queue.update(elapsed);\n    }\n    /**\n     * Clears all queued actions from the Actor\n     */\n    clearActions() {\n        this._queue.clearActions();\n    }\n    runAction(action) {\n        action.reset();\n        this._queue.add(action);\n        return this;\n    }\n    /**\n     * Animates an actor with a specified bezier curve by an offset to the current position, the start point is assumed\n     * to be the actors current position\n     * @param options\n     */\n    curveBy(options) {\n        this._queue.add(new CurveBy(this._entity, options));\n        return this;\n    }\n    /**\n     * Animates an actor with a specified bezier curve to an absolute world space coordinate, the start point is assumed\n     * to be the actors current position\n     * @param options\n     */\n    curveTo(options) {\n        this._queue.add(new CurveTo(this._entity, options));\n        return this;\n    }\n    easeTo(...args) {\n        var _a, _b;\n        let x = 0;\n        let y = 0;\n        let duration = 0;\n        let easingFcn = EasingFunctions.Linear;\n        if (args[0] instanceof Vector) {\n            x = args[0].x;\n            y = args[0].y;\n            duration = args[1];\n            easingFcn = (_a = args[2]) !== null && _a !== void 0 ? _a : easingFcn;\n        }\n        else {\n            x = args[0];\n            y = args[1];\n            duration = args[2];\n            easingFcn = (_b = args[3]) !== null && _b !== void 0 ? _b : easingFcn;\n        }\n        this._queue.add(new EaseTo(this._entity, x, y, duration, easingFcn));\n        return this;\n    }\n    easeBy(...args) {\n        var _a, _b;\n        let offsetX = 0;\n        let offsetY = 0;\n        let duration = 0;\n        let easingFcn = EasingFunctions.Linear;\n        if (args[0] instanceof Vector) {\n            offsetX = args[0].x;\n            offsetY = args[0].y;\n            duration = args[1];\n            easingFcn = (_a = args[2]) !== null && _a !== void 0 ? _a : easingFcn;\n        }\n        else {\n            offsetX = args[0];\n            offsetY = args[1];\n            duration = args[2];\n            easingFcn = (_b = args[3]) !== null && _b !== void 0 ? _b : easingFcn;\n        }\n        this._queue.add(new EaseBy(this._entity, offsetX, offsetY, duration, easingFcn));\n        return this;\n    }\n    moveTo(xOrPosOrOptions, yOrSpeed, speedOrUndefined) {\n        let x = 0;\n        let y = 0;\n        let speed = 0;\n        if (xOrPosOrOptions instanceof Vector) {\n            x = xOrPosOrOptions.x;\n            y = xOrPosOrOptions.y;\n            speed = +(yOrSpeed !== null && yOrSpeed !== void 0 ? yOrSpeed : 0);\n            this._queue.add(new MoveTo(this._entity, x, y, speed));\n        }\n        else if (typeof xOrPosOrOptions === 'number' && typeof yOrSpeed === 'number' && typeof speedOrUndefined === 'number') {\n            x = xOrPosOrOptions;\n            y = yOrSpeed;\n            speed = speedOrUndefined;\n            this._queue.add(new MoveTo(this._entity, x, y, speed));\n        }\n        else if (isMoveToOptions(xOrPosOrOptions)) {\n            this._queue.add(new MoveToWithOptions(this._entity, xOrPosOrOptions));\n        }\n        return this;\n    }\n    moveBy(xOffsetOrVectorOrOptions, yOffsetOrSpeed, speedOrUndefined) {\n        let xOffset = 0;\n        let yOffset = 0;\n        let speed = 0;\n        if (xOffsetOrVectorOrOptions instanceof Vector && typeof yOffsetOrSpeed === 'number') {\n            xOffset = xOffsetOrVectorOrOptions.x;\n            yOffset = xOffsetOrVectorOrOptions.y;\n            speed = yOffsetOrSpeed;\n            this._queue.add(new MoveBy(this._entity, xOffset, yOffset, speed));\n        }\n        else if (typeof xOffsetOrVectorOrOptions === 'number' && typeof yOffsetOrSpeed === 'number' && typeof speedOrUndefined === 'number') {\n            xOffset = xOffsetOrVectorOrOptions;\n            yOffset = yOffsetOrSpeed;\n            speed = speedOrUndefined;\n            this._queue.add(new MoveBy(this._entity, xOffset, yOffset, speed));\n        }\n        else if (isMoveByOptions(xOffsetOrVectorOrOptions)) {\n            this._queue.add(new MoveByWithOptions(this._entity, xOffsetOrVectorOrOptions));\n        }\n        return this;\n    }\n    rotateTo(angleRadiansOrOptions, speed, rotationType) {\n        if (typeof angleRadiansOrOptions === 'number' && typeof speed === 'number') {\n            this._queue.add(new RotateTo(this._entity, angleRadiansOrOptions, speed, rotationType));\n        }\n        else if (typeof angleRadiansOrOptions === 'object') {\n            this._queue.add(new RotateToWithOptions(this._entity, angleRadiansOrOptions));\n        }\n        return this;\n    }\n    rotateBy(angleRadiansOffsetOrOptions, speed, rotationType) {\n        if (typeof angleRadiansOffsetOrOptions === 'object') {\n            this._queue.add(new RotateByWithOptions(this._entity, angleRadiansOffsetOrOptions));\n        }\n        else {\n            this._queue.add(new RotateBy(this._entity, angleRadiansOffsetOrOptions, speed, rotationType));\n        }\n        return this;\n    }\n    scaleTo(sizeXOrVectorOrOptions, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined) {\n        let sizeX = 1;\n        let sizeY = 1;\n        let speedX = 0;\n        let speedY = 0;\n        if (isScaleToOptions(sizeXOrVectorOrOptions)) {\n            this._queue.add(new ScaleToWithOptions(this._entity, sizeXOrVectorOrOptions));\n            return this;\n        }\n        if (sizeXOrVectorOrOptions instanceof Vector && sizeYOrSpeed instanceof Vector) {\n            sizeX = sizeXOrVectorOrOptions.x;\n            sizeY = sizeXOrVectorOrOptions.y;\n            speedX = sizeYOrSpeed.x;\n            speedY = sizeYOrSpeed.y;\n        }\n        if (typeof sizeXOrVectorOrOptions === 'number' && typeof sizeYOrSpeed === 'number') {\n            sizeX = sizeXOrVectorOrOptions;\n            sizeY = sizeYOrSpeed;\n            speedX = speedXOrUndefined;\n            speedY = speedYOrUndefined;\n        }\n        this._queue.add(new ScaleTo(this._entity, sizeX, sizeY, speedX, speedY));\n        return this;\n    }\n    scaleBy(sizeOffsetXOrVectorOrOptions, sizeOffsetYOrSpeed, speed) {\n        if (isScaleByOptions(sizeOffsetXOrVectorOrOptions)) {\n            this._queue.add(new ScaleByWithOptions(this._entity, sizeOffsetXOrVectorOrOptions));\n            return this;\n        }\n        let sizeOffsetX = 1;\n        let sizeOffsetY = 1;\n        if (sizeOffsetXOrVectorOrOptions instanceof Vector) {\n            sizeOffsetX = sizeOffsetXOrVectorOrOptions.x;\n            sizeOffsetY = sizeOffsetXOrVectorOrOptions.y;\n            speed = sizeOffsetYOrSpeed;\n        }\n        if (typeof sizeOffsetXOrVectorOrOptions === 'number' && typeof sizeOffsetYOrSpeed === 'number') {\n            sizeOffsetX = sizeOffsetXOrVectorOrOptions;\n            sizeOffsetY = sizeOffsetYOrSpeed;\n        }\n        this._queue.add(new ScaleBy(this._entity, sizeOffsetX, sizeOffsetY, speed));\n        return this;\n    }\n    /**\n     * This method will cause an actor to blink (become visible and not\n     * visible). Optionally, you may specify the number of blinks. Specify the amount of time\n     * the actor should be visible per blink, and the amount of time not visible.\n     * This method is part of the actor 'Action' fluent API allowing action chaining.\n     * @param timeVisible     The amount of time to stay visible per blink in milliseconds\n     * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\n     * @param numBlinks       The number of times to blink\n     */\n    blink(timeVisible, timeNotVisible, numBlinks = 1) {\n        this._queue.add(new Blink(this._entity, timeVisible, timeNotVisible, numBlinks));\n        return this;\n    }\n    /**\n     * This method will cause an actor's opacity to change from its current value\n     * to the provided value by a specified time (in milliseconds). This method is\n     * part of the actor 'Action' fluent API allowing action chaining.\n     * @param opacity  The ending opacity\n     * @param duration     The time it should take to fade the actor (in milliseconds)\n     */\n    fade(opacity, duration) {\n        this._queue.add(new Fade(this._entity, opacity, duration));\n        return this;\n    }\n    /**\n     * This will cause an actor to flash a specific color for a period of time\n     * @param color\n     * @param duration The duration in milliseconds\n     */\n    flash(color, duration = 1000) {\n        this._queue.add(new Flash(this._entity, color, duration));\n        return this;\n    }\n    /**\n     * This method will delay the next action from executing for a certain\n     * amount of time (in milliseconds). This method is part of the actor\n     * 'Action' fluent API allowing action chaining.\n     * @param duration  The amount of time to delay the next action in the queue from executing in milliseconds\n     */\n    delay(duration) {\n        this._queue.add(new Delay(duration));\n        return this;\n    }\n    /**\n     * This method will add an action to the queue that will remove the actor from the\n     * scene once it has completed its previous  Any actions on the\n     * action queue after this action will not be executed.\n     */\n    die() {\n        this._queue.add(new Die(this._entity));\n        return this;\n    }\n    /**\n     * This method allows you to call an arbitrary method as the next action in the\n     * action queue. This is useful if you want to execute code in after a specific\n     * action, i.e An actor arrives at a destination after traversing a path\n     */\n    callMethod(method) {\n        this._queue.add(new CallMethod(method));\n        return this;\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions\n     * will repeat forever\n     */\n    repeat(repeatBuilder, times) {\n        if (!times) {\n            this.repeatForever(repeatBuilder);\n            return this;\n        }\n        this._queue.add(new Repeat(this._entity, repeatBuilder, times));\n        return this;\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     */\n    repeatForever(repeatBuilder) {\n        this._queue.add(new RepeatForever(this._entity, repeatBuilder));\n        return this;\n    }\n    /**\n     * This method will cause the entity to follow another at a specified distance\n     * @param entity           The entity to follow\n     * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\n     */\n    follow(entity, followDistance) {\n        if (followDistance === undefined) {\n            this._queue.add(new Follow(this._entity, entity));\n        }\n        else {\n            this._queue.add(new Follow(this._entity, entity, followDistance));\n        }\n        return this;\n    }\n    /**\n     * This method will cause the entity to move towards another until they\n     * collide \"meet\" at a specified speed.\n     * @param entity  The entity to meet\n     * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\n     */\n    meet(entity, speed) {\n        if (speed === undefined) {\n            this._queue.add(new Meet(this._entity, entity));\n        }\n        else {\n            this._queue.add(new Meet(this._entity, entity, speed));\n        }\n        return this;\n    }\n    /**\n     * Returns a promise that resolves when the current action queue up to now\n     * is finished.\n     */\n    toPromise() {\n        const temp = new Promise((resolve) => {\n            this._queue.add(new CallMethod(() => {\n                resolve();\n            }));\n        });\n        return temp;\n    }\n}\n\n;// ./Actions/ActionsComponent.ts\n\n\n\n\nclass ActionsComponent extends Component {\n    constructor() {\n        super(...arguments);\n        this.dependencies = [TransformComponent, MotionComponent];\n        this._ctx = null;\n    }\n    onAdd(entity) {\n        this._ctx = new ActionContext(entity);\n    }\n    onRemove() {\n        this._ctx = null;\n    }\n    _getCtx() {\n        if (!this._ctx) {\n            throw new Error('Actions component not attached to an entity, no context available');\n        }\n        return this._ctx;\n    }\n    /**\n     * Returns the internal action queue\n     * @returns action queue\n     */\n    getQueue() {\n        if (!this._ctx) {\n            throw new Error('Actions component not attached to an entity, no queue available');\n        }\n        return this._ctx.getQueue();\n    }\n    /**\n     * Runs a specific action in the action queue\n     * @param action\n     */\n    runAction(action) {\n        if (!this._ctx) {\n            throw new Error('Actions component not attached to an entity, cannot run action');\n        }\n        return this._ctx.runAction(action);\n    }\n    /**\n     * Updates the internal action context, performing action and moving through the internal queue\n     * @param elapsed\n     */\n    update(elapsed) {\n        var _a;\n        return (_a = this._ctx) === null || _a === void 0 ? void 0 : _a.update(elapsed);\n    }\n    /**\n     * Clears all queued actions from the Actor\n     */\n    clearActions() {\n        var _a;\n        (_a = this._ctx) === null || _a === void 0 ? void 0 : _a.clearActions();\n    }\n    /**\n     * Animates an actor with a specified bezier curve by an offset to the current position, the start point is assumed\n     * to be the actors current position\n     * @param options\n     */\n    curveBy(options) {\n        return this._getCtx().curveBy.apply(this._ctx, [options]);\n    }\n    /**\n     * Animates an actor with a specified bezier curve to an absolute world space coordinate, the start point is assumed\n     * to be the actors current position\n     * @param options\n     */\n    curveTo(options) {\n        return this._getCtx().curveTo.apply(this._ctx, [options]);\n    }\n    easeTo(...args) {\n        return this._getCtx().easeTo.apply(this._ctx, args);\n    }\n    easeBy(...args) {\n        return this._getCtx().easeBy.apply(this._ctx, args);\n    }\n    moveTo(xOrPosOrOptions, yOrSpeed, speedOrUndefined) {\n        return this._getCtx().moveTo.apply(this._ctx, [xOrPosOrOptions, yOrSpeed, speedOrUndefined]);\n    }\n    moveBy(xOffsetOrVectorOptions, yOffsetOrSpeed, speedOrUndefined) {\n        return this._getCtx().moveBy.apply(this._ctx, [xOffsetOrVectorOptions, yOffsetOrSpeed, speedOrUndefined]);\n    }\n    rotateTo(angle, speed, rotationType) {\n        return this._getCtx().rotateTo.apply(this._ctx, [angle, speed, rotationType]);\n    }\n    rotateBy(angleRadiansOffsetOrOptions, speed, rotationType) {\n        return this._getCtx().rotateBy.apply(this._ctx, [angleRadiansOffsetOrOptions, speed, rotationType]);\n    }\n    scaleTo(sizeXOrVectorOrOptions, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined) {\n        return this._getCtx().scaleTo.apply(this._ctx, [sizeXOrVectorOrOptions, sizeYOrSpeed, speedXOrUndefined, speedYOrUndefined]);\n    }\n    scaleBy(sizeOffsetXOrVectorOrOptions, sizeOffsetYOrSpeed, speed) {\n        return this._getCtx().scaleBy.apply(this._ctx, [sizeOffsetXOrVectorOrOptions, sizeOffsetYOrSpeed, speed]);\n    }\n    /**\n     * This method will cause an actor to blink (become visible and not\n     * visible). Optionally, you may specify the number of blinks. Specify the amount of time\n     * the actor should be visible per blink, and the amount of time not visible.\n     * This method is part of the actor 'Action' fluent API allowing action chaining.\n     * @param timeVisible     The amount of time to stay visible per blink in milliseconds\n     * @param timeNotVisible  The amount of time to stay not visible per blink in milliseconds\n     * @param numBlinks       The number of times to blink\n     */\n    blink(timeVisible, timeNotVisible, numBlinks) {\n        return this._getCtx().blink(timeVisible, timeNotVisible, numBlinks);\n    }\n    /**\n     * This method will cause an actor's opacity to change from its current value\n     * to the provided value by a specified time (in milliseconds). This method is\n     * part of the actor 'Action' fluent API allowing action chaining.\n     * @param opacity  The ending opacity\n     * @param duration     The time it should take to fade the actor (in milliseconds)\n     */\n    fade(opacity, duration) {\n        return this._getCtx().fade(opacity, duration);\n    }\n    /**\n     * This will cause an actor to flash a specific color for a period of time\n     * @param color\n     * @param duration The duration in milliseconds\n     */\n    flash(color, duration = 1000) {\n        return this._getCtx().flash(color, duration);\n    }\n    /**\n     * This method will delay the next action from executing for a certain\n     * amount of time (in milliseconds). This method is part of the actor\n     * 'Action' fluent API allowing action chaining.\n     * @param duration  The amount of time to delay the next action in the queue from executing in milliseconds\n     */\n    delay(duration) {\n        return this._getCtx().delay(duration);\n    }\n    /**\n     * This method will add an action to the queue that will remove the actor from the\n     * scene once it has completed its previous  Any actions on the\n     * action queue after this action will not be executed.\n     */\n    die() {\n        return this._getCtx().die();\n    }\n    /**\n     * This method allows you to call an arbitrary method as the next action in the\n     * action queue. This is useful if you want to execute code in after a specific\n     * action, i.e An actor arrives at a destination after traversing a path\n     */\n    callMethod(method) {\n        return this._getCtx().callMethod(method);\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     * @param times  The number of times to repeat all the previous actions in the action queue. If nothing is specified the actions\n     * will repeat forever\n     */\n    repeat(repeatBuilder, times) {\n        return this._getCtx().repeat(repeatBuilder, times);\n    }\n    /**\n     * This method will cause the actor to repeat all of the actions built in\n     * the `repeatBuilder` callback. If the number of repeats\n     * is not specified it will repeat forever. This method is part of\n     * the actor 'Action' fluent API allowing action chaining\n     *\n     * ```typescript\n     * // Move up in a zig-zag by repeated moveBy's\n     * actor.actions.repeat(repeatCtx => {\n     * repeatCtx.moveBy(10, 0, 10);\n     * repeatCtx.moveBy(0, 10, 10);\n     * }, 5);\n     * ```\n     * @param repeatBuilder The builder to specify the repeatable list of actions\n     */\n    repeatForever(repeatBuilder) {\n        return this._getCtx().repeatForever(repeatBuilder);\n    }\n    /**\n     * This method will cause the entity to follow another at a specified distance\n     * @param entity           The entity to follow\n     * @param followDistance  The distance to maintain when following, if not specified the actor will follow at the current distance.\n     */\n    follow(entity, followDistance) {\n        return this._getCtx().follow(entity, followDistance);\n    }\n    /**\n     * This method will cause the entity to move towards another until they\n     * collide \"meet\" at a specified speed.\n     * @param entity  The entity to meet\n     * @param speed  The speed in pixels per second to move, if not specified it will match the speed of the other actor\n     */\n    meet(entity, speed) {\n        return this._getCtx().meet(entity, speed);\n    }\n    /**\n     * Returns a promise that resolves when the current action queue up to now\n     * is finished.\n     */\n    toPromise() {\n        return this._getCtx().toPromise();\n    }\n}\n\n;// ./Actor.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Type guard for checking if something is an Actor\n * @param x\n */\nfunction isActor(x) {\n    return x instanceof Actor;\n}\nconst ActorEvents = {\n    CollisionStart: 'collisionstart',\n    CollisionEnd: 'collisionend',\n    PreCollision: 'precollision',\n    PostCollision: 'postcollision',\n    Kill: 'kill',\n    PreKill: 'prekill',\n    PostKill: 'postkill',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw',\n    PreTransformDraw: 'pretransformdraw',\n    PostTransformDraw: 'posttransformdraw',\n    PreDebugDraw: 'predebugdraw',\n    PostDebugDraw: 'postdebugdraw',\n    PointerUp: 'pointerup',\n    PointerDown: 'pointerdown',\n    PointerEnter: 'pointerenter',\n    PointerLeave: 'pointerleave',\n    PointerMove: 'pointermove',\n    PointerCancel: 'pointercancel',\n    Wheel: 'pointerwheel',\n    PointerDrag: 'pointerdragstart',\n    PointerDragEnd: 'pointerdragend',\n    PointerDragEnter: 'pointerdragenter',\n    PointerDragLeave: 'pointerdragleave',\n    PointerDragMove: 'pointerdragmove',\n    EnterViewPort: 'enterviewport',\n    ExitViewPort: 'exitviewport',\n    ActionStart: 'actionstart',\n    ActionComplete: 'actioncomplete'\n};\n/**\n * The most important primitive in Excalibur is an `Actor`. Anything that\n * can move on the screen, collide with another `Actor`, respond to events,\n * or interact with the current scene, must be an actor. An `Actor` **must**\n * be part of a {@apilink Scene} for it to be drawn to the screen.\n */\nclass Actor extends Entity {\n    /**\n     * Gets the position vector of the actor in pixels\n     */\n    get pos() {\n        return this.transform.pos;\n    }\n    /**\n     * Sets the position vector of the actor in pixels\n     */\n    set pos(thePos) {\n        this.transform.pos = thePos.clone();\n    }\n    /**\n     * Gets the position vector of the actor from the last frame\n     */\n    get oldPos() {\n        return this.body.oldPos;\n    }\n    /**\n     * Gets the global position vector of the actor from the last frame\n     */\n    get oldGlobalPos() {\n        return this.body.oldGlobalPos;\n    }\n    /**\n     * Sets the position vector of the actor in the last frame\n     */\n    set oldPos(thePos) {\n        this.body.oldPos.setTo(thePos.x, thePos.y);\n    }\n    /**\n     * Gets the velocity vector of the actor in pixels/sec\n     */\n    get vel() {\n        return this.motion.vel;\n    }\n    /**\n     * Sets the velocity vector of the actor in pixels/sec\n     */\n    set vel(theVel) {\n        this.motion.vel = theVel.clone();\n    }\n    /**\n     * Gets the velocity vector of the actor from the last frame\n     */\n    get oldVel() {\n        return this.body.oldVel;\n    }\n    /**\n     * Sets the velocity vector of the actor from the last frame\n     */\n    set oldVel(theVel) {\n        this.body.oldVel.setTo(theVel.x, theVel.y);\n    }\n    /**\n     * Gets the acceleration vector of the actor in pixels/second/second. An acceleration pointing down such as (0, 100) may be\n     * useful to simulate a gravitational effect.\n     */\n    get acc() {\n        return this.motion.acc;\n    }\n    /**\n     * Sets the acceleration vector of teh actor in pixels/second/second\n     */\n    set acc(theAcc) {\n        this.motion.acc = theAcc.clone();\n    }\n    /**\n     * Sets the acceleration of the actor from the last frame. This does not include the global acc {@apilink Physics.acc}.\n     */\n    set oldAcc(theAcc) {\n        this.body.oldAcc.setTo(theAcc.x, theAcc.y);\n    }\n    /**\n     * Gets the acceleration of the actor from the last frame. This does not include the global acc {@apilink Physics.acc}.\n     */\n    get oldAcc() {\n        return this.body.oldAcc;\n    }\n    /**\n     * Gets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n     */\n    get rotation() {\n        return this.transform.rotation;\n    }\n    /**\n     * Sets the rotation of the actor in radians. 1 radian = 180/PI Degrees.\n     */\n    set rotation(theAngle) {\n        this.transform.rotation = theAngle;\n    }\n    /**\n     * Gets the rotational velocity of the actor in radians/second\n     */\n    get angularVelocity() {\n        return this.motion.angularVelocity;\n    }\n    /**\n     * Sets the rotational velocity of the actor in radians/sec\n     */\n    set angularVelocity(angularVelocity) {\n        this.motion.angularVelocity = angularVelocity;\n    }\n    get scale() {\n        return this.get(TransformComponent).scale;\n    }\n    set scale(scale) {\n        this.get(TransformComponent).scale = scale;\n    }\n    /**\n     * The anchor to apply all actor related transformations like rotation,\n     * translation, and scaling. By default the anchor is in the center of\n     * the actor. By default it is set to the center of the actor (.5, .5)\n     *\n     * An anchor of (.5, .5) will ensure that drawings are centered.\n     *\n     * Use `anchor.setTo` to set the anchor to a different point using\n     * values between 0 and 1. For example, anchoring to the top-left would be\n     * `Actor.anchor.setTo(0, 0)` and top-right would be `Actor.anchor.setTo(0, 1)`.\n     */\n    get anchor() {\n        return this._anchor;\n    }\n    set anchor(vec) {\n        this._anchor = watch(vec, (v) => this._handleAnchorChange(v));\n        this._handleAnchorChange(vec);\n    }\n    _handleAnchorChange(v) {\n        if (this.graphics) {\n            this.graphics.anchor = v;\n        }\n    }\n    /**\n     * The offset in pixels to apply to all actor graphics\n     *\n     * Default offset of (0, 0)\n     */\n    get offset() {\n        return this._offset;\n    }\n    set offset(vec) {\n        this._offset = watch(vec, (v) => this._handleOffsetChange(v));\n        this._handleOffsetChange(vec);\n    }\n    _handleOffsetChange(v) {\n        if (this.graphics) {\n            this.graphics.offset = v;\n        }\n    }\n    /**\n     * Indicates whether the actor is physically in the viewport\n     */\n    get isOffScreen() {\n        return this.hasTag('ex.offscreen');\n    }\n    get draggable() {\n        return this._draggable;\n    }\n    set draggable(isDraggable) {\n        if (isDraggable) {\n            if (isDraggable && !this._draggable) {\n                this.events.on('pointerdragstart', this._pointerDragStartHandler);\n                this.events.on('pointerdragend', this._pointerDragEndHandler);\n                this.events.on('pointerdragmove', this._pointerDragMoveHandler);\n                this.events.on('pointerdragleave', this._pointerDragLeaveHandler);\n            }\n            else if (!isDraggable && this._draggable) {\n                this.events.off('pointerdragstart', this._pointerDragStartHandler);\n                this.events.off('pointerdragend', this._pointerDragEndHandler);\n                this.events.off('pointerdragmove', this._pointerDragMoveHandler);\n                this.events.off('pointerdragleave', this._pointerDragLeaveHandler);\n            }\n            this._draggable = isDraggable;\n        }\n    }\n    /**\n     * Sets the color of the actor's current graphic\n     */\n    get color() {\n        return this.graphics.color;\n    }\n    set color(v) {\n        this.graphics.color = v;\n    }\n    // #endregion\n    /**\n     *\n     * @param config\n     */\n    constructor(config) {\n        super();\n        this.events = new EventEmitter();\n        this._anchor = watch(Vector.Half, (v) => this._handleAnchorChange(v));\n        this._offset = watch(Vector.Zero, (v) => this._handleOffsetChange(v));\n        /**\n         * Convenience reference to the global logger\n         */\n        this.logger = Logger.getInstance();\n        /**\n         * Draggable helper\n         */\n        this._draggable = false;\n        this._dragging = false;\n        this._pointerDragStartHandler = () => {\n            this._dragging = true;\n        };\n        this._pointerDragEndHandler = () => {\n            this._dragging = false;\n        };\n        this._pointerDragMoveHandler = (pe) => {\n            if (this._dragging) {\n                this.pos = pe.worldPos;\n            }\n        };\n        this._pointerDragLeaveHandler = (pe) => {\n            if (this._dragging) {\n                this.pos = pe.worldPos;\n            }\n        };\n        const { name, x, y, pos, coordPlane, scale, width, height, radius, collider, vel, acc, rotation, angularVelocity, z, color, visible, opacity, anchor, offset, collisionType, collisionGroup, silenceWarnings } = {\n            ...config\n        };\n        this.name = name !== null && name !== void 0 ? name : this.name;\n        this.anchor = anchor !== null && anchor !== void 0 ? anchor : Actor.defaults.anchor.clone();\n        this.offset = offset !== null && offset !== void 0 ? offset : Vector.Zero;\n        this.transform = new TransformComponent();\n        this.addComponent(this.transform);\n        this.pos = pos !== null && pos !== void 0 ? pos : vec(x !== null && x !== void 0 ? x : 0, y !== null && y !== void 0 ? y : 0);\n        this.rotation = rotation !== null && rotation !== void 0 ? rotation : 0;\n        this.scale = scale !== null && scale !== void 0 ? scale : vec(1, 1);\n        this.z = z !== null && z !== void 0 ? z : 0;\n        this.transform.coordPlane = coordPlane !== null && coordPlane !== void 0 ? coordPlane : CoordPlane.World;\n        this._silenceWarnings = silenceWarnings !== null && silenceWarnings !== void 0 ? silenceWarnings : false;\n        this.pointer = new PointerComponent();\n        this.addComponent(this.pointer);\n        this.graphics = new GraphicsComponent({\n            anchor: this.anchor,\n            offset: this.offset,\n            opacity: opacity\n        });\n        this.addComponent(this.graphics);\n        this.motion = new MotionComponent();\n        this.addComponent(this.motion);\n        this.vel = vel !== null && vel !== void 0 ? vel : Vector.Zero;\n        this.acc = acc !== null && acc !== void 0 ? acc : Vector.Zero;\n        this.angularVelocity = angularVelocity !== null && angularVelocity !== void 0 ? angularVelocity : 0;\n        this.actions = new ActionsComponent();\n        this.addComponent(this.actions);\n        this.body = new BodyComponent();\n        this.addComponent(this.body);\n        this.body.collisionType = collisionType !== null && collisionType !== void 0 ? collisionType : CollisionType.Passive;\n        if (collisionGroup) {\n            this.body.group = collisionGroup;\n        }\n        if (color) {\n            this.color = color;\n        }\n        if (collider) {\n            this.collider = new ColliderComponent(collider);\n            this.addComponent(this.collider);\n        }\n        else if (radius) {\n            this.collider = new ColliderComponent(Shape.Circle(radius));\n            this.addComponent(this.collider);\n            if (color) {\n                this.graphics.add(new Circle({\n                    color: color,\n                    radius\n                }));\n            }\n        }\n        else {\n            if (width > 0 && height > 0) {\n                this.collider = new ColliderComponent(Shape.Box(width, height, this.anchor));\n                this.addComponent(this.collider);\n                if (color && width && height) {\n                    this.graphics.add(new Rectangle({\n                        color: color,\n                        width,\n                        height\n                    }));\n                }\n            }\n            else {\n                this.collider = new ColliderComponent();\n                this.addComponent(this.collider); // no collider\n            }\n        }\n        this.graphics.isVisible = visible !== null && visible !== void 0 ? visible : true;\n    }\n    clone() {\n        const clone = new Actor({\n            silenceWarnings: this._silenceWarnings,\n            color: this.color.clone(),\n            anchor: this.anchor.clone(),\n            offset: this.offset.clone()\n        });\n        clone.clearComponents();\n        clone.processComponentRemoval();\n        // Clone builtins, order is important, same as ctor\n        clone.addComponent((clone.transform = this.transform.clone()), true);\n        clone.addComponent((clone.pointer = this.pointer.clone()), true);\n        clone.addComponent((clone.graphics = this.graphics.clone()), true);\n        clone.addComponent((clone.motion = this.motion.clone()), true);\n        clone.addComponent((clone.actions = this.actions.clone()), true);\n        clone.addComponent((clone.body = this.body.clone()), true);\n        clone.addComponent((clone.collider = this.collider.clone()), true);\n        const builtInComponents = [\n            this.transform,\n            this.pointer,\n            this.graphics,\n            this.motion,\n            this.actions,\n            this.body,\n            this.collider\n        ];\n        // Clone non-builtin the current actors components\n        const components = this.getComponents();\n        for (const c of components) {\n            if (!builtInComponents.includes(c)) {\n                clone.addComponent(c.clone(), true);\n            }\n        }\n        return clone;\n    }\n    /**\n     * `onInitialize` is called before the first update of the actor. This method is meant to be\n     * overridden. This is where initialization of child actors should take place.\n     *\n     * Synonymous with the event handler `.on('initialize', (evt) => {...})`\n     */\n    onInitialize(engine) {\n        // Override me\n    }\n    /**\n     * Initializes this actor and all it's child actors, meant to be called by the Scene before first update not by users of Excalibur.\n     *\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     * @internal\n     */\n    _initialize(engine) {\n        super._initialize(engine);\n        for (const child of this.children) {\n            child._initialize(engine);\n        }\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    // #endregion\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _prekill handler for {@apilink onPreKill} lifecycle event\n     * @internal\n     */\n    _prekill(scene) {\n        this.events.emit('prekill', new PreKillEvent(this));\n        this.onPreKill(scene);\n    }\n    /**\n     * Safe to override onPreKill lifecycle event handler. Synonymous with `.on('prekill', (evt) =>{...})`\n     *\n     * `onPreKill` is called directly before an actor is killed and removed from its current {@apilink Scene}.\n     */\n    onPreKill(scene) {\n        // Override me\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _prekill handler for {@apilink onPostKill} lifecycle event\n     * @internal\n     */\n    _postkill(scene) {\n        this.events.emit('postkill', new PostKillEvent(this));\n        this.onPostKill(scene);\n    }\n    /**\n     * Safe to override onPostKill lifecycle event handler. Synonymous with `.on('postkill', (evt) => {...})`\n     *\n     * `onPostKill` is called directly after an actor is killed and remove from its current {@apilink Scene}.\n     */\n    onPostKill(scene) {\n        // Override me\n    }\n    /**\n     * If the current actor is a member of the scene, this will remove\n     * it from the scene graph. It will no longer be drawn or updated.\n     */\n    kill() {\n        if (this.scene) {\n            this._prekill(this.scene);\n            this.events.emit('kill', new KillEvent(this));\n            super.kill();\n            this._postkill(this.scene);\n        }\n        else {\n            this.logger.warn(`Cannot kill actor named \"${this.name}\", it was never added to the Scene`);\n        }\n    }\n    /**\n     * If the current actor is killed, it will now not be killed.\n     */\n    unkill() {\n        this.isActive = true;\n    }\n    /**\n     * Indicates wether the actor has been killed.\n     */\n    isKilled() {\n        return !this.isActive;\n    }\n    /**\n     * Gets the z-index of an actor. The z-index determines the relative order an actor is drawn in.\n     * Actors with a higher z-index are drawn on top of actors with a lower z-index\n     */\n    get z() {\n        return this.get(TransformComponent).z;\n    }\n    /**\n     * Sets the z-index of an actor and updates it in the drawing list for the scene.\n     * The z-index determines the relative order an actor is drawn in.\n     * Actors with a higher z-index are drawn on top of actors with a lower z-index\n     * @param newZ new z-index to assign\n     */\n    set z(newZ) {\n        this.get(TransformComponent).z = newZ;\n    }\n    /**\n     * Get the center point of an actor (global position)\n     */\n    get center() {\n        const globalPos = this.getGlobalPos();\n        return new Vector(globalPos.x + this.width / 2 - this.anchor.x * this.width, globalPos.y + this.height / 2 - this.anchor.y * this.height);\n    }\n    /**\n     * Get the local center point of an actor\n     */\n    get localCenter() {\n        return new Vector(this.pos.x + this.width / 2 - this.anchor.x * this.width, this.pos.y + this.height / 2 - this.anchor.y * this.height);\n    }\n    get width() {\n        return this.collider.localBounds.width * this.getGlobalScale().x;\n    }\n    get height() {\n        return this.collider.localBounds.height * this.getGlobalScale().y;\n    }\n    /**\n     * Gets this actor's rotation taking into account any parent relationships\n     * @returns Rotation angle in radians\n     * @deprecated Use {@apilink globalRotation} instead\n     */\n    getGlobalRotation() {\n        return this.get(TransformComponent).globalRotation;\n    }\n    /**\n     * The actor's rotation (in radians) taking into account any parent relationships\n     */\n    get globalRotation() {\n        return this.get(TransformComponent).globalRotation;\n    }\n    /**\n     * Gets an actor's world position taking into account parent relationships, scaling, rotation, and translation\n     * @returns Position in world coordinates\n     * @deprecated Use {@apilink globalPos} instead\n     */\n    getGlobalPos() {\n        return this.get(TransformComponent).globalPos;\n    }\n    /**\n     * The actor's world position taking into account parent relationships, scaling, rotation, and translation\n     */\n    get globalPos() {\n        return this.get(TransformComponent).globalPos;\n    }\n    /**\n     * Gets the global scale of the Actor\n     * @deprecated Use {@apilink globalScale} instead\n     */\n    getGlobalScale() {\n        return this.get(TransformComponent).globalScale;\n    }\n    /**\n     * The global scale of the Actor\n     */\n    get globalScale() {\n        return this.get(TransformComponent).globalScale;\n    }\n    /**\n     * The global z-index of the actor\n     */\n    get globalZ() {\n        return this.get(TransformComponent).globalZ;\n    }\n    // #region Collision\n    /**\n     * Tests whether the x/y specified are contained in the actor\n     * @param x  X coordinate to test (in world coordinates)\n     * @param y  Y coordinate to test (in world coordinates)\n     * @param recurse checks whether the x/y are contained in any child actors (if they exist).\n     */\n    contains(x, y, recurse = false) {\n        const point = vec(x, y);\n        const collider = this.get(ColliderComponent);\n        collider.update();\n        const geom = collider.get();\n        if (!geom) {\n            return false;\n        }\n        const containment = geom.contains(point);\n        if (recurse) {\n            return (containment ||\n                this.children.some((child) => {\n                    return child.contains(x, y, true);\n                }));\n        }\n        return containment;\n    }\n    /**\n     * Returns true if the two actor.collider's surfaces are less than or equal to the distance specified from each other\n     * @param actor     Actor to test\n     * @param distance  Distance in pixels to test\n     */\n    within(actor, distance) {\n        const collider = this.get(ColliderComponent);\n        const otherCollider = actor.get(ColliderComponent);\n        const me = collider.get();\n        const other = otherCollider.get();\n        if (me && other) {\n            return me.getClosestLineBetween(other).getLength() <= distance;\n        }\n        return false;\n    }\n    // #endregion\n    // #region Update\n    /**\n     * Called by the Engine, updates the state of the actor\n     * @internal\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     */\n    update(engine, elapsed) {\n        this._initialize(engine);\n        this._add(engine);\n        this._preupdate(engine, elapsed);\n        this._postupdate(engine, elapsed);\n        this._remove(engine);\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before an actor is updated.\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     */\n    onPreUpdate(engine, elapsed) {\n        // Override me\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('postupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after an actor is updated.\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     */\n    onPostUpdate(engine, elapsed) {\n        // Override me\n    }\n    /**\n     * Fires before every collision resolution for a confirmed contact\n     * @param self\n     * @param other\n     * @param side\n     * @param contact\n     */\n    onPreCollisionResolve(self, other, side, contact) {\n        // Override me\n    }\n    /**\n     * Fires after every resolution for a confirmed contact.\n     * @param self\n     * @param other\n     * @param side\n     * @param contact\n     */\n    onPostCollisionResolve(self, other, side, contact) {\n        // Override me\n    }\n    /**\n     * Fires once when 2 entities with a ColliderComponent first start colliding or touching, if the Colliders stay in contact this\n     * does not continue firing until they separate and re-collide.\n     * @param self\n     * @param other\n     * @param side\n     * @param contact\n     */\n    onCollisionStart(self, other, side, contact) {\n        // Override me\n    }\n    /**\n     * Fires once when 2 entities with a ColliderComponent separate after having been in contact.\n     * @param self\n     * @param other\n     * @param side\n     * @param lastContact\n     */\n    onCollisionEnd(self, other, side, lastContact) {\n        // Override me\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPreUpdate} lifecycle event\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     * @internal\n     */\n    _preupdate(engine, elapsed) {\n        this.events.emit('preupdate', new PreUpdateEvent(engine, elapsed, this));\n        this.onPreUpdate(engine, elapsed);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPostUpdate} lifecycle event\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     * @internal\n     */\n    _postupdate(engine, elapsed) {\n        this.events.emit('postupdate', new PostUpdateEvent(engine, elapsed, this));\n        this.onPostUpdate(engine, elapsed);\n    }\n}\n// #region Properties\n/**\n * Set defaults for all Actors\n */\nActor.defaults = {\n    anchor: Vector.Half\n};\n\n;// ./ScreenElement.ts\n\n\n\n\n\n/**\n * Type guard to detect a screen element\n */\nfunction isScreenElement(actor) {\n    return actor instanceof ScreenElement;\n}\n/**\n * Helper {@apilink Actor} primitive for drawing UI's, optimized for UI drawing. Does\n * not participate in collisions. Drawn on top of all other actors.\n */\nclass ScreenElement extends Actor {\n    constructor(config) {\n        var _a, _b;\n        super({ ...config });\n        this.get(TransformComponent).coordPlane = CoordPlane.Screen;\n        this.anchor = (_a = config === null || config === void 0 ? void 0 : config.anchor) !== null && _a !== void 0 ? _a : vec(0, 0);\n        this.body.collisionType = (_b = config === null || config === void 0 ? void 0 : config.collisionType) !== null && _b !== void 0 ? _b : CollisionType.PreventCollision;\n        this.pointer.useGraphicsBounds = true;\n        this.pointer.useColliderShape = false;\n        if (!(config === null || config === void 0 ? void 0 : config.collider) && (config === null || config === void 0 ? void 0 : config.width) > 0 && (config === null || config === void 0 ? void 0 : config.height) > 0) {\n            this.collider.useBoxCollider(this.width, this.height, this.anchor);\n        }\n    }\n    _initialize(engine) {\n        this._engine = engine;\n        super._initialize(engine);\n    }\n    contains(x, y, useWorld = true) {\n        if (useWorld) {\n            return super.contains(x, y);\n        }\n        const coords = this._engine.worldToScreenCoordinates(new Vector(x, y));\n        return super.contains(coords.x, coords.y);\n    }\n}\n\n;// ./Timer.ts\n\n\n/**\n * The Excalibur timer hooks into the internal timer and fires callbacks,\n * after a certain interval, optionally repeating.\n */\nclass Timer {\n    get complete() {\n        return this._complete;\n    }\n    constructor(options) {\n        var _a;\n        this._logger = Logger.getInstance();\n        this.id = 0;\n        this._elapsedTime = 0;\n        this._totalTimeAlive = 0;\n        this._running = false;\n        this._numberOfTicks = 0;\n        this.interval = 10;\n        this.repeats = false;\n        this.maxNumberOfRepeats = -1;\n        this.randomRange = [0, 0];\n        this._baseInterval = 10;\n        this._generateRandomInterval = () => {\n            return this._baseInterval + this.random.integer(this.randomRange[0], this.randomRange[1]);\n        };\n        this._complete = false;\n        this.scene = null;\n        const fcn = (_a = options.action) !== null && _a !== void 0 ? _a : options.fcn;\n        const interval = options.interval;\n        const repeats = options.repeats;\n        const numberOfRepeats = options.numberOfRepeats;\n        const randomRange = options.randomRange;\n        const random = options.random;\n        if (!!numberOfRepeats && numberOfRepeats >= 0) {\n            this.maxNumberOfRepeats = numberOfRepeats;\n            if (!repeats) {\n                throw new Error('repeats must be set to true if numberOfRepeats is set');\n            }\n        }\n        this.id = Timer._MAX_ID++;\n        this._callbacks = [];\n        this._baseInterval = this.interval = interval;\n        if (!!randomRange) {\n            if (randomRange[0] > randomRange[1]) {\n                throw new Error('min value must be lower than max value for range');\n            }\n            //We use the instance of ex.Random to generate the range\n            this.random = random !== null && random !== void 0 ? random : new Random();\n            this.randomRange = randomRange;\n            this.interval = this._generateRandomInterval();\n            this.on(() => {\n                this.interval = this._generateRandomInterval();\n            });\n        }\n        this.repeats = repeats || this.repeats;\n        if (fcn) {\n            this.on(fcn);\n        }\n    }\n    /**\n     * Adds a new callback to be fired after the interval is complete\n     * @param action The callback to be added to the callback list, to be fired after the interval is complete.\n     */\n    on(action) {\n        this._callbacks.push(action);\n    }\n    /**\n     * Removes a callback from the callback list to be fired after the interval is complete.\n     * @param action The callback to be removed from the callback list, to be fired after the interval is complete.\n     */\n    off(action) {\n        const index = this._callbacks.indexOf(action);\n        this._callbacks.splice(index, 1);\n    }\n    /**\n     * Updates the timer after a certain number of milliseconds have elapsed. This is used internally by the engine.\n     * @param elapsed  Number of elapsed milliseconds since the last update.\n     */\n    update(elapsed) {\n        if (this._running) {\n            this._totalTimeAlive += elapsed;\n            this._elapsedTime += elapsed;\n            if (this.maxNumberOfRepeats > -1 && this._numberOfTicks >= this.maxNumberOfRepeats) {\n                this._complete = true;\n                this._running = false;\n                this._elapsedTime = 0;\n            }\n            if (!this.complete && this._elapsedTime >= this.interval) {\n                this._callbacks.forEach((c) => {\n                    c.call(this);\n                });\n                this._numberOfTicks++;\n                if (this.repeats) {\n                    this._elapsedTime = 0;\n                }\n                else {\n                    this._complete = true;\n                    this._running = false;\n                    this._elapsedTime = 0;\n                }\n            }\n        }\n    }\n    /**\n     * Resets the timer so that it can be reused, and optionally reconfigure the timers interval.\n     *\n     * Warning** you may need to call `timer.start()` again if the timer had completed\n     * @param newInterval If specified, sets a new non-negative interval in milliseconds to refire the callback\n     * @param newNumberOfRepeats If specified, sets a new non-negative upper limit to the number of time this timer executes\n     */\n    reset(newInterval, newNumberOfRepeats) {\n        if (!!newInterval && newInterval >= 0) {\n            this._baseInterval = this.interval = newInterval;\n        }\n        if (!!this.maxNumberOfRepeats && this.maxNumberOfRepeats >= 0) {\n            this.maxNumberOfRepeats = newNumberOfRepeats;\n            if (!this.repeats) {\n                throw new Error('repeats must be set to true if numberOfRepeats is set');\n            }\n        }\n        this._complete = false;\n        this._elapsedTime = 0;\n        this._numberOfTicks = 0;\n    }\n    get timesRepeated() {\n        return this._numberOfTicks;\n    }\n    getTimeRunning() {\n        return this._totalTimeAlive;\n    }\n    /**\n     * @returns milliseconds until the next action callback, if complete will return 0\n     */\n    get timeToNextAction() {\n        if (this.complete) {\n            return 0;\n        }\n        return this.interval - this._elapsedTime;\n    }\n    /**\n     * @returns milliseconds elapsed toward the next action\n     */\n    get timeElapsedTowardNextAction() {\n        return this._elapsedTime;\n    }\n    get isRunning() {\n        return this._running;\n    }\n    /**\n     * Pauses the timer, time will no longer increment towards the next call\n     */\n    pause() {\n        this._running = false;\n        return this;\n    }\n    /**\n     * Resumes the timer, time will now increment towards the next call.\n     */\n    resume() {\n        this._running = true;\n        return this;\n    }\n    /**\n     * Starts the timer, if the timer was complete it will restart the timer and reset the elapsed time counter\n     */\n    start() {\n        if (!this.scene) {\n            this._logger.warn('Cannot start a timer not part of a scene, timer wont start until added');\n        }\n        this._running = true;\n        if (this.complete) {\n            this._complete = false;\n            this._elapsedTime = 0;\n            this._numberOfTicks = 0;\n        }\n        return this;\n    }\n    /**\n     * Stops the timer and resets the elapsed time counter towards the next action invocation\n     */\n    stop() {\n        this._running = false;\n        this._elapsedTime = 0;\n        this._numberOfTicks = 0;\n        return this;\n    }\n    /**\n     * Cancels the timer, preventing any further executions.\n     */\n    cancel() {\n        this.pause();\n        if (this.scene) {\n            this.scene.cancelTimer(this);\n        }\n    }\n}\nTimer._MAX_ID = 0;\n\n;// ./Graphics/ParallaxComponent.ts\n\n\nclass ParallaxComponent extends Component {\n    constructor(parallaxFactor) {\n        super();\n        this.parallaxFactor = vec(1.0, 1.0);\n        this.parallaxFactor = parallaxFactor !== null && parallaxFactor !== void 0 ? parallaxFactor : this.parallaxFactor;\n    }\n}\n\n;// ./Graphics/DebugGraphicsComponent.ts\n\n/**\n * Provide arbitrary drawing for the purposes of debugging your game\n *\n * Will only show when the Engine is set to debug mode {@apilink Engine.showDebug} or {@apilink Engine.toggleDebug}\n *\n */\nclass DebugGraphicsComponent extends Component {\n    constructor(draw, useTransform = true) {\n        super();\n        this.draw = draw;\n        this.useTransform = useTransform;\n    }\n}\n\n;// ./Input/PointerEventsToObjectDispatcher.ts\n\n/**\n *\n */\nfunction hasNestedEvents(object) {\n    return object && object._dispatchPointerEvents && object._processPointerToObject;\n}\nclass PointerTargetObjectProxy {\n    get events() {\n        return this.object.events;\n    }\n    init(object, contains, active) {\n        this.object = object;\n        this.contains = contains;\n        this.active = active;\n    }\n}\nclass PointerEventsToObjectDispatcher {\n    constructor() {\n        this._proxyPool = new RentalPool(() => new PointerTargetObjectProxy(), (p) => p, 100);\n        this._objectToProxy = new Map();\n        this._proxies = [];\n        this._lastFrameObjectToPointers = new Map();\n        this._currentFrameObjectToPointers = new Map();\n    }\n    /**\n     * Tracks an object to associate with pointers and their events\n     * @param object\n     * @param contains\n     * @param active\n     */\n    addObject(object, contains, active) {\n        const proxy = this._proxyPool.rent(false);\n        proxy.init(object, contains, active);\n        this._proxies.push(proxy);\n        this._objectToProxy.set(object, proxy);\n    }\n    _getProxy(object) {\n        const proxy = this._objectToProxy.get(object);\n        if (proxy) {\n            return proxy;\n        }\n        throw new Error('No PointerTargetProxy for object');\n    }\n    /**\n     * Untracks an object associated with pointers and their events\n     * @param object\n     */\n    removeObject(object) {\n        const proxy = this._objectToProxy.get(object);\n        if (proxy) {\n            const index = this._proxies.indexOf(proxy);\n            if (index > -1) {\n                this._proxies.splice(index, 1);\n            }\n            this._proxyPool.return(proxy);\n        }\n    }\n    _objectCurrentlyUnderPointer(object, pointerId) {\n        return !!(this._currentFrameObjectToPointers.has(object) && this._currentFrameObjectToPointers.get(object).includes(pointerId));\n    }\n    _objectWasUnderPointer(object, pointerId) {\n        return !!(this._lastFrameObjectToPointers.has(object) && this._lastFrameObjectToPointers.get(object).includes(pointerId));\n    }\n    _entered(object, pointerId) {\n        return this._objectCurrentlyUnderPointer(object, pointerId) && !this._lastFrameObjectToPointers.has(object);\n    }\n    _left(object, pointerId) {\n        return !this._currentFrameObjectToPointers.has(object) && this._objectWasUnderPointer(object, pointerId);\n    }\n    /**\n     * Manually associate a pointer id with an object.\n     *\n     * This assumes you've checked that the pointer is indeed over the object.\n     */\n    addPointerToObject(object, pointerId) {\n        const maybeProxy = this._objectToProxy.get(object);\n        if (maybeProxy) {\n            this._addPointerToProxy(maybeProxy, pointerId);\n        }\n    }\n    _addPointerToProxy(object, pointerId) {\n        if (!this._currentFrameObjectToPointers.has(object)) {\n            this._currentFrameObjectToPointers.set(object, [pointerId]);\n            return;\n        }\n        const pointers = this._currentFrameObjectToPointers.get(object);\n        this._currentFrameObjectToPointers.set(object, pointers.concat(pointerId));\n    }\n    /**\n     * Dispatches the appropriate pointer events in sortedObject order on tracked objects\n     * @param receiver\n     * @param sortedObjects\n     */\n    dispatchEvents(receiver, sortedObjects) {\n        const lastFrameEntities = new Set(this._lastFrameObjectToPointers.keys());\n        const currentFrameEntities = new Set(this._currentFrameObjectToPointers.keys());\n        // Filter preserves z order\n        let lastMovePerPointer;\n        let lastUpPerPointer;\n        let lastDownPerPointer;\n        // Dispatch events in proxy z order\n        for (let i = 0; i < sortedObjects.length; i++) {\n            const object = sortedObjects[i];\n            const proxy = this._getProxy(object);\n            if (hasNestedEvents(object)) {\n                object._dispatchPointerEvents(receiver);\n            }\n            if (lastFrameEntities.has(proxy) || currentFrameEntities.has(proxy)) {\n                lastDownPerPointer = this._processDownAndEmit(receiver, proxy);\n                lastUpPerPointer = this._processUpAndEmit(receiver, proxy);\n                lastMovePerPointer = this._processMoveAndEmit(receiver, proxy);\n                const lastUpDownMoveEvents = [...lastMovePerPointer.values(), ...lastDownPerPointer.values(), ...lastUpPerPointer.values()];\n                this._processEnterLeaveAndEmit(receiver, proxy, lastUpDownMoveEvents);\n                this._processCancelAndEmit(receiver, proxy);\n                this._processWheelAndEmit(receiver, proxy);\n            }\n        }\n    }\n    /**\n     * Given the tracked objects, update pointer containment given the provided contains()\n     * @param receiver\n     * @param objects\n     */\n    processPointerToObject(receiver, objects) {\n        // Pre-process find entities under pointers\n        for (let objectIndex = 0; objectIndex < objects.length; objectIndex++) {\n            const object = objects[objectIndex];\n            const proxy = this._getProxy(object);\n            if (hasNestedEvents(object)) {\n                object._processPointerToObject(receiver);\n            }\n            for (const [pointerId, pos] of receiver.currentFramePointerCoords.entries()) {\n                if (proxy.contains(pos)) {\n                    this._addPointerToProxy(proxy, pointerId);\n                }\n            }\n        }\n    }\n    /**\n     * Clear current frames pointer-object associations and track last frame pointer-object associations\n     */\n    clear() {\n        this._lastFrameObjectToPointers.clear();\n        this._lastFrameObjectToPointers = new Map(this._currentFrameObjectToPointers);\n        this._currentFrameObjectToPointers.clear();\n    }\n    _processDownAndEmit(receiver, object) {\n        const lastDownPerPointer = new Map();\n        // Loop through down and dispatch to entities\n        for (const event of receiver.currentFrameDown) {\n            if (event.active && this._objectCurrentlyUnderPointer(object, event.pointerId)) {\n                object.events.emit('pointerdown', event);\n                if (receiver.isDragStart(event.pointerId)) {\n                    object.events.emit('pointerdragstart', event);\n                }\n            }\n            lastDownPerPointer.set(event.pointerId, event);\n        }\n        return lastDownPerPointer;\n    }\n    _processUpAndEmit(receiver, object) {\n        const lastUpPerPointer = new Map();\n        // Loop through up and dispatch to entities\n        for (const event of receiver.currentFrameUp) {\n            if (event.active && this._objectCurrentlyUnderPointer(object, event.pointerId)) {\n                object.events.emit('pointerup', event);\n                if (receiver.isDragEnd(event.pointerId)) {\n                    object.events.emit('pointerdragend', event);\n                }\n            }\n            lastUpPerPointer.set(event.pointerId, event);\n        }\n        return lastUpPerPointer;\n    }\n    _processMoveAndEmit(receiver, object) {\n        const lastMovePerPointer = new Map();\n        // Loop through move and dispatch to entities\n        for (const event of receiver.currentFrameMove) {\n            if (event.active && object.active() && this._objectCurrentlyUnderPointer(object, event.pointerId)) {\n                // move\n                object.events.emit('pointermove', event);\n                if (receiver.isDragging(event.pointerId)) {\n                    object.events.emit('pointerdragmove', event);\n                }\n            }\n            lastMovePerPointer.set(event.pointerId, event);\n        }\n        return lastMovePerPointer;\n    }\n    _processEnterLeaveAndEmit(receiver, object, lastUpDownMoveEvents) {\n        // up, down, and move are considered for enter and leave\n        for (const event of lastUpDownMoveEvents) {\n            // enter\n            if (event.active && object.active() && this._entered(object, event.pointerId)) {\n                object.events.emit('pointerenter', event);\n                if (receiver.isDragging(event.pointerId)) {\n                    object.events.emit('pointerdragenter', event);\n                }\n                break;\n            }\n            if (event.active &&\n                object.active() &&\n                // leave can happen on move\n                (this._left(object, event.pointerId) ||\n                    // or leave can happen on pointer up\n                    (this._objectCurrentlyUnderPointer(object, event.pointerId) && event.type === 'up'))) {\n                object.events.emit('pointerleave', event);\n                if (receiver.isDragging(event.pointerId)) {\n                    object.events.emit('pointerdragleave', event);\n                }\n                break;\n            }\n        }\n    }\n    _processCancelAndEmit(receiver, object) {\n        // cancel\n        for (const event of receiver.currentFrameCancel) {\n            if (event.active && object.active() && this._objectCurrentlyUnderPointer(object, event.pointerId)) {\n                object.events.emit('pointercancel', event);\n            }\n        }\n    }\n    _processWheelAndEmit(receiver, object) {\n        // wheel\n        for (const event of receiver.currentFrameWheel) {\n            // Currently the wheel only fires under the primary pointer '0'\n            if (event.active && object.active() && this._objectCurrentlyUnderPointer(object, 0)) {\n                object.events.emit('pointerwheel', event);\n            }\n        }\n    }\n}\n\n;// ./TileMap/TileMap.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TileMapEvents = {\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw',\n    PointerUp: 'pointerup',\n    PointerDown: 'pointerdown',\n    PointerMove: 'pointermove',\n    PointerCancel: 'pointercancel'\n};\n/**\n * The TileMap provides a mechanism for doing flat 2D tiles rendered in a grid.\n *\n * TileMaps are useful for top down or side scrolling grid oriented games.\n */\nclass TileMap extends Entity {\n    flagCollidersDirty() {\n        this._collidersDirty = true;\n    }\n    flagTilesDirty() {\n        for (let i = 0; i < this.tiles.length; i++) {\n            if (this.tiles[i]) {\n                this.tiles[i].flagDirty();\n            }\n        }\n    }\n    get x() {\n        var _a;\n        return (_a = this.transform.pos.x) !== null && _a !== void 0 ? _a : 0;\n    }\n    set x(val) {\n        var _a;\n        if ((_a = this.transform) === null || _a === void 0 ? void 0 : _a.pos) {\n            this.get(TransformComponent).pos = vec(val, this.y);\n        }\n    }\n    get y() {\n        var _a, _b;\n        return (_b = (_a = this.transform) === null || _a === void 0 ? void 0 : _a.pos.y) !== null && _b !== void 0 ? _b : 0;\n    }\n    set y(val) {\n        var _a;\n        if ((_a = this.transform) === null || _a === void 0 ? void 0 : _a.pos) {\n            this.transform.pos = vec(this.x, val);\n        }\n    }\n    get z() {\n        var _a;\n        return (_a = this.transform.z) !== null && _a !== void 0 ? _a : 0;\n    }\n    set z(val) {\n        if (this.transform) {\n            this.transform.z = val;\n        }\n    }\n    get rotation() {\n        var _a, _b;\n        return (_b = (_a = this.transform) === null || _a === void 0 ? void 0 : _a.rotation) !== null && _b !== void 0 ? _b : 0;\n    }\n    set rotation(val) {\n        if (this.transform) {\n            this.transform.rotation = val;\n        }\n    }\n    get scale() {\n        var _a, _b;\n        return (_b = (_a = this.transform) === null || _a === void 0 ? void 0 : _a.scale) !== null && _b !== void 0 ? _b : Vector.One;\n    }\n    set scale(val) {\n        var _a;\n        if ((_a = this.transform) === null || _a === void 0 ? void 0 : _a.scale) {\n            this.transform.scale = val;\n        }\n    }\n    get pos() {\n        return this.transform.pos;\n    }\n    set pos(val) {\n        this.transform.pos = val;\n    }\n    get vel() {\n        return this._motion.vel;\n    }\n    set vel(val) {\n        this._motion.vel = val;\n    }\n    /**\n     * Width of the whole tile map in pixels\n     */\n    get width() {\n        return this.tileWidth * this.columns * this.scale.x;\n    }\n    /**\n     * Height of the whole tilemap in pixels\n     */\n    get height() {\n        return this.tileHeight * this.rows * this.scale.y;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * @param options\n     */\n    constructor(options) {\n        var _a, _b, _c;\n        super([], options.name);\n        this.events = new EventEmitter();\n        this._token = 0;\n        this.logger = Logger.getInstance();\n        this.tiles = [];\n        this._rows = [];\n        this._cols = [];\n        this.renderFromTopOfGraphic = false;\n        this.meshingLookBehind = 10;\n        this._collidersDirty = true;\n        this._oldRotation = 0;\n        this._originalOffsets = new WeakMap();\n        this.meshingLookBehind = (_a = options.meshingLookBehind) !== null && _a !== void 0 ? _a : this.meshingLookBehind;\n        this.addComponent(new TransformComponent());\n        this.addComponent(new MotionComponent());\n        this.addComponent(new BodyComponent({\n            type: CollisionType.Fixed\n        }));\n        this.addComponent(new GraphicsComponent({\n            onPostDraw: (ctx, elapsed) => this.draw(ctx, elapsed)\n        }));\n        this.addComponent(new DebugGraphicsComponent((ctx, debugFlags) => this.debug(ctx, debugFlags), false));\n        this.addComponent(new ColliderComponent());\n        this.addComponent(new PointerComponent());\n        this.pointer = this.get(PointerComponent);\n        this._graphics = this.get(GraphicsComponent);\n        this.transform = this.get(TransformComponent);\n        this._motion = this.get(MotionComponent);\n        this.collider = this.get(ColliderComponent);\n        this._composite = this.collider.useCompositeCollider([]);\n        this.transform.pos = (_b = options.pos) !== null && _b !== void 0 ? _b : Vector.Zero;\n        this._oldPos = this.transform.pos.clone();\n        this._oldScale = this.transform.scale.clone();\n        this.renderFromTopOfGraphic = (_c = options.renderFromTopOfGraphic) !== null && _c !== void 0 ? _c : this.renderFromTopOfGraphic;\n        this.tileWidth = options.tileWidth;\n        this.tileHeight = options.tileHeight;\n        this.rows = options.rows;\n        this.columns = options.columns;\n        this._pointerEventDispatcher = new PointerEventsToObjectDispatcher();\n        this.tiles = new Array(this.rows * this.columns);\n        this._rows = new Array(this.rows);\n        this._cols = new Array(this.columns);\n        let currentCol = [];\n        for (let i = 0; i < this.columns; i++) {\n            for (let j = 0; j < this.rows; j++) {\n                const tile = new Tile({\n                    x: i,\n                    y: j,\n                    map: this\n                });\n                tile.map = this;\n                this.tiles[i + j * this.columns] = tile;\n                this._pointerEventDispatcher.addObject(tile, (vec) => {\n                    // TODO handle geometry/graphics\n                    return tile.bounds.contains(vec.worldPos);\n                }, () => true);\n                currentCol.push(tile);\n                if (!this._rows[j]) {\n                    this._rows[j] = [];\n                }\n                this._rows[j].push(tile);\n            }\n            this._cols[i] = currentCol;\n            currentCol = [];\n        }\n        this._graphics.localBounds = new BoundingBox({\n            left: 0,\n            top: 0,\n            right: this.columns * this.tileWidth * this.scale.x,\n            bottom: this.rows * this.tileHeight * this.scale.y\n        });\n    }\n    _initialize(engine) {\n        super._initialize(engine);\n        this._engine = engine;\n    }\n    _getOrSetColliderOriginalOffset(collider) {\n        var _a;\n        if (!this._originalOffsets.has(collider)) {\n            const originalOffset = collider.offset;\n            this._originalOffsets.set(collider, originalOffset);\n            return originalOffset;\n        }\n        else {\n            return (_a = this._originalOffsets.get(collider)) !== null && _a !== void 0 ? _a : Vector.Zero;\n        }\n    }\n    /**\n     * Tiles colliders based on the solid tiles in the tilemap.\n     */\n    _updateColliders() {\n        this.collider.$colliderRemoved.notifyAll(this._composite);\n        this._composite.clearColliders();\n        const colliders = [];\n        this._composite = this.collider.useCompositeCollider([]);\n        let current = null;\n        /**\n         * Returns wether or not the 2 boxes share an edge and are the same height\n         * @param prev\n         * @param next\n         * @returns true if they share and edge, false if not\n         */\n        const shareEdges = (prev, next) => {\n            if (prev && next) {\n                // same top/bottom\n                return (prev.top === next.top &&\n                    prev.bottom === next.bottom &&\n                    // Shared right/left edge\n                    prev.right === next.left);\n            }\n            return false;\n        };\n        /**\n         * Potentially merges the current collider into a list of previous ones, mutating the list\n         * If checkAndCombine returns true, the collider was successfully merged and should be thrown away\n         * @param current current collider to test\n         * @param colliders List of colliders to consider merging with\n         * @param maxLookBack The amount of colliders to look back for combination\n         * @returns false when no combination found, true when successfully combined\n         */\n        const checkAndCombine = (current, colliders, maxLookBack = this.meshingLookBehind) => {\n            if (!current) {\n                return false;\n            }\n            // walk backwards through the list of colliders and combine with the first that shares an edge\n            for (let i = colliders.length - 1; i >= 0; i--) {\n                if (maxLookBack-- < 0) {\n                    // blunt the O(n^2) algorithm a bit\n                    return false;\n                }\n                const prev = colliders[i];\n                if (shareEdges(prev, current)) {\n                    colliders[i] = prev.combine(current);\n                    return true;\n                }\n            }\n            return false;\n        };\n        // ? configurable bias perhaps, horizontal strips vs. vertical ones\n        // Bad tile collider packing algorithm\n        for (let i = 0; i < this.columns; i++) {\n            // Scan column for colliders\n            for (let j = 0; j < this.rows; j++) {\n                const tile = this.tiles[i + j * this.columns];\n                // Current tile in column is solid build up current collider\n                if (tile.solid) {\n                    // Use custom collider otherwise bounding box\n                    if (tile.getColliders().length > 0) {\n                        // tile with custom collider interrupting the current run\n                        for (const collider of tile.getColliders()) {\n                            const originalOffset = this._getOrSetColliderOriginalOffset(collider);\n                            collider.offset = vec(tile.x * this.tileWidth * this.scale.x, tile.y * this.tileHeight * this.scale.y).add(originalOffset);\n                            collider.owner = this;\n                            this._composite.addCollider(collider);\n                        }\n                        //we push any current collider before nulling the current run\n                        if (current && !checkAndCombine(current, colliders)) {\n                            colliders.push(current);\n                        }\n                        current = null;\n                        // Use the bounding box\n                    }\n                    else {\n                        if (!current) {\n                            // no current run, start one\n                            current = tile.defaultGeometry;\n                        }\n                        else {\n                            // combine with current run\n                            current = current.combine(tile.defaultGeometry);\n                        }\n                    }\n                }\n                else {\n                    // Not solid skip and cut off the current collider\n                    // End of run check and combine\n                    if (current && !checkAndCombine(current, colliders)) {\n                        colliders.push(current);\n                    }\n                    current = null;\n                }\n            }\n            // After a column is complete check to see if it can be merged into the last one\n            // Eno of run check and combine\n            if (current && !checkAndCombine(current, colliders)) {\n                // else new collider if no combination\n                colliders.push(current);\n            }\n            current = null;\n        }\n        for (const c of colliders) {\n            const collider = Shape.Box(c.width, c.height, Vector.Zero, vec(c.left - this.pos.x, c.top - this.pos.y));\n            collider.owner = this;\n            this._composite.addCollider(collider);\n        }\n        this.collider.update();\n        // Notify that colliders have been updated\n        this.collider.$colliderAdded.notifyAll(this._composite);\n    }\n    /**\n     * Returns the {@apilink Tile} by index (row major order)\n     *\n     * Returns null if out of bounds\n     */\n    getTileByIndex(index) {\n        var _a;\n        return (_a = this.tiles[index]) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Returns the {@apilink Tile} by its x and y integer coordinates\n     *\n     * Returns null if out of bounds\n     *\n     * For example, if I want the tile in fifth column (x), and second row (y):\n     * `getTile(4, 1)` 0 based, so 0 is the first in row/column\n     */\n    getTile(x, y) {\n        if (x < 0 || y < 0 || x >= this.columns || y >= this.rows) {\n            return null;\n        }\n        return this.tiles[x + y * this.columns];\n    }\n    /**\n     * Returns the {@apilink Tile} by testing a point in world coordinates,\n     * returns `null` if no Tile was found.\n     */\n    getTileByPoint(point) {\n        const { x, y } = this._getTileCoordinates(point);\n        const tile = this.getTile(x, y);\n        if (x >= 0 && y >= 0 && x < this.columns && y < this.rows && tile) {\n            return tile;\n        }\n        return null;\n    }\n    _getTileCoordinates(point) {\n        // Convert to Tile Space point\n        point = this.transform.applyInverse(point);\n        const x = Math.floor(point.x / this.tileWidth);\n        const y = Math.floor(point.y / this.tileHeight);\n        return { x, y };\n    }\n    getRows() {\n        return this._rows;\n    }\n    getColumns() {\n        return this._cols;\n    }\n    /**\n     * Returns the on screen tiles for a tilemap, this will overshoot by a small amount because of the internal quad tree data structure.\n     *\n     * Useful if you need to perform specific logic on onscreen tiles\n     */\n    getOnScreenTiles() {\n        let worldBounds = this._engine.screen.getWorldBounds();\n        const maybeParallax = this.get(ParallaxComponent);\n        if (maybeParallax && this.isInitialized) {\n            let pos = this.pos;\n            const oneMinusFactor = Vector.One.sub(maybeParallax.parallaxFactor);\n            const parallaxOffset = this._engine.currentScene.camera.pos.scale(oneMinusFactor);\n            pos = pos.sub(parallaxOffset);\n            // adjust world bounds by parallax factor\n            worldBounds = worldBounds.translate(pos);\n        }\n        const bounds = this.transform.coordPlane === CoordPlane.Screen ? this._engine.screen.getScreenBounds() : worldBounds;\n        const topLeft = this._getTileCoordinates(bounds.topLeft);\n        const topRight = this._getTileCoordinates(bounds.topRight);\n        const bottomRight = this._getTileCoordinates(bounds.bottomRight);\n        const bottomLeft = this._getTileCoordinates(bounds.bottomLeft);\n        const tileStartX = Math.min(clamp(topLeft.x, 0, this.columns - 1), clamp(topRight.x, 0, this.columns - 1));\n        const tileStartY = Math.min(clamp(topLeft.y, 0, this.rows - 1), clamp(topRight.y, 0, this.rows - 1));\n        const tileEndX = Math.max(clamp(bottomRight.x, 0, this.columns - 1), clamp(bottomLeft.x, 0, this.columns - 1));\n        const tileEndY = Math.max(clamp(bottomRight.y, 0, this.rows - 1), clamp(bottomLeft.y, 0, this.rows - 1));\n        const tiles = [];\n        for (let x = tileStartX; x <= tileEndX; x++) {\n            for (let y = tileStartY; y <= tileEndY; y++) {\n                tiles.push(this.getTile(x, y));\n            }\n        }\n        return tiles;\n    }\n    /**\n     * @internal\n     */\n    _processPointerToObject(receiver) {\n        this._pointerEventDispatcher.processPointerToObject(receiver, this.tiles);\n    }\n    /**\n     * @internal\n     */\n    _dispatchPointerEvents(receiver) {\n        this._pointerEventDispatcher.dispatchEvents(receiver, this.tiles);\n    }\n    update(engine, elapsed) {\n        this._initialize(engine);\n        this.onPreUpdate(engine, elapsed);\n        this.emit('preupdate', new PreUpdateEvent(engine, elapsed, this));\n        // Update colliders\n        if (!this._oldPos.equals(this.pos) || this._oldRotation !== this.rotation || !this._oldScale.equals(this.scale)) {\n            this.flagCollidersDirty();\n            this.flagTilesDirty();\n        }\n        if (this._collidersDirty) {\n            this._collidersDirty = false;\n            this._updateColliders();\n        }\n        // Clear last frame's events\n        this._pointerEventDispatcher.clear();\n        this._token++;\n        this.pos.clone(this._oldPos);\n        this._oldRotation = this.rotation;\n        this.scale.clone(this._oldScale);\n        this.transform.pos = this.pos;\n        this.onPostUpdate(engine, elapsed);\n        this.emit('postupdate', new PostUpdateEvent(engine, elapsed, this));\n    }\n    /**\n     * Draws the tile map to the screen. Called by the {@apilink Scene}.\n     * @param ctx ExcaliburGraphicsContext\n     * @param elapsed  The number of milliseconds since the last draw\n     */\n    draw(ctx, elapsed) {\n        if (!this.isInitialized) {\n            return;\n        }\n        this.emit('predraw', new PreDrawEvent(ctx, elapsed, this)); // TODO fix event\n        let graphics, graphicsIndex, graphicsLen;\n        const tiles = this.getOnScreenTiles();\n        for (let i = 0; i < tiles.length; i++) {\n            const tile = tiles[i];\n            // get non-negative tile sprites\n            const offsets = tile.getGraphicsOffsets();\n            graphics = tile.getGraphics();\n            for (graphicsIndex = 0, graphicsLen = graphics.length; graphicsIndex < graphicsLen; graphicsIndex++) {\n                // draw sprite, warning if sprite doesn't exist\n                const graphic = graphics[graphicsIndex];\n                const offset = offsets[graphicsIndex];\n                if (graphic) {\n                    if (hasGraphicsTick(graphic)) {\n                        graphic === null || graphic === void 0 ? void 0 : graphic.tick(elapsed, this._token);\n                    }\n                    const offsetY = this.renderFromTopOfGraphic ? 0 : graphic.height - this.tileHeight;\n                    graphic.draw(ctx, tile.x * this.tileWidth + offset.x, tile.y * this.tileHeight - offsetY + offset.y);\n                }\n            }\n        }\n        this.emit('postdraw', new PostDrawEvent(ctx, elapsed, this));\n    }\n    debug(gfx, debugFlags) {\n        const { showAll, showGrid, gridColor, gridWidth, showSolidBounds: showColliderBounds, solidBoundsColor: colliderBoundsColor, showColliderGeometry } = debugFlags.tilemap;\n        const { geometryColor, geometryLineWidth, geometryPointSize } = debugFlags.collider;\n        const width = this.tileWidth * this.columns * this.scale.x;\n        const height = this.tileHeight * this.rows * this.scale.y;\n        const pos = this.pos;\n        if (showGrid || showAll) {\n            for (let r = 0; r < this.rows + 1; r++) {\n                const yOffset = vec(0, r * this.tileHeight * this.scale.y);\n                gfx.drawLine(pos.add(yOffset), pos.add(vec(width, yOffset.y)), gridColor, gridWidth);\n            }\n            for (let c = 0; c < this.columns + 1; c++) {\n                const xOffset = vec(c * this.tileWidth * this.scale.x, 0);\n                gfx.drawLine(pos.add(xOffset), pos.add(vec(xOffset.x, height)), gridColor, gridWidth);\n            }\n        }\n        if (showAll || showColliderBounds || showColliderGeometry) {\n            const colliders = this._composite.getColliders();\n            gfx.save();\n            gfx.translate(this.pos.x, this.pos.y);\n            gfx.scale(this.scale.x, this.scale.y);\n            for (const collider of colliders) {\n                const bounds = collider.localBounds;\n                const pos = collider.worldPos.sub(this.pos);\n                if (showColliderBounds) {\n                    gfx.drawRectangle(pos, bounds.width, bounds.height, colliderBoundsColor);\n                }\n            }\n            gfx.restore();\n            if (showColliderGeometry) {\n                for (const collider of colliders) {\n                    collider.debug(gfx, geometryColor, { lineWidth: geometryLineWidth, pointSize: geometryPointSize });\n                }\n            }\n        }\n        if (showAll || showColliderBounds) {\n            gfx.save();\n            gfx.z = 999;\n            if (showColliderBounds) {\n                for (let i = 0; i < this.tiles.length; i++) {\n                    this.tiles[i].bounds.draw(gfx);\n                }\n            }\n            gfx.restore();\n        }\n    }\n}\n/**\n * TileMap Tile\n *\n * A light-weight object that occupies a space in a collision map. Generally\n * created by a {@apilink TileMap}.\n *\n * Tiles can draw multiple sprites. Note that the order of drawing is the order\n * of the sprites in the array so the last one will be drawn on top. You can\n * use transparency to create layers this way.\n */\nclass Tile {\n    /**\n     * Return the world position of the top left corner of the tile\n     */\n    get pos() {\n        if (this._posDirty) {\n            this._recalculate();\n            this._posDirty = false;\n        }\n        return this._pos;\n    }\n    /**\n     * Width of the tile in pixels\n     */\n    get width() {\n        return this._width;\n    }\n    /**\n     * Height of the tile in pixels\n     */\n    get height() {\n        return this._height;\n    }\n    /**\n     * Wether this tile should be treated as solid by the tilemap\n     */\n    get solid() {\n        return this._solid;\n    }\n    /**\n     * Wether this tile should be treated as solid by the tilemap\n     */\n    set solid(val) {\n        var _a;\n        (_a = this.map) === null || _a === void 0 ? void 0 : _a.flagCollidersDirty();\n        this._solid = val;\n    }\n    /**\n     * Current list of graphics for this tile\n     */\n    getGraphics() {\n        return this._graphics;\n    }\n    /**\n     * Current list of offsets for this tile's graphics\n     */\n    getGraphicsOffsets() {\n        return this._offsets;\n    }\n    /**\n     * Add another {@apilink Graphic} to this TileMap tile\n     * @param graphic\n     */\n    addGraphic(graphic, options) {\n        this._graphics.push(graphic);\n        if (options === null || options === void 0 ? void 0 : options.offset) {\n            this._offsets.push(options.offset);\n        }\n        else {\n            this._offsets.push(Vector.Zero);\n        }\n    }\n    /**\n     * Remove an instance of a {@apilink Graphic} from this tile\n     */\n    removeGraphic(graphic) {\n        const index = this._graphics.indexOf(graphic);\n        if (index > -1) {\n            this._graphics.splice(index, 1);\n            this._offsets.splice(index, 1);\n        }\n    }\n    /**\n     * Clear all graphics from this tile\n     */\n    clearGraphics() {\n        this._graphics.length = 0;\n        this._offsets.length = 0;\n    }\n    /**\n     * Returns the list of colliders\n     */\n    getColliders() {\n        return this._colliders;\n    }\n    /**\n     * Adds a custom collider to the {@apilink Tile} to use instead of it's bounds\n     *\n     * If no collider is set but {@apilink Tile.solid} is set, the tile bounds are used as a collider.\n     *\n     * **Note!** the {@apilink Tile.solid} must be set to true for it to act as a \"fixed\" collider\n     * @param collider\n     */\n    addCollider(collider) {\n        this._colliders.push(collider);\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Removes a collider from the {@apilink Tile}\n     * @param collider\n     */\n    removeCollider(collider) {\n        const index = this._colliders.indexOf(collider);\n        if (index > -1) {\n            this._colliders.splice(index, 1);\n        }\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Clears all colliders from the {@apilink Tile}\n     */\n    clearColliders() {\n        this._colliders.length = 0;\n        this.map.flagCollidersDirty();\n    }\n    constructor(options) {\n        var _a, _b;\n        this._posDirty = false;\n        this.events = new EventEmitter();\n        this._solid = false;\n        this._graphics = [];\n        this._offsets = [];\n        /**\n         * Current list of colliders for this tile\n         */\n        this._colliders = [];\n        /**\n         * Arbitrary data storage per tile, useful for any game specific data\n         */\n        this.data = new Map();\n        this.x = options.x;\n        this.y = options.y;\n        this.map = options.map;\n        this._width = options.map.tileWidth * this.map.scale.x;\n        this._height = options.map.tileHeight * this.map.scale.y;\n        this.solid = (_a = options.solid) !== null && _a !== void 0 ? _a : this.solid;\n        this._graphics = (_b = options.graphics) !== null && _b !== void 0 ? _b : [];\n        this._recalculate();\n    }\n    flagDirty() {\n        return (this._posDirty = true);\n    }\n    _recalculate() {\n        const geometryPos = this.map.pos.add(vec(this.x * this.map.tileWidth, this.y * this.map.tileHeight));\n        this._geometry = new BoundingBox(geometryPos.x, geometryPos.y, geometryPos.x + this.map.tileWidth, geometryPos.y + this.map.tileHeight);\n        this._width = this.map.tileWidth * this.map.scale.x;\n        this._height = this.map.tileHeight * this.map.scale.y;\n        this._pos = this.map.pos.add(vec(this.x * this._width, this.y * this._height));\n        this._bounds = new BoundingBox(this._pos.x, this._pos.y, this._pos.x + this._width, this._pos.y + this._height);\n        if (this.map.rotation) {\n            this._bounds = this._bounds.rotate(this.map.rotation, this.map.pos);\n        }\n        this._posDirty = false;\n    }\n    /**\n     * Tile bounds in world space\n     */\n    get bounds() {\n        if (this._posDirty) {\n            this._recalculate();\n        }\n        return this._bounds;\n    }\n    get defaultGeometry() {\n        return this._geometry;\n    }\n    /**\n     * Tile position in world space\n     */\n    get center() {\n        if (this._posDirty) {\n            this._recalculate();\n        }\n        return new Vector(this._pos.x + this._width / 2, this._pos.y + this._height / 2);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        if (handler) {\n            this.events.off(eventName, handler);\n        }\n        else {\n            this.events.off(eventName);\n        }\n    }\n}\n\n;// ./Camera.ts\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Container to house convenience strategy methods\n * @internal\n */\nclass StrategyContainer {\n    constructor(camera) {\n        this.camera = camera;\n    }\n    /**\n     * Creates and adds the {@apilink LockCameraToActorStrategy} on the current camera.\n     * @param actor The actor to lock the camera to\n     */\n    lockToActor(actor) {\n        this.camera.addStrategy(new LockCameraToActorStrategy(actor));\n    }\n    /**\n     * Creates and adds the {@apilink LockCameraToActorAxisStrategy} on the current camera\n     * @param actor The actor to lock the camera to\n     * @param axis The axis to follow the actor on\n     */\n    lockToActorAxis(actor, axis) {\n        this.camera.addStrategy(new LockCameraToActorAxisStrategy(actor, axis));\n    }\n    /**\n     * Creates and adds the {@apilink ElasticToActorStrategy} on the current camera\n     * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n     * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\n     * correct and bounce around the target\n     * @param actor Target actor to elastically follow\n     * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n     * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n     */\n    elasticToActor(actor, cameraElasticity, cameraFriction) {\n        this.camera.addStrategy(new ElasticToActorStrategy(actor, cameraElasticity, cameraFriction));\n    }\n    /**\n     * Creates and adds the {@apilink RadiusAroundActorStrategy} on the current camera\n     * @param actor Target actor to follow when it is \"radius\" pixels away\n     * @param radius Number of pixels away before the camera will follow\n     */\n    radiusAroundActor(actor, radius) {\n        this.camera.addStrategy(new RadiusAroundActorStrategy(actor, radius));\n    }\n    /**\n     * Creates and adds the {@apilink LimitCameraBoundsStrategy} on the current camera\n     * @param box The bounding box to limit the camera to.\n     */\n    limitCameraBounds(box) {\n        this.camera.addStrategy(new LimitCameraBoundsStrategy(box));\n    }\n}\n/**\n * Camera axis enum\n */\nvar Axis;\n(function (Axis) {\n    Axis[Axis[\"X\"] = 0] = \"X\";\n    Axis[Axis[\"Y\"] = 1] = \"Y\";\n})(Axis || (Axis = {}));\n/**\n * Lock a camera to the exact x/y position of an actor.\n */\nclass LockCameraToActorStrategy {\n    constructor(target) {\n        this.target = target;\n        this.action = (target, camera, engine, elapsed) => {\n            const center = target.center;\n            return center;\n        };\n    }\n}\n/**\n * Lock a camera to a specific axis around an actor.\n */\nclass LockCameraToActorAxisStrategy {\n    constructor(target, axis) {\n        this.target = target;\n        this.axis = axis;\n        this.action = (target, cam, _eng, elapsed) => {\n            const center = target.center;\n            const currentFocus = cam.getFocus();\n            if (this.axis === Axis.X) {\n                return new Vector(center.x, currentFocus.y);\n            }\n            else {\n                return new Vector(currentFocus.x, center.y);\n            }\n        };\n    }\n}\n/**\n * Using [Hook's law](https://en.wikipedia.org/wiki/Hooke's_law), elastically move the camera towards the target actor.\n */\nclass ElasticToActorStrategy {\n    /**\n     * If cameraElasticity < cameraFriction < 1.0, the behavior will be a dampened spring that will slowly end at the target without bouncing\n     * If cameraFriction < cameraElasticity < 1.0, the behavior will be an oscillating spring that will over\n     * correct and bounce around the target\n     * @param target Target actor to elastically follow\n     * @param cameraElasticity [0 - 1.0] The higher the elasticity the more force that will drive the camera towards the target\n     * @param cameraFriction [0 - 1.0] The higher the friction the more that the camera will resist motion towards the target\n     */\n    constructor(target, cameraElasticity, cameraFriction) {\n        this.target = target;\n        this.cameraElasticity = cameraElasticity;\n        this.cameraFriction = cameraFriction;\n        this.action = (target, cam, _eng, elapsed) => {\n            const position = target.center;\n            let focus = cam.getFocus();\n            let cameraVel = cam.vel.clone();\n            // Calculate the stretch vector, using the spring equation\n            // F = kX\n            // https://en.wikipedia.org/wiki/Hooke's_law\n            // Apply to the current camera velocity\n            const stretch = position.sub(focus).scale(this.cameraElasticity); // stretch is X\n            cameraVel = cameraVel.add(stretch);\n            // Calculate the friction (-1 to apply a force in the opposition of motion)\n            // Apply to the current camera velocity\n            const friction = cameraVel.scale(-1).scale(this.cameraFriction);\n            cameraVel = cameraVel.add(friction);\n            // Update position by velocity deltas\n            focus = focus.add(cameraVel);\n            return focus;\n        };\n    }\n}\nclass RadiusAroundActorStrategy {\n    /**\n     *\n     * @param target Target actor to follow when it is \"radius\" pixels away\n     * @param radius Number of pixels away before the camera will follow\n     */\n    constructor(target, radius) {\n        this.target = target;\n        this.radius = radius;\n        this.action = (target, cam, _eng, elapsed) => {\n            const position = target.center;\n            const focus = cam.getFocus();\n            const direction = position.sub(focus);\n            const distance = direction.magnitude;\n            if (distance >= this.radius) {\n                const offset = distance - this.radius;\n                return focus.add(direction.normalize().scale(offset));\n            }\n            return focus;\n        };\n    }\n}\n/**\n * Prevent a camera from going beyond the given camera dimensions.\n */\nclass LimitCameraBoundsStrategy {\n    constructor(target) {\n        this.target = target;\n        /**\n         * Useful for limiting the camera to a {@apilink TileMap}'s dimensions, or a specific area inside the map.\n         *\n         * Note that this strategy does not perform any movement by itself.\n         * It only sets the camera position to within the given bounds when the camera has gone beyond them.\n         * Thus, it is a good idea to combine it with other camera strategies and set this strategy as the last one.\n         *\n         * Make sure that the camera bounds are at least as large as the viewport size.\n         * @param target The bounding box to limit the camera to\n         */\n        this.boundSizeChecked = false; // Check and warn only once\n        this.action = (target, cam, _eng, elapsed) => {\n            const focus = cam.getFocus();\n            if (!this.boundSizeChecked) {\n                if (target.bottom - target.top < _eng.drawHeight || target.right - target.left < _eng.drawWidth) {\n                    Logger.getInstance().warn('Camera bounds should not be smaller than the engine viewport');\n                }\n                this.boundSizeChecked = true;\n            }\n            let focusX = focus.x;\n            let focusY = focus.y;\n            if (focus.x < target.left + _eng.halfDrawWidth) {\n                focusX = target.left + _eng.halfDrawWidth;\n            }\n            else if (focus.x > target.right - _eng.halfDrawWidth) {\n                focusX = target.right - _eng.halfDrawWidth;\n            }\n            if (focus.y < target.top + _eng.halfDrawHeight) {\n                focusY = target.top + _eng.halfDrawHeight;\n            }\n            else if (focus.y > target.bottom - _eng.halfDrawHeight) {\n                focusY = target.bottom - _eng.halfDrawHeight;\n            }\n            return vec(focusX, focusY);\n        };\n    }\n}\nconst CameraEvents = {\n    Initialize: 'initialize',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate'\n};\n/**\n * Cameras\n *\n * {@apilink Camera} is the base class for all Excalibur cameras. Cameras are used\n * to move around your game and set focus. They are used to determine\n * what is \"off screen\" and can be used to scale the game.\n *\n */\nclass Camera {\n    constructor() {\n        this.events = new EventEmitter();\n        this.transform = AffineMatrix.identity();\n        this.inverse = AffineMatrix.identity();\n        this._cameraStrategies = [];\n        this.strategy = new StrategyContainer(this);\n        /**\n         * Get or set current zoom of the camera, defaults to 1\n         */\n        this._z = 1;\n        /**\n         * Get or set rate of change in zoom, defaults to 0\n         */\n        this.dz = 0;\n        /**\n         * Get or set zoom acceleration\n         */\n        this.az = 0;\n        /**\n         * Current rotation of the camera\n         */\n        this.rotation = 0;\n        this._angularVelocity = 0;\n        this._posChanged = false;\n        this._pos = new WatchVector(Vector.Zero, () => {\n            this._posChanged = true;\n        });\n        /**\n         * Interpolated camera position if more draws are running than updates\n         *\n         * Enabled when `Engine.fixedUpdateFps` is enabled, in all other cases this will be the same as pos\n         */\n        this.drawPos = this.pos.clone();\n        this._oldPos = this.pos.clone();\n        /**\n         * Get or set the camera's velocity\n         */\n        this.vel = Vector.Zero;\n        /**\n         * Get or set the camera's acceleration\n         */\n        this.acc = Vector.Zero;\n        this._cameraMoving = false;\n        this._currentLerpTime = 0;\n        this._lerpDuration = 1000; // 1 second\n        this._lerpStart = null;\n        this._lerpEnd = null;\n        //camera effects\n        this._isShaking = false;\n        this._shakeMagnitudeX = 0;\n        this._shakeMagnitudeY = 0;\n        this._shakeDuration = 0;\n        this._elapsedShakeTime = 0;\n        this._xShake = 0;\n        this._yShake = 0;\n        this._isZooming = false;\n        this._zoomStart = 1;\n        this._zoomEnd = 1;\n        this._currentZoomTime = 0;\n        this._zoomDuration = 0;\n        this._zoomEasing = EasingFunctions.EaseInOutCubic;\n        this._easing = EasingFunctions.EaseInOutCubic;\n        this._halfWidth = 0;\n        this._halfHeight = 0;\n        this._viewport = null;\n        this._isInitialized = false;\n        this._snapPos = vec(0, 0);\n    }\n    get zoom() {\n        return this._z;\n    }\n    set zoom(val) {\n        this._z = val;\n        if (this._engine) {\n            this._halfWidth = this._engine.halfDrawWidth;\n            this._halfHeight = this._engine.halfDrawHeight;\n        }\n    }\n    /**\n     * Get or set the camera's angular velocity\n     */\n    get angularVelocity() {\n        return this._angularVelocity;\n    }\n    set angularVelocity(value) {\n        this._angularVelocity = value;\n    }\n    /**\n     * Get or set the camera's position\n     */\n    get pos() {\n        return this._pos;\n    }\n    set pos(vec) {\n        this._posChanged = true;\n        this._pos = new WatchVector(vec, () => {\n            this._posChanged = true;\n        });\n    }\n    /**\n     * Has the position changed since the last update\n     */\n    hasChanged() {\n        return this._posChanged;\n    }\n    /**\n     * Get the camera's x position\n     */\n    get x() {\n        return this.pos.x;\n    }\n    /**\n     * Set the camera's x position (cannot be set when following an {@apilink Actor} or when moving)\n     */\n    set x(value) {\n        if (!this._follow && !this._cameraMoving) {\n            this.pos = vec(value, this.pos.y);\n        }\n    }\n    /**\n     * Get the camera's y position\n     */\n    get y() {\n        return this.pos.y;\n    }\n    /**\n     * Set the camera's y position (cannot be set when following an {@apilink Actor} or when moving)\n     */\n    set y(value) {\n        if (!this._follow && !this._cameraMoving) {\n            this.pos = vec(this.pos.x, value);\n        }\n    }\n    /**\n     * Get or set the camera's x velocity\n     */\n    get dx() {\n        return this.vel.x;\n    }\n    set dx(value) {\n        this.vel = vec(value, this.vel.y);\n    }\n    /**\n     * Get or set the camera's y velocity\n     */\n    get dy() {\n        return this.vel.y;\n    }\n    set dy(value) {\n        this.vel = vec(this.vel.x, value);\n    }\n    /**\n     * Get or set the camera's x acceleration\n     */\n    get ax() {\n        return this.acc.x;\n    }\n    set ax(value) {\n        this.acc = vec(value, this.acc.y);\n    }\n    /**\n     * Get or set the camera's y acceleration\n     */\n    get ay() {\n        return this.acc.y;\n    }\n    set ay(value) {\n        this.acc = vec(this.acc.x, value);\n    }\n    /**\n     * Returns the focal point of the camera, a new point giving the x and y position of the camera\n     */\n    getFocus() {\n        return this.pos;\n    }\n    /**\n     * This moves the camera focal point to the specified position using specified easing function. Cannot move when following an Actor.\n     * @param pos The target position to move to\n     * @param duration The duration in milliseconds the move should last\n     * @param [easingFn] An optional easing function ({@apilink EasingFunctions.EaseInOutCubic} by default)\n     * @returns A {@apilink Promise} that resolves when movement is finished, including if it's interrupted.\n     *          The {@apilink Promise} value is the {@apilink Vector} of the target position. It will be rejected if a move cannot be made.\n     */\n    move(pos, duration, easingFn = EasingFunctions.EaseInOutCubic) {\n        if (typeof easingFn !== 'function') {\n            throw 'Please specify an EasingFunction';\n        }\n        // cannot move when following an actor\n        if (this._follow) {\n            return Promise.reject(pos);\n        }\n        // resolve existing promise, if any\n        if (this._lerpPromise && this._lerpResolve) {\n            this._lerpResolve(pos);\n        }\n        this._lerpPromise = new Promise((resolve) => {\n            this._lerpResolve = resolve;\n        });\n        this._lerpStart = this.getFocus().clone();\n        this._lerpDuration = duration;\n        this._lerpEnd = pos;\n        this._currentLerpTime = 0;\n        this._cameraMoving = true;\n        this._easing = easingFn;\n        return this._lerpPromise;\n    }\n    /**\n     * Sets the camera to shake at the specified magnitudes for the specified duration\n     * @param magnitudeX  The x magnitude of the shake\n     * @param magnitudeY  The y magnitude of the shake\n     * @param duration    The duration of the shake in milliseconds\n     */\n    shake(magnitudeX, magnitudeY, duration) {\n        this._isShaking = true;\n        this._shakeMagnitudeX = magnitudeX;\n        this._shakeMagnitudeY = magnitudeY;\n        this._shakeDuration = duration;\n    }\n    /**\n     * Zooms the camera in or out by the specified scale over the specified duration.\n     * If no duration is specified, it take effect immediately.\n     * @param scale    The scale of the zoom\n     * @param duration The duration of the zoom in milliseconds\n     */\n    zoomOverTime(scale, duration = 0, easingFn = EasingFunctions.EaseInOutCubic) {\n        this._zoomPromise = new Promise((resolve) => {\n            this._zoomResolve = resolve;\n        });\n        if (duration) {\n            this._isZooming = true;\n            this._zoomEasing = easingFn;\n            this._currentZoomTime = 0;\n            this._zoomDuration = duration;\n            this._zoomStart = this.zoom;\n            this._zoomEnd = scale;\n        }\n        else {\n            this._isZooming = false;\n            this.zoom = scale;\n            return Promise.resolve(true);\n        }\n        return this._zoomPromise;\n    }\n    /**\n     * Gets the bounding box of the viewport of this camera in world coordinates\n     */\n    get viewport() {\n        if (this._viewport) {\n            return this._viewport;\n        }\n        return new BoundingBox(0, 0, 0, 0);\n    }\n    /**\n     * Adds a new camera strategy to this camera\n     * @param cameraStrategy Instance of an {@apilink CameraStrategy}\n     */\n    addStrategy(cameraStrategy) {\n        this._cameraStrategies.push(cameraStrategy);\n    }\n    /**\n     * Removes a camera strategy by reference\n     * @param cameraStrategy Instance of an {@apilink CameraStrategy}\n     */\n    removeStrategy(cameraStrategy) {\n        removeItemFromArray(cameraStrategy, this._cameraStrategies);\n    }\n    /**\n     * Clears all camera strategies from the camera\n     */\n    clearAllStrategies() {\n        this._cameraStrategies.length = 0;\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPreUpdate} lifecycle event\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     * @internal\n     */\n    _preupdate(engine, elapsed) {\n        this.events.emit('preupdate', new PreUpdateEvent(engine, elapsed, this));\n        this.onPreUpdate(engine, elapsed);\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before a scene is updated.\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     */\n    onPreUpdate(engine, elapsed) {\n        // Overridable\n    }\n    /**\n     *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPostUpdate} lifecycle event\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     * @internal\n     */\n    _postupdate(engine, elapsed) {\n        this.events.emit('postupdate', new PostUpdateEvent(engine, elapsed, this));\n        this.onPostUpdate(engine, elapsed);\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after a scene is updated.\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     */\n    onPostUpdate(engine, elapsed) {\n        // Overridable\n    }\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    _initialize(engine) {\n        if (!this.isInitialized) {\n            this._engine = engine;\n            this._screen = engine.screen;\n            const currentRes = this._screen.contentArea;\n            let center = vec(currentRes.width / 2, currentRes.height / 2);\n            if (!this._engine.loadingComplete) {\n                // If there was a loading screen, we peek the configured resolution\n                const res = this._screen.peekResolution();\n                if (res) {\n                    center = vec(res.width / 2, res.height / 2);\n                }\n            }\n            this._halfWidth = center.x;\n            this._halfHeight = center.y;\n            // If the user has not set the camera pos, apply default center screen position\n            if (!this._posChanged) {\n                this.pos = center;\n            }\n            this.pos.clone(this.drawPos);\n            // First frame bootstrap\n            // Ensure camera tx is correct\n            // Run update twice to ensure properties are init'd\n            this.updateTransform(this.pos);\n            // Run strategies for first frame\n            this.runStrategies(engine, engine.clock.elapsed());\n            // Setup the first frame viewport\n            this.updateViewport();\n            // It's important to update the camera after strategies\n            // This prevents jitter\n            this.updateTransform(this.pos);\n            this.pos.clone(this._oldPos);\n            this.onInitialize(engine);\n            this.events.emit('initialize', new InitializeEvent(engine, this));\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after a scene is updated.\n     */\n    onInitialize(engine) {\n        // Overridable\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    runStrategies(engine, elapsed) {\n        for (const s of this._cameraStrategies) {\n            this.pos = s.action.call(s, s.target, this, engine, elapsed);\n        }\n    }\n    updateViewport() {\n        // recalculate viewport\n        this._viewport = new BoundingBox(this.x - this._halfWidth, this.y - this._halfHeight, this.x + this._halfWidth, this.y + this._halfHeight);\n    }\n    update(engine, elapsed) {\n        this._initialize(engine);\n        this._preupdate(engine, elapsed);\n        this.pos.clone(this._oldPos);\n        // Update placements based on linear algebra\n        this.pos = this.pos.add(this.vel.scale(elapsed / 1000));\n        this.zoom += (this.dz * elapsed) / 1000;\n        this.vel = this.vel.add(this.acc.scale(elapsed / 1000));\n        this.dz += (this.az * elapsed) / 1000;\n        this.rotation += (this.angularVelocity * elapsed) / 1000;\n        if (this._isZooming) {\n            if (this._currentZoomTime < this._zoomDuration) {\n                const zoomEasing = this._zoomEasing;\n                const newZoom = zoomEasing(this._currentZoomTime, this._zoomStart, this._zoomEnd, this._zoomDuration);\n                this.zoom = newZoom;\n                this._currentZoomTime += elapsed;\n            }\n            else {\n                this._isZooming = false;\n                this.zoom = this._zoomEnd;\n                this._currentZoomTime = 0;\n                this._zoomResolve(true);\n            }\n        }\n        if (this._cameraMoving) {\n            if (this._currentLerpTime < this._lerpDuration) {\n                const moveEasing = EasingFunctions.CreateVectorEasingFunction(this._easing);\n                const lerpPoint = moveEasing(this._currentLerpTime, this._lerpStart, this._lerpEnd, this._lerpDuration);\n                this.pos = lerpPoint;\n                this._currentLerpTime += elapsed;\n            }\n            else {\n                this.pos = this._lerpEnd;\n                const end = this._lerpEnd.clone();\n                this._lerpStart = null;\n                this._lerpEnd = null;\n                this._currentLerpTime = 0;\n                this._cameraMoving = false;\n                // Order matters here, resolve should be last so any chain promises have a clean slate\n                this._lerpResolve(end);\n            }\n        }\n        if (this._isDoneShaking()) {\n            this._isShaking = false;\n            this._elapsedShakeTime = 0;\n            this._shakeMagnitudeX = 0;\n            this._shakeMagnitudeY = 0;\n            this._shakeDuration = 0;\n            this._xShake = 0;\n            this._yShake = 0;\n        }\n        else {\n            this._elapsedShakeTime += elapsed;\n            this._xShake = ((Math.random() * this._shakeMagnitudeX) | 0) + 1;\n            this._yShake = ((Math.random() * this._shakeMagnitudeY) | 0) + 1;\n        }\n        this.runStrategies(engine, elapsed);\n        this.updateViewport();\n        // It's important to update the camera after strategies\n        // This prevents jitter\n        this.updateTransform(this.pos);\n        this._postupdate(engine, elapsed);\n        this._posChanged = false;\n    }\n    /**\n     * Applies the relevant transformations to the game canvas to \"move\" or apply effects to the Camera\n     * @param ctx Canvas context to apply transformations\n     */\n    draw(ctx) {\n        // default to the current position\n        this.pos.clone(this.drawPos);\n        // interpolation if fixed update is on\n        // must happen on the draw, because more draws are potentially happening than updates\n        if (this._engine.fixedUpdateTimestep) {\n            const blend = this._engine.currentFrameLagMs / this._engine.fixedUpdateTimestep;\n            const interpolatedPos = this.pos.scale(blend).add(this._oldPos.scale(1.0 - blend));\n            interpolatedPos.clone(this.drawPos);\n            this.updateTransform(interpolatedPos);\n        }\n        // Snap camera to pixel\n        if (ctx.snapToPixel) {\n            const snapPos = this.drawPos.clone(this._snapPos);\n            snapPos.x = ~~(snapPos.x + pixelSnapEpsilon * sign(snapPos.x));\n            snapPos.y = ~~(snapPos.y + pixelSnapEpsilon * sign(snapPos.y));\n            snapPos.clone(this.drawPos);\n            this.updateTransform(snapPos);\n        }\n        ctx.multiply(this.transform);\n    }\n    updateTransform(pos) {\n        // center the camera\n        const newCanvasWidth = this._screen.resolution.width / this.zoom;\n        const newCanvasHeight = this._screen.resolution.height / this.zoom;\n        const cameraPos = vec(-pos.x + newCanvasWidth / 2 + this._xShake, -pos.y + newCanvasHeight / 2 + this._yShake);\n        // Calculate camera transform\n        this.transform.reset();\n        this.transform.scale(this.zoom, this.zoom);\n        // rotate about the focus\n        this.transform.translate(newCanvasWidth / 2, newCanvasHeight / 2);\n        this.transform.rotate(this.rotation);\n        this.transform.translate(-newCanvasWidth / 2, -newCanvasHeight / 2);\n        this.transform.translate(cameraPos.x, cameraPos.y);\n        this.transform.inverse(this.inverse);\n    }\n    _isDoneShaking() {\n        return !this._isShaking || this._elapsedShakeTime >= this._shakeDuration;\n    }\n}\n\n;// ./Trigger.ts\n\n\n\n\nconst TriggerEvents = {\n    ExitTrigger: 'exit',\n    EnterTrigger: 'enter'\n};\n/**\n * Triggers are a method of firing arbitrary code on collision. These are useful\n * as 'buttons', 'switches', or to trigger effects in a game. By default triggers\n * are invisible, and can only be seen when {@apilink Trigger.visible} is set to `true`.\n */\nclass Trigger extends Actor {\n    /**\n     * @param options Trigger options\n     */\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super({ ...options });\n        this.events = new EventEmitter();\n        this.filter = (_a = options.filter) !== null && _a !== void 0 ? _a : (() => true);\n        this.repeat = (_b = options.repeat) !== null && _b !== void 0 ? _b : -1;\n        this.action = (_c = options.action) !== null && _c !== void 0 ? _c : (() => undefined);\n        this.target = options.target;\n        this.graphics.isVisible = (_d = options.visible) !== null && _d !== void 0 ? _d : false;\n        this.body.collisionType = CollisionType.Passive;\n        this.events.on('collisionstart', ({ other: collider }) => {\n            if (!this._matchesTarget(collider.owner)) {\n                return;\n            }\n            this.events.emit('enter', new EnterTriggerEvent(this, collider.owner));\n            this._dispatchAction(collider.owner);\n            // remove trigger if its done, -1 repeat forever\n            if (this.repeat === 0) {\n                this.kill();\n            }\n        });\n        this.events.on('collisionend', ({ other: collider }) => {\n            if (this._matchesTarget(collider.owner)) {\n                this.events.emit('exit', new ExitTriggerEvent(this, collider.owner));\n            }\n        });\n    }\n    _matchesTarget(entity) {\n        return this.filter(entity) && (this.target === undefined || this.target === entity);\n    }\n    _dispatchAction(target) {\n        if (this.repeat !== 0) {\n            this.action.call(this, target);\n            this.repeat--;\n        }\n    }\n}\n\n;// ./EntityComponentSystem/Priority.ts\n/**\n * Higher priorities run earlier than others in the system update\n */\nconst SystemPriority = {\n    Highest: -Infinity,\n    Higher: -5,\n    Average: 0,\n    Lower: 5,\n    Lowest: Infinity\n};\n\n;// ./EntityComponentSystem/System.ts\n\n/**\n * Enum that determines whether to run the system in the update or draw phase\n */\nvar SystemType;\n(function (SystemType) {\n    SystemType[\"Update\"] = \"update\";\n    SystemType[\"Draw\"] = \"draw\";\n})(SystemType || (SystemType = {}));\n/**\n * An Excalibur {@apilink System} that updates entities of certain types.\n * Systems are scene specific\n *\n *\n *\n * Excalibur Systems currently require at least 1 Component type to operated\n *\n * Multiple types are declared as a type union\n * For example:\n *\n * ```typescript\n * class MySystem extends System {\n *   static priority = SystemPriority.Lowest;\n *   public readonly systemType = SystemType.Update;\n *   public query: Query<typeof TransformComponent>;\n *   constructor(public world: World) {\n *   super();\n *      this.query = this.world.query([TransformComponent]);\n *   }\n *   public update(elapsed: number) {\n *      ...\n *   }\n * }\n * ```\n */\nclass System {\n}\n/**\n * System can execute in priority order, by default all systems are priority 0. Lower values indicated higher priority.\n * For a system to execute before all other a lower priority value (-1 for example) must be set.\n * For a system to execute after all other a higher priority value (10 for example) must be set.\n */\nSystem.priority = SystemPriority.Average;\n\n;// ./EntityComponentSystem/EntityManager.ts\n\n\n// Add/Remove entities and components\nclass EntityManager {\n    constructor(_world) {\n        this._world = _world;\n        this.entities = [];\n        this._entityIndex = {};\n        this._childAddedHandlerMap = new Map();\n        this._childRemovedHandlerMap = new Map();\n        this._createChildAddedHandler = () => (e) => {\n            this.addEntity(e);\n        };\n        this._createChildRemovedHandler = () => (e) => {\n            this.removeEntity(e, false);\n        };\n        this._entitiesToRemove = [];\n    }\n    /**\n     * Runs the entity lifecycle\n     * @param scene\n     * @param elapsed\n     */\n    updateEntities(scene, elapsed) {\n        for (let entityIndex = 0; entityIndex < this.entities.length; entityIndex++) {\n            const entity = this.entities[entityIndex];\n            entity.update(scene.engine, elapsed);\n            if (!entity.isActive) {\n                this.removeEntity(entity);\n            }\n        }\n    }\n    findEntitiesForRemoval() {\n        for (let entityIndex = 0; entityIndex < this.entities.length; entityIndex++) {\n            const entity = this.entities[entityIndex];\n            if (!entity.isActive) {\n                this.removeEntity(entity);\n            }\n        }\n    }\n    /**\n     * Adds an entity to be tracked by the EntityManager\n     * @param entity\n     */\n    addEntity(entity) {\n        entity.isActive = true;\n        entity.scene = this._world.scene;\n        if (entity && !this._entityIndex[entity.id]) {\n            this._entityIndex[entity.id] = entity;\n            this.entities.push(entity);\n            this._world.queryManager.addEntity(entity);\n            // if entity has children\n            entity.children.forEach((c) => {\n                c.scene = entity.scene;\n                this.addEntity(c);\n            });\n            const childAdded = this._createChildAddedHandler();\n            this._childAddedHandlerMap.set(entity, childAdded);\n            const childRemoved = this._createChildRemovedHandler();\n            this._childRemovedHandlerMap.set(entity, childRemoved);\n            entity.childrenAdded$.subscribe(childAdded);\n            entity.childrenRemoved$.subscribe(childRemoved);\n        }\n    }\n    removeEntity(idOrEntity, deferred = true) {\n        var _a, _b;\n        let id = 0;\n        if (idOrEntity instanceof Entity) {\n            id = idOrEntity.id;\n        }\n        else {\n            id = idOrEntity;\n        }\n        const entity = this._entityIndex[id];\n        if (entity && entity.isActive) {\n            entity.isActive = false;\n        }\n        if (entity && deferred) {\n            this._entitiesToRemove.push(entity);\n            return;\n        }\n        delete this._entityIndex[id];\n        if (entity) {\n            entity.scene = null;\n            removeItemFromArray(entity, this.entities);\n            this._world.queryManager.removeEntity(entity);\n            // if entity has children\n            entity.children.forEach((c) => {\n                c.scene = null;\n                this.removeEntity(c, deferred);\n            });\n            const childAddedHandler = this._childAddedHandlerMap.get(entity);\n            if (childAddedHandler) {\n                entity.childrenAdded$.unsubscribe(childAddedHandler);\n            }\n            const childRemovedHandler = this._childRemovedHandlerMap.get(entity);\n            if (childRemovedHandler) {\n                entity.childrenRemoved$.unsubscribe(childRemovedHandler);\n            }\n            // stats\n            if ((_b = (_a = this._world) === null || _a === void 0 ? void 0 : _a.scene) === null || _b === void 0 ? void 0 : _b.engine) {\n                this._world.scene.engine.stats.currFrame.actors.killed++;\n            }\n        }\n    }\n    processEntityRemovals() {\n        for (let entityIndex = 0; entityIndex < this._entitiesToRemove.length; entityIndex++) {\n            const entity = this._entitiesToRemove[entityIndex];\n            if (entity.isActive) {\n                continue;\n            }\n            this.removeEntity(entity, false);\n        }\n        this._entitiesToRemove.length = 0;\n    }\n    processComponentRemovals() {\n        for (let entityIndex = 0; entityIndex < this.entities.length; entityIndex++) {\n            const entity = this.entities[entityIndex];\n            entity.processComponentRemoval();\n        }\n    }\n    getById(id) {\n        return this._entityIndex[id];\n    }\n    getByName(name) {\n        return this.entities.filter((e) => e.name === name);\n    }\n    clear() {\n        for (let i = this.entities.length - 1; i >= 0; i--) {\n            this.removeEntity(this.entities[i]);\n        }\n    }\n}\n\n;// ./EntityComponentSystem/Query.ts\n\n/**\n * Represents query for entities that match a list of types that is cached and observable\n *\n * Queries can be strongly typed by supplying a type union in the optional type parameter\n * ```typescript\n * const queryAB = new ex.Query<ComponentTypeA | ComponentTypeB>(['A', 'B']);\n * ```\n */\nclass Query {\n    constructor(requiredComponents) {\n        this.requiredComponents = requiredComponents;\n        this.components = new Set();\n        this.entities = [];\n        /**\n         * This fires right after the component is added\n         */\n        this.entityAdded$ = new Observable();\n        /**\n         * This fires right before the component is actually removed from the entity, it will still be available for cleanup purposes\n         */\n        this.entityRemoved$ = new Observable();\n        if (requiredComponents.length === 0) {\n            throw new Error('Cannot create query without components');\n        }\n        for (const type of requiredComponents) {\n            this.components.add(type);\n        }\n        this.id = Query.createId(requiredComponents);\n    }\n    static createId(requiredComponents) {\n        // TODO what happens if a user defines the same type name as a built in type\n        // ! TODO this could be dangerous depending on the bundler's settings for names\n        // Maybe some kind of hash function is better here?\n        return requiredComponents\n            .slice()\n            .map((c) => c.name)\n            .sort()\n            .join('-');\n    }\n    /**\n     * Potentially adds an entity to a query index, returns true if added, false if not\n     * @param entity\n     */\n    checkAndAdd(entity) {\n        if (!this.entities.includes(entity) && entity.hasAll(Array.from(this.components))) {\n            this.entities.push(entity);\n            this.entityAdded$.notifyAll(entity);\n            return true;\n        }\n        return false;\n    }\n    removeEntity(entity) {\n        const index = this.entities.indexOf(entity);\n        if (index > -1) {\n            this.entities.splice(index, 1);\n            this.entityRemoved$.notifyAll(entity);\n        }\n    }\n    /**\n     * Returns a list of entities that match the query\n     * @param sort Optional sorting function to sort entities returned from the query\n     */\n    getEntities(sort) {\n        if (sort) {\n            this.entities.sort(sort);\n        }\n        return this.entities;\n    }\n}\n\n;// ./EntityComponentSystem/TagQuery.ts\n\nclass TagQuery {\n    constructor(requiredTags) {\n        this.requiredTags = requiredTags;\n        this.tags = new Set();\n        this.entities = [];\n        /**\n         * This fires right after the component is added\n         */\n        this.entityAdded$ = new Observable();\n        /**\n         * This fires right before the component is actually removed from the entity, it will still be available for cleanup purposes\n         */\n        this.entityRemoved$ = new Observable();\n        if (requiredTags.length === 0) {\n            throw new Error('Cannot create tag query without tags');\n        }\n        for (const tag of requiredTags) {\n            this.tags.add(tag);\n        }\n        this.id = TagQuery.createId(requiredTags);\n    }\n    static createId(requiredComponents) {\n        return requiredComponents.slice().sort().join('-');\n    }\n    checkAndAdd(entity) {\n        if (!this.entities.includes(entity) && entity.hasAllTags(Array.from(this.tags))) {\n            this.entities.push(entity);\n            this.entityAdded$.notifyAll(entity);\n            return true;\n        }\n        return false;\n    }\n    removeEntity(entity) {\n        const index = this.entities.indexOf(entity);\n        if (index > -1) {\n            this.entities.splice(index, 1);\n            this.entityRemoved$.notifyAll(entity);\n        }\n    }\n    /**\n     * Returns a list of entities that match the query\n     * @param sort Optional sorting function to sort entities returned from the query\n     */\n    getEntities(sort) {\n        if (sort) {\n            this.entities.sort(sort);\n        }\n        return this.entities;\n    }\n}\n\n;// ./EntityComponentSystem/QueryManager.ts\n\n\n/**\n * The query manager is responsible for updating all queries when entities/components change\n */\nclass QueryManager {\n    constructor(_world) {\n        this._world = _world;\n        this._queries = new Map();\n        this._addComponentHandlers = new Map();\n        this._removeComponentHandlers = new Map();\n        this._componentToQueriesIndex = new Map();\n        this._tagQueries = new Map();\n        this._addTagHandlers = new Map();\n        this._removeTagHandlers = new Map();\n        this._tagToQueriesIndex = new Map();\n        this._createAddComponentHandler = (entity) => (c) => {\n            this.addComponent(entity, c);\n        };\n        this._createRemoveComponentHandler = (entity) => (c) => {\n            this.removeComponent(entity, c);\n        };\n        this._createAddTagHandler = (entity) => (tag) => {\n            this.addTag(entity, tag);\n        };\n        this._createRemoveTagHandler = (entity) => (tag) => {\n            this.removeTag(entity, tag);\n        };\n    }\n    createQuery(requiredComponents) {\n        const id = Query.createId(requiredComponents);\n        if (this._queries.has(id)) {\n            // short circuit if query is already created\n            return this._queries.get(id);\n        }\n        const query = new Query(requiredComponents);\n        this._queries.set(query.id, query);\n        // index maintenance\n        for (const component of requiredComponents) {\n            const queries = this._componentToQueriesIndex.get(component);\n            if (!queries) {\n                this._componentToQueriesIndex.set(component, [query]);\n            }\n            else {\n                queries.push(query);\n            }\n        }\n        for (const entity of this._world.entities) {\n            this.addEntity(entity);\n        }\n        return query;\n    }\n    createTagQuery(requiredTags) {\n        const id = TagQuery.createId(requiredTags);\n        if (this._tagQueries.has(id)) {\n            // short circuit if query is already created\n            return this._tagQueries.get(id);\n        }\n        const query = new TagQuery(requiredTags);\n        this._tagQueries.set(query.id, query);\n        // index maintenance\n        for (const tag of requiredTags) {\n            const queries = this._tagToQueriesIndex.get(tag);\n            if (!queries) {\n                this._tagToQueriesIndex.set(tag, [query]);\n            }\n            else {\n                queries.push(query);\n            }\n        }\n        for (const entity of this._world.entities) {\n            this.addEntity(entity);\n        }\n        return query;\n    }\n    /**\n     * Scans queries and locates any that need this entity added\n     * @param entity\n     */\n    addEntity(entity) {\n        const maybeAddComponent = this._addComponentHandlers.get(entity);\n        const maybeRemoveComponent = this._removeComponentHandlers.get(entity);\n        const addComponent = maybeAddComponent !== null && maybeAddComponent !== void 0 ? maybeAddComponent : this._createAddComponentHandler(entity);\n        const removeComponent = maybeRemoveComponent !== null && maybeRemoveComponent !== void 0 ? maybeRemoveComponent : this._createRemoveComponentHandler(entity);\n        this._addComponentHandlers.set(entity, addComponent);\n        this._removeComponentHandlers.set(entity, removeComponent);\n        const maybeAddTag = this._addTagHandlers.get(entity);\n        const maybeRemoveTag = this._removeTagHandlers.get(entity);\n        const addTag = maybeAddTag !== null && maybeAddTag !== void 0 ? maybeAddTag : this._createAddTagHandler(entity);\n        const removeTag = maybeRemoveTag !== null && maybeRemoveTag !== void 0 ? maybeRemoveTag : this._createRemoveTagHandler(entity);\n        this._addTagHandlers.set(entity, addTag);\n        this._removeTagHandlers.set(entity, removeTag);\n        for (const query of this._queries.values()) {\n            query.checkAndAdd(entity);\n        }\n        for (const tagQuery of this._tagQueries.values()) {\n            tagQuery.checkAndAdd(entity);\n        }\n        entity.componentAdded$.subscribe(addComponent);\n        entity.componentRemoved$.subscribe(removeComponent);\n        entity.tagAdded$.subscribe(addTag);\n        entity.tagRemoved$.subscribe(removeTag);\n    }\n    /**\n     * Scans queries and locates any that need this entity removed\n     * @param entity\n     */\n    removeEntity(entity) {\n        // Handle components\n        const addComponent = this._addComponentHandlers.get(entity);\n        const removeComponent = this._removeComponentHandlers.get(entity);\n        for (const query of this._queries.values()) {\n            query.removeEntity(entity);\n        }\n        if (addComponent) {\n            entity.componentAdded$.unsubscribe(addComponent);\n        }\n        if (removeComponent) {\n            entity.componentRemoved$.unsubscribe(removeComponent);\n        }\n        // Handle tags\n        const addTag = this._addTagHandlers.get(entity);\n        const removeTag = this._removeTagHandlers.get(entity);\n        for (const tagQuery of this._tagQueries.values()) {\n            tagQuery.removeEntity(entity);\n        }\n        if (addTag) {\n            entity.tagAdded$.unsubscribe(addTag);\n        }\n        if (removeTag) {\n            entity.tagRemoved$.unsubscribe(removeTag);\n        }\n    }\n    /**\n     * Updates any queries when a component is added to an entity\n     * @param entity\n     * @param component\n     */\n    addComponent(entity, component) {\n        var _a;\n        const queries = (_a = this._componentToQueriesIndex.get(component.constructor)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.checkAndAdd(entity);\n        }\n    }\n    /**\n     * Updates any queries when a component is removed from an entity\n     * @param entity\n     * @param component\n     */\n    removeComponent(entity, component) {\n        var _a;\n        const queries = (_a = this._componentToQueriesIndex.get(component.constructor)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.removeEntity(entity);\n        }\n    }\n    /**\n     * Updates any queries when a tag is added to an entity\n     * @param entity\n     * @param tag\n     */\n    addTag(entity, tag) {\n        var _a;\n        const queries = (_a = this._tagToQueriesIndex.get(tag)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.checkAndAdd(entity);\n        }\n    }\n    /**\n     * Updates any queries when a component is removed from an entity\n     * @param entity\n     * @param tag\n     */\n    removeTag(entity, tag) {\n        var _a;\n        const queries = (_a = this._tagToQueriesIndex.get(tag)) !== null && _a !== void 0 ? _a : [];\n        for (const query of queries) {\n            query.removeEntity(entity);\n        }\n    }\n}\n\n;// ./EntityComponentSystem/SystemManager.ts\n\n\n/**\n *\n */\nfunction isSystemConstructor(x) {\n    var _a, _b;\n    return !!(x === null || x === void 0 ? void 0 : x.prototype) && !!((_b = (_a = x === null || x === void 0 ? void 0 : x.prototype) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name);\n}\n/**\n * The SystemManager is responsible for keeping track of all systems in a scene.\n * Systems are scene specific\n */\nclass SystemManager {\n    constructor(_world) {\n        this._world = _world;\n        /**\n         * List of systems, to add a new system call {@apilink SystemManager.addSystem}\n         */\n        this.systems = [];\n        this.initialized = false;\n    }\n    /**\n     * Get a system registered in the manager by type\n     * @param systemType\n     */\n    get(systemType) {\n        return this.systems.find((s) => s instanceof systemType);\n    }\n    /**\n     * Adds a system to the manager, it will now be updated every frame\n     * @param systemOrCtor\n     */\n    addSystem(systemOrCtor) {\n        let system;\n        if (systemOrCtor instanceof System) {\n            system = systemOrCtor;\n        }\n        else {\n            system = new systemOrCtor(this._world);\n        }\n        this.systems.push(system);\n        this.systems.sort((a, b) => a.constructor.priority - b.constructor.priority);\n        // If systems are added and the manager has already been init'd\n        // then immediately init the system\n        if (this.initialized && system.initialize) {\n            system.initialize(this._world, this._world.scene);\n        }\n    }\n    /**\n     * Removes a system from the manager, it will no longer be updated\n     * @param system\n     */\n    removeSystem(system) {\n        removeItemFromArray(system, this.systems);\n    }\n    /**\n     * Initialize all systems in the manager\n     *\n     * Systems added after initialize() will be initialized on add\n     */\n    initialize() {\n        if (!this.initialized) {\n            this.initialized = true;\n            for (const s of this.systems) {\n                if (s.initialize) {\n                    s.initialize(this._world, this._world.scene);\n                }\n            }\n        }\n    }\n    /**\n     * Updates all systems\n     * @param type whether this is an update or draw system\n     * @param scene context reference\n     * @param elapsed time in milliseconds\n     */\n    updateSystems(type, scene, elapsed) {\n        const systems = this.systems.filter((s) => s.systemType === type);\n        for (const s of systems) {\n            if (s.preupdate) {\n                s.preupdate(scene, elapsed);\n            }\n        }\n        for (const s of systems) {\n            s.update(elapsed);\n        }\n        for (const s of systems) {\n            if (s.postupdate) {\n                s.postupdate(scene, elapsed);\n            }\n        }\n    }\n    clear() {\n        for (let i = this.systems.length - 1; i >= 0; i--) {\n            this.removeSystem(this.systems[i]);\n        }\n    }\n}\n\n;// ./EntityComponentSystem/World.ts\n\n\n\n\n\n/**\n * The World is a self-contained entity component system for a particular context.\n */\nclass World {\n    /**\n     * The context type is passed to the system updates\n     * @param scene\n     */\n    constructor(scene) {\n        this.scene = scene;\n        this.queryManager = new QueryManager(this);\n        this.entityManager = new EntityManager(this);\n        this.systemManager = new SystemManager(this);\n    }\n    /**\n     * Query the ECS world for entities that match your components\n     * @param requiredTypes\n     */\n    query(requiredTypes) {\n        return this.queryManager.createQuery(requiredTypes);\n    }\n    queryTags(requiredTags) {\n        return this.queryManager.createTagQuery(requiredTags);\n    }\n    /**\n     * Update systems by type and time elapsed in milliseconds\n     */\n    update(type, elapsed) {\n        if (type === SystemType.Update) {\n            this.entityManager.updateEntities(this.scene, elapsed);\n        }\n        this.systemManager.updateSystems(type, this.scene, elapsed);\n        this.entityManager.findEntitiesForRemoval();\n        this.entityManager.processComponentRemovals();\n        this.entityManager.processEntityRemovals();\n    }\n    add(entityOrSystem) {\n        if (entityOrSystem instanceof Entity) {\n            this.entityManager.addEntity(entityOrSystem);\n        }\n        if (entityOrSystem instanceof System || isSystemConstructor(entityOrSystem)) {\n            this.systemManager.addSystem(entityOrSystem);\n        }\n    }\n    /**\n     * Get a system out of the ECS world\n     */\n    get(system) {\n        return this.systemManager.get(system);\n    }\n    remove(entityOrSystem, deferred = true) {\n        if (entityOrSystem instanceof Entity) {\n            this.entityManager.removeEntity(entityOrSystem, deferred);\n        }\n        if (entityOrSystem instanceof System) {\n            this.systemManager.removeSystem(entityOrSystem);\n        }\n    }\n    get entities() {\n        return this.entityManager.entities;\n    }\n    clearEntities() {\n        this.entityManager.clear();\n    }\n    clearSystems() {\n        this.systemManager.clear();\n    }\n}\n\n;// ./Collision/MotionSystem.ts\n\n\n\n\n\n\n\nclass MotionSystem extends System {\n    constructor(world, physics) {\n        super();\n        this.world = world;\n        this.physics = physics;\n        this.systemType = SystemType.Update;\n        this._physicsConfigDirty = false;\n        physics.$configUpdate.subscribe(() => (this._physicsConfigDirty = true));\n        this.query = this.world.query([TransformComponent, MotionComponent]);\n    }\n    update(elapsed) {\n        let transform;\n        let motion;\n        const entities = this.query.entities;\n        const substep = this.physics.config.substep;\n        for (let i = 0; i < entities.length; i++) {\n            transform = entities[i].get(TransformComponent);\n            motion = entities[i].get(MotionComponent);\n            const optionalBody = entities[i].get(BodyComponent);\n            if (this._physicsConfigDirty && optionalBody) {\n                optionalBody.updatePhysicsConfig(this.physics.config.bodies);\n            }\n            if (optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.isSleeping) {\n                continue;\n            }\n            const totalAcc = motion.acc.clone();\n            if ((optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.collisionType) === CollisionType.Active && (optionalBody === null || optionalBody === void 0 ? void 0 : optionalBody.useGravity)) {\n                totalAcc.addEqual(this.physics.config.gravity);\n            }\n            // capture old transform of this entity and all of its children so that\n            // any transform properties that derived from their parents are properly captured\n            if (!entities[i].parent) {\n                this.captureOldTransformWithChildren(entities[i]);\n            }\n            // Update transform and motion based on Euler linear algebra\n            EulerIntegrator.integrate(transform, motion, totalAcc, elapsed / substep);\n        }\n        this._physicsConfigDirty = false;\n    }\n    captureOldTransformWithChildren(entity) {\n        var _a;\n        (_a = entity.get(BodyComponent)) === null || _a === void 0 ? void 0 : _a.captureOldTransform();\n        for (let i = 0; i < entity.children.length; i++) {\n            this.captureOldTransformWithChildren(entity.children[i]);\n        }\n    }\n}\nMotionSystem.priority = SystemPriority.Higher;\n\n;// ./Collision/Solver/ArcadeSolver.ts\n\n\n\n\n\n/**\n * ArcadeSolver is the default in Excalibur. It solves collisions so that there is no overlap between contacts,\n * and negates velocity along the collision normal.\n *\n * This is usually the type of collisions used for 2D games that don't need a more realistic collision simulation.\n *\n */\nclass ArcadeSolver {\n    constructor(config) {\n        this.config = config;\n        this.directionMap = new Map();\n        this.distanceMap = new Map();\n    }\n    solve(contacts) {\n        // Events and init\n        this.preSolve(contacts);\n        // Remove any canceled contacts\n        contacts = contacts.filter((c) => !c.isCanceled());\n        // Locate collision bias order\n        let bias;\n        switch (this.config.contactSolveBias) {\n            case ContactSolveBias.HorizontalFirst: {\n                bias = HorizontalFirst;\n                break;\n            }\n            case ContactSolveBias.VerticalFirst: {\n                bias = VerticalFirst;\n                break;\n            }\n            default: {\n                bias = None;\n            }\n        }\n        // Sort by bias (None, VerticalFirst, HorizontalFirst) to avoid artifacts with seams\n        // Sort contacts by distance to avoid artifacts with seams\n        // It's important to solve in a specific order\n        contacts.sort((a, b) => {\n            const aDir = this.directionMap.get(a.id);\n            const bDir = this.directionMap.get(b.id);\n            const aDist = this.distanceMap.get(a.id);\n            const bDist = this.distanceMap.get(b.id);\n            return bias[aDir] - bias[bDir] || aDist - bDist;\n        });\n        for (const contact of contacts) {\n            // Solve position first in arcade\n            this.solvePosition(contact);\n            // Solve velocity second in arcade\n            this.solveVelocity(contact);\n        }\n        // Events and any contact house-keeping the solver needs\n        this.postSolve(contacts);\n        return contacts;\n    }\n    preSolve(contacts) {\n        const epsilon = 0.0001;\n        for (let i = 0; i < contacts.length; i++) {\n            const contact = contacts[i];\n            if (Math.abs(contact.mtv.x) < epsilon && Math.abs(contact.mtv.y) < epsilon) {\n                // Cancel near 0 mtv collisions\n                contact.cancel();\n                continue;\n            }\n            const side = Side.fromDirection(contact.mtv);\n            const mtv = contact.mtv.negate();\n            const distance = Math.abs(contact.info.separation);\n            this.distanceMap.set(contact.id, distance);\n            this.directionMap.set(contact.id, side === Side.Left || side === Side.Right ? 'horizontal' : 'vertical');\n            // Publish collision events on both participants\n            contact.colliderA.events.emit('precollision', new PreCollisionEvent(contact.colliderA, contact.colliderB, side, mtv, contact));\n            contact.colliderB.events.emit('precollision', new PreCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), mtv.negate(), contact));\n        }\n    }\n    postSolve(contacts) {\n        var _a, _b;\n        for (let i = 0; i < contacts.length; i++) {\n            const contact = contacts[i];\n            if (contact.isCanceled()) {\n                continue;\n            }\n            const colliderA = contact.colliderA;\n            const colliderB = contact.colliderB;\n            const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n            const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n            if (bodyA && bodyB) {\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                    continue;\n                }\n            }\n            const side = Side.fromDirection(contact.mtv);\n            const mtv = contact.mtv.negate();\n            // Publish collision events on both participants\n            contact.colliderA.events.emit('postcollision', new PostCollisionEvent(contact.colliderA, contact.colliderB, side, mtv, contact));\n            contact.colliderB.events.emit('postcollision', new PostCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), mtv.negate(), contact));\n        }\n    }\n    solvePosition(contact) {\n        var _a, _b;\n        const epsilon = 0.0001;\n        // if bounds no longer intersect skip to the next\n        // this removes jitter from overlapping/stacked solid tiles or a wall of solid tiles\n        if (!contact.colliderA.bounds.overlaps(contact.colliderB.bounds, epsilon)) {\n            // Cancel the contact to prevent and solving\n            contact.cancel();\n            return;\n        }\n        if (Math.abs(contact.mtv.x) < epsilon && Math.abs(contact.mtv.y) < epsilon) {\n            // Cancel near 0 mtv collisions\n            contact.cancel();\n            return;\n        }\n        let mtv = contact.mtv;\n        const colliderA = contact.colliderA;\n        const colliderB = contact.colliderB;\n        const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        if (bodyA && bodyB) {\n            if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                return;\n            }\n            if (bodyA.collisionType === CollisionType.Active && bodyB.collisionType === CollisionType.Active) {\n                // split overlaps if both are Active\n                mtv = mtv.scale(0.5);\n            }\n            // Resolve overlaps\n            if (bodyA.collisionType === CollisionType.Active) {\n                bodyA.globalPos.x -= mtv.x;\n                bodyA.globalPos.y -= mtv.y;\n                colliderA.update(bodyA.transform.get());\n            }\n            if (bodyB.collisionType === CollisionType.Active) {\n                bodyB.globalPos.x += mtv.x;\n                bodyB.globalPos.y += mtv.y;\n                colliderB.update(bodyB.transform.get());\n            }\n        }\n    }\n    solveVelocity(contact) {\n        var _a, _b;\n        if (contact.isCanceled()) {\n            return;\n        }\n        const colliderA = contact.colliderA;\n        const colliderB = contact.colliderB;\n        const bodyA = (_a = colliderA.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        const bodyB = (_b = colliderB.owner) === null || _b === void 0 ? void 0 : _b.get(BodyComponent);\n        if (bodyA && bodyB) {\n            if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                return;\n            }\n            const normal = contact.normal;\n            const opposite = normal.negate();\n            if (bodyA.collisionType === CollisionType.Active) {\n                // only adjust velocity if the contact normal is opposite to the current velocity\n                // this avoids catching edges on a platform when sliding off\n                if (bodyA.vel.normalize().dot(opposite) < 0) {\n                    // Cancel out velocity opposite direction of collision normal\n                    const velAdj = normal.scale(normal.dot(bodyA.vel.negate()));\n                    bodyA.vel = bodyA.vel.add(velAdj);\n                }\n            }\n            if (bodyB.collisionType === CollisionType.Active) {\n                // only adjust velocity if the contact normal is opposite to the current velocity\n                // this avoids catching edges on a platform\n                if (bodyB.vel.normalize().dot(normal) < 0) {\n                    const velAdj = opposite.scale(opposite.dot(bodyB.vel.negate()));\n                    bodyB.vel = bodyB.vel.add(velAdj);\n                }\n            }\n        }\n    }\n}\n\n;// ./Collision/Solver/ContactConstraintPoint.ts\n\n/**\n * Holds information about contact points, meant to be reused over multiple frames of contact\n */\nclass ContactConstraintPoint {\n    constructor(point, local, contact) {\n        this.point = point;\n        this.local = local;\n        this.contact = contact;\n        /**\n         * Impulse accumulated over time in normal direction\n         */\n        this.normalImpulse = 0;\n        /**\n         * Impulse accumulated over time in the tangent direction\n         */\n        this.tangentImpulse = 0;\n        /**\n         * Effective mass seen in the normal direction\n         */\n        this.normalMass = 0;\n        /**\n         * Effective mass seen in the tangent direction\n         */\n        this.tangentMass = 0;\n        /**\n         * Direction from center of mass of bodyA to contact point\n         */\n        this.aToContact = new Vector(0, 0);\n        /**\n         * Direction from center of mass of bodyB to contact point\n         */\n        this.bToContact = new Vector(0, 0);\n        /**\n         * Original contact velocity combined with bounciness\n         */\n        this.originalVelocityAndRestitution = 0;\n        this.update();\n    }\n    /**\n     * Updates the contact information\n     */\n    update() {\n        const bodyA = this.contact.bodyA;\n        const bodyB = this.contact.bodyB;\n        if (bodyA && bodyB) {\n            const normal = this.contact.normal;\n            const tangent = this.contact.tangent;\n            this.aToContact = this.point.sub(bodyA.globalPos);\n            this.bToContact = this.point.sub(bodyB.globalPos);\n            const aToContactNormal = this.aToContact.cross(normal);\n            const bToContactNormal = this.bToContact.cross(normal);\n            this.normalMass =\n                bodyA.inverseMass +\n                    bodyB.inverseMass +\n                    bodyA.inverseInertia * aToContactNormal * aToContactNormal +\n                    bodyB.inverseInertia * bToContactNormal * bToContactNormal;\n            const aToContactTangent = this.aToContact.cross(tangent);\n            const bToContactTangent = this.bToContact.cross(tangent);\n            this.tangentMass =\n                bodyA.inverseMass +\n                    bodyB.inverseMass +\n                    bodyA.inverseInertia * aToContactTangent * aToContactTangent +\n                    bodyB.inverseInertia * bToContactTangent * bToContactTangent;\n        }\n        return this;\n    }\n    /**\n     * Returns the relative velocity between bodyA and bodyB\n     */\n    getRelativeVelocity() {\n        const bodyA = this.contact.bodyA;\n        const bodyB = this.contact.bodyB;\n        if (bodyA && bodyB) {\n            // Relative velocity in linear terms\n            // Angular to linear velocity formula -> omega = velocity/radius so omega x radius = velocity\n            const velA = bodyA.vel.add(Vector.cross(bodyA.angularVelocity, this.aToContact));\n            const velB = bodyB.vel.add(Vector.cross(bodyB.angularVelocity, this.bToContact));\n            return velB.sub(velA);\n        }\n        return Vector.Zero;\n    }\n}\n\n;// ./Collision/Solver/RealisticSolver.ts\n\n\n\n\n\n\n\nclass RealisticSolver {\n    constructor(config) {\n        this.config = config;\n        this.lastFrameContacts = new Map();\n        // map contact id to contact points\n        this.idToContactConstraint = new Map();\n    }\n    getContactConstraints(id) {\n        var _a;\n        return (_a = this.idToContactConstraint.get(id)) !== null && _a !== void 0 ? _a : [];\n    }\n    solve(contacts) {\n        // Events and init\n        this.preSolve(contacts);\n        // Remove any canceled contacts\n        contacts = contacts.filter((c) => !c.isCanceled());\n        // Solve velocity first\n        this.solveVelocity(contacts);\n        // Solve position last because non-overlap is the most important\n        this.solvePosition(contacts);\n        // Events and any contact house-keeping the solver needs\n        this.postSolve(contacts);\n        return contacts;\n    }\n    preSolve(contacts) {\n        var _a, _b, _c;\n        const epsilon = 0.0001;\n        for (let i = 0; i < contacts.length; i++) {\n            const contact = contacts[i];\n            if (Math.abs(contact.mtv.x) < epsilon && Math.abs(contact.mtv.y) < epsilon) {\n                // Cancel near 0 mtv collisions\n                contact.cancel();\n                continue;\n            }\n            // Publish collision events on both participants\n            const side = Side.fromDirection(contact.mtv);\n            contact.colliderA.events.emit('precollision', new PreCollisionEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderA.events.emit('beforecollisionresolve', new CollisionPreSolveEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderB.events.emit('precollision', new PreCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n            contact.colliderB.events.emit('beforecollisionresolve', new CollisionPreSolveEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n            // Match awake state for sleeping\n            contact.matchAwake();\n        }\n        // Keep track of contacts that done\n        const finishedContactIds = Array.from(this.idToContactConstraint.keys());\n        for (let i = 0; i < contacts.length; i++) {\n            const contact = contacts[i];\n            // Remove all current contacts that are not done\n            const index = finishedContactIds.indexOf(contact.id);\n            if (index > -1) {\n                finishedContactIds.splice(index, 1);\n            }\n            const contactPoints = (_a = this.idToContactConstraint.get(contact.id)) !== null && _a !== void 0 ? _a : [];\n            let pointIndex = 0;\n            const bodyA = contact.bodyA;\n            const bodyB = contact.bodyB;\n            if (bodyA && bodyB) {\n                for (let j = 0; j < contact.points.length; j++) {\n                    const point = contact.points[j];\n                    const normal = contact.normal;\n                    const tangent = contact.tangent;\n                    const aToContact = point.sub(bodyA.globalPos);\n                    const bToContact = point.sub(bodyB.globalPos);\n                    const aToContactNormal = aToContact.cross(normal);\n                    const bToContactNormal = bToContact.cross(normal);\n                    const normalMass = bodyA.inverseMass +\n                        bodyB.inverseMass +\n                        bodyA.inverseInertia * aToContactNormal * aToContactNormal +\n                        bodyB.inverseInertia * bToContactNormal * bToContactNormal;\n                    const aToContactTangent = aToContact.cross(tangent);\n                    const bToContactTangent = bToContact.cross(tangent);\n                    const tangentMass = bodyA.inverseMass +\n                        bodyB.inverseMass +\n                        bodyA.inverseInertia * aToContactTangent * aToContactTangent +\n                        bodyB.inverseInertia * bToContactTangent * bToContactTangent;\n                    // Preserve normal/tangent impulse by re-using the contact point if it's close\n                    if (contactPoints[pointIndex] && ((_c = (_b = contactPoints[pointIndex]) === null || _b === void 0 ? void 0 : _b.point) === null || _c === void 0 ? void 0 : _c.squareDistance(point)) < 4) {\n                        contactPoints[pointIndex].point = point;\n                        contactPoints[pointIndex].local = contact.localPoints[pointIndex];\n                    }\n                    else {\n                        // new contact if it's not close or doesn't exist\n                        contactPoints[pointIndex] = new ContactConstraintPoint(point, contact.localPoints[pointIndex], contact);\n                    }\n                    // Update contact point calculations\n                    contactPoints[pointIndex].aToContact = aToContact;\n                    contactPoints[pointIndex].bToContact = bToContact;\n                    contactPoints[pointIndex].normalMass = 1.0 / normalMass;\n                    contactPoints[pointIndex].tangentMass = 1.0 / tangentMass;\n                    // Calculate relative velocity before solving to accurately do restitution\n                    const restitution = bodyA.bounciness > bodyB.bounciness ? bodyA.bounciness : bodyB.bounciness;\n                    const relativeVelocity = contact.normal.dot(contactPoints[pointIndex].getRelativeVelocity());\n                    contactPoints[pointIndex].originalVelocityAndRestitution = 0;\n                    if (relativeVelocity < -0.1) {\n                        // TODO what's a good threshold here?\n                        contactPoints[pointIndex].originalVelocityAndRestitution = -restitution * relativeVelocity;\n                    }\n                    pointIndex++;\n                }\n            }\n            this.idToContactConstraint.set(contact.id, contactPoints);\n        }\n        // Clean up any contacts that did not occur last frame\n        for (const id of finishedContactIds) {\n            this.idToContactConstraint.delete(id);\n        }\n        // Warm contacts with accumulated impulse\n        // Useful for tall stacks\n        if (this.config.warmStart) {\n            this.warmStart(contacts);\n        }\n        else {\n            for (let i = 0; i < contacts.length; i++) {\n                const contact = contacts[i];\n                const contactPoints = this.getContactConstraints(contact.id);\n                for (const point of contactPoints) {\n                    point.normalImpulse = 0;\n                    point.tangentImpulse = 0;\n                }\n            }\n        }\n    }\n    postSolve(contacts) {\n        for (let i = 0; i < contacts.length; i++) {\n            const contact = contacts[i];\n            const bodyA = contact.bodyA;\n            const bodyB = contact.bodyB;\n            if (bodyA && bodyB) {\n                // Skip post solve for active+passive collisions\n                if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                    continue;\n                }\n                // Update motion values for sleeping\n                bodyA.updateMotion();\n                bodyB.updateMotion();\n            }\n            // Publish collision events on both participants\n            const side = Side.fromDirection(contact.mtv);\n            contact.colliderA.events.emit('postcollision', new PostCollisionEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderA.events.emit('aftercollisionresolve', new CollisionPostSolveEvent(contact.colliderA, contact.colliderB, side, contact.mtv, contact));\n            contact.colliderB.events.emit('postcollision', new PostCollisionEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n            contact.colliderB.events.emit('aftercollisionresolve', new CollisionPostSolveEvent(contact.colliderB, contact.colliderA, Side.getOpposite(side), contact.mtv.negate(), contact));\n        }\n        // Store contacts\n        this.lastFrameContacts.clear();\n        for (let i = 0; i < contacts.length; i++) {\n            const c = contacts[i];\n            this.lastFrameContacts.set(c.id, c);\n        }\n    }\n    /**\n     * Warm up body's based on previous frame contact points\n     * @param contacts\n     */\n    warmStart(contacts) {\n        var _a;\n        for (let i = 0; i < contacts.length; i++) {\n            const contact = contacts[i];\n            const bodyA = contact.bodyA;\n            const bodyB = contact.bodyB;\n            if (bodyA && bodyB) {\n                const contactPoints = (_a = this.idToContactConstraint.get(contact.id)) !== null && _a !== void 0 ? _a : [];\n                for (const point of contactPoints) {\n                    if (this.config.warmStart) {\n                        const normalImpulse = contact.normal.scale(point.normalImpulse);\n                        const tangentImpulse = contact.tangent.scale(point.tangentImpulse);\n                        const impulse = normalImpulse.add(tangentImpulse);\n                        bodyA.applyImpulse(point.point, impulse.negate());\n                        bodyB.applyImpulse(point.point, impulse);\n                    }\n                    else {\n                        point.normalImpulse = 0;\n                        point.tangentImpulse = 0;\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Iteratively solve the position overlap constraint\n     * @param contacts\n     */\n    solvePosition(contacts) {\n        var _a;\n        for (let i = 0; i < this.config.positionIterations; i++) {\n            for (let i = 0; i < contacts.length; i++) {\n                const contact = contacts[i];\n                const bodyA = contact.bodyA;\n                const bodyB = contact.bodyB;\n                if (bodyA && bodyB) {\n                    // Skip solving active+passive\n                    if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                        continue;\n                    }\n                    const constraints = (_a = this.idToContactConstraint.get(contact.id)) !== null && _a !== void 0 ? _a : [];\n                    for (const point of constraints) {\n                        const normal = contact.normal;\n                        const separation = CollisionJumpTable.FindContactSeparation(contact, point.local);\n                        const steeringConstant = this.config.steeringFactor; //0.2;\n                        const maxCorrection = -5;\n                        const slop = this.config.slop; //1;\n                        // Clamp to avoid over-correction\n                        // Remember that we are shooting for 0 overlap in the end\n                        const steeringForce = clamp(steeringConstant * (separation + slop), maxCorrection, 0);\n                        const impulse = normal.scale(-steeringForce * point.normalMass);\n                        // This is a pseudo impulse, meaning we aren't doing a real impulse calculation\n                        // We adjust position and rotation instead of doing the velocity\n                        if (bodyA.collisionType === CollisionType.Active) {\n                            // TODO make applyPseudoImpulse function?\n                            const impulseForce = impulse.negate().scale(bodyA.inverseMass);\n                            if (bodyA.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\n                                impulseForce.x = 0;\n                            }\n                            if (bodyA.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\n                                impulseForce.y = 0;\n                            }\n                            bodyA.globalPos = bodyA.globalPos.add(impulseForce);\n                            if (!bodyA.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n                                bodyA.rotation -= point.aToContact.cross(impulse) * bodyA.inverseInertia;\n                            }\n                        }\n                        if (bodyB.collisionType === CollisionType.Active) {\n                            const impulseForce = impulse.scale(bodyB.inverseMass);\n                            if (bodyB.limitDegreeOfFreedom.includes(DegreeOfFreedom.X)) {\n                                impulseForce.x = 0;\n                            }\n                            if (bodyB.limitDegreeOfFreedom.includes(DegreeOfFreedom.Y)) {\n                                impulseForce.y = 0;\n                            }\n                            bodyB.globalPos = bodyB.globalPos.add(impulseForce);\n                            if (!bodyB.limitDegreeOfFreedom.includes(DegreeOfFreedom.Rotation)) {\n                                bodyB.rotation += point.bToContact.cross(impulse) * bodyB.inverseInertia;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    solveVelocity(contacts) {\n        var _a;\n        for (let i = 0; i < this.config.velocityIterations; i++) {\n            for (let i = 0; i < contacts.length; i++) {\n                const contact = contacts[i];\n                const bodyA = contact.bodyA;\n                const bodyB = contact.bodyB;\n                if (bodyA && bodyB) {\n                    // Skip solving active+passive\n                    if (bodyA.collisionType === CollisionType.Passive || bodyB.collisionType === CollisionType.Passive) {\n                        continue;\n                    }\n                    const friction = Math.min(bodyA.friction, bodyB.friction);\n                    const constraints = (_a = this.idToContactConstraint.get(contact.id)) !== null && _a !== void 0 ? _a : [];\n                    // Friction constraint\n                    for (const point of constraints) {\n                        const relativeVelocity = point.getRelativeVelocity();\n                        // Negate velocity in tangent direction to simulate friction\n                        const tangentVelocity = -relativeVelocity.dot(contact.tangent);\n                        let impulseDelta = tangentVelocity * point.tangentMass;\n                        // Clamping based in Erin Catto's GDC 2006 talk\n                        // Correct clamping https://github.com/erincatto/box2d-lite/blob/master/docs/GDC2006_Catto_Erin_PhysicsTutorial.pdf\n                        // Accumulated fiction impulse is always between -uMaxFriction < dT < uMaxFriction\n                        // But deltas can vary\n                        const maxFriction = friction * point.normalImpulse;\n                        const newImpulse = clamp(point.tangentImpulse + impulseDelta, -maxFriction, maxFriction);\n                        impulseDelta = newImpulse - point.tangentImpulse;\n                        point.tangentImpulse = newImpulse;\n                        const impulse = contact.tangent.scale(impulseDelta);\n                        bodyA.applyImpulse(point.point, impulse.negate());\n                        bodyB.applyImpulse(point.point, impulse);\n                    }\n                    // Bounce constraint\n                    for (const point of constraints) {\n                        // Need to recalc relative velocity because the previous step could have changed vel\n                        const relativeVelocity = point.getRelativeVelocity();\n                        // Compute impulse in normal direction\n                        const normalVelocity = relativeVelocity.dot(contact.normal);\n                        // Per Erin it is a mistake to apply the restitution inside the iteration\n                        // From Erin Catto's Box2D we keep original contact velocity and adjust by small impulses\n                        let impulseDelta = -point.normalMass * (normalVelocity - point.originalVelocityAndRestitution);\n                        // Clamping based in Erin Catto's GDC 2014 talk\n                        // Accumulated impulse stored in the contact is always positive (dV > 0)\n                        // But deltas can be negative\n                        const newImpulse = Math.max(point.normalImpulse + impulseDelta, 0);\n                        impulseDelta = newImpulse - point.normalImpulse;\n                        point.normalImpulse = newImpulse;\n                        const impulse = contact.normal.scale(impulseDelta);\n                        bodyA.applyImpulse(point.point, impulse.negate());\n                        bodyB.applyImpulse(point.point, impulse);\n                    }\n                }\n            }\n        }\n    }\n}\n\n;// ./Collision/CollisionSystem.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass CollisionSystem extends System {\n    get _processor() {\n        return this._physics.collisionProcessor;\n    }\n    constructor(world, _physics) {\n        super();\n        this._physics = _physics;\n        this.systemType = SystemType.Update;\n        this._configDirty = false;\n        this._lastFrameContacts = new Map();\n        this._currentFrameContacts = new Map();\n        this._arcadeSolver = new ArcadeSolver(_physics.config.arcade);\n        this._realisticSolver = new RealisticSolver(_physics.config.realistic);\n        this._physics.$configUpdate.subscribe(() => (this._configDirty = true));\n        this._trackCollider = (c) => this._processor.track(c);\n        this._untrackCollider = (c) => this._processor.untrack(c);\n        this.query = world.query([TransformComponent, MotionComponent, ColliderComponent]);\n        this.query.entityAdded$.subscribe((e) => {\n            const colliderComponent = e.get(ColliderComponent);\n            colliderComponent.$colliderAdded.subscribe(this._trackCollider);\n            colliderComponent.$colliderRemoved.subscribe(this._untrackCollider);\n            const collider = colliderComponent.get();\n            if (collider) {\n                this._processor.track(collider);\n            }\n        });\n        this.query.entityRemoved$.subscribe((e) => {\n            const colliderComponent = e.get(ColliderComponent);\n            const collider = colliderComponent.get();\n            if (colliderComponent && collider) {\n                this._processor.untrack(collider);\n            }\n        });\n        this._motionSystem = world.get(MotionSystem);\n    }\n    initialize(world, scene) {\n        this._engine = scene.engine;\n    }\n    update(elapsed) {\n        var _a, _b, _c, _d;\n        if (!this._physics.config.enabled) {\n            return;\n        }\n        // TODO do we need to do this every frame?\n        // Collect up all the colliders and update them\n        let colliders = [];\n        for (let entityIndex = 0; entityIndex < this.query.entities.length; entityIndex++) {\n            const entity = this.query.entities[entityIndex];\n            const colliderComp = entity.get(ColliderComponent);\n            const collider = colliderComp === null || colliderComp === void 0 ? void 0 : colliderComp.get();\n            if (colliderComp && ((_a = colliderComp.owner) === null || _a === void 0 ? void 0 : _a.isActive) && collider) {\n                colliderComp.update();\n                // Flatten composite colliders\n                if (collider instanceof CompositeCollider) {\n                    const compositeColliders = collider.getColliders();\n                    if (!collider.compositeStrategy) {\n                        collider.compositeStrategy = this._physics.config.colliders.compositeStrategy;\n                    }\n                    colliders = colliders.concat(compositeColliders);\n                }\n                else {\n                    colliders.push(collider);\n                }\n            }\n        }\n        // Update the spatial partitioning data structures\n        // TODO if collider invalid it will break the processor\n        // TODO rename \"update\" to something more specific\n        this._processor.update(colliders, elapsed);\n        // Run broadphase on all colliders and locates potential collisions\n        let pairs = this._processor.broadphase(colliders, elapsed);\n        this._currentFrameContacts.clear();\n        // Given possible pairs find actual contacts\n        let contacts = []; // = this._processor.narrowphase(pairs, this._engine?.debug?.stats?.currFrame);\n        const solver = this.getSolver();\n        // Solve, this resolves the position/velocity so entities aren't overlapping\n        const substep = this._physics.config.substep;\n        for (let step = 0; step < substep; step++) {\n            if (step > 0) {\n                // first step is run by the MotionSystem when configured, so skip\n                this._motionSystem.update(elapsed);\n            }\n            // Re-use pairs from previous collision\n            if (contacts.length) {\n                pairs = contacts.map((c) => new Pair(c.colliderA, c.colliderB));\n            }\n            if (pairs.length) {\n                contacts = this._processor.narrowphase(pairs, (_d = (_c = (_b = this._engine) === null || _b === void 0 ? void 0 : _b.debug) === null || _c === void 0 ? void 0 : _c.stats) === null || _d === void 0 ? void 0 : _d.currFrame);\n                contacts = solver.solve(contacts);\n                // Record contacts for start/end\n                for (const contact of contacts) {\n                    if (contact.isCanceled()) {\n                        continue;\n                    }\n                    // Process composite ids, things with the same composite id are treated as the same collider for start/end\n                    const index = contact.id.indexOf('|');\n                    if (index > 0) {\n                        const compositeId = contact.id.substring(index + 1);\n                        this._currentFrameContacts.set(compositeId, contact);\n                    }\n                    else {\n                        this._currentFrameContacts.set(contact.id, contact);\n                    }\n                }\n            }\n        }\n        // Emit contact start/end events\n        this.runContactStartEnd();\n        // reset the last frame cache\n        this._lastFrameContacts.clear();\n        // Keep track of collisions contacts that have started or ended\n        this._lastFrameContacts = new Map(this._currentFrameContacts);\n        // Process deferred collider removals\n        for (const entity of this.query.entities) {\n            const collider = entity.get(ColliderComponent);\n            if (collider) {\n                collider.processColliderRemoval();\n            }\n        }\n    }\n    postupdate() {\n        SeparatingAxis.SeparationPool.done();\n    }\n    getSolver() {\n        if (this._configDirty) {\n            this._configDirty = false;\n            this._arcadeSolver = new ArcadeSolver(this._physics.config.arcade);\n            this._realisticSolver = new RealisticSolver(this._physics.config.realistic);\n        }\n        return this._physics.config.solver === SolverStrategy.Realistic ? this._realisticSolver : this._arcadeSolver;\n    }\n    debug(ex) {\n        this._processor.debug(ex, 0);\n    }\n    runContactStartEnd() {\n        // If composite colliders are 'together' collisions may have a duplicate id because we want to treat those as a singular start/end\n        for (const [id, c] of this._currentFrameContacts) {\n            // find all new contacts\n            if (!this._lastFrameContacts.has(id)) {\n                const colliderA = c.colliderA;\n                const colliderB = c.colliderB;\n                const side = Side.fromDirection(c.mtv);\n                const opposite = Side.getOpposite(side);\n                colliderA.events.emit('collisionstart', new CollisionStartEvent(colliderA, colliderB, side, c));\n                colliderA.events.emit('contactstart', new ContactStartEvent(colliderA, colliderB, side, c));\n                colliderB.events.emit('collisionstart', new CollisionStartEvent(colliderB, colliderA, opposite, c));\n                colliderB.events.emit('contactstart', new ContactStartEvent(colliderB, colliderA, opposite, c));\n            }\n        }\n        // find all contacts that have ceased\n        for (const [id, c] of this._lastFrameContacts) {\n            if (!this._currentFrameContacts.has(id)) {\n                const colliderA = c.colliderA;\n                const colliderB = c.colliderB;\n                const side = Side.fromDirection(c.mtv);\n                const opposite = Side.getOpposite(side);\n                colliderA.events.emit('collisionend', new CollisionEndEvent(colliderA, colliderB, side, c));\n                colliderA.events.emit('contactend', new ContactEndEvent(colliderA, colliderB, side, c));\n                colliderB.events.emit('collisionend', new CollisionEndEvent(colliderB, colliderA, opposite, c));\n                colliderB.events.emit('contactend', new ContactEndEvent(colliderB, colliderA, opposite, c));\n            }\n        }\n    }\n}\nCollisionSystem.priority = SystemPriority.Higher;\n\n;// ./Graphics/TransformInterpolation.ts\n\n/**\n * Blend 2 transforms for interpolation, will interpolate from the context of newTx's parent if it exists\n */\nfunction blendTransform(oldTx, newTx, blend, target) {\n    if (oldTx.parent !== newTx.parent) {\n        // Caller expects a local transform\n        // Adjust old tx to be local to the new parent whatever that is\n        const oldTxWithNewParent = oldTx.clone();\n        const oldGlobalPos = oldTx.globalPos.clone();\n        const oldGlobalScale = oldTx.globalScale.clone();\n        const oldGlobalRotation = oldTx.globalRotation;\n        oldTxWithNewParent.parent = newTx.parent;\n        oldTxWithNewParent.globalPos = oldGlobalPos;\n        oldTxWithNewParent.globalScale = oldGlobalScale;\n        oldTxWithNewParent.globalRotation = oldGlobalRotation;\n        oldTx = oldTxWithNewParent;\n    }\n    let interpolatedPos = newTx.pos;\n    let interpolatedScale = newTx.scale;\n    let interpolatedRotation = newTx.rotation;\n    interpolatedPos = newTx.pos.scale(blend).add(oldTx.pos.scale(1.0 - blend));\n    interpolatedScale = newTx.scale.scale(blend).add(oldTx.scale.scale(1.0 - blend));\n    // Rotational lerp https://stackoverflow.com/a/30129248\n    const cosine = (1.0 - blend) * Math.cos(oldTx.rotation) + blend * Math.cos(newTx.rotation);\n    const sine = (1.0 - blend) * Math.sin(oldTx.rotation) + blend * Math.sin(newTx.rotation);\n    interpolatedRotation = Math.atan2(sine, cosine);\n    const tx = target !== null && target !== void 0 ? target : new transform_Transform();\n    tx.setTransform(interpolatedPos, interpolatedRotation, interpolatedScale);\n    return tx;\n}\n/**\n *\n */\nfunction blendGlobalTransform(oldTx, newTx, blend, target) {\n    let interpolatedPos = newTx.globalPos;\n    let interpolatedScale = newTx.globalScale;\n    let interpolatedRotation = newTx.globalRotation;\n    interpolatedPos = newTx.globalPos.scale(blend).add(oldTx.globalPos.scale(1.0 - blend));\n    interpolatedScale = newTx.globalScale.scale(blend).add(oldTx.globalScale.scale(1.0 - blend));\n    // Rotational lerp https://stackoverflow.com/a/30129248\n    const cosine = (1.0 - blend) * Math.cos(oldTx.globalRotation) + blend * Math.cos(newTx.globalRotation);\n    const sine = (1.0 - blend) * Math.sin(oldTx.globalRotation) + blend * Math.sin(newTx.globalRotation);\n    interpolatedRotation = Math.atan2(sine, cosine);\n    const tx = target !== null && target !== void 0 ? target : new Transform();\n    tx.setTransform(interpolatedPos, interpolatedRotation, interpolatedScale);\n    return tx;\n}\n\n;// ./Graphics/GraphicsSystem.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass GraphicsSystem extends System {\n    get sortedTransforms() {\n        return this._sortedTransforms;\n    }\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Draw;\n        this._token = 0;\n        this._sortedTransforms = [];\n        this._zHasChanged = false;\n        this._zIndexUpdate = () => {\n            this._zHasChanged = true;\n        };\n        this._targetInterpolationTransform = new transform_Transform();\n        this.query = this.world.query([TransformComponent, GraphicsComponent]);\n        this.query.entityAdded$.subscribe((e) => {\n            const tx = e.get(TransformComponent);\n            this._sortedTransforms.push(tx);\n            tx.zIndexChanged$.subscribe(this._zIndexUpdate);\n            this._zHasChanged = true;\n        });\n        this.query.entityRemoved$.subscribe((e) => {\n            const tx = e.get(TransformComponent);\n            tx.zIndexChanged$.unsubscribe(this._zIndexUpdate);\n            const index = this._sortedTransforms.indexOf(tx);\n            if (index > -1) {\n                this._sortedTransforms.splice(index, 1);\n            }\n        });\n    }\n    initialize(world, scene) {\n        this._camera = scene.camera;\n        this._engine = scene.engine;\n    }\n    preupdate() {\n        // Graphics context could be switched to fallback in a new frame\n        this._graphicsContext = this._engine.graphicsContext;\n        if (this._zHasChanged) {\n            this._sortedTransforms.sort((a, b) => {\n                return a.globalZ - b.globalZ;\n            });\n            this._zHasChanged = false;\n        }\n    }\n    update(elapsed) {\n        this._token++;\n        let graphics;\n        FontCache.checkAndClearCache();\n        // This is a performance enhancement, most things are in world space\n        // so if we can only do this once saves a ton of transform updates\n        this._graphicsContext.save();\n        if (this._camera) {\n            this._camera.draw(this._graphicsContext);\n        }\n        for (let transformIndex = 0; transformIndex < this._sortedTransforms.length; transformIndex++) {\n            const transform = this._sortedTransforms[transformIndex];\n            const entity = transform.owner;\n            // If the entity is offscreen skip\n            if (entity.hasTag('ex.offscreen')) {\n                continue;\n            }\n            graphics = entity.get(GraphicsComponent);\n            // Exit if graphics set to not visible\n            if (!graphics.isVisible) {\n                continue;\n            }\n            // Optionally run the onPreTransformDraw graphics lifecycle draw\n            if (graphics.onPreTransformDraw) {\n                graphics.onPreTransformDraw(this._graphicsContext, elapsed);\n            }\n            entity.events.emit('pretransformdraw', new PreTransformDrawEvent(this._graphicsContext, elapsed, entity));\n            // This optionally sets our camera based on the entity coord plan (world vs. screen)\n            if (transform.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.restore();\n            }\n            this._graphicsContext.save();\n            if (transform.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.translate(this._engine.screen.contentArea.left, this._engine.screen.contentArea.top);\n            }\n            // Tick any graphics state (but only once) for animations and graphics groups\n            graphics.update(elapsed, this._token);\n            // Apply parallax\n            const parallax = entity.get(ParallaxComponent);\n            if (parallax) {\n                // We use the Tiled formula\n                // https://doc.mapeditor.org/en/latest/manual/layers/#parallax-scrolling-factor\n                // cameraPos * (1 - parallaxFactor)\n                const oneMinusFactor = Vector.One.sub(parallax.parallaxFactor);\n                const parallaxOffset = this._camera.drawPos.scale(oneMinusFactor);\n                this._graphicsContext.translate(parallaxOffset.x, parallaxOffset.y);\n            }\n            // Position the entity + estimate lag\n            this._applyTransform(entity);\n            // If there is a material enable it on the context\n            if (graphics.material) {\n                this._graphicsContext.material = graphics.material;\n            }\n            // Optionally run the onPreDraw graphics lifecycle draw\n            if (graphics.onPreDraw) {\n                graphics.onPreDraw(this._graphicsContext, elapsed);\n            }\n            entity.events.emit('predraw', new PreDrawEvent(this._graphicsContext, elapsed, entity));\n            // this._graphicsContext.opacity *= graphics.opacity;\n            this._applyOpacity(entity);\n            // Draw the graphics component\n            this._drawGraphicsComponent(graphics, transform);\n            // Optionally run the onPostDraw graphics lifecycle draw\n            if (graphics.onPostDraw) {\n                graphics.onPostDraw(this._graphicsContext, elapsed);\n            }\n            entity.events.emit('postdraw', new PostDrawEvent(this._graphicsContext, elapsed, entity));\n            this._graphicsContext.restore();\n            // Reset the transform back to the original world space\n            if (transform.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.save();\n                if (this._camera) {\n                    this._camera.draw(this._graphicsContext);\n                }\n            }\n            // Optionally run the onPreTransformDraw graphics lifecycle draw\n            if (graphics.onPostTransformDraw) {\n                graphics.onPostTransformDraw(this._graphicsContext, elapsed);\n            }\n            entity.events.emit('posttransformdraw', new PostTransformDrawEvent(this._graphicsContext, elapsed, entity));\n        }\n        this._graphicsContext.restore();\n    }\n    _drawGraphicsComponent(graphicsComponent, transformComponent) {\n        var _a, _b;\n        if (graphicsComponent.isVisible) {\n            const flipHorizontal = graphicsComponent.flipHorizontal;\n            const flipVertical = graphicsComponent.flipVertical;\n            const graphic = graphicsComponent.current;\n            const options = (_a = graphicsComponent.currentOptions) !== null && _a !== void 0 ? _a : {};\n            if (graphic) {\n                let anchor = graphicsComponent.anchor;\n                let offset = graphicsComponent.offset;\n                let scaleX = 1;\n                let scaleY = 1;\n                // handle specific overrides\n                if (options === null || options === void 0 ? void 0 : options.anchor) {\n                    anchor = options.anchor;\n                }\n                if (options === null || options === void 0 ? void 0 : options.offset) {\n                    offset = options.offset;\n                }\n                const globalScale = transformComponent.globalScale;\n                scaleX *= graphic.scale.x * globalScale.x;\n                scaleY *= graphic.scale.y * globalScale.y;\n                // See https://github.com/excaliburjs/Excalibur/pull/619 for discussion on this formula\n                const offsetX = -graphic.width * anchor.x + offset.x * scaleX;\n                const offsetY = -graphic.height * anchor.y + offset.y * scaleY;\n                const oldFlipHorizontal = graphic.flipHorizontal;\n                const oldFlipVertical = graphic.flipVertical;\n                if (flipHorizontal || flipVertical) {\n                    // flip any currently flipped graphics\n                    graphic.flipHorizontal = flipHorizontal ? !oldFlipHorizontal : oldFlipHorizontal;\n                    graphic.flipVertical = flipVertical ? !oldFlipVertical : oldFlipVertical;\n                }\n                graphic === null || graphic === void 0 ? void 0 : graphic.draw(this._graphicsContext, offsetX, offsetY);\n                if (flipHorizontal || flipVertical) {\n                    graphic.flipHorizontal = oldFlipHorizontal;\n                    graphic.flipVertical = oldFlipVertical;\n                }\n                // TODO move debug code out?\n                if (((_b = this._engine) === null || _b === void 0 ? void 0 : _b.isDebug) && this._engine.debug.graphics.showBounds) {\n                    const offset = vec(offsetX, offsetY);\n                    if (graphic instanceof GraphicsGroup) {\n                        for (const member of graphic.members) {\n                            let g;\n                            let pos = Vector.Zero;\n                            if (member instanceof Graphic) {\n                                g = member;\n                            }\n                            else {\n                                g = member.graphic;\n                                pos = member.offset;\n                            }\n                            if (graphic.useAnchor) {\n                                g === null || g === void 0 ? void 0 : g.localBounds.translate(offset.add(pos)).draw(this._graphicsContext, this._engine.debug.graphics.boundsColor);\n                            }\n                            else {\n                                g === null || g === void 0 ? void 0 : g.localBounds.translate(pos).draw(this._graphicsContext, this._engine.debug.graphics.boundsColor);\n                            }\n                        }\n                    }\n                    else {\n                        /* istanbul ignore next */\n                        graphic === null || graphic === void 0 ? void 0 : graphic.localBounds.translate(offset).draw(this._graphicsContext, this._engine.debug.graphics.boundsColor);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * This applies the current entity transform to the graphics context\n     * @param entity\n     */\n    _applyTransform(entity) {\n        const ancestors = entity.getAncestors();\n        for (let i = 0; i < ancestors.length; i++) {\n            const ancestor = ancestors[i];\n            const transform = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(TransformComponent);\n            const optionalBody = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(BodyComponent);\n            if (transform) {\n                let tx = transform.get();\n                if (optionalBody) {\n                    if (this._engine.fixedUpdateTimestep && optionalBody.__oldTransformCaptured && optionalBody.enableFixedUpdateInterpolate) {\n                        // Interpolate graphics if needed\n                        const blend = this._engine.currentFrameLagMs / this._engine.fixedUpdateTimestep;\n                        tx = blendTransform(optionalBody.oldTransform, transform.get(), blend, this._targetInterpolationTransform);\n                    }\n                }\n                this._graphicsContext.z = transform.globalZ;\n                this._graphicsContext.translate(tx.pos.x, tx.pos.y);\n                this._graphicsContext.scale(tx.scale.x, tx.scale.y);\n                this._graphicsContext.rotate(tx.rotation);\n            }\n        }\n    }\n    _applyOpacity(entity) {\n        var _a;\n        const ancestors = entity.getAncestors();\n        for (let i = 0; i < ancestors.length; i++) {\n            const ancestor = ancestors[i];\n            const maybeGraphics = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(GraphicsComponent);\n            this._graphicsContext.opacity *= (_a = maybeGraphics === null || maybeGraphics === void 0 ? void 0 : maybeGraphics.opacity) !== null && _a !== void 0 ? _a : 1;\n        }\n    }\n}\nGraphicsSystem.priority = SystemPriority.Average;\n\n;// ./Debug/DebugSystem.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass DebugSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Draw;\n        this.query = this.world.query([TransformComponent]);\n    }\n    initialize(world, scene) {\n        this._graphicsContext = scene.engine.graphicsContext;\n        this._camera = scene.camera;\n        this._engine = scene.engine;\n        this._collisionSystem = world.systemManager.get(CollisionSystem);\n    }\n    update() {\n        var _a;\n        if (!this._engine.isDebug) {\n            return;\n        }\n        const filterSettings = this._engine.debug.filter;\n        let id;\n        let name;\n        const entitySettings = this._engine.debug.entity;\n        let tx;\n        const txSettings = this._engine.debug.transform;\n        let motion;\n        const motionSettings = this._engine.debug.motion;\n        let colliderComp;\n        const colliderSettings = this._engine.debug.collider;\n        const physicsSettings = this._engine.debug.physics;\n        let graphics;\n        const graphicsSettings = this._engine.debug.graphics;\n        let debugDraw;\n        let body;\n        const bodySettings = this._engine.debug.body;\n        const cameraSettings = this._engine.debug.camera;\n        for (let i = 0; i < this.query.entities.length; i++) {\n            const entity = this.query.entities[i];\n            if (entity.hasTag('offscreen')) {\n                // skip offscreen entities\n                continue;\n            }\n            if (entity instanceof Particle) {\n                // Particles crush the renderer :(\n                continue;\n            }\n            if (filterSettings.useFilter) {\n                const allIds = filterSettings.ids.length === 0;\n                const idMatch = allIds || filterSettings.ids.includes(entity.id);\n                if (!idMatch) {\n                    continue;\n                }\n                const allNames = filterSettings.nameQuery === '';\n                const nameMatch = allNames || entity.name.includes(filterSettings.nameQuery);\n                if (!nameMatch) {\n                    continue;\n                }\n            }\n            let cursor = Vector.Zero;\n            const lineHeight = vec(0, 16);\n            id = entity.id;\n            name = entity.name;\n            tx = entity.get(TransformComponent);\n            // This optionally sets our camera based on the entity coord plan (world vs. screen)\n            this._pushCameraTransform(tx);\n            this._graphicsContext.save();\n            if (tx.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.translate(this._engine.screen.contentArea.left, this._engine.screen.contentArea.top);\n            }\n            this._graphicsContext.z = txSettings.debugZIndex;\n            this._applyTransform(entity);\n            if (tx) {\n                if (txSettings.showAll || txSettings.showPosition) {\n                    this._graphicsContext.debug.drawPoint(Vector.Zero, { size: 4, color: txSettings.positionColor });\n                }\n                if (txSettings.showAll || txSettings.showPositionLabel) {\n                    this._graphicsContext.debug.drawText(`pos${tx.pos.toString(2)}`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (txSettings.showAll || txSettings.showZIndex) {\n                    this._graphicsContext.debug.drawText(`z(${tx.z.toFixed(1)})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (entitySettings.showAll || entitySettings.showId) {\n                    this._graphicsContext.debug.drawText(`id(${id}) ${entity.parent ? 'child of id(' + ((_a = entity.parent) === null || _a === void 0 ? void 0 : _a.id) + ')' : ''}`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (entitySettings.showAll || entitySettings.showName) {\n                    this._graphicsContext.debug.drawText(`name(${name})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (txSettings.showAll || txSettings.showRotation) {\n                    this._graphicsContext.drawLine(Vector.Zero, Vector.fromAngle(tx.rotation).scale(50).add(Vector.Zero), txSettings.rotationColor, 2);\n                    this._graphicsContext.debug.drawText(`rot deg(${toDegrees(tx.rotation).toFixed(2)})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (txSettings.showAll || txSettings.showScale) {\n                    this._graphicsContext.drawLine(Vector.Zero, tx.scale.add(Vector.Zero), txSettings.scaleColor, 2);\n                }\n            }\n            graphics = entity.get(GraphicsComponent);\n            if (graphics) {\n                if (graphicsSettings.showAll || graphicsSettings.showBounds) {\n                    const bounds = graphics.localBounds;\n                    bounds.draw(this._graphicsContext, graphicsSettings.boundsColor);\n                }\n            }\n            debugDraw = entity.get(DebugGraphicsComponent);\n            if (debugDraw) {\n                if (!debugDraw.useTransform) {\n                    this._graphicsContext.restore();\n                }\n                debugDraw.draw(this._graphicsContext, this._engine.debug);\n                if (!debugDraw.useTransform) {\n                    this._graphicsContext.save();\n                    this._applyTransform(entity);\n                }\n            }\n            body = entity.get(BodyComponent);\n            if (body) {\n                if (bodySettings.showAll || bodySettings.showCollisionGroup) {\n                    this._graphicsContext.debug.drawText(`collision group(${body.group.name})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showCollisionType) {\n                    this._graphicsContext.debug.drawText(`collision type(${body.collisionType})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showMass) {\n                    this._graphicsContext.debug.drawText(`mass(${body.mass})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showMotion) {\n                    this._graphicsContext.debug.drawText(`motion(${body.sleepMotion})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (bodySettings.showAll || bodySettings.showSleeping) {\n                    this._graphicsContext.debug.drawText(`sleeping(${body.canSleep ? body.isSleeping : 'cant sleep'})`, cursor);\n                    cursor = cursor.add(lineHeight);\n                }\n            }\n            this._graphicsContext.restore();\n            // World space\n            this._graphicsContext.save();\n            if (tx.coordPlane === CoordPlane.Screen) {\n                this._graphicsContext.translate(this._engine.screen.contentArea.left, this._engine.screen.contentArea.top);\n            }\n            this._graphicsContext.z = txSettings.debugZIndex;\n            motion = entity.get(MotionComponent);\n            if (motion) {\n                if (motionSettings.showAll || motionSettings.showVelocity) {\n                    this._graphicsContext.debug.drawText(`vel${motion.vel.toString(2)}`, cursor.add(tx.globalPos));\n                    this._graphicsContext.drawLine(tx.globalPos, tx.globalPos.add(motion.vel), motionSettings.velocityColor, 2);\n                    cursor = cursor.add(lineHeight);\n                }\n                if (motionSettings.showAll || motionSettings.showAcceleration) {\n                    this._graphicsContext.drawLine(tx.globalPos, tx.globalPos.add(motion.acc), motionSettings.accelerationColor, 2);\n                }\n            }\n            // Colliders live in world space already so after the restore()\n            colliderComp = entity.get(ColliderComponent);\n            if (colliderComp) {\n                const collider = colliderComp.get();\n                if ((colliderSettings.showAll || colliderSettings.showGeometry) && collider) {\n                    collider.debug(this._graphicsContext, colliderSettings.geometryColor, {\n                        lineWidth: colliderSettings.geometryLineWidth,\n                        pointSize: colliderSettings.geometryPointSize\n                    });\n                }\n                if (colliderSettings.showAll || colliderSettings.showBounds) {\n                    if (collider instanceof CompositeCollider) {\n                        const colliders = collider.getColliders();\n                        for (const collider of colliders) {\n                            const bounds = collider.bounds;\n                            const pos = vec(bounds.left, bounds.top);\n                            this._graphicsContext.debug.drawRect(pos.x, pos.y, bounds.width, bounds.height, { color: colliderSettings.boundsColor });\n                            if (colliderSettings.showAll || colliderSettings.showOwner) {\n                                this._graphicsContext.debug.drawText(`owner id(${collider.owner.id})`, pos);\n                            }\n                        }\n                        colliderComp.bounds.draw(this._graphicsContext, colliderSettings.boundsColor);\n                    }\n                    else if (collider) {\n                        const bounds = colliderComp.bounds;\n                        const pos = vec(bounds.left, bounds.top);\n                        this._graphicsContext.debug.drawRect(pos.x, pos.y, bounds.width, bounds.height, { color: colliderSettings.boundsColor });\n                        if (colliderSettings.showAll || colliderSettings.showOwner) {\n                            this._graphicsContext.debug.drawText(`owner id(${colliderComp.owner.id})`, pos);\n                        }\n                    }\n                }\n            }\n            this._graphicsContext.restore();\n            this._popCameraTransform(tx);\n        }\n        this._graphicsContext.save();\n        this._camera.draw(this._graphicsContext);\n        if (physicsSettings.showAll || physicsSettings.showBroadphaseSpacePartitionDebug) {\n            this._collisionSystem.debug(this._graphicsContext);\n        }\n        if (physicsSettings.showAll || physicsSettings.showCollisionContacts || physicsSettings.showCollisionNormals) {\n            for (const [_, contact] of this._engine.debug.stats.currFrame.physics.contacts) {\n                if (physicsSettings.showAll || physicsSettings.showCollisionContacts) {\n                    for (const point of contact.points) {\n                        this._graphicsContext.debug.drawPoint(point, {\n                            size: physicsSettings.contactSize,\n                            color: physicsSettings.collisionContactColor\n                        });\n                    }\n                }\n                if (physicsSettings.showAll || physicsSettings.showCollisionNormals) {\n                    for (const point of contact.points) {\n                        this._graphicsContext.debug.drawLine(point, contact.normal.scale(30).add(point), {\n                            color: physicsSettings.collisionNormalColor\n                        });\n                    }\n                }\n            }\n        }\n        this._graphicsContext.restore();\n        if (cameraSettings) {\n            this._graphicsContext.save();\n            this._camera.draw(this._graphicsContext);\n            if (cameraSettings.showAll || cameraSettings.showFocus) {\n                this._graphicsContext.drawCircle(this._camera.pos, 4, cameraSettings.focusColor);\n            }\n            if (cameraSettings.showAll || cameraSettings.showZoom) {\n                this._graphicsContext.debug.drawText(`zoom(${this._camera.zoom})`, this._camera.pos);\n            }\n            this._graphicsContext.restore();\n        }\n        this._graphicsContext.flush();\n    }\n    postupdate(engine, elapsed) {\n        if (this._engine.isDebug) {\n            this._graphicsContext.save();\n            if (this._camera) {\n                this._camera.draw(this._graphicsContext);\n            }\n            Debug.flush(this._graphicsContext);\n            this._graphicsContext.restore();\n        }\n    }\n    /**\n     * This applies the current entity transform to the graphics context\n     * @param entity\n     */\n    _applyTransform(entity) {\n        const ancestors = entity.getAncestors();\n        for (const ancestor of ancestors) {\n            const transform = ancestor === null || ancestor === void 0 ? void 0 : ancestor.get(TransformComponent);\n            if (transform) {\n                this._graphicsContext.translate(transform.pos.x, transform.pos.y);\n                this._graphicsContext.scale(transform.scale.x, transform.scale.y);\n                this._graphicsContext.rotate(transform.rotation);\n            }\n        }\n    }\n    /**\n     * Applies the current camera transform if in world coordinates\n     * @param transform\n     */\n    _pushCameraTransform(transform) {\n        // Establish camera offset per entity\n        if (transform.coordPlane === CoordPlane.World) {\n            this._graphicsContext.save();\n            if (this._camera) {\n                this._camera.draw(this._graphicsContext);\n            }\n        }\n    }\n    /**\n     * Resets the current camera transform if in world coordinates\n     * @param transform\n     */\n    _popCameraTransform(transform) {\n        if (transform.coordPlane === CoordPlane.World) {\n            // Apply camera world offset\n            this._graphicsContext.restore();\n        }\n    }\n}\nDebugSystem.priority = SystemPriority.Lowest;\n\n;// ./Collision/Detection/SparseHashGrid.ts\n\n\n\n\nclass HashGridProxy {\n    constructor(object, gridSize) {\n        this.object = object;\n        this.id = -1;\n        this.cells = [];\n        this.hasZeroBounds = false;\n        this.gridSize = gridSize;\n        this.bounds = object.bounds;\n        this.hasZeroBounds = this.bounds.hasZeroDimensions();\n        this.leftX = Math.floor(this.bounds.left / this.gridSize);\n        this.rightX = Math.floor(this.bounds.right / this.gridSize);\n        this.bottomY = Math.floor(this.bounds.bottom / this.gridSize);\n        this.topY = Math.floor(this.bounds.top / this.gridSize);\n    }\n    /**\n     * Has the hashed bounds changed\n     */\n    hasChanged() {\n        const bounds = this.object.bounds;\n        const leftX = Math.floor(bounds.left / this.gridSize);\n        const rightX = Math.floor(bounds.right / this.gridSize);\n        const bottomY = Math.floor(bounds.bottom / this.gridSize);\n        const topY = Math.floor(bounds.top / this.gridSize);\n        if (this.leftX !== leftX || this.rightX !== rightX || this.bottomY !== bottomY || this.topY !== topY) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Clears all collider references\n     */\n    clear() {\n        for (const cell of this.cells) {\n            const index = cell.proxies.indexOf(this);\n            if (index > -1) {\n                cell.proxies.splice(index, 1);\n            }\n            // TODO reclaim cell in pool if empty?\n        }\n    }\n    /**\n     * Update bounds of the proxy\n     */\n    updateBounds() {\n        this.bounds = this.object.bounds;\n    }\n    /**\n     * Updates the hashed bounds coordinates\n     */\n    update() {\n        this.bounds = this.object.bounds;\n        this.leftX = Math.floor(this.bounds.left / this.gridSize);\n        this.rightX = Math.floor(this.bounds.right / this.gridSize);\n        this.bottomY = Math.floor(this.bounds.bottom / this.gridSize);\n        this.topY = Math.floor(this.bounds.top / this.gridSize);\n        this.hasZeroBounds = this.object.bounds.hasZeroDimensions();\n    }\n}\nclass HashGridCell {\n    constructor() {\n        this.proxies = [];\n    }\n    configure(x, y) {\n        this.x = x;\n        this.y = y;\n        this.key = HashGridCell.calculateHashKey(x, y);\n    }\n    static calculateHashKey(x, y) {\n        return `${x}+${y}`;\n    }\n}\nclass SparseHashGrid {\n    constructor(options) {\n        this.bounds = new BoundingBox();\n        this._hashGridCellPool = new RentalPool(() => new HashGridCell(), (instance) => {\n            instance.configure(0, 0);\n            instance.proxies.length = 0;\n            return instance;\n        }, 1000);\n        this.gridSize = options.size;\n        this.sparseHashGrid = new Map();\n        this.objectToProxy = new Map();\n        if (options.proxyFactory) {\n            this._buildProxy = (object) => options.proxyFactory(object, this.gridSize);\n        }\n        else {\n            this._buildProxy = (object) => new HashGridProxy(object, this.gridSize);\n        }\n        // TODO dynamic grid size potentially larger than the largest collider\n        // TODO Re-hash the objects if the median proves to be different\n    }\n    query(boundsOrPoint) {\n        const results = new Set();\n        if (boundsOrPoint instanceof BoundingBox) {\n            const bounds = boundsOrPoint;\n            const leftX = Math.floor(bounds.left / this.gridSize);\n            const rightX = Math.floor(bounds.right / this.gridSize);\n            const bottomY = Math.floor(bounds.bottom / this.gridSize);\n            const topY = Math.floor(bounds.top / this.gridSize);\n            for (let x = leftX; x <= rightX; x++) {\n                for (let y = topY; y <= bottomY; y++) {\n                    const key = HashGridCell.calculateHashKey(x, y);\n                    // Hash bounds into appropriate cell\n                    const cell = this.sparseHashGrid.get(key);\n                    if (cell) {\n                        for (let i = 0; i < cell.proxies.length; i++) {\n                            cell.proxies[i].updateBounds();\n                            if (cell.proxies[i].bounds.intersect(bounds)) {\n                                results.add(cell.proxies[i].object);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            const point = boundsOrPoint;\n            const key = HashGridCell.calculateHashKey(Math.floor(point.x / this.gridSize), Math.floor(point.y / this.gridSize));\n            // Hash points into appropriate cell\n            const cell = this.sparseHashGrid.get(key);\n            if (cell) {\n                for (let i = 0; i < cell.proxies.length; i++) {\n                    cell.proxies[i].updateBounds();\n                    if (cell.proxies[i].bounds.contains(point)) {\n                        results.add(cell.proxies[i].object);\n                    }\n                }\n            }\n        }\n        return Array.from(results);\n    }\n    get(xCoord, yCoord) {\n        const key = HashGridCell.calculateHashKey(xCoord, yCoord);\n        const cell = this.sparseHashGrid.get(key);\n        return cell;\n    }\n    _insert(x, y, proxy) {\n        const key = HashGridCell.calculateHashKey(x, y);\n        // Hash collider into appropriate cell\n        let cell = this.sparseHashGrid.get(key);\n        if (!cell) {\n            cell = this._hashGridCellPool.rent();\n            cell.configure(x, y);\n            this.sparseHashGrid.set(cell.key, cell);\n        }\n        cell.proxies.push(proxy);\n        proxy.cells.push(cell); // TODO dupes, doesn't seem to be a problem\n        this.bounds.combine(proxy.bounds, this.bounds);\n    }\n    _remove(x, y, proxy) {\n        const key = HashGridCell.calculateHashKey(x, y);\n        // Hash collider into appropriate cell\n        const cell = this.sparseHashGrid.get(key);\n        if (cell) {\n            const proxyIndex = cell.proxies.indexOf(proxy);\n            if (proxyIndex > -1) {\n                cell.proxies.splice(proxyIndex, 1);\n            }\n            const cellIndex = proxy.cells.indexOf(cell);\n            if (cellIndex > -1) {\n                proxy.cells.splice(cellIndex, 1);\n            }\n            if (cell.proxies.length === 0) {\n                this._hashGridCellPool.return(cell);\n                this.sparseHashGrid.delete(key);\n            }\n        }\n    }\n    track(target) {\n        const proxy = this._buildProxy(target);\n        this.objectToProxy.set(target, proxy);\n        for (let x = proxy.leftX; x <= proxy.rightX; x++) {\n            for (let y = proxy.topY; y <= proxy.bottomY; y++) {\n                this._insert(x, y, proxy);\n            }\n        }\n    }\n    untrack(target) {\n        const proxy = this.objectToProxy.get(target);\n        if (proxy) {\n            proxy.clear();\n            this.objectToProxy.delete(target);\n        }\n    }\n    update(targets) {\n        let updated = 0;\n        // FIXME resetting bounds is wrong, if nothing has updated then\n        // the bounds stay 0\n        // this.bounds.reset();\n        for (const target of targets) {\n            const proxy = this.objectToProxy.get(target);\n            if (!proxy) {\n                continue;\n            }\n            if (proxy.hasChanged()) {\n                // TODO slightly wasteful only remove from changed\n                for (let x = proxy.leftX; x <= proxy.rightX; x++) {\n                    for (let y = proxy.topY; y <= proxy.bottomY; y++) {\n                        this._remove(x, y, proxy);\n                    }\n                }\n                proxy.update();\n                // TODO slightly wasteful only add new\n                for (let x = proxy.leftX; x <= proxy.rightX; x++) {\n                    for (let y = proxy.topY; y <= proxy.bottomY; y++) {\n                        this._insert(x, y, proxy);\n                    }\n                }\n                updated++;\n            }\n        }\n        return updated;\n    }\n    debug(ex, elapsed) {\n        const transparent = Color.Transparent;\n        const color = Color.White;\n        for (const cell of this.sparseHashGrid.values()) {\n            ex.drawRectangle(vec(cell.x * this.gridSize, cell.y * this.gridSize), this.gridSize, this.gridSize, transparent, color, 2);\n        }\n    }\n}\n\n;// ./Input/PointerSystem.ts\n\n\n\n\n\n\n/**\n * The PointerSystem is responsible for dispatching pointer events to entities\n * that need them.\n *\n * The PointerSystem can be optionally configured by the {@apilink PointerComponent}, by default Entities use\n * the {@apilink Collider}'s shape for pointer events.\n */\nclass PointerSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Update;\n        this._graphicsHashGrid = new SparseHashGrid({ size: 100 });\n        this._graphics = [];\n        this._entityToPointer = new Map();\n        this._pointerEventDispatcher = new PointerEventsToObjectDispatcher();\n        /**\n         * Optionally override component configuration for all entities\n         */\n        this.overrideUseColliderShape = false;\n        /**\n         * Optionally override component configuration for all entities\n         */\n        this.overrideUseGraphicsBounds = false;\n        this._sortedTransforms = [];\n        this._sortedEntities = [];\n        this._zHasChanged = false;\n        this._zIndexUpdate = () => {\n            this._zHasChanged = true;\n        };\n        this.query = this.world.query([TransformComponent, PointerComponent]);\n        this.query.entityAdded$.subscribe((e) => {\n            const tx = e.get(TransformComponent);\n            const pointer = e.get(PointerComponent);\n            this._pointerEventDispatcher.addObject(e, (pos) => {\n                // If pointer bounds defined\n                if (pointer && pointer.localBounds) {\n                    const pointerBounds = pointer.localBounds.transform(tx.get().matrix);\n                    return pointerBounds.contains(tx.coordPlane === CoordPlane.World ? pos.worldPos : pos.screenPos);\n                }\n                return false;\n            }, () => e.isActive);\n            this._entityToPointer.set(e, pointer);\n            const maybeGfx = e.get(GraphicsComponent);\n            if (maybeGfx) {\n                this._graphics.push(maybeGfx);\n                this._graphicsHashGrid.track(maybeGfx);\n            }\n            this._sortedTransforms.push(tx);\n            this._sortedEntities.push(tx.owner);\n            tx.zIndexChanged$.subscribe(this._zIndexUpdate);\n            this._zHasChanged = true;\n        });\n        this.query.entityRemoved$.subscribe((e) => {\n            this._pointerEventDispatcher.removeObject(e);\n            const tx = e.get(TransformComponent);\n            this._entityToPointer.delete(e);\n            const maybeGfx = e.get(GraphicsComponent);\n            if (maybeGfx) {\n                const index = this._graphics.indexOf(maybeGfx);\n                if (index > -1) {\n                    this._graphics.splice(index, 1);\n                }\n                this._graphicsHashGrid.untrack(maybeGfx);\n            }\n            tx.zIndexChanged$.unsubscribe(this._zIndexUpdate);\n            const index = this._sortedTransforms.indexOf(tx);\n            if (index > -1) {\n                this._sortedTransforms.splice(index, 1);\n                this._sortedEntities.splice(index, 1);\n            }\n        });\n    }\n    initialize(world, scene) {\n        this._engine = scene.engine;\n        this._scene = scene;\n    }\n    preupdate() {\n        if (this._scene.camera.hasChanged()) {\n            // if the camera has changed we want to force a transform update so pointers can be correctly calc'd\n            this._scene.camera.updateTransform(this._scene.camera.pos);\n        }\n        // event receiver might change per frame\n        this._receivers = [this._engine.input.pointers, this._scene.input.pointers];\n        this._engineReceiver = this._engine.input.pointers;\n        if (this._zHasChanged) {\n            this._sortedTransforms.sort((a, b) => {\n                return b.z - a.z;\n            });\n            this._sortedEntities = this._sortedTransforms.map((t) => t.owner);\n            this._zHasChanged = false;\n        }\n    }\n    update() {\n        // Update graphics\n        this._graphicsHashGrid.update(this._graphics);\n        // Locate all the pointer/entity mappings\n        for (const [pointerId, pos] of this._engineReceiver.currentFramePointerCoords.entries()) {\n            const colliders = this._scene.physics.query(pos.worldPos);\n            for (let i = 0; i < colliders.length; i++) {\n                const collider = colliders[i];\n                const maybePointer = this._entityToPointer.get(collider.owner);\n                if (maybePointer && (maybePointer.useColliderShape || this.overrideUseColliderShape)) {\n                    this._pointerEventDispatcher.addPointerToObject(collider.owner, pointerId);\n                }\n            }\n            const graphics = this._graphicsHashGrid.query(pos.worldPos);\n            for (let i = 0; i < graphics.length; i++) {\n                const graphic = graphics[i];\n                const maybePointer = this._entityToPointer.get(graphic.owner);\n                if (maybePointer && (maybePointer.useGraphicsBounds || this.overrideUseGraphicsBounds)) {\n                    this._pointerEventDispatcher.addPointerToObject(graphic.owner, pointerId);\n                }\n            }\n        }\n        this._pointerEventDispatcher.processPointerToObject(this._engineReceiver, this._sortedEntities);\n        // Dispatch pointer events on entities\n        this._pointerEventDispatcher.dispatchEvents(this._engineReceiver, this._sortedEntities);\n        // Dispatch pointer events on top level pointers\n        this._receivers.forEach((r) => r.update());\n        // Clear last frame's events\n        this._pointerEventDispatcher.clear();\n        this._receivers.forEach((r) => r.clear());\n    }\n}\nPointerSystem.priority = SystemPriority.Higher;\n\n;// ./Actions/ActionsSystem.ts\n\n\n\nclass ActionsSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Update;\n        this._actions = [];\n        this.query = this.world.query([ActionsComponent]);\n        this.query.entityAdded$.subscribe((e) => this._actions.push(e.get(ActionsComponent)));\n        this.query.entityRemoved$.subscribe((e) => {\n            const action = e.get(ActionsComponent);\n            const index = this._actions.indexOf(action);\n            if (index > -1) {\n                this._actions.splice(index, 1);\n            }\n        });\n    }\n    update(elapsed) {\n        for (let i = 0; i < this._actions.length; i++) {\n            const action = this._actions[i];\n            action.update(elapsed);\n        }\n    }\n}\nActionsSystem.priority = SystemPriority.Higher;\n\n;// ./TileMap/IsometricEntityComponent.ts\n\nclass IsometricEntityComponent extends Component {\n    /**\n     * Specify the isometric map to use to position this entity's z-index\n     * @param mapOrOptions\n     */\n    constructor(mapOrOptions) {\n        super();\n        /**\n         * Vertical \"height\" in the isometric world\n         */\n        this.elevation = 0;\n        this.columns = mapOrOptions.columns;\n        this.rows = mapOrOptions.rows;\n        this.tileWidth = mapOrOptions.tileWidth;\n        this.tileHeight = mapOrOptions.tileHeight;\n    }\n}\n\n;// ./TileMap/IsometricEntitySystem.ts\n\n\n\n\nclass IsometricEntitySystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Update;\n        this.query = this.world.query([TransformComponent, IsometricEntityComponent]);\n    }\n    update() {\n        let transform;\n        let iso;\n        for (let i = 0; i < this.query.entities.length; i++) {\n            const entity = this.query.entities[i];\n            transform = entity.get(TransformComponent);\n            iso = entity.get(IsometricEntityComponent);\n            const maxZindexPerElevation = Math.max(iso.columns * iso.tileWidth, iso.rows * iso.tileHeight);\n            const newZ = maxZindexPerElevation * iso.elevation + transform.pos.y;\n            transform.z = newZ;\n        }\n    }\n}\nIsometricEntitySystem.priority = SystemPriority.Lower;\n\n;// ./Graphics/OffscreenSystem.ts\n\n\n\n\n\n\n\n\nclass OffscreenSystem extends System {\n    constructor(world) {\n        super();\n        this.world = world;\n        this.systemType = SystemType.Draw;\n        this.query = this.world.query([TransformComponent, GraphicsComponent]);\n    }\n    initialize(world, scene) {\n        this._camera = scene.camera;\n        this._screen = scene.engine.screen;\n    }\n    update() {\n        this._worldBounds = this._screen.getWorldBounds();\n        let transform;\n        let graphics;\n        let maybeParallax;\n        for (let i = 0; i < this.query.entities.length; i++) {\n            const entity = this.query.entities[i];\n            graphics = entity.get(GraphicsComponent);\n            transform = entity.get(TransformComponent);\n            maybeParallax = entity.get(ParallaxComponent);\n            let parallaxOffset;\n            if (maybeParallax) {\n                // We use the Tiled formula\n                // https://doc.mapeditor.org/en/latest/manual/layers/#parallax-scrolling-factor\n                // cameraPos * (1 - parallaxFactor)\n                const oneMinusFactor = Vector.One.sub(maybeParallax.parallaxFactor);\n                parallaxOffset = this._camera.pos.scale(oneMinusFactor);\n            }\n            // Figure out if entities are offscreen\n            const entityOffscreen = this._isOffscreen(transform, graphics, parallaxOffset);\n            if (entityOffscreen && !entity.hasTag('ex.offscreen')) {\n                entity.events.emit('exitviewport', new ExitViewPortEvent(entity));\n                entity.addTag('ex.offscreen');\n            }\n            if (!entityOffscreen && entity.hasTag('ex.offscreen')) {\n                entity.events.emit('enterviewport', new EnterViewPortEvent(entity));\n                entity.removeTag('ex.offscreen');\n            }\n        }\n    }\n    _isOffscreen(transform, graphics, parallaxOffset) {\n        if (graphics.forceOnScreen) {\n            return false;\n        }\n        if (transform.coordPlane === CoordPlane.World) {\n            let bounds = graphics.localBounds;\n            if (parallaxOffset) {\n                bounds = bounds.translate(parallaxOffset);\n            }\n            const transformedBounds = bounds.transform(transform.get().matrix);\n            const graphicsOffscreen = !this._worldBounds.overlaps(transformedBounds);\n            return graphicsOffscreen;\n        }\n        else {\n            // TODO screen coordinates\n            return false;\n        }\n    }\n}\nOffscreenSystem.priority = SystemPriority.Higher;\n\n;// ./Collision/Detection/SparseHashGridCollisionProcessor.ts\n\n\n\n\n\n\n\n\n\n/**\n * Proxy type to stash collision info\n */\nclass HashColliderProxy extends HashGridProxy {\n    constructor(collider, gridSize) {\n        var _a, _b;\n        super(collider, gridSize);\n        this.collider = collider;\n        this.id = -1;\n        this.hasZeroBounds = false;\n        /**\n         * References to the hash cell the collider is a current member of\n         */\n        this.cells = [];\n        this.gridSize = gridSize;\n        const bounds = collider.bounds;\n        this.hasZeroBounds = bounds.hasZeroDimensions();\n        this.leftX = Math.floor(bounds.left / this.gridSize);\n        this.rightX = Math.floor(bounds.right / this.gridSize);\n        this.bottomY = Math.floor(bounds.bottom / this.gridSize);\n        this.topY = Math.floor(bounds.top / this.gridSize);\n        this.owner = collider.owner;\n        this.body = (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        this.collisionType = (_b = this.body.collisionType) !== null && _b !== void 0 ? _b : CollisionType.PreventCollision;\n    }\n    /**\n     * Updates the hashed bounds coordinates\n     */\n    update() {\n        var _a, _b;\n        super.update();\n        this.body = (_a = this.owner) === null || _a === void 0 ? void 0 : _a.get(BodyComponent);\n        this.collisionType = (_b = this.body.collisionType) !== null && _b !== void 0 ? _b : CollisionType.PreventCollision;\n        this.hasZeroBounds = this.collider.localBounds.hasZeroDimensions();\n    }\n}\n/**\n * This collision processor uses a sparsely populated grid of uniform cells to bucket potential\n * colliders together for the purpose of detecting collision pairs and collisions.\n */\nclass SparseHashGridCollisionProcessor {\n    constructor(options) {\n        this._pairs = new Set();\n        this._nonPairs = new Set();\n        this._pairPool = new Pool(() => new Pair({ id: createId('collider', 0) }, { id: createId('collider', 0) }), (instance) => {\n            instance.colliderA = null;\n            instance.colliderB = null;\n            return instance;\n        }, 200);\n        this.gridSize = options.size;\n        this.hashGrid = new SparseHashGrid({\n            size: this.gridSize,\n            proxyFactory: (collider, size) => new HashColliderProxy(collider, size)\n        });\n        this._pairPool.disableWarnings = true;\n        // TODO dynamic grid size potentially larger than the largest collider\n        // TODO Re-hash the objects if the median proves to be different\n    }\n    getColliders() {\n        return Array.from(this.hashGrid.objectToProxy.keys());\n    }\n    query(boundsOrPoint) {\n        // FIXME workaround TS: https://github.com/microsoft/TypeScript/issues/14107\n        return this.hashGrid.query(boundsOrPoint);\n    }\n    rayCast(ray, options) {\n        var _a, _b, _c;\n        // DDA raycast algo\n        const results = [];\n        const maxDistance = (_a = options === null || options === void 0 ? void 0 : options.maxDistance) !== null && _a !== void 0 ? _a : Infinity;\n        const collisionGroup = options === null || options === void 0 ? void 0 : options.collisionGroup;\n        const collisionMask = !collisionGroup ? (_b = options === null || options === void 0 ? void 0 : options.collisionMask) !== null && _b !== void 0 ? _b : CollisionGroup.All.category : collisionGroup.category;\n        const searchAllColliders = (_c = options === null || options === void 0 ? void 0 : options.searchAllColliders) !== null && _c !== void 0 ? _c : false;\n        const unitRay = ray.dir.normalize();\n        const dydx = unitRay.y / unitRay.x;\n        const dxdy = unitRay.x / unitRay.y;\n        const unitStepX = Math.sqrt(1 + dydx * dydx) * this.gridSize;\n        const unitStepY = Math.sqrt(1 + dxdy * dxdy) * this.gridSize;\n        const startXCoord = ray.pos.x / this.gridSize;\n        const startYCoord = ray.pos.y / this.gridSize;\n        const stepDir = vec(1, 1);\n        let currentXCoord = ~~startXCoord;\n        let currentYCoord = ~~startYCoord;\n        let currentRayLengthX = 0;\n        let currentRayLengthY = 0;\n        if (unitRay.x < 0) {\n            stepDir.x = -1;\n            currentRayLengthX = (startXCoord - currentXCoord) * unitStepX;\n        }\n        else {\n            stepDir.x = 1;\n            currentRayLengthX = (currentXCoord + 1 - startXCoord) * unitStepX;\n        }\n        if (unitRay.y < 0) {\n            stepDir.y = -1;\n            currentRayLengthY = (startYCoord - currentYCoord) * unitStepY;\n        }\n        else {\n            stepDir.y = 1;\n            currentRayLengthY = (currentYCoord + 1 - startYCoord) * unitStepY;\n        }\n        const collidersVisited = new Set();\n        let done = false;\n        let maxIterations = 9999;\n        while (!done && maxIterations > 0) {\n            maxIterations--; // safety exit\n            // exit if exhausted max hash grid coordinate, bounds of the sparse grid\n            if (!this.hashGrid.bounds.contains(vec(currentXCoord * this.gridSize, currentYCoord * this.gridSize))) {\n                break;\n            }\n            // Test colliders at cell\n            const key = HashGridCell.calculateHashKey(currentXCoord, currentYCoord);\n            const cell = this.hashGrid.sparseHashGrid.get(key);\n            if (cell) {\n                const cellHits = [];\n                for (let colliderIndex = 0; colliderIndex < cell.proxies.length; colliderIndex++) {\n                    const collider = cell.proxies[colliderIndex];\n                    if (!collidersVisited.has(collider.collider.id.value)) {\n                        collidersVisited.add(collider.collider.id.value);\n                        if ((options === null || options === void 0 ? void 0 : options.ignoreCollisionGroupAll) && collider.body.group === CollisionGroup.All) {\n                            continue;\n                        }\n                        const canCollide = (collisionMask & collider.body.group.category) !== 0;\n                        // Early exit if not the right group\n                        if (collider.body.group && !canCollide) {\n                            continue;\n                        }\n                        const hit = collider.collider.rayCast(ray, maxDistance);\n                        // Collect up all the colliders that hit inside a cell\n                        // they can be in any order so we need to sort them next\n                        if (hit) {\n                            cellHits.push(hit);\n                        }\n                    }\n                }\n                cellHits.sort((hit1, hit2) => hit1.distance - hit2.distance);\n                for (let i = 0; i < cellHits.length; i++) {\n                    const hit = cellHits[i];\n                    if (options === null || options === void 0 ? void 0 : options.filter) {\n                        if (options.filter(hit)) {\n                            results.push(hit);\n                            if (!searchAllColliders) {\n                                done = true;\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        results.push(hit);\n                        if (!searchAllColliders) {\n                            done = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (currentRayLengthX < currentRayLengthY) {\n                currentXCoord += stepDir.x;\n                currentRayLengthX += unitStepX;\n            }\n            else {\n                currentYCoord += stepDir.y;\n                currentRayLengthY += unitStepY;\n            }\n        }\n        // Sort by distance\n        results.sort((hit1, hit2) => hit1.distance - hit2.distance);\n        if (!searchAllColliders && results.length) {\n            return [results[0]];\n        }\n        return results;\n    }\n    /**\n     * Adds the collider to the internal data structure for collision tracking\n     * @param target\n     */\n    track(target) {\n        let colliders = [target];\n        if (target instanceof CompositeCollider) {\n            const compColliders = target.getColliders();\n            for (const c of compColliders) {\n                c.owner = target.owner;\n            }\n            colliders = compColliders;\n        }\n        for (const target of colliders) {\n            this.hashGrid.track(target);\n        }\n    }\n    /**\n     * Removes a collider from the internal data structure for tracking collisions\n     * @param target\n     */\n    untrack(target) {\n        let colliders = [target];\n        if (target instanceof CompositeCollider) {\n            colliders = target.getColliders();\n        }\n        for (const target of colliders) {\n            this.hashGrid.untrack(target);\n        }\n    }\n    _canCollide(colliderA, colliderB) {\n        // Prevent self collision\n        if (colliderA.collider.id === colliderB.collider.id) {\n            return false;\n        }\n        // Colliders with the same owner do not collide (composite colliders)\n        if (colliderA.owner && colliderB.owner && colliderA.owner.id === colliderB.owner.id) {\n            return false;\n        }\n        // if the pair has a member with zero dimension don't collide\n        if (colliderA.hasZeroBounds || colliderB.hasZeroBounds) {\n            return false;\n        }\n        // If both are in the same collision group short circuit\n        if (!colliderA.body.group.canCollide(colliderB.body.group)) {\n            return false;\n        }\n        // if both are fixed short circuit\n        if (colliderA.collisionType === CollisionType.Fixed && colliderB.collisionType === CollisionType.Fixed) {\n            return false;\n        }\n        // if the either is prevent collision short circuit\n        if (colliderA.collisionType === CollisionType.PreventCollision || colliderB.collisionType === CollisionType.PreventCollision) {\n            return false;\n        }\n        // if either is dead short circuit\n        if (!colliderA.owner.isActive || !colliderB.owner.isActive) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Runs the broadphase sweep over tracked colliders and returns possible collision pairs\n     * @param targets\n     * @param elapsed\n     */\n    broadphase(targets, elapsed) {\n        const pairs = [];\n        this._pairs.clear();\n        this._nonPairs.clear();\n        let proxyId = 0;\n        for (const proxy of this.hashGrid.objectToProxy.values()) {\n            proxy.id = proxyId++; // track proxies we've already processed\n            if (!proxy.owner.isActive || proxy.collisionType === CollisionType.PreventCollision) {\n                continue;\n            }\n            // for every cell proxy collider is member of\n            for (let cellIndex = 0; cellIndex < proxy.cells.length; cellIndex++) {\n                const cell = proxy.cells[cellIndex];\n                // TODO Can we skip any cells or make this iteration faster?\n                // maybe a linked list here\n                for (let otherIndex = 0; otherIndex < cell.proxies.length; otherIndex++) {\n                    const other = cell.proxies[otherIndex];\n                    if (other.id === proxy.id) {\n                        // skip duplicates\n                        continue;\n                    }\n                    const id = Pair.calculatePairHash(proxy.collider.id, other.collider.id);\n                    if (this._nonPairs.has(id)) {\n                        continue; // Is there a way we can re-use the non-pair cache\n                    }\n                    if (!this._pairs.has(id) && this._canCollide(proxy, other) && proxy.object.bounds.overlaps(other.object.bounds)) {\n                        const pair = this._pairPool.get();\n                        pair.colliderA = proxy.collider;\n                        pair.colliderB = other.collider;\n                        pair.id = id;\n                        this._pairs.add(id);\n                        pairs.push(pair);\n                    }\n                    else {\n                        this._nonPairs.add(id);\n                    }\n                }\n            }\n        }\n        return pairs;\n    }\n    /**\n     * Runs a fine grain pass on collision pairs and does geometry intersection tests producing any contacts\n     * @param pairs\n     * @param stats\n     */\n    narrowphase(pairs, stats) {\n        const contacts = [];\n        for (let i = 0; i < pairs.length; i++) {\n            const newContacts = pairs[i].collide();\n            for (let j = 0; j < newContacts.length; j++) {\n                const c = newContacts[j];\n                contacts.push(c);\n                if (stats) {\n                    stats.physics.contacts.set(c.id, c);\n                }\n            }\n        }\n        this._pairPool.done();\n        if (stats) {\n            stats.physics.collisions += contacts.length;\n        }\n        return contacts; // TODO maybe we can re-use contacts as likely pairs next frame\n    }\n    /**\n     * Perform data structure maintenance, returns number of colliders updated\n     */\n    update(targets, elapsed) {\n        return this.hashGrid.update(targets);\n    }\n    /**\n     * Draws the internal data structure\n     * @param ex\n     * @param elapsed\n     */\n    debug(ex, elapsed) {\n        this.hashGrid.debug(ex, elapsed);\n    }\n}\n\n;// ./Collision/PhysicsWorld.ts\n\n\n\n\n\nclass PhysicsWorld {\n    get config() {\n        return watchDeep(this._config, (change) => {\n            this.$configUpdate.notifyAll(change);\n        });\n    }\n    set config(newConfig) {\n        this._config = newConfig;\n        this.$configUpdate.notifyAll(newConfig);\n    }\n    /**\n     * Spatial data structure for locating potential collision pairs and ray casts\n     */\n    get collisionProcessor() {\n        if (this._configDirty) {\n            this._configDirty = false;\n            // preserve tracked colliders if config updates\n            const colliders = this._collisionProcessor.getColliders();\n            if (this._config.spatialPartition === SpatialPartitionStrategy.SparseHashGrid) {\n                this._collisionProcessor = new SparseHashGridCollisionProcessor(this._config.sparseHashGrid);\n            }\n            else {\n                this._collisionProcessor = new DynamicTreeCollisionProcessor(this._config);\n            }\n            for (const collider of colliders) {\n                this._collisionProcessor.track(collider);\n            }\n        }\n        return this._collisionProcessor;\n    }\n    constructor(config) {\n        this.$configUpdate = new Observable();\n        this._configDirty = false;\n        this.config = config;\n        this.$configUpdate.subscribe((config) => {\n            this._configDirty = true;\n            BodyComponent.updateDefaultPhysicsConfig(config.bodies);\n        });\n        if (this._config.spatialPartition === SpatialPartitionStrategy.SparseHashGrid) {\n            this._collisionProcessor = new SparseHashGridCollisionProcessor(this._config.sparseHashGrid);\n        }\n        else {\n            this._collisionProcessor = new DynamicTreeCollisionProcessor(this._config);\n        }\n    }\n    /**\n     * Raycast into the scene's physics world\n     * @param ray\n     * @param options\n     */\n    rayCast(ray, options) {\n        return this.collisionProcessor.rayCast(ray, options);\n    }\n    query(pointOrBounds) {\n        // FIXME workaround TS: https://github.com/microsoft/TypeScript/issues/14107\n        return this._collisionProcessor.query(pointOrBounds);\n    }\n}\n\n;// ./Input/Gamepad.ts\n\n\nconst GamepadEvents = {\n    GamepadConnect: 'connect',\n    GamepadDisconnect: 'disconnect',\n    GamepadButton: 'button',\n    GamepadAxis: 'axis'\n};\n/**\n * Excalibur leverages the HTML5 Gamepad API [where it is supported](http://caniuse.com/#feat=gamepad)\n * to provide controller support for your games.\n */\nclass Gamepads {\n    constructor() {\n        this.events = new EventEmitter();\n        /**\n         * Whether or not to poll for Gamepad input (default: `false`)\n         */\n        this.enabled = false;\n        /**\n         * Whether or not Gamepad API is supported\n         */\n        this.supported = !!navigator.getGamepads;\n        this._gamePadTimeStamps = [0, 0, 0, 0];\n        this._oldPads = [];\n        this._pads = [];\n        this._initSuccess = false;\n        this._navigator = navigator;\n        this._minimumConfiguration = null;\n        this._enabled = true;\n    }\n    init() {\n        if (!this.supported) {\n            return;\n        }\n        if (this._initSuccess) {\n            return;\n        }\n        // In Chrome, this will return 4 undefined items until a button is pressed\n        // In FF, this will not return any items until a button is pressed\n        this._oldPads = this._clonePads(this._navigator.getGamepads());\n        if (this._oldPads.length && this._oldPads[0]) {\n            this._initSuccess = true;\n        }\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n    }\n    /**\n     * Sets the minimum gamepad configuration, for example {axis: 4, buttons: 4} means\n     * this game requires at minimum 4 axis inputs and 4 buttons, this is not restrictive\n     * all other controllers with more axis or buttons are valid as well. If no minimum\n     * configuration is set all pads are valid.\n     */\n    setMinimumGamepadConfiguration(config) {\n        this._enableAndUpdate(); // if config is used, implicitly enable\n        this._minimumConfiguration = config;\n    }\n    /**\n     * When implicitly enabled, set the enabled flag and run an update so information is updated\n     */\n    _enableAndUpdate() {\n        if (!this.enabled) {\n            this.enabled = true;\n            this.update();\n        }\n    }\n    /**\n     * Checks a navigator gamepad against the minimum configuration if present.\n     */\n    _isGamepadValid(pad) {\n        if (!this._minimumConfiguration) {\n            return true;\n        }\n        if (!pad) {\n            return false;\n        }\n        const axesLength = pad.axes.filter((value) => {\n            return typeof value !== undefined;\n        }).length;\n        const buttonLength = pad.buttons.filter((value) => {\n            return typeof value !== undefined;\n        }).length;\n        return axesLength >= this._minimumConfiguration.axis && buttonLength >= this._minimumConfiguration.buttons && pad.connected;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        this._enableAndUpdate(); // implicitly enable\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this._enableAndUpdate(); // implicitly enable\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Updates Gamepad state and publishes Gamepad events\n     */\n    update() {\n        if (!this.enabled || !this.supported) {\n            return;\n        }\n        if (!this._enabled) {\n            return;\n        }\n        this.init();\n        const gamepads = this._navigator.getGamepads();\n        for (let i = 0; i < gamepads.length; i++) {\n            if (!gamepads[i]) {\n                const gamepad = this.at(i);\n                // If was connected, but now isn't emit the disconnect event\n                if (gamepad.connected) {\n                    this.events.emit('disconnect', new GamepadDisconnectEvent(i, gamepad));\n                }\n                // Reset connection status\n                gamepad.connected = false;\n                continue;\n            }\n            else {\n                if (!this.at(i).connected && this._isGamepadValid(gamepads[i])) {\n                    this.events.emit('connect', new GamepadConnectEvent(i, this.at(i)));\n                }\n                // Set connection status\n                this.at(i).connected = true;\n            }\n            this.at(i).update();\n            // Only supported in Chrome\n            if (gamepads[i].timestamp && gamepads[i].timestamp === this._gamePadTimeStamps[i]) {\n                continue;\n            }\n            this._gamePadTimeStamps[i] = gamepads[i].timestamp;\n            // Add reference to navigator gamepad\n            this.at(i).navigatorGamepad = gamepads[i];\n            // Buttons\n            let b, bi, a, ai, value;\n            for (b in Buttons) {\n                bi = Buttons[b];\n                if (typeof bi === 'number') {\n                    if (gamepads[i].buttons[bi]) {\n                        value = gamepads[i].buttons[bi].value;\n                        if (value !== this._oldPads[i].getButton(bi)) {\n                            if (gamepads[i].buttons[bi].pressed) {\n                                this.at(i).updateButton(bi, value);\n                                this.at(i).events.emit('button', new GamepadButtonEvent(bi, value, this.at(i)));\n                            }\n                            else {\n                                this.at(i).updateButton(bi, 0);\n                            }\n                        }\n                    }\n                }\n            }\n            // Axes\n            for (a in Axes) {\n                ai = Axes[a];\n                if (typeof ai === 'number') {\n                    value = gamepads[i].axes[ai];\n                    if (value !== this._oldPads[i].getAxes(ai)) {\n                        this.at(i).updateAxes(ai, value);\n                        this.at(i).events.emit('axis', new GamepadAxisEvent(ai, value, this.at(i)));\n                    }\n                }\n            }\n            this._oldPads[i] = this._clonePad(gamepads[i]);\n        }\n    }\n    /**\n     * Safely retrieves a Gamepad at a specific index and creates one if it doesn't yet exist\n     */\n    at(index) {\n        this._enableAndUpdate(); // implicitly enable gamepads when at() is called\n        if (index >= this._pads.length) {\n            // Ensure there is a pad to retrieve\n            for (let i = this._pads.length - 1, max = index; i < max; i++) {\n                this._pads.push(new Gamepad());\n                this._oldPads.push(new Gamepad());\n            }\n        }\n        return this._pads[index];\n    }\n    /**\n     * Returns a list of all valid gamepads that meet the minimum configuration requirement.\n     */\n    getValidGamepads() {\n        this._enableAndUpdate();\n        const result = [];\n        for (let i = 0; i < this._pads.length; i++) {\n            if (this._isGamepadValid(this.at(i).navigatorGamepad) && this.at(i).connected) {\n                result.push(this.at(i));\n            }\n        }\n        return result;\n    }\n    /**\n     * Gets the number of connected gamepads\n     */\n    count() {\n        return this._pads.filter((p) => p.connected).length;\n    }\n    _clonePads(pads) {\n        const arr = [];\n        for (let i = 0, len = pads.length; i < len; i++) {\n            arr.push(this._clonePad(pads[i]));\n        }\n        return arr;\n    }\n    /**\n     * Fastest way to clone a known object is to do it yourself\n     */\n    _clonePad(pad) {\n        let i, len;\n        const clonedPad = new Gamepad();\n        if (!pad) {\n            return clonedPad;\n        }\n        for (i = 0, len = pad.buttons.length; i < len; i++) {\n            if (pad.buttons[i]) {\n                clonedPad.updateButton(i, pad.buttons[i].value);\n            }\n        }\n        for (i = 0, len = pad.axes.length; i < len; i++) {\n            clonedPad.updateAxes(i, pad.axes[i]);\n        }\n        return clonedPad;\n    }\n}\n/**\n * The minimum value an axis has to move before considering it a change\n */\nGamepads.MinAxisMoveThreshold = 0.05;\n/**\n * Gamepad holds state information for a connected controller. See {@apilink Gamepads}\n * for more information on handling controller input.\n */\nclass Gamepad {\n    constructor() {\n        this.events = new EventEmitter();\n        this.connected = false;\n        this._axes = new Array(4);\n        this._buttons = new Array(16);\n        this._buttonsUp = new Array(16);\n        this._buttonsDown = new Array(16);\n        for (let i = 0; i < this._buttons.length; i++) {\n            this._buttons[i] = 0;\n        }\n        for (let i = 0; i < this._axes.length; i++) {\n            this._axes[i] = 0;\n        }\n    }\n    update() {\n        // Reset buttonsDown and buttonsUp after update is complete\n        this._buttonsDown = new Array(16);\n        this._buttonsUp = new Array(16);\n    }\n    /**\n     * Whether or not the given button is pressed\n     * @deprecated will be removed in v0.28.0. Use isButtonHeld instead\n     * @param button     The button to query\n     * @param threshold  The threshold over which the button is considered to be pressed\n     */\n    isButtonPressed(button, threshold = 1) {\n        return this._buttons[button] >= threshold;\n    }\n    /**\n     * Tests if a certain button is held down. This is persisted between frames.\n     * @param button     The button to query\n     * @param threshold  The threshold over which the button is considered to be pressed\n     */\n    isButtonHeld(button, threshold = 1) {\n        return this._buttons[button] >= threshold;\n    }\n    /**\n     * Tests if a certain button was just pressed this frame. This is cleared at the end of the update frame.\n     * @param button Test whether a button was just pressed\n     * @param threshold  The threshold over which the button is considered to be pressed\n     */\n    wasButtonPressed(button, threshold = 1) {\n        return this._buttonsDown[button] >= threshold;\n    }\n    /**\n     * Tests if a certain button was just released this frame. This is cleared at the end of the update frame.\n     * @param button  Test whether a button was just released\n     */\n    wasButtonReleased(button) {\n        return Boolean(this._buttonsUp[button]);\n    }\n    /**\n     * Gets the given button value between 0 and 1\n     */\n    getButton(button) {\n        return this._buttons[button];\n    }\n    /**\n     * Gets the given axis value between -1 and 1. Values below\n     * {@apilink MinAxisMoveThreshold} are considered 0.\n     */\n    getAxes(axes) {\n        const value = this._axes[axes];\n        if (Math.abs(value) < Gamepads.MinAxisMoveThreshold) {\n            return 0;\n        }\n        else {\n            return value;\n        }\n    }\n    updateButton(buttonIndex, value) {\n        // button was just released\n        if (value === 0 && this._buttons[buttonIndex]) {\n            this._buttonsUp[buttonIndex] = 1;\n            // button was just pressed\n        }\n        else {\n            this._buttonsDown[buttonIndex] = value;\n        }\n        this._buttons[buttonIndex] = value;\n    }\n    updateAxes(axesIndex, value) {\n        this._axes[axesIndex] = value;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n}\n/**\n * Gamepad Buttons enumeration\n */\nvar Buttons;\n(function (Buttons) {\n    /**\n     * Face 1 button (e.g. A)\n     */\n    Buttons[Buttons[\"Face1\"] = 0] = \"Face1\";\n    /**\n     * Face 2 button (e.g. B)\n     */\n    Buttons[Buttons[\"Face2\"] = 1] = \"Face2\";\n    /**\n     * Face 3 button (e.g. X)\n     */\n    Buttons[Buttons[\"Face3\"] = 2] = \"Face3\";\n    /**\n     * Face 4 button (e.g. Y)\n     */\n    Buttons[Buttons[\"Face4\"] = 3] = \"Face4\";\n    /**\n     * Left bumper button\n     */\n    Buttons[Buttons[\"LeftBumper\"] = 4] = \"LeftBumper\";\n    /**\n     * Right bumper button\n     */\n    Buttons[Buttons[\"RightBumper\"] = 5] = \"RightBumper\";\n    /**\n     * Left trigger button\n     */\n    Buttons[Buttons[\"LeftTrigger\"] = 6] = \"LeftTrigger\";\n    /**\n     * Right trigger button\n     */\n    Buttons[Buttons[\"RightTrigger\"] = 7] = \"RightTrigger\";\n    /**\n     * Select button\n     */\n    Buttons[Buttons[\"Select\"] = 8] = \"Select\";\n    /**\n     * Start button\n     */\n    Buttons[Buttons[\"Start\"] = 9] = \"Start\";\n    /**\n     * Left analog stick press (e.g. L3)\n     */\n    Buttons[Buttons[\"LeftStick\"] = 10] = \"LeftStick\";\n    /**\n     * Right analog stick press (e.g. R3)\n     */\n    Buttons[Buttons[\"RightStick\"] = 11] = \"RightStick\";\n    /**\n     * D-pad up\n     */\n    Buttons[Buttons[\"DpadUp\"] = 12] = \"DpadUp\";\n    /**\n     * D-pad down\n     */\n    Buttons[Buttons[\"DpadDown\"] = 13] = \"DpadDown\";\n    /**\n     * D-pad left\n     */\n    Buttons[Buttons[\"DpadLeft\"] = 14] = \"DpadLeft\";\n    /**\n     * D-pad right\n     */\n    Buttons[Buttons[\"DpadRight\"] = 15] = \"DpadRight\";\n})(Buttons || (Buttons = {}));\n/**\n * Gamepad Axes enumeration\n */\nvar Axes;\n(function (Axes) {\n    /**\n     * Left analogue stick X direction\n     */\n    Axes[Axes[\"LeftStickX\"] = 0] = \"LeftStickX\";\n    /**\n     * Left analogue stick Y direction\n     */\n    Axes[Axes[\"LeftStickY\"] = 1] = \"LeftStickY\";\n    /**\n     * Right analogue stick X direction\n     */\n    Axes[Axes[\"RightStickX\"] = 2] = \"RightStickX\";\n    /**\n     * Right analogue stick Y direction\n     */\n    Axes[Axes[\"RightStickY\"] = 3] = \"RightStickY\";\n})(Axes || (Axes = {}));\n\n;// ./Input/InputMapper.ts\n/**\n * This allows you to map multiple inputs to specific commands! This is especially useful when\n * you need to allow multiple input sources to control a specific action.\n */\nclass InputMapper {\n    constructor(inputs) {\n        this.inputs = inputs;\n        this._handlers = new Map();\n    }\n    /**\n     * Executes the input map, called internally by Excalibur\n     */\n    execute() {\n        for (const [input, command] of this._handlers.entries()) {\n            const results = input(this.inputs);\n            if (results) {\n                command(results);\n            }\n        }\n    }\n    /**\n     * This allows you to map multiple inputs to specific commands! This is useful\n     *\n     * The inputHandler should return a truthy value if you wish the commandHandler to fire.\n     *\n     * Example:\n     * ```typescript\n     * const moveRight = (amount: number) => { actor.vel.x = 100 * amount }\n     * const moveLeft = (amount: number) => { actor.vel.x = -100 * amount }\n     * const moveUp = (amount: number) => { actor.vel.y = -100 * amount }\n     * const moveDown = (amount: number) => { actor.vel.y = 100 * amount }\n     *\n     * engine.inputMapper.on(({keyboard}) => keyboard.isHeld(ex.Keys.ArrowRight) ? 1 : 0, moveRight);\n     * engine.inputMapper.on(({gamepads}) => gamepads.at(0).isButtonPressed(ex.Buttons.DpadRight) ? 1 : 0, moveRight);\n     * engine.inputMapper.on(({gamepads}) => gamepads.at(0).getAxes(ex.Axes.LeftStickX) > 0 ?\n     *  gamepads.at(0).getAxes(ex.Axes.LeftStickX) : 0, moveRight);\n     * ```\n     * @param inputHandler\n     * @param commandHandler\n     */\n    on(inputHandler, commandHandler) {\n        this._handlers.set(inputHandler, commandHandler);\n    }\n}\n\n;// ./Util/IFrame.ts\n/**\n * Checks if excalibur is in a x-origin iframe\n */\nfunction isCrossOriginIframe() {\n    try {\n        // Try and listen to events on top window frame if within an iframe.\n        //\n        // See https://github.com/excaliburjs/Excalibur/issues/1294\n        //\n        // Attempt to add an event listener, which triggers a DOMException on\n        // cross-origin iframes\n        const noop = () => {\n            return;\n        };\n        window.top.addEventListener('blur', noop);\n        window.top.removeEventListener('blur', noop);\n    }\n    catch (_a) {\n        return true;\n    }\n    return false;\n}\n\n;// ./Input/Keyboard.ts\n\n\n\n\n/**\n * Enum representing physical input key codes\n *\n * Spec: https://w3c.github.io/uievents-code/#key-alphanumeric-section\n */\nvar Keys;\n(function (Keys) {\n    // Writing System Keys https://w3c.github.io/uievents-code/#key-alphanumeric-writing-system\n    Keys[\"Backquote\"] = \"Backquote\";\n    Keys[\"Backslash\"] = \"Backslash\";\n    Keys[\"BracketLeft\"] = \"BracketLeft\";\n    Keys[\"BracketRight\"] = \"BracketRight\";\n    Keys[\"Comma\"] = \"Comma\";\n    // NUMBERS\n    Keys[\"Key0\"] = \"Digit0\";\n    Keys[\"Key1\"] = \"Digit1\";\n    Keys[\"Key2\"] = \"Digit2\";\n    Keys[\"Key3\"] = \"Digit3\";\n    Keys[\"Key4\"] = \"Digit4\";\n    Keys[\"Key5\"] = \"Digit5\";\n    Keys[\"Key6\"] = \"Digit6\";\n    Keys[\"Key7\"] = \"Digit7\";\n    Keys[\"Key8\"] = \"Digit8\";\n    Keys[\"Key9\"] = \"Digit9\";\n    Keys[\"Digit0\"] = \"Digit0\";\n    Keys[\"Digit1\"] = \"Digit1\";\n    Keys[\"Digit2\"] = \"Digit2\";\n    Keys[\"Digit3\"] = \"Digit3\";\n    Keys[\"Digit4\"] = \"Digit4\";\n    Keys[\"Digit5\"] = \"Digit5\";\n    Keys[\"Digit6\"] = \"Digit6\";\n    Keys[\"Digit7\"] = \"Digit7\";\n    Keys[\"Digit8\"] = \"Digit8\";\n    Keys[\"Digit9\"] = \"Digit9\";\n    Keys[\"Equal\"] = \"Equal\";\n    Keys[\"IntlBackslash\"] = \"IntlBackslash\";\n    Keys[\"IntlRo\"] = \"IntlRo\";\n    Keys[\"IntlYen\"] = \"IntlYen\";\n    // LETTERS\n    Keys[\"A\"] = \"KeyA\";\n    Keys[\"B\"] = \"KeyB\";\n    Keys[\"C\"] = \"KeyC\";\n    Keys[\"D\"] = \"KeyD\";\n    Keys[\"E\"] = \"KeyE\";\n    Keys[\"F\"] = \"KeyF\";\n    Keys[\"G\"] = \"KeyG\";\n    Keys[\"H\"] = \"KeyH\";\n    Keys[\"I\"] = \"KeyI\";\n    Keys[\"J\"] = \"KeyJ\";\n    Keys[\"K\"] = \"KeyK\";\n    Keys[\"L\"] = \"KeyL\";\n    Keys[\"M\"] = \"KeyM\";\n    Keys[\"N\"] = \"KeyN\";\n    Keys[\"O\"] = \"KeyO\";\n    Keys[\"P\"] = \"KeyP\";\n    Keys[\"Q\"] = \"KeyQ\";\n    Keys[\"R\"] = \"KeyR\";\n    Keys[\"S\"] = \"KeyS\";\n    Keys[\"T\"] = \"KeyT\";\n    Keys[\"U\"] = \"KeyU\";\n    Keys[\"V\"] = \"KeyV\";\n    Keys[\"W\"] = \"KeyW\";\n    Keys[\"X\"] = \"KeyX\";\n    Keys[\"Y\"] = \"KeyY\";\n    Keys[\"Z\"] = \"KeyZ\";\n    Keys[\"KeyA\"] = \"KeyA\";\n    Keys[\"KeyB\"] = \"KeyB\";\n    Keys[\"KeyC\"] = \"KeyC\";\n    Keys[\"KeyD\"] = \"KeyD\";\n    Keys[\"KeyE\"] = \"KeyE\";\n    Keys[\"KeyF\"] = \"KeyF\";\n    Keys[\"KeyG\"] = \"KeyG\";\n    Keys[\"KeyH\"] = \"KeyH\";\n    Keys[\"KeyI\"] = \"KeyI\";\n    Keys[\"KeyJ\"] = \"KeyJ\";\n    Keys[\"KeyK\"] = \"KeyK\";\n    Keys[\"KeyL\"] = \"KeyL\";\n    Keys[\"KeyM\"] = \"KeyM\";\n    Keys[\"KeyN\"] = \"KeyN\";\n    Keys[\"KeyO\"] = \"KeyO\";\n    Keys[\"KeyP\"] = \"KeyP\";\n    Keys[\"KeyQ\"] = \"KeyQ\";\n    Keys[\"KeyR\"] = \"KeyR\";\n    Keys[\"KeyS\"] = \"KeyS\";\n    Keys[\"KeyT\"] = \"KeyT\";\n    Keys[\"KeyU\"] = \"KeyU\";\n    Keys[\"KeyV\"] = \"KeyV\";\n    Keys[\"KeyW\"] = \"KeyW\";\n    Keys[\"KeyX\"] = \"KeyX\";\n    Keys[\"KeyY\"] = \"KeyY\";\n    Keys[\"KeyZ\"] = \"KeyZ\";\n    // SYMBOLS\n    Keys[\"Minus\"] = \"Minus\";\n    Keys[\"Period\"] = \"Period\";\n    Keys[\"Quote\"] = \"Quote\";\n    Keys[\"Semicolon\"] = \"Semicolon\";\n    Keys[\"Slash\"] = \"Slash\";\n    // Functional keys https://w3c.github.io/uievents-code/#key-alphanumeric-functional\n    Keys[\"AltLeft\"] = \"AltLeft\";\n    Keys[\"AltRight\"] = \"AltRight\";\n    Keys[\"Alt\"] = \"Alt\";\n    Keys[\"AltGraph\"] = \"AltGraph\";\n    Keys[\"Backspace\"] = \"Backspace\";\n    Keys[\"CapsLock\"] = \"CapsLock\";\n    Keys[\"ContextMenu\"] = \"ContextMenu\";\n    Keys[\"ControlLeft\"] = \"ControlLeft\";\n    Keys[\"ControlRight\"] = \"ControlRight\";\n    Keys[\"Enter\"] = \"Enter\";\n    Keys[\"MetaLeft\"] = \"MetaLeft\";\n    Keys[\"MetaRight\"] = \"MetaRight\";\n    Keys[\"ShiftLeft\"] = \"ShiftLeft\";\n    Keys[\"ShiftRight\"] = \"ShiftRight\";\n    Keys[\"Space\"] = \"Space\";\n    Keys[\"Tab\"] = \"Tab\";\n    Keys[\"Convert\"] = \"Convert\";\n    Keys[\"KanaMode\"] = \"KanaMode\";\n    Keys[\"NonConvert\"] = \"NonConvert\";\n    // Control Pad https://w3c.github.io/uievents-code/#key-controlpad-section\n    Keys[\"Delete\"] = \"Delete\";\n    Keys[\"End\"] = \"End\";\n    Keys[\"Help\"] = \"Help\";\n    Keys[\"Home\"] = \"Home\";\n    Keys[\"Insert\"] = \"Insert\";\n    Keys[\"PageDown\"] = \"PageDown\";\n    Keys[\"PageUp\"] = \"PageUp\";\n    // Arrow Pad https://w3c.github.io/uievents-code/#key-arrowpad-section\n    Keys[\"Up\"] = \"ArrowUp\";\n    Keys[\"Down\"] = \"ArrowDown\";\n    Keys[\"Left\"] = \"ArrowLeft\";\n    Keys[\"Right\"] = \"ArrowRight\";\n    Keys[\"ArrowUp\"] = \"ArrowUp\";\n    Keys[\"ArrowDown\"] = \"ArrowDown\";\n    Keys[\"ArrowLeft\"] = \"ArrowLeft\";\n    Keys[\"ArrowRight\"] = \"ArrowRight\";\n    // Numpad Section https://w3c.github.io/uievents-code/#key-numpad-section\n    Keys[\"NumLock\"] = \"NumLock\";\n    Keys[\"Numpad0\"] = \"Numpad0\";\n    Keys[\"Numpad1\"] = \"Numpad1\";\n    Keys[\"Numpad2\"] = \"Numpad2\";\n    Keys[\"Numpad3\"] = \"Numpad3\";\n    Keys[\"Numpad4\"] = \"Numpad4\";\n    Keys[\"Numpad5\"] = \"Numpad5\";\n    Keys[\"Numpad6\"] = \"Numpad6\";\n    Keys[\"Numpad7\"] = \"Numpad7\";\n    Keys[\"Numpad8\"] = \"Numpad8\";\n    Keys[\"Numpad9\"] = \"Numpad9\";\n    Keys[\"Num0\"] = \"Numpad0\";\n    Keys[\"Num1\"] = \"Numpad1\";\n    Keys[\"Num2\"] = \"Numpad2\";\n    Keys[\"Num3\"] = \"Numpad3\";\n    Keys[\"Num4\"] = \"Numpad4\";\n    Keys[\"Num5\"] = \"Numpad5\";\n    Keys[\"Num6\"] = \"Numpad6\";\n    Keys[\"Num7\"] = \"Numpad7\";\n    Keys[\"Num8\"] = \"Numpad8\";\n    Keys[\"Num9\"] = \"Numpad9\";\n    Keys[\"NumAdd\"] = \"NumpadAdd\";\n    Keys[\"NumpadAdd\"] = \"NumpadAdd\";\n    Keys[\"NumDecimal\"] = \"NumpadDecimal\";\n    Keys[\"NumpadDecimal\"] = \"NumpadDecimal\";\n    Keys[\"NumDivide\"] = \"NumpadDivide\";\n    Keys[\"NumpadDivide\"] = \"NumpadDivide\";\n    Keys[\"NumEnter\"] = \"NumpadEnter\";\n    Keys[\"NumpadEnter\"] = \"NumpadEnter\";\n    Keys[\"NumMultiply\"] = \"NumpadMultiply\";\n    Keys[\"NumpadMultiply\"] = \"NumpadMultiply\";\n    Keys[\"NumSubtract\"] = \"NumpadSubtract\";\n    Keys[\"NumpadSubtract\"] = \"NumpadSubtract\";\n    // NumComma = 'NumpadComma', // not x-browser\n    // NumpadComma = 'NumpadComma', // not x-browser\n    // Function section https://w3c.github.io/uievents-code/#key-function-section\n    Keys[\"Esc\"] = \"Escape\";\n    Keys[\"Escape\"] = \"Escape\";\n    Keys[\"F1\"] = \"F1\";\n    Keys[\"F2\"] = \"F2\";\n    Keys[\"F3\"] = \"F3\";\n    Keys[\"F4\"] = \"F4\";\n    Keys[\"F5\"] = \"F5\";\n    Keys[\"F6\"] = \"F6\";\n    Keys[\"F7\"] = \"F7\";\n    Keys[\"F8\"] = \"F8\";\n    Keys[\"F9\"] = \"F9\";\n    Keys[\"F10\"] = \"F10\";\n    Keys[\"F11\"] = \"F11\";\n    Keys[\"F12\"] = \"F12\";\n    Keys[\"F13\"] = \"F13\";\n    Keys[\"F14\"] = \"F14\";\n    Keys[\"F15\"] = \"F15\";\n    Keys[\"F16\"] = \"F16\";\n    Keys[\"F17\"] = \"F17\";\n    Keys[\"F18\"] = \"F18\";\n    Keys[\"F19\"] = \"F19\";\n    Keys[\"F20\"] = \"F20\";\n    Keys[\"PrintScreen\"] = \"PrintScreen\";\n    Keys[\"ScrollLock\"] = \"ScrollLock\";\n    Keys[\"Pause\"] = \"Pause\";\n    Keys[\"Unidentified\"] = \"Unidentified\";\n})(Keys || (Keys = {}));\n/**\n * Event thrown on a game object for a key event\n */\nclass KeyEvent extends GameEvent {\n    /**\n     * @param key  The key responsible for throwing the event\n     * @param value The key's typed value the browser detected\n     * @param originalEvent The original keyboard event that Excalibur handled\n     */\n    constructor(key, value, originalEvent) {\n        super();\n        this.key = key;\n        this.value = value;\n        this.originalEvent = originalEvent;\n    }\n}\nconst KeyEvents = {\n    Press: 'press',\n    Hold: 'hold',\n    Release: 'release'\n};\n/**\n * Provides keyboard support for Excalibur.\n */\nclass Keyboard {\n    constructor() {\n        this.events = new EventEmitter();\n        this._enabled = true;\n        /**\n         * Keys that are currently held down\n         */\n        this._keys = [];\n        /**\n         * Keys up in the current frame\n         */\n        this._keysUp = [];\n        /**\n         * Keys down in the current frame\n         */\n        this._keysDown = [];\n        this._releaseAllKeys = (ev) => {\n            for (const code of this._keys) {\n                const keyEvent = new KeyEvent(code, ev.key, ev);\n                this.events.emit('up', keyEvent);\n                this.events.emit('release', keyEvent);\n            }\n            this._keysUp = Array.from(new Set(this._keys.concat(this._keysUp)));\n            this._keys.length = 0;\n        };\n        this._handleKeyDown = (ev) => {\n            if (!this._enabled) {\n                return;\n            }\n            // handle macos meta key issue\n            // https://github.com/excaliburjs/Excalibur/issues/2608\n            if (!ev.metaKey && (this._keys.includes(Keys.MetaLeft) || this._keys.includes(Keys.MetaRight))) {\n                this._releaseAllKeys(ev);\n            }\n            const code = ev.code;\n            if (this._keys.indexOf(code) === -1) {\n                this._keys.push(code);\n                this._keysDown.push(code);\n                const keyEvent = new KeyEvent(code, ev.key, ev);\n                this.events.emit('down', keyEvent);\n                this.events.emit('press', keyEvent);\n            }\n        };\n        this._handleKeyUp = (ev) => {\n            if (!this._enabled) {\n                return;\n            }\n            const code = ev.code;\n            const key = this._keys.indexOf(code);\n            this._keys.splice(key, 1);\n            this._keysUp.push(code);\n            const keyEvent = new KeyEvent(code, ev.key, ev);\n            // alias the old api, we may want to deprecate this in the future\n            this.events.emit('up', keyEvent);\n            this.events.emit('release', keyEvent);\n            // handle macos meta key issue\n            // https://github.com/excaliburjs/Excalibur/issues/2608\n            if (ev.key === 'Meta') {\n                this._releaseAllKeys(ev);\n            }\n        };\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Initialize Keyboard event listeners\n     */\n    init(keyboardOptions) {\n        let { global } = keyboardOptions;\n        const { grabWindowFocus } = keyboardOptions;\n        if (!global) {\n            if (isCrossOriginIframe()) {\n                global = window;\n                // Workaround for iframes like for itch.io or codesandbox\n                // https://www.reddit.com/r/gamemaker/comments/kfs5cs/keyboard_inputs_no_longer_working_in_html5_game/\n                // https://forum.gamemaker.io/index.php?threads/solved-keyboard-issue-on-itch-io.87336/\n                if (grabWindowFocus) {\n                    window.focus();\n                }\n                Logger.getInstance().warn('Excalibur might be in a cross-origin iframe, in order to receive keyboard events it must be in focus');\n            }\n            else {\n                global = window.top;\n            }\n        }\n        global.addEventListener('blur', () => {\n            this._keys.length = 0; // empties array efficiently\n        });\n        // key up is on window because canvas cannot have focus\n        global.addEventListener('keyup', this._handleKeyUp);\n        // key down is on window because canvas cannot have focus\n        global.addEventListener('keydown', this._handleKeyDown);\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n    }\n    clear() {\n        this._keysDown.length = 0;\n        this._keysUp.length = 0;\n        this._keys.length = 0;\n    }\n    update() {\n        // Reset keysDown and keysUp after update is complete\n        this._keysDown.length = 0;\n        this._keysUp.length = 0;\n        // Emit synthetic \"hold\" event\n        for (let i = 0; i < this._keys.length; i++) {\n            this.events.emit('hold', new KeyEvent(this._keys[i]));\n        }\n    }\n    /**\n     * Gets list of keys being pressed down\n     */\n    getKeys() {\n        return this._keys;\n    }\n    /**\n     * Tests if a certain key was just pressed this frame. This is cleared at the end of the update frame.\n     * @param key Test whether a key was just pressed\n     */\n    wasPressed(key) {\n        if (!this._enabled) {\n            return false;\n        }\n        return this._keysDown.indexOf(key) > -1;\n    }\n    /**\n     * Tests if a certain key is held down. This is persisted between frames.\n     * @param key  Test whether a key is held down\n     */\n    isHeld(key) {\n        if (!this._enabled) {\n            return false;\n        }\n        return this._keys.indexOf(key) > -1;\n    }\n    /**\n     * Tests if a certain key was just released this frame. This is cleared at the end of the update frame.\n     * @param key  Test whether a key was just released\n     */\n    wasReleased(key) {\n        if (!this._enabled) {\n            return false;\n        }\n        return this._keysUp.indexOf(key) > -1;\n    }\n    /**\n     * Trigger a manual key event\n     * @param type\n     * @param key\n     * @param character\n     */\n    triggerEvent(type, key, character) {\n        if (type === 'down') {\n            this._handleKeyDown(new KeyboardEvent('keydown', {\n                code: key,\n                key: character !== null && character !== void 0 ? character : null\n            }));\n        }\n        if (type === 'up') {\n            this._handleKeyUp(new KeyboardEvent('keyup', {\n                code: key,\n                key: character !== null && character !== void 0 ? character : null\n            }));\n        }\n    }\n}\n\n;// ./Math/global-coordinates.ts\n\nclass GlobalCoordinates {\n    static fromPagePosition(xOrPos, yOrEngine, engineOrUndefined) {\n        let pageX;\n        let pageY;\n        let pagePos;\n        let engine;\n        if (arguments.length === 3) {\n            pageX = xOrPos;\n            pageY = yOrEngine;\n            pagePos = new Vector(pageX, pageY);\n            engine = engineOrUndefined;\n        }\n        else {\n            pagePos = xOrPos;\n            pageX = pagePos.x;\n            pageY = pagePos.y;\n            engine = yOrEngine;\n        }\n        const screenPos = engine.screen.pageToScreenCoordinates(pagePos);\n        const worldPos = engine.screen.screenToWorldCoordinates(screenPos);\n        return new GlobalCoordinates(worldPos, pagePos, screenPos);\n    }\n    constructor(worldPos, pagePos, screenPos) {\n        this.worldPos = worldPos;\n        this.pagePos = pagePos;\n        this.screenPos = screenPos;\n    }\n}\n\n;// ./Input/PointerEvent.ts\nclass PointerEvent {\n    cancel() {\n        this.active = false;\n    }\n    get pagePos() {\n        return this.coordinates.pagePos;\n    }\n    get screenPos() {\n        return this.coordinates.screenPos;\n    }\n    get worldPos() {\n        return this.coordinates.worldPos;\n    }\n    constructor(type, pointerId, button, pointerType, coordinates, nativeEvent) {\n        this.type = type;\n        this.pointerId = pointerId;\n        this.button = button;\n        this.pointerType = pointerType;\n        this.coordinates = coordinates;\n        this.nativeEvent = nativeEvent;\n        this.active = true;\n    }\n}\n\n;// ./Input/WheelEvent.ts\nclass WheelEvent {\n    cancel() {\n        this.active = false;\n    }\n    constructor(x, y, pageX, pageY, screenX, screenY, index, deltaX, deltaY, deltaZ, deltaMode, ev) {\n        this.x = x;\n        this.y = y;\n        this.pageX = pageX;\n        this.pageY = pageY;\n        this.screenX = screenX;\n        this.screenY = screenY;\n        this.index = index;\n        this.deltaX = deltaX;\n        this.deltaY = deltaY;\n        this.deltaZ = deltaZ;\n        this.deltaMode = deltaMode;\n        this.ev = ev;\n        this.active = true;\n    }\n}\n\n;// ./Input/PointerAbstraction.ts\n\n\n\nclass PointerAbstraction {\n    constructor() {\n        this.events = new EventEmitter();\n        /**\n         * The last position on the document this pointer was at. Can be `null` if pointer was never active.\n         */\n        this.lastPagePos = Vector.Zero;\n        /**\n         * The last position on the screen this pointer was at. Can be `null` if pointer was never active.\n         */\n        this.lastScreenPos = Vector.Zero;\n        /**\n         * The last position in the game world coordinates this pointer was at. Can be `null` if pointer was never active.\n         */\n        this.lastWorldPos = Vector.Zero;\n        this._onPointerMove = (ev) => {\n            this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\n            this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\n            this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\n        };\n        this._onPointerDown = (ev) => {\n            this.lastPagePos = new Vector(ev.pagePos.x, ev.pagePos.y);\n            this.lastScreenPos = new Vector(ev.screenPos.x, ev.screenPos.y);\n            this.lastWorldPos = new Vector(ev.worldPos.x, ev.worldPos.y);\n        };\n        this.on('move', this._onPointerMove);\n        this.on('down', this._onPointerDown);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Called internally by excalibur to keep pointers up to date\n     * @internal\n     * @param engine\n     */\n    _updateWorldPosition(engine) {\n        const coord = GlobalCoordinates.fromPagePosition(this.lastPagePos, engine);\n        this.lastScreenPos = coord.screenPos;\n        this.lastWorldPos = coord.worldPos;\n    }\n}\n\n;// ./Input/WheelDeltaMode.ts\nvar WheelDeltaMode;\n(function (WheelDeltaMode) {\n    WheelDeltaMode[\"Pixel\"] = \"Pixel\";\n    WheelDeltaMode[\"Line\"] = \"Line\";\n    WheelDeltaMode[\"Page\"] = \"Page\";\n})(WheelDeltaMode || (WheelDeltaMode = {}));\n\n;// ./Input/NativePointerButton.ts\n/**\n * Native browser button enumeration\n */\nvar NativePointerButton;\n(function (NativePointerButton) {\n    NativePointerButton[NativePointerButton[\"NoButton\"] = -1] = \"NoButton\";\n    NativePointerButton[NativePointerButton[\"Left\"] = 0] = \"Left\";\n    NativePointerButton[NativePointerButton[\"Middle\"] = 1] = \"Middle\";\n    NativePointerButton[NativePointerButton[\"Right\"] = 2] = \"Right\";\n    NativePointerButton[NativePointerButton[\"Unknown\"] = 3] = \"Unknown\";\n})(NativePointerButton || (NativePointerButton = {}));\n\n;// ./Input/PointerButton.ts\n/**\n * The mouse button being pressed.\n */\nvar PointerButton;\n(function (PointerButton) {\n    PointerButton[\"Left\"] = \"Left\";\n    PointerButton[\"Middle\"] = \"Middle\";\n    PointerButton[\"Right\"] = \"Right\";\n    PointerButton[\"Unknown\"] = \"Unknown\";\n    PointerButton[\"NoButton\"] = \"NoButton\";\n})(PointerButton || (PointerButton = {}));\n\n;// ./Input/PointerType.ts\n/**\n * The type of pointer for a {@apilink PointerEvent}.\n */\nvar PointerType;\n(function (PointerType) {\n    PointerType[\"Touch\"] = \"Touch\";\n    PointerType[\"Mouse\"] = \"Mouse\";\n    PointerType[\"Pen\"] = \"Pen\";\n    PointerType[\"Unknown\"] = \"Unknown\";\n})(PointerType || (PointerType = {}));\n\n;// ./Input/PointerEventReceiver.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PointerEvents = {\n    Move: 'move',\n    Down: 'down',\n    Up: 'up',\n    Wheel: 'wheel'\n};\n/**\n * Is this event a native touch event?\n */\nfunction isTouchEvent(value) {\n    // Guard for Safari <= 13.1\n    return globalThis.TouchEvent && value instanceof globalThis.TouchEvent;\n}\n/**\n * Is this event a native pointer event\n */\nfunction isPointerEvent(value) {\n    // Guard for Safari <= 13.1\n    return globalThis.PointerEvent && value instanceof globalThis.PointerEvent;\n}\n/**\n * The PointerEventProcessor is responsible for collecting all the events from the canvas and transforming them into GlobalCoordinates\n */\nclass PointerEventReceiver {\n    constructor(target, engine) {\n        this.target = target;\n        this.engine = engine;\n        this.events = new EventEmitter();\n        this.primary = new PointerAbstraction();\n        this._activeNativePointerIdsToNormalized = new Map();\n        this.lastFramePointerCoords = new Map();\n        this.currentFramePointerCoords = new Map();\n        this.currentFramePointerDown = new Map();\n        this.lastFramePointerDown = new Map();\n        this.currentFrameDown = [];\n        this.currentFrameUp = [];\n        this.currentFrameMove = [];\n        this.currentFrameCancel = [];\n        this.currentFrameWheel = [];\n        this._enabled = true;\n        this._pointers = [this.primary];\n        this._boundHandle = this._handle.bind(this);\n        this._boundWheel = this._handleWheel.bind(this);\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n    }\n    /**\n     * Creates a new PointerEventReceiver with a new target and engine while preserving existing pointer event\n     * handlers.\n     * @param target\n     * @param engine\n     */\n    recreate(target, engine) {\n        const eventReceiver = new PointerEventReceiver(target, engine);\n        eventReceiver.primary = this.primary;\n        eventReceiver._pointers = this._pointers;\n        return eventReceiver;\n    }\n    /**\n     * Locates a specific pointer by id, creates it if it doesn't exist\n     * @param index\n     */\n    at(index) {\n        if (index >= this._pointers.length) {\n            // Ensure there is a pointer to retrieve\n            for (let i = this._pointers.length - 1, max = index; i < max; i++) {\n                this._pointers.push(new PointerAbstraction());\n            }\n        }\n        return this._pointers[index];\n    }\n    /**\n     * The number of pointers currently being tracked by excalibur\n     */\n    count() {\n        return this._pointers.length;\n    }\n    /**\n     * Is the specified pointer id down this frame\n     * @param pointerId\n     */\n    isDown(pointerId) {\n        var _a;\n        if (!this._enabled) {\n            return false;\n        }\n        return (_a = this.currentFramePointerDown.get(pointerId)) !== null && _a !== void 0 ? _a : false;\n    }\n    /**\n     * Was the specified pointer id down last frame\n     * @param pointerId\n     */\n    wasDown(pointerId) {\n        var _a;\n        if (!this._enabled) {\n            return false;\n        }\n        return (_a = this.lastFramePointerDown.get(pointerId)) !== null && _a !== void 0 ? _a : false;\n    }\n    /**\n     * Whether the Pointer is currently dragging.\n     */\n    isDragging(pointerId) {\n        if (!this._enabled) {\n            return false;\n        }\n        return this.isDown(pointerId);\n    }\n    /**\n     * Whether the Pointer just started dragging.\n     */\n    isDragStart(pointerId) {\n        if (!this._enabled) {\n            return false;\n        }\n        return this.isDown(pointerId) && !this.wasDown(pointerId);\n    }\n    /**\n     * Whether the Pointer just ended dragging.\n     */\n    isDragEnd(pointerId) {\n        if (!this._enabled) {\n            return false;\n        }\n        return !this.isDown(pointerId) && this.wasDown(pointerId);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Called internally by excalibur\n     *\n     * Updates the current frame pointer info and emits raw pointer events\n     *\n     * This does not emit events to entities, see PointerSystem\n     * @internal\n     */\n    update() {\n        this.lastFramePointerDown = new Map(this.currentFramePointerDown);\n        this.lastFramePointerCoords = new Map(this.currentFramePointerCoords);\n        for (const event of this.currentFrameDown) {\n            if (!event.active) {\n                continue;\n            }\n            this.emit('down', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('down', event);\n            this.primary.emit('pointerdown', event);\n        }\n        for (const event of this.currentFrameUp) {\n            if (!event.active) {\n                continue;\n            }\n            this.emit('up', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('up', event);\n        }\n        for (const event of this.currentFrameMove) {\n            if (!event.active) {\n                continue;\n            }\n            this.emit('move', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('move', event);\n        }\n        for (const event of this.currentFrameCancel) {\n            if (!event.active) {\n                continue;\n            }\n            this.emit('cancel', event);\n            const pointer = this.at(event.pointerId);\n            pointer.emit('cancel', event);\n        }\n        for (const event of this.currentFrameWheel) {\n            if (!event.active) {\n                continue;\n            }\n            this.emit('pointerwheel', event);\n            this.emit('wheel', event);\n            this.primary.emit('pointerwheel', event);\n            this.primary.emit('wheel', event);\n        }\n        if (this.engine.currentScene.camera.hasChanged()) {\n            for (const pointer of this._pointers) {\n                pointer._updateWorldPosition(this.engine);\n            }\n        }\n    }\n    /**\n     * Clears the current frame event and pointer data\n     */\n    clear() {\n        for (const event of this.currentFrameUp) {\n            this.currentFramePointerCoords.delete(event.pointerId);\n            const ids = this._activeNativePointerIdsToNormalized.entries();\n            for (const [native, normalized] of ids) {\n                if (normalized === event.pointerId) {\n                    this._activeNativePointerIdsToNormalized.delete(native);\n                }\n            }\n        }\n        this.currentFrameDown.length = 0;\n        this.currentFrameUp.length = 0;\n        this.currentFrameMove.length = 0;\n        this.currentFrameCancel.length = 0;\n        this.currentFrameWheel.length = 0;\n    }\n    /**\n     * Initializes the pointer event receiver so that it can start listening to native\n     * browser events.\n     */\n    init(options) {\n        var _a;\n        if (this.engine.isDisposed()) {\n            return;\n        }\n        // Disabling the touch action avoids browser/platform gestures from firing on the canvas\n        // It is important on mobile to have touch action 'none'\n        // https://stackoverflow.com/questions/48124372/pointermove-event-not-working-with-touch-why-not\n        if (this.target === this.engine.canvas) {\n            this.engine.canvas.style.touchAction = 'none';\n        }\n        else {\n            document.body.style.touchAction = 'none';\n        }\n        // Preferred pointer events\n        if (window.PointerEvent) {\n            this.target.addEventListener('pointerdown', this._boundHandle);\n            this.target.addEventListener('pointerup', this._boundHandle);\n            this.target.addEventListener('pointermove', this._boundHandle);\n            this.target.addEventListener('pointercancel', this._boundHandle);\n        }\n        else {\n            // Touch Events\n            this.target.addEventListener('touchstart', this._boundHandle);\n            this.target.addEventListener('touchend', this._boundHandle);\n            this.target.addEventListener('touchmove', this._boundHandle);\n            this.target.addEventListener('touchcancel', this._boundHandle);\n            // Mouse Events\n            this.target.addEventListener('mousedown', this._boundHandle);\n            this.target.addEventListener('mouseup', this._boundHandle);\n            this.target.addEventListener('mousemove', this._boundHandle);\n        }\n        // MDN MouseWheelEvent\n        const wheelOptions = {\n            passive: !(this.engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\n                this.engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas)\n        };\n        if ('onwheel' in document.createElement('div')) {\n            // Modern Browsers\n            this.target.addEventListener('wheel', this._boundWheel, wheelOptions);\n        }\n        else if (document.onmousewheel !== undefined) {\n            // Webkit and IE\n            this.target.addEventListener('mousewheel', this._boundWheel, wheelOptions);\n        }\n        else {\n            // Remaining browser and older Firefox\n            this.target.addEventListener('MozMousePixelScroll', this._boundWheel, wheelOptions);\n        }\n        const grabWindowFocus = (_a = options === null || options === void 0 ? void 0 : options.grabWindowFocus) !== null && _a !== void 0 ? _a : true;\n        // Handle cross origin iframe\n        if (grabWindowFocus && isCrossOriginIframe()) {\n            const grabFocus = () => {\n                window.focus();\n            };\n            // Preferred pointer events\n            if (window.PointerEvent) {\n                this.target.addEventListener('pointerdown', grabFocus);\n            }\n            else {\n                // Touch Events\n                this.target.addEventListener('touchstart', grabFocus);\n                // Mouse Events\n                this.target.addEventListener('mousedown', grabFocus);\n            }\n        }\n    }\n    detach() {\n        // Preferred pointer events\n        if (window.PointerEvent) {\n            this.target.removeEventListener('pointerdown', this._boundHandle);\n            this.target.removeEventListener('pointerup', this._boundHandle);\n            this.target.removeEventListener('pointermove', this._boundHandle);\n            this.target.removeEventListener('pointercancel', this._boundHandle);\n        }\n        else {\n            // Touch Events\n            this.target.removeEventListener('touchstart', this._boundHandle);\n            this.target.removeEventListener('touchend', this._boundHandle);\n            this.target.removeEventListener('touchmove', this._boundHandle);\n            this.target.removeEventListener('touchcancel', this._boundHandle);\n            // Mouse Events\n            this.target.removeEventListener('mousedown', this._boundHandle);\n            this.target.removeEventListener('mouseup', this._boundHandle);\n            this.target.removeEventListener('mousemove', this._boundHandle);\n        }\n        if ('onwheel' in document.createElement('div')) {\n            // Modern Browsers\n            this.target.removeEventListener('wheel', this._boundWheel);\n        }\n        else if (document.onmousewheel !== undefined) {\n            // Webkit and IE\n            this.target.addEventListener('mousewheel', this._boundWheel);\n        }\n        else {\n            // Remaining browser and older Firefox\n            this.target.addEventListener('MozMousePixelScroll', this._boundWheel);\n        }\n    }\n    /**\n     * Take native pointer id and map it to index in active pointers\n     * @param nativePointerId\n     */\n    _normalizePointerId(nativePointerId) {\n        // Add to the the native pointer set id\n        this._activeNativePointerIdsToNormalized.set(nativePointerId, -1);\n        // Native pointer ids in ascending order\n        const currentPointerIds = Array.from(this._activeNativePointerIdsToNormalized.keys()).sort((a, b) => a - b);\n        // The index into sorted ids will be the new id, will always have an id\n        const id = currentPointerIds.findIndex((p) => p === nativePointerId);\n        // Save the mapping so we can reverse it later\n        this._activeNativePointerIdsToNormalized.set(nativePointerId, id);\n        // ignore pointer because game isn't watching\n        return id;\n    }\n    /**\n     * Responsible for handling and parsing pointer events\n     */\n    _handle(ev) {\n        if (!this._enabled) {\n            return;\n        }\n        ev.preventDefault();\n        const eventCoords = new Map();\n        let button;\n        let pointerType;\n        if (isTouchEvent(ev)) {\n            button = PointerButton.Unknown;\n            pointerType = PointerType.Touch;\n            // https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent\n            for (let i = 0; i < ev.changedTouches.length; i++) {\n                const touch = ev.changedTouches[i];\n                const coordinates = GlobalCoordinates.fromPagePosition(touch.pageX, touch.pageY, this.engine);\n                const nativePointerId = i + 1;\n                const pointerId = this._normalizePointerId(nativePointerId);\n                this.currentFramePointerCoords.set(pointerId, coordinates);\n                eventCoords.set(pointerId, coordinates);\n            }\n        }\n        else {\n            button = this._nativeButtonToPointerButton(ev.button);\n            pointerType = PointerType.Mouse;\n            const coordinates = GlobalCoordinates.fromPagePosition(ev.pageX, ev.pageY, this.engine);\n            let nativePointerId = 1;\n            if (isPointerEvent(ev)) {\n                nativePointerId = ev.pointerId;\n                pointerType = this._stringToPointerType(ev.pointerType);\n            }\n            const pointerId = this._normalizePointerId(nativePointerId);\n            this.currentFramePointerCoords.set(pointerId, coordinates);\n            eventCoords.set(pointerId, coordinates);\n        }\n        for (const [pointerId, coord] of eventCoords.entries()) {\n            switch (ev.type) {\n                case 'mousedown':\n                case 'pointerdown':\n                case 'touchstart':\n                    this.currentFrameDown.push(new PointerEvent('down', pointerId, button, pointerType, coord, ev));\n                    this.currentFramePointerDown.set(pointerId, true);\n                    break;\n                case 'mouseup':\n                case 'pointerup':\n                case 'touchend':\n                    this.currentFrameUp.push(new PointerEvent('up', pointerId, button, pointerType, coord, ev));\n                    this.currentFramePointerDown.set(pointerId, false);\n                    break;\n                case 'mousemove':\n                case 'pointermove':\n                case 'touchmove':\n                    this.currentFrameMove.push(new PointerEvent('move', pointerId, button, pointerType, coord, ev));\n                    break;\n                case 'touchcancel':\n                case 'pointercancel':\n                    this.currentFrameCancel.push(new PointerEvent('cancel', pointerId, button, pointerType, coord, ev));\n                    break;\n            }\n        }\n    }\n    _handleWheel(ev) {\n        if (!this._enabled) {\n            return;\n        }\n        // Should we prevent page scroll because of this event\n        if (this.engine.pageScrollPreventionMode === ScrollPreventionMode.All ||\n            (this.engine.pageScrollPreventionMode === ScrollPreventionMode.Canvas && ev.target === this.engine.canvas)) {\n            ev.preventDefault();\n        }\n        const screen = this.engine.screen.pageToScreenCoordinates(vec(ev.pageX, ev.pageY));\n        const world = this.engine.screen.screenToWorldCoordinates(screen);\n        /**\n         * A constant used to normalize wheel events across different browsers\n         *\n         * This normalization factor is pulled from\n         * https://developer.mozilla.org/en-US/docs/Web/Events/wheel#Listening_to_this_event_across_browser\n         */\n        const ScrollWheelNormalizationFactor = -1 / 40;\n        const deltaX = ev.deltaX || ev.wheelDeltaX * ScrollWheelNormalizationFactor || 0;\n        const deltaY = ev.deltaY || ev.wheelDeltaY * ScrollWheelNormalizationFactor || ev.wheelDelta * ScrollWheelNormalizationFactor || ev.detail || 0;\n        const deltaZ = ev.deltaZ || 0;\n        let deltaMode = WheelDeltaMode.Pixel;\n        if (ev.deltaMode) {\n            if (ev.deltaMode === 1) {\n                deltaMode = WheelDeltaMode.Line;\n            }\n            else if (ev.deltaMode === 2) {\n                deltaMode = WheelDeltaMode.Page;\n            }\n        }\n        const we = new WheelEvent(world.x, world.y, ev.pageX, ev.pageY, screen.x, screen.y, 0, deltaX, deltaY, deltaZ, deltaMode, ev);\n        this.currentFrameWheel.push(we);\n    }\n    /**\n     * Triggers an excalibur pointer event in a world space pos\n     *\n     * Useful for testing pointers in excalibur\n     * @param type\n     * @param pos\n     */\n    triggerEvent(type, pos) {\n        const page = this.engine.screen.worldToPageCoordinates(pos);\n        // Send an event to the event receiver\n        if (window.PointerEvent) {\n            this._handle(new window.PointerEvent('pointer' + type, {\n                pointerId: 0,\n                clientX: page.x,\n                clientY: page.y\n            }));\n        }\n        else {\n            // Safari hack\n            this._handle(new window.MouseEvent('mouse' + type, {\n                clientX: page.x,\n                clientY: page.y\n            }));\n        }\n        // Force update pointer system\n        const pointerSystem = this.engine.currentScene.world.get(PointerSystem);\n        pointerSystem.preupdate(this.engine.currentScene, 1);\n        pointerSystem.update(1);\n    }\n    _nativeButtonToPointerButton(s) {\n        switch (s) {\n            case NativePointerButton.NoButton:\n                return PointerButton.NoButton;\n            case NativePointerButton.Left:\n                return PointerButton.Left;\n            case NativePointerButton.Middle:\n                return PointerButton.Middle;\n            case NativePointerButton.Right:\n                return PointerButton.Right;\n            case NativePointerButton.Unknown:\n                return PointerButton.Unknown;\n            default:\n                return fail(s);\n        }\n    }\n    _stringToPointerType(s) {\n        switch (s) {\n            case 'touch':\n                return PointerType.Touch;\n            case 'mouse':\n                return PointerType.Mouse;\n            case 'pen':\n                return PointerType.Pen;\n            default:\n                return PointerType.Unknown;\n        }\n    }\n}\n\n;// ./Input/InputHost.ts\n\n\n\n\nclass InputHost {\n    constructor(options) {\n        this._enabled = true;\n        const { pointerTarget, grabWindowFocus, engine } = options;\n        this.keyboard = new Keyboard();\n        this.pointers = new PointerEventReceiver(pointerTarget, engine);\n        this.gamepads = new Gamepads();\n        this.keyboard.init({ grabWindowFocus });\n        this.pointers.init({ grabWindowFocus });\n        this.gamepads.init();\n        this.inputMapper = new InputMapper({\n            keyboard: this.keyboard,\n            pointers: this.pointers,\n            gamepads: this.gamepads\n        });\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    toggleEnabled(enabled) {\n        this._enabled = enabled;\n        this.keyboard.toggleEnabled(this._enabled);\n        this.pointers.toggleEnabled(this._enabled);\n        this.gamepads.toggleEnabled(this._enabled);\n    }\n    update() {\n        if (this._enabled) {\n            this.inputMapper.execute();\n            this.keyboard.update();\n            this.gamepads.update();\n        }\n    }\n    clear() {\n        this.keyboard.clear();\n        this.pointers.clear();\n        // this.gamepads.clear();\n    }\n}\n\n;// ./Scene.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass PreLoadEvent {\n}\nconst SceneEvents = {\n    Initialize: 'initialize',\n    Activate: 'activate',\n    Deactivate: 'deactivate',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw',\n    PreDebugDraw: 'predebugdraw',\n    PostDebugDraw: 'postdebugdraw',\n    PreLoad: 'preload'\n};\n/**\n *\n */\nfunction isSceneConstructor(x) {\n    var _a, _b;\n    return !!(x === null || x === void 0 ? void 0 : x.prototype) && !!((_b = (_a = x === null || x === void 0 ? void 0 : x.prototype) === null || _a === void 0 ? void 0 : _a.constructor) === null || _b === void 0 ? void 0 : _b.name);\n}\n/**\n * {@apilink Actor | `Actors`} are composed together into groupings called Scenes in\n * Excalibur. The metaphor models the same idea behind real world\n * actors in a scene. Only actors in scenes will be updated and drawn.\n *\n * Typical usages of a scene include: levels, menus, loading screens, etc.\n */\nclass Scene {\n    /**\n     * The actors in the current scene\n     */\n    get actors() {\n        return this.world.entityManager.entities.filter((e) => {\n            return e instanceof Actor;\n        });\n    }\n    /**\n     * The entities in the current scene\n     */\n    get entities() {\n        return this.world.entityManager.entities;\n    }\n    /**\n     * The triggers in the current scene\n     */\n    get triggers() {\n        return this.world.entityManager.entities.filter((e) => {\n            return e instanceof Trigger;\n        });\n    }\n    /**\n     * The {@apilink TileMap}s in the scene, if any\n     */\n    get tileMaps() {\n        return this.world.entityManager.entities.filter((e) => {\n            return e instanceof TileMap;\n        });\n    }\n    get timers() {\n        return this._timers;\n    }\n    constructor() {\n        // Initialize systems\n        this._logger = Logger.getInstance();\n        this.events = new EventEmitter();\n        /**\n         * Gets or sets the current camera for the scene\n         */\n        this.camera = new Camera();\n        /**\n         * The ECS world for the scene\n         */\n        this.world = new World(this);\n        /**\n         * The Excalibur physics world for the scene. Used to interact\n         * with colliders included in the scene.\n         *\n         * Can be used to perform scene ray casts, track colliders, broadphase, and narrowphase.\n         */\n        this.physics = new PhysicsWorld(getDefaultPhysicsConfig());\n        this._isInitialized = false;\n        this._timers = [];\n        this._cancelQueue = [];\n        // Update\n        this.world.add(ActionsSystem);\n        this.world.add(new MotionSystem(this.world, this.physics));\n        this.world.add(new CollisionSystem(this.world, this.physics));\n        this.world.add(PointerSystem);\n        this.world.add(IsometricEntitySystem);\n        // Draw\n        this.world.add(OffscreenSystem);\n        this.world.add(GraphicsSystem);\n        this.world.add(DebugSystem);\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Event hook to provide Scenes a way of loading scene specific resources.\n     *\n     * This is called before the Scene.onInitialize during scene transition. It will only ever fire once for a scene.\n     * @param loader\n     */\n    onPreLoad(loader) {\n        // will be overridden\n    }\n    /**\n     * Event hook fired directly before transition, either \"in\" or \"out\" of the scene\n     *\n     * This overrides the Engine scene definition. However transitions specified in goToScene take highest precedence\n     *\n     * ```typescript\n     * // Overrides all\n     * Engine.goToScene('scene', { destinationIn: ..., sourceOut: ... });\n     * ```\n     *\n     * This can be used to configure custom transitions for a scene dynamically\n     */\n    onTransition(direction) {\n        // will be overridden\n        return undefined;\n    }\n    /**\n     * This is called before the first update of the {@apilink Scene}. Initializes scene members like the camera. This method is meant to be\n     * overridden. This is where initialization of child actors should take place.\n     */\n    onInitialize(engine) {\n        // will be overridden\n    }\n    /**\n     * This is called when the scene is made active and started. It is meant to be overridden,\n     * this is where you should setup any DOM UI or event handlers needed for the scene.\n     */\n    onActivate(context) {\n        // will be overridden\n    }\n    /**\n     * This is called when the scene is made transitioned away from and stopped. It is meant to be overridden,\n     * this is where you should cleanup any DOM UI or event handlers needed for the scene.\n     */\n    onDeactivate(context) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPreUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreUpdate` is called directly before a scene is updated.\n     * @param engine reference to the engine\n     * @param elapsed  Number of milliseconds elapsed since the last draw.\n     */\n    onPreUpdate(engine, elapsed) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPostUpdate lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostUpdate` is called directly after a scene is updated.\n     * @param engine reference to the engine\n     * @param elapsed  Number of milliseconds elapsed since the last draw.\n     */\n    onPostUpdate(engine, elapsed) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPreDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPreDraw` is called directly before a scene is drawn.\n     *\n     */\n    onPreDraw(ctx, elapsed) {\n        // will be overridden\n    }\n    /**\n     * Safe to override onPostDraw lifecycle event handler. Synonymous with `.on('preupdate', (evt) =>{...})`\n     *\n     * `onPostDraw` is called directly after a scene is drawn.\n     *\n     */\n    onPostDraw(ctx, elapsed) {\n        // will be overridden\n    }\n    /**\n     * Initializes actors in the scene\n     */\n    _initializeChildren() {\n        for (const child of this.entities) {\n            child._initialize(this.engine);\n        }\n    }\n    /**\n     * Gets whether or not the {@apilink Scene} has been initialized\n     */\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Initializes the scene before the first update, meant to be called by engine not by users of\n     * Excalibur\n     * @internal\n     */\n    async _initialize(engine) {\n        var _a;\n        if (!this.isInitialized) {\n            try {\n                this.engine = engine;\n                // PhysicsWorld config is watched so things will automagically update\n                this.physics.config = this.engine.physics;\n                this.input = new InputHost({\n                    pointerTarget: engine.pointerScope === PointerScope.Canvas ? engine.canvas : document,\n                    grabWindowFocus: engine.grabWindowFocus,\n                    engine\n                });\n                // Initialize camera first\n                this.camera._initialize(engine);\n                this.world.systemManager.initialize();\n                // This order is important! we want to be sure any custom init that add actors\n                // fire before the actor init\n                await this.onInitialize(engine);\n                this._initializeChildren();\n                this._logger.debug('Scene.onInitialize', this, engine);\n                this.events.emit('initialize', new InitializeEvent(engine, this));\n            }\n            catch (e) {\n                this._logger.error(`Error during scene initialization for scene ${(_a = engine.director) === null || _a === void 0 ? void 0 : _a.getSceneName(this)}!`);\n                throw e;\n            }\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Activates the scene with the base behavior, then calls the overridable `onActivate` implementation.\n     * @internal\n     */\n    async _activate(context) {\n        var _a, _b;\n        try {\n            this._logger.debug('Scene.onActivate', this);\n            this.input.toggleEnabled(true);\n            await this.onActivate(context);\n        }\n        catch (e) {\n            this._logger.error(`Error during scene activation for scene ${(_b = (_a = this.engine) === null || _a === void 0 ? void 0 : _a.director) === null || _b === void 0 ? void 0 : _b.getSceneName(this)}!`);\n            throw e;\n        }\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Deactivates the scene with the base behavior, then calls the overridable `onDeactivate` implementation.\n     * @internal\n     */\n    async _deactivate(context) {\n        this._logger.debug('Scene.onDeactivate', this);\n        this.input.toggleEnabled(false);\n        await this.onDeactivate(context);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPreUpdate} lifecycle event\n     * @internal\n     */\n    _preupdate(engine, elapsed) {\n        this.emit('preupdate', new PreUpdateEvent(engine, elapsed, this));\n        this.onPreUpdate(engine, elapsed);\n    }\n    /**\n     *  It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _preupdate handler for {@apilink onPostUpdate} lifecycle event\n     * @internal\n     */\n    _postupdate(engine, elapsed) {\n        this.emit('postupdate', new PostUpdateEvent(engine, elapsed, this));\n        this.onPostUpdate(engine, elapsed);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _predraw handler for {@apilink onPreDraw} lifecycle event\n     * @internal\n     */\n    _predraw(ctx, elapsed) {\n        this.emit('predraw', new PreDrawEvent(ctx, elapsed, this));\n        this.onPreDraw(ctx, elapsed);\n    }\n    /**\n     * It is not recommended that internal excalibur methods be overridden, do so at your own risk.\n     *\n     * Internal _postdraw handler for {@apilink onPostDraw} lifecycle event\n     * @internal\n     */\n    _postdraw(ctx, elapsed) {\n        this.emit('postdraw', new PostDrawEvent(ctx, elapsed, this));\n        this.onPostDraw(ctx, elapsed);\n    }\n    /**\n     * Updates all the actors and timers in the scene. Called by the {@apilink Engine}.\n     * @param engine  Reference to the current Engine\n     * @param elapsed   The number of milliseconds since the last update\n     */\n    update(engine, elapsed) {\n        var _a;\n        if (!this.isInitialized) {\n            this._logger.warnOnce(`Scene update called before initialize for scene ${(_a = engine.director) === null || _a === void 0 ? void 0 : _a.getSceneName(this)}!`);\n            return;\n        }\n        this._preupdate(engine, elapsed);\n        // TODO differed entity removal for timers\n        let i, len;\n        // Remove timers in the cancel queue before updating them\n        for (i = 0, len = this._cancelQueue.length; i < len; i++) {\n            this.removeTimer(this._cancelQueue[i]);\n        }\n        this._cancelQueue.length = 0;\n        // Cycle through timers updating timers\n        for (const timer of this._timers) {\n            timer.update(elapsed);\n        }\n        this.world.update(SystemType.Update, elapsed);\n        // Camera last keeps renders smooth that are based on entity/actor\n        if (this.camera) {\n            this.camera.update(engine, elapsed);\n        }\n        this._collectActorStats(engine);\n        this._postupdate(engine, elapsed);\n        this.input.update();\n    }\n    /**\n     * Draws all the actors in the Scene. Called by the {@apilink Engine}.\n     * @param ctx    The current rendering context\n     * @param elapsed  The number of milliseconds since the last draw\n     */\n    draw(ctx, elapsed) {\n        var _a;\n        if (!this.isInitialized) {\n            this._logger.warnOnce(`Scene draw called before initialize!`);\n            return;\n        }\n        this._predraw(ctx, elapsed);\n        this.world.update(SystemType.Draw, elapsed);\n        if ((_a = this.engine) === null || _a === void 0 ? void 0 : _a.isDebug) {\n            this.debugDraw(ctx);\n        }\n        this._postdraw(ctx, elapsed);\n    }\n    /**\n     * Draws all the actors' debug information in the Scene. Called by the {@apilink Engine}.\n     * @param ctx  The current rendering context\n     */\n    /* istanbul ignore next */\n    debugDraw(ctx) {\n        this.emit('predebugdraw', new PreDebugDrawEvent(ctx, this));\n        // pass\n        this.emit('postdebugdraw', new PostDebugDrawEvent(ctx, this));\n    }\n    /**\n     * Checks whether an actor is contained in this scene or not\n     */\n    contains(actor) {\n        return this.actors.indexOf(actor) > -1;\n    }\n    add(entity) {\n        this.emit('entityadded', { target: entity });\n        this.world.add(entity);\n        entity.scene = this;\n        if (entity instanceof Timer) {\n            if (!contains(this._timers, entity)) {\n                this.addTimer(entity);\n            }\n            return;\n        }\n    }\n    /**\n     * Removes an {@apilink Entity} (Actor, TileMap, Trigger, etc) or {@apilink Timer} from it's current scene\n     * and adds it to this scene.\n     *\n     * Useful if you want to have an object be present in only 1 scene at a time.\n     * @param entity\n     */\n    transfer(entity) {\n        let scene;\n        if (entity instanceof Entity && entity.scene && entity.scene !== this) {\n            scene = entity.scene;\n            entity.scene.world.remove(entity, false);\n        }\n        if (entity instanceof Timer && entity.scene) {\n            scene = entity.scene;\n            entity.scene.removeTimer(entity);\n        }\n        scene === null || scene === void 0 ? void 0 : scene.emit('entityremoved', { target: entity });\n        this.add(entity);\n    }\n    remove(entity) {\n        if (entity instanceof Entity) {\n            this.emit('entityremoved', { target: entity });\n            if (entity.isActive) {\n                entity.kill();\n            }\n            this.world.remove(entity);\n        }\n        if (entity instanceof Timer) {\n            this.removeTimer(entity);\n        }\n    }\n    /**\n     * Removes all entities and timers from the scene, optionally indicate whether deferred should or shouldn't be used.\n     *\n     * By default entities use deferred removal\n     * @param deferred\n     */\n    clear(deferred = true) {\n        for (let i = this.entities.length - 1; i >= 0; i--) {\n            this.world.remove(this.entities[i], deferred);\n        }\n        for (let i = this.timers.length - 1; i >= 0; i--) {\n            this.removeTimer(this.timers[i]);\n        }\n    }\n    /**\n     * Adds a {@apilink Timer} to the scene\n     * @param timer  The timer to add\n     */\n    addTimer(timer) {\n        this._timers.push(timer);\n        timer.scene = this;\n        return timer;\n    }\n    /**\n     * Removes a {@apilink Timer} from the scene.\n     * @warning Can be dangerous, use {@apilink cancelTimer} instead\n     * @param timer  The timer to remove\n     */\n    removeTimer(timer) {\n        const i = this._timers.indexOf(timer);\n        if (i !== -1) {\n            this._timers.splice(i, 1);\n        }\n        return timer;\n    }\n    /**\n     * Cancels a {@apilink Timer}, removing it from the scene nicely\n     * @param timer  The timer to cancel\n     */\n    cancelTimer(timer) {\n        this._cancelQueue.push(timer);\n        return timer;\n    }\n    /**\n     * Tests whether a {@apilink Timer} is active in the scene\n     */\n    isTimerActive(timer) {\n        return this._timers.indexOf(timer) > -1 && !timer.complete;\n    }\n    isCurrentScene() {\n        if (this.engine) {\n            return this.engine.currentScene === this;\n        }\n        return false;\n    }\n    _collectActorStats(engine) {\n        const actors = this.actors;\n        for (let i = 0; i < actors.length; i++) {\n            const actor = actors[i];\n            if (actor instanceof ScreenElement) {\n                engine.stats.currFrame.actors.ui++;\n            }\n            engine.stats.currFrame.actors.alive++;\n            for (let j = 0; j < actor.children.length; j++) {\n                const child = actor.children[j];\n                if (isScreenElement(child)) {\n                    // TODO not true\n                    engine.stats.currFrame.actors.ui++;\n                }\n                else {\n                    engine.stats.currFrame.actors.alive++;\n                }\n            }\n        }\n    }\n}\n\n;// ./Graphics/PostProcessor/ColorBlindnessMode.ts\nvar ColorBlindnessMode;\n(function (ColorBlindnessMode) {\n    ColorBlindnessMode[\"Protanope\"] = \"Protanope\";\n    ColorBlindnessMode[\"Deuteranope\"] = \"Deuteranope\";\n    ColorBlindnessMode[\"Tritanope\"] = \"Tritanope\";\n})(ColorBlindnessMode || (ColorBlindnessMode = {}));\n\n;// ./Graphics/PostProcessor/color-blind-fragment.glsl\n/* harmony default export */ const color_blind_fragment = (\"#version 300 es\\r\\nprecision mediump float;\\r\\n// our texture\\r\\nuniform sampler2D u_image;\\r\\n// the texCoords passed in from the vertex shader.\\r\\nin vec2 v_texcoord;\\r\\n\\r\\n// color blind type\\r\\nuniform int u_type;\\r\\n\\r\\n// simulation?\\r\\nuniform bool u_simulate;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main() {\\r\\n  vec4 o =  texture(u_image, v_texcoord);\\r\\n  // RGB to LMS matrix conversion\\r\\n  float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);\\r\\n  float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);\\r\\n  float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);\\r\\n  // Simulate color blindness\\r\\n  float l;\\r\\n  float m;\\r\\n  float s;\\r\\n  //MODE CODE//\\r\\n  if (u_type == 0) {\\r\\n    // Protanope\\r\\n    l = 0.0 * L + 2.02344 * M + -2.52581 * S;\\r\\n    m = 0.0 * L + 1.0 * M + 0.0 * S;\\r\\n    s = 0.0 * L + 0.0 * M + 1.0 * S;;\\r\\n  } else if (u_type == 1) {\\r\\n    // Deuteranope\\r\\n    l = 1.0 * L + 0.0 * M + 0.0 * S;\\r\\n    m = 0.494207 * L + 0.0 * M + 1.24827 * S;\\r\\n    s = 0.0 * L + 0.0 * M + 1.0 * S;\\r\\n  } else if (u_type == 2) {\\r\\n    // Tritanope\\r\\n    l = 1.0 * L + 0.0 * M + 0.0 * S;\\r\\n    m = 0.0 * L + 1.0 * M + 0.0 * S;\\r\\n    s = -0.395913 * L + 0.801109 * M + 0.0 * S;\\r\\n  }\\r\\n\\r\\n  // LMS to RGB matrix conversion\\r\\n  vec4 error; // simulate the colors\\r\\n  error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);\\r\\n  error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);\\r\\n  error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);\\r\\n  error.a = 1.0;\\r\\n  vec4 diff = o - error;\\r\\n  vec4 correction; // correct the colors\\r\\n  correction.r = 0.0;\\r\\n  correction.g =  (diff.r * 0.7) + (diff.g * 1.0);\\r\\n  correction.b =  (diff.r * 0.7) + (diff.b * 1.0);\\r\\n  correction = o + correction;\\r\\n  correction.a = o.a;\\r\\n  //SIMULATE//\\r\\n\\r\\n  // sim \\r\\n  if (u_simulate) {\\r\\n    fragColor = error.rgba;\\r\\n  } else {\\r\\n    fragColor = correction.rgba;\\r\\n  }\\r\\n}\");\n;// ./Graphics/PostProcessor/ScreenShader.ts\n\n\n\n\n/**\n * Helper that defines a whole screen renderer, just provide a fragment source!\n *\n * Currently supports 1 varying\n * - vec2 a_texcoord between 0-1 which corresponds to screen position\n */\nclass ScreenShader {\n    constructor(gl, fragmentSource) {\n        if (false) {}\n        this._shader = new Shader({\n            gl,\n            vertexSource: `#version 300 es\r\n      in vec2 a_position;\r\n      in vec2 a_uv;\r\n      out vec2 v_texcoord;\r\n      out vec2 v_uv;\r\n\r\n      void main() {\r\n        gl_Position = vec4(a_position, 0.0, 1.0);\r\n        // Pass the texcoord to the fragment shader.\r\n        v_texcoord = a_uv;\r\n        v_uv = a_uv;\r\n      }`,\n            fragmentSource: fragmentSource\n        });\n        this._shader.compile();\n        // Setup memory layout\n        this._buffer = new VertexBuffer({\n            gl,\n            type: 'static',\n            // clip space quad + uv since we don't need a camera\n            data: new Float32Array([\n                -1, -1, 0, 0, -1, 1, 0, 1, 1, -1, 1, 0,\n                1, -1, 1, 0, -1, 1, 0, 1, 1, 1, 1, 1\n            ])\n        });\n        this._layout = new VertexLayout({\n            gl,\n            shader: this._shader,\n            vertexBuffer: this._buffer,\n            attributes: [\n                ['a_position', 2],\n                ['a_uv', 2]\n            ]\n        });\n        this._buffer.upload();\n    }\n    getShader() {\n        return this._shader;\n    }\n    getLayout() {\n        return this._layout;\n    }\n}\n\n;// ./Graphics/PostProcessor/ColorBlindnessPostProcessor.ts\n\n\n\nclass ColorBlindnessPostProcessor {\n    constructor(_colorBlindnessMode, simulate = false) {\n        this._colorBlindnessMode = _colorBlindnessMode;\n        this._simulate = false;\n        this._simulate = simulate;\n    }\n    initialize(gl) {\n        this._shader = new ScreenShader(gl, color_blind_fragment);\n        this.simulate = this._simulate;\n        this.colorBlindnessMode = this._colorBlindnessMode;\n    }\n    getShader() {\n        return this._shader.getShader();\n    }\n    getLayout() {\n        return this._shader.getLayout();\n    }\n    set colorBlindnessMode(colorBlindMode) {\n        this._colorBlindnessMode = colorBlindMode;\n        if (this._shader) {\n            const shader = this._shader.getShader();\n            shader.use();\n            if (this._colorBlindnessMode === ColorBlindnessMode.Protanope) {\n                shader.setUniformInt('u_type', 0);\n            }\n            else if (this._colorBlindnessMode === ColorBlindnessMode.Deuteranope) {\n                shader.setUniformInt('u_type', 1);\n            }\n            else if (this._colorBlindnessMode === ColorBlindnessMode.Tritanope) {\n                shader.setUniformInt('u_type', 2);\n            }\n        }\n    }\n    get colorBlindnessMode() {\n        return this._colorBlindnessMode;\n    }\n    set simulate(value) {\n        this._simulate = value;\n        if (this._shader) {\n            const shader = this._shader.getShader();\n            shader.use();\n            shader.setUniformBoolean('u_simulate', value);\n        }\n    }\n    get simulate() {\n        return this._simulate;\n    }\n}\n\n;// ./Debug/DebugFlags.ts\n\n\n\nclass ColorBlindFlags {\n    constructor(engine) {\n        this._engine = engine;\n        this._colorBlindPostProcessor = new ColorBlindnessPostProcessor(ColorBlindnessMode.Protanope);\n    }\n    /**\n     * Correct colors for a specified color blindness\n     * @param colorBlindness\n     */\n    correct(colorBlindness) {\n        if (this._engine.graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            this.clear();\n            this._colorBlindPostProcessor.colorBlindnessMode = colorBlindness;\n            this._colorBlindPostProcessor.simulate = false;\n            this._engine.graphicsContext.addPostProcessor(this._colorBlindPostProcessor);\n        }\n    }\n    /**\n     * Simulate colors for a specified color blindness\n     * @param colorBlindness\n     */\n    simulate(colorBlindness) {\n        if (this._engine.graphicsContext instanceof ExcaliburGraphicsContextWebGL) {\n            this.clear();\n            this._colorBlindPostProcessor.colorBlindnessMode = colorBlindness;\n            this._colorBlindPostProcessor.simulate = true;\n            this._engine.graphicsContext.addPostProcessor(this._colorBlindPostProcessor);\n        }\n    }\n    /**\n     * Remove color blindness post processor\n     */\n    clear() {\n        this._engine.graphicsContext.removePostProcessor(this._colorBlindPostProcessor);\n    }\n}\n\n;// ./Debug/DebugConfig.ts\n\n\n/**\n * Debug statistics and flags for Excalibur. If polling these values, it would be\n * best to do so on the `postupdate` event for {@apilink Engine}, after all values have been\n * updated during a frame.\n */\nclass DebugConfig {\n    constructor(engine) {\n        /**\n         * Performance statistics\n         */\n        this.stats = {\n            /**\n             * Current frame statistics. Engine reuses this instance, use {@apilink FrameStats.clone} to copy frame stats.\n             * Best accessed on {@apilink postframe} event. See {@apilink FrameStats}\n             */\n            currFrame: new FrameStats(),\n            /**\n             * Previous frame statistics. Engine reuses this instance, use {@apilink FrameStats.clone} to copy frame stats.\n             * Best accessed on {@apilink preframe} event. Best inspected on engine event `preframe`. See {@apilink FrameStats}\n             */\n            prevFrame: new FrameStats()\n        };\n        /**\n         * Filter debug context to named entities or entity ids\n         */\n        this.filter = {\n            /**\n             * Toggle filter on or off (default off) must be on for DebugDraw to use filters\n             */\n            useFilter: false,\n            /**\n             * Query for entities by name, if the entity name contains `nameQuery` it will be included\n             */\n            nameQuery: '',\n            /**\n             * Query for Entity ids, if the id matches it will be included\n             */\n            ids: []\n        };\n        /**\n         * Entity debug settings\n         */\n        this.entity = {\n            showAll: false,\n            showId: false,\n            showName: false\n        };\n        /**\n         * Transform component debug settings\n         */\n        this.transform = {\n            showAll: false,\n            debugZIndex: 10000000,\n            showPosition: false,\n            showPositionLabel: false,\n            positionColor: Color.Yellow,\n            showZIndex: false,\n            showScale: false,\n            scaleColor: Color.Green,\n            showRotation: false,\n            rotationColor: Color.Blue\n        };\n        /**\n         * Graphics component debug settings\n         */\n        this.graphics = {\n            showAll: false,\n            showBounds: false,\n            boundsColor: Color.Yellow\n        };\n        /**\n         * Collider component debug settings\n         */\n        this.collider = {\n            showAll: false,\n            showBounds: false,\n            boundsColor: Color.Blue,\n            showOwner: false,\n            showGeometry: true,\n            geometryColor: Color.Green,\n            geometryLineWidth: 1,\n            geometryPointSize: 0.5\n        };\n        /**\n         * Physics simulation debug settings\n         */\n        this.physics = {\n            showAll: false,\n            showBroadphaseSpacePartitionDebug: false,\n            showCollisionNormals: false,\n            collisionNormalColor: Color.Cyan,\n            showCollisionContacts: true,\n            contactSize: 2,\n            collisionContactColor: Color.Red\n        };\n        /**\n         * Motion component debug settings\n         */\n        this.motion = {\n            showAll: false,\n            showVelocity: false,\n            velocityColor: Color.Yellow,\n            showAcceleration: false,\n            accelerationColor: Color.Red\n        };\n        /**\n         * Body component debug settings\n         */\n        this.body = {\n            showAll: false,\n            showCollisionGroup: false,\n            showCollisionType: false,\n            showSleeping: false,\n            showMotion: false,\n            showMass: false\n        };\n        /**\n         * Camera debug settings\n         */\n        this.camera = {\n            showAll: false,\n            showFocus: false,\n            focusColor: Color.Red,\n            showZoom: false\n        };\n        this.tilemap = {\n            showAll: false,\n            showGrid: false,\n            gridColor: Color.Red,\n            gridWidth: 0.5,\n            showSolidBounds: false,\n            solidBoundsColor: Color.fromHex('#8080807F'), // grayish\n            showColliderGeometry: true\n        };\n        this.isometric = {\n            showAll: false,\n            showPosition: false,\n            positionColor: Color.Yellow,\n            positionSize: 1,\n            showGrid: false,\n            gridColor: Color.Red,\n            gridWidth: 1,\n            showColliderGeometry: true\n        };\n        this._engine = engine;\n        this.colorBlindMode = new ColorBlindFlags(this._engine);\n    }\n    /**\n     * Switch the current excalibur clock with the {@apilink TestClock} and return\n     * it in the same running state.\n     *\n     * This is useful when you need to debug frame by frame.\n     */\n    useTestClock() {\n        const clock = this._engine.clock;\n        const wasRunning = clock.isRunning();\n        clock.stop();\n        const testClock = clock.toTestClock();\n        if (wasRunning) {\n            testClock.start();\n        }\n        this._engine.clock = testClock;\n        return testClock;\n    }\n    /**\n     * Switch the current excalibur clock with the {@apilink StandardClock} and\n     * return it in the same running state.\n     *\n     * This is useful when you need to switch back to normal mode after\n     * debugging.\n     */\n    useStandardClock() {\n        const currentClock = this._engine.clock;\n        const wasRunning = currentClock.isRunning();\n        currentClock.stop();\n        const standardClock = currentClock.toStandardClock();\n        if (wasRunning) {\n            standardClock.start();\n        }\n        this._engine.clock = standardClock;\n        return standardClock;\n    }\n}\n/**\n * Implementation of a frame's stats. Meant to have values copied via {@apilink FrameStats.reset}, avoid\n * creating instances of this every frame.\n */\nclass FrameStats {\n    constructor() {\n        this._id = 0;\n        this._elapsedMs = 0;\n        this._fps = 0;\n        this._actorStats = {\n            alive: 0,\n            killed: 0,\n            ui: 0,\n            get remaining() {\n                return this.alive - this.killed;\n            },\n            get total() {\n                return this.remaining + this.ui;\n            }\n        };\n        this._durationStats = {\n            update: 0,\n            draw: 0,\n            get total() {\n                return this.update + this.draw;\n            }\n        };\n        this._physicsStats = new PhysicsStats();\n        this._graphicsStats = {\n            drawCalls: 0,\n            drawnImages: 0\n        };\n    }\n    /**\n     * Zero out values or clone other IFrameStat stats. Allows instance reuse.\n     * @param [otherStats] Optional stats to clone\n     */\n    reset(otherStats) {\n        if (otherStats) {\n            this.id = otherStats.id;\n            this.elapsedMs = otherStats.elapsedMs;\n            this.fps = otherStats.fps;\n            this.actors.alive = otherStats.actors.alive;\n            this.actors.killed = otherStats.actors.killed;\n            this.actors.ui = otherStats.actors.ui;\n            this.duration.update = otherStats.duration.update;\n            this.duration.draw = otherStats.duration.draw;\n            this._physicsStats.reset(otherStats.physics);\n            this.graphics.drawCalls = otherStats.graphics.drawCalls;\n            this.graphics.drawnImages = otherStats.graphics.drawnImages;\n        }\n        else {\n            this.id = this.elapsedMs = this.fps = 0;\n            this.actors.alive = this.actors.killed = this.actors.ui = 0;\n            this.duration.update = this.duration.draw = 0;\n            this._physicsStats.reset();\n            this.graphics.drawnImages = this.graphics.drawCalls = 0;\n        }\n    }\n    /**\n     * Provides a clone of this instance.\n     */\n    clone() {\n        const fs = new FrameStats();\n        fs.reset(this);\n        return fs;\n    }\n    /**\n     * Gets the frame's id\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Sets the frame's id\n     */\n    set id(value) {\n        this._id = value;\n    }\n    /**\n     * Gets the frame's delta (time since last frame)\n     */\n    get elapsedMs() {\n        return this._elapsedMs;\n    }\n    /**\n     * Sets the frame's delta (time since last frame). Internal use only.\n     * @internal\n     */\n    set elapsedMs(value) {\n        this._elapsedMs = value;\n    }\n    /**\n     * Gets the frame's frames-per-second (FPS)\n     */\n    get fps() {\n        return this._fps;\n    }\n    /**\n     * Sets the frame's frames-per-second (FPS). Internal use only.\n     * @internal\n     */\n    set fps(value) {\n        this._fps = value;\n    }\n    /**\n     * Gets the frame's actor statistics\n     */\n    get actors() {\n        return this._actorStats;\n    }\n    /**\n     * Gets the frame's duration statistics\n     */\n    get duration() {\n        return this._durationStats;\n    }\n    /**\n     * Gets the frame's physics statistics\n     */\n    get physics() {\n        return this._physicsStats;\n    }\n    /**\n     * Gets the frame's graphics statistics\n     */\n    get graphics() {\n        return this._graphicsStats;\n    }\n}\nclass PhysicsStats {\n    constructor() {\n        this._pairs = 0;\n        this._collisions = 0;\n        this._contacts = new Map();\n        this._fastBodies = 0;\n        this._fastBodyCollisions = 0;\n        this._broadphase = 0;\n        this._narrowphase = 0;\n    }\n    /**\n     * Zero out values or clone other IPhysicsStats stats. Allows instance reuse.\n     * @param [otherStats] Optional stats to clone\n     */\n    reset(otherStats) {\n        if (otherStats) {\n            this.pairs = otherStats.pairs;\n            this.collisions = otherStats.collisions;\n            this.contacts = otherStats.contacts;\n            this.fastBodies = otherStats.fastBodies;\n            this.fastBodyCollisions = otherStats.fastBodyCollisions;\n            this.broadphase = otherStats.broadphase;\n            this.narrowphase = otherStats.narrowphase;\n        }\n        else {\n            this.pairs = this.collisions = this.fastBodies = 0;\n            this.fastBodyCollisions = this.broadphase = this.narrowphase = 0;\n            this.contacts.clear();\n        }\n    }\n    /**\n     * Provides a clone of this instance.\n     */\n    clone() {\n        const ps = new PhysicsStats();\n        ps.reset(this);\n        return ps;\n    }\n    get pairs() {\n        return this._pairs;\n    }\n    set pairs(value) {\n        this._pairs = value;\n    }\n    get collisions() {\n        return this._collisions;\n    }\n    set collisions(value) {\n        this._collisions = value;\n    }\n    get contacts() {\n        return this._contacts;\n    }\n    set contacts(contacts) {\n        this._contacts = contacts;\n    }\n    get fastBodies() {\n        return this._fastBodies;\n    }\n    set fastBodies(value) {\n        this._fastBodies = value;\n    }\n    get fastBodyCollisions() {\n        return this._fastBodyCollisions;\n    }\n    set fastBodyCollisions(value) {\n        this._fastBodyCollisions = value;\n    }\n    get broadphase() {\n        return this._broadphase;\n    }\n    set broadphase(value) {\n        this._broadphase = value;\n    }\n    get narrowphase() {\n        return this._narrowphase;\n    }\n    set narrowphase(value) {\n        this._narrowphase = value;\n    }\n}\n\n;// ./Util/Browser.ts\nclass BrowserComponent {\n    on(eventName, handler) {\n        if (this._nativeHandlers[eventName]) {\n            this.off(eventName, this._nativeHandlers[eventName]);\n        }\n        this._nativeHandlers[eventName] = this._decorate(handler);\n        this.nativeComponent.addEventListener(eventName, this._nativeHandlers[eventName]);\n    }\n    off(eventName, handler) {\n        if (!handler) {\n            handler = this._nativeHandlers[eventName];\n        }\n        this.nativeComponent.removeEventListener(eventName, handler);\n        this._nativeHandlers[eventName] = null;\n    }\n    _decorate(handler) {\n        return (evt) => {\n            if (!this._paused) {\n                handler(evt);\n            }\n        };\n    }\n    pause() {\n        this._paused = true;\n    }\n    resume() {\n        this._paused = false;\n    }\n    clear() {\n        for (const event in this._nativeHandlers) {\n            this.off(event);\n        }\n    }\n    constructor(nativeComponent) {\n        this.nativeComponent = nativeComponent;\n        this._paused = false;\n        this._nativeHandlers = {};\n    }\n}\nclass BrowserEvents {\n    constructor(_windowGlobal, _documentGlobal) {\n        this._windowGlobal = _windowGlobal;\n        this._documentGlobal = _documentGlobal;\n        this._windowComponent = new BrowserComponent(this._windowGlobal);\n        this._documentComponent = new BrowserComponent(this._documentGlobal);\n    }\n    get window() {\n        return this._windowComponent;\n    }\n    get document() {\n        return this._documentComponent;\n    }\n    pause() {\n        this.window.pause();\n        this.document.pause();\n    }\n    resume() {\n        this.window.resume();\n        this.document.resume();\n    }\n    clear() {\n        this.window.clear();\n        this.document.clear();\n    }\n}\n\n;// ./Graphics/Context/ExcaliburGraphicsContext.ts\n\nconst DefaultAntialiasOptions = {\n    pixelArtSampler: false,\n    nativeContextAntialiasing: false,\n    multiSampleAntialiasing: true,\n    filtering: ImageFiltering.Blended,\n    canvasImageRendering: 'auto'\n};\nconst DefaultPixelArtOptions = {\n    pixelArtSampler: true,\n    nativeContextAntialiasing: false,\n    multiSampleAntialiasing: true,\n    filtering: ImageFiltering.Blended,\n    canvasImageRendering: 'auto'\n};\n\n;// ./Util/Fps.ts\nclass FpsSampler {\n    constructor(options) {\n        var _a;\n        this._samplePeriod = 100;\n        this._currentFrameTime = 0;\n        this._frames = 0;\n        this._previousSampleTime = 0;\n        this._beginFrameTime = 0;\n        this._fps = options.initialFps;\n        this._samplePeriod = (_a = options.samplePeriod) !== null && _a !== void 0 ? _a : this._samplePeriod;\n        this._currentFrameTime = 1000 / options.initialFps;\n        this._nowFn = options.nowFn;\n        this._previousSampleTime = this._nowFn();\n    }\n    /**\n     * Start of code block to sample FPS for\n     */\n    start() {\n        this._beginFrameTime = this._nowFn();\n    }\n    /**\n     * End of code block to sample FPS for\n     */\n    end() {\n        this._frames++;\n        const time = this._nowFn();\n        this._currentFrameTime = time - this._beginFrameTime;\n        if (time >= this._previousSampleTime + this._samplePeriod) {\n            this._fps = (this._frames * 1000) / (time - this._previousSampleTime);\n            this._previousSampleTime = time;\n            this._frames = 0;\n        }\n    }\n    /**\n     * Return the currently sampled fps over the last sample period, by default every 100ms\n     */\n    get fps() {\n        return this._fps;\n    }\n    /**\n     * Return the instantaneous fps, this can be less useful because it will fluctuate given the current frames time\n     */\n    get instant() {\n        return 1000 / this._currentFrameTime;\n    }\n}\n\n;// ./Util/Clock.ts\n\n\n/**\n * Abstract Clock is the base type of all Clocks\n *\n * It has a few opinions\n * 1. It manages the calculation of what \"elapsed\" time means and thus maximum fps\n * 2. The default timing api is implemented in now()\n *\n * To implement your own clock, extend Clock and override start/stop to start and stop the clock, then call update() with whatever\n * method is unique to your clock implementation.\n */\nclass Clock {\n    constructor(options) {\n        var _a, _b, _c;\n        this._onFatalException = () => {\n            /* default nothing */\n        };\n        this._maxFps = Infinity;\n        this._lastTime = 0;\n        this._elapsed = 1;\n        this._scheduledCbs = [];\n        this._totalElapsed = 0;\n        this._options = options;\n        this.tick = options.tick;\n        this._lastTime = (_a = this.now()) !== null && _a !== void 0 ? _a : 0;\n        this._maxFps = (_b = options.maxFps) !== null && _b !== void 0 ? _b : this._maxFps;\n        this._onFatalException = (_c = options.onFatalException) !== null && _c !== void 0 ? _c : this._onFatalException;\n        this.fpsSampler = new FpsSampler({\n            initialFps: 60,\n            nowFn: () => this.now()\n        });\n    }\n    /**\n     * Get the elapsed time for the last completed frame\n     */\n    elapsed() {\n        return this._elapsed;\n    }\n    /**\n     * Get the current time in milliseconds\n     */\n    now() {\n        return performance.now();\n    }\n    toTestClock() {\n        const testClock = new TestClock({\n            ...this._options,\n            defaultUpdateMs: 16.6\n        });\n        return testClock;\n    }\n    toStandardClock() {\n        const clock = new StandardClock({\n            ...this._options\n        });\n        return clock;\n    }\n    setFatalExceptionHandler(handler) {\n        this._onFatalException = handler;\n    }\n    /**\n     * Schedule a callback to fire given a timeout in milliseconds using the excalibur {@apilink Clock}\n     *\n     * This is useful to use over the built in browser `setTimeout` because callbacks will be tied to the\n     * excalibur update clock, instead of browser time, this means that callbacks wont fire if the game is\n     * stopped or paused.\n     * @param cb callback to fire\n     * @param timeoutMs Optionally specify a timeout in milliseconds from now, default is 0ms which means the next possible tick\n     * @param timing Optionally specify a timeout in milliseconds from now, default is 0ms which means the next possible tick\n     */\n    schedule(cb, timeoutMs = 0, timing = 'preframe') {\n        // Scheduled based on internal elapsed time\n        const scheduledTime = this._totalElapsed + timeoutMs;\n        this._scheduledCbs.push([cb, scheduledTime, timing]);\n    }\n    /**\n     * Called internally to trigger scheduled callbacks in the clock\n     * @param timing\n     * @internal\n     */\n    __runScheduledCbs(timing = 'preframe') {\n        // walk backwards to delete items as we loop\n        for (let i = this._scheduledCbs.length - 1; i > -1; i--) {\n            if (timing === this._scheduledCbs[i][2] && this._scheduledCbs[i][1] <= this._totalElapsed) {\n                this._scheduledCbs[i][0](this._elapsed);\n                this._scheduledCbs.splice(i, 1);\n            }\n        }\n    }\n    update(overrideUpdateMs) {\n        try {\n            this.fpsSampler.start();\n            // Get the time to calculate time-elapsed\n            const now = this.now();\n            let elapsed = now - this._lastTime || 1; // first frame\n            // Constrain fps\n            const fpsInterval = 1000 / this._maxFps;\n            // only run frame if enough time has elapsed\n            if (elapsed >= fpsInterval) {\n                let leftover = 0;\n                if (fpsInterval !== 0) {\n                    leftover = elapsed % fpsInterval;\n                    elapsed = elapsed - leftover; // shift elapsed to be \"in phase\" with the current loop fps\n                }\n                // Resolves issue #138 if the game has been paused, or blurred for\n                // more than a 200 milliseconds, reset elapsed time to 1. This improves reliability\n                // and provides more expected behavior when the engine comes back\n                // into focus\n                if (elapsed > 200) {\n                    elapsed = 1;\n                }\n                // tick the mainloop and run scheduled callbacks\n                this._elapsed = overrideUpdateMs || elapsed;\n                this._totalElapsed += this._elapsed;\n                this.__runScheduledCbs('preframe');\n                this.tick(overrideUpdateMs || elapsed);\n                this.__runScheduledCbs('postframe');\n                if (fpsInterval !== 0) {\n                    this._lastTime = now - leftover;\n                }\n                else {\n                    this._lastTime = now;\n                }\n                this.fpsSampler.end();\n            }\n        }\n        catch (e) {\n            this._onFatalException(e);\n            this.stop();\n        }\n    }\n}\n/**\n * The {@apilink StandardClock} implements the requestAnimationFrame browser api to run the tick()\n */\nclass StandardClock extends Clock {\n    constructor(options) {\n        super(options);\n        this._running = false;\n    }\n    isRunning() {\n        return this._running;\n    }\n    start() {\n        if (this._running) {\n            return;\n        }\n        this._running = true;\n        const mainloop = () => {\n            // stop the loop\n            if (!this._running) {\n                return;\n            }\n            try {\n                // request next loop\n                this._requestId = window.requestAnimationFrame(mainloop);\n                this.update();\n            }\n            catch (e) {\n                window.cancelAnimationFrame(this._requestId);\n                throw e;\n            }\n        };\n        // begin the first frame\n        mainloop();\n    }\n    stop() {\n        window.cancelAnimationFrame(this._requestId);\n        this._running = false;\n    }\n}\n/**\n * The TestClock is meant for debugging interactions in excalibur that require precise timing to replicate or test\n */\nclass TestClock extends Clock {\n    constructor(options) {\n        super({\n            ...options\n        });\n        this._logger = Logger.getInstance();\n        this._running = false;\n        this._currentTime = 0;\n        this._updateMs = options.defaultUpdateMs;\n    }\n    /**\n     * Get the current time in milliseconds\n     */\n    now() {\n        var _a;\n        return (_a = this._currentTime) !== null && _a !== void 0 ? _a : 0;\n    }\n    isRunning() {\n        return this._running;\n    }\n    start() {\n        this._running = true;\n    }\n    stop() {\n        this._running = false;\n    }\n    /**\n     * Manually step the clock forward 1 tick, optionally specify an elapsed time in milliseconds\n     * @param overrideUpdateMs\n     */\n    step(overrideUpdateMs) {\n        const time = overrideUpdateMs !== null && overrideUpdateMs !== void 0 ? overrideUpdateMs : this._updateMs;\n        if (this._running) {\n            // to be comparable to RAF this needs to be a full blown Task\n            // For example, images cannot decode synchronously in a single step\n            this.update(time);\n            this._currentTime += time;\n        }\n        else {\n            this._logger.warn('The clock is not running, no step will be performed');\n        }\n    }\n    /**\n     * Run a number of steps that tick the clock, optionally specify an elapsed time in milliseconds\n     * @param numberOfSteps\n     * @param overrideUpdateMs\n     */\n    run(numberOfSteps, overrideUpdateMs) {\n        for (let i = 0; i < numberOfSteps; i++) {\n            this.step(overrideUpdateMs !== null && overrideUpdateMs !== void 0 ? overrideUpdateMs : this._updateMs);\n        }\n    }\n}\n\n// EXTERNAL MODULE: ./Util/Toaster.css\nvar Util_Toaster = __webpack_require__(296);\n;// ./Util/Toaster.ts\n\n/**\n * The Toaster is only meant to be called from inside Excalibur to display messages to players\n */\nclass Toaster {\n    constructor() {\n        this._toasterCss = Util_Toaster/* default */.A.toString();\n        this._isInitialized = false;\n    }\n    _initialize() {\n        if (!this._isInitialized) {\n            this._container = document.createElement('div');\n            this._container.id = 'ex-toast-container';\n            document.body.appendChild(this._container);\n            this._isInitialized = true;\n            this._styleBlock = document.createElement('style');\n            this._styleBlock.textContent = this._toasterCss;\n            document.head.appendChild(this._styleBlock);\n        }\n    }\n    dispose() {\n        this._container.parentElement.removeChild(this._container);\n        this._styleBlock.parentElement.removeChild(this._styleBlock);\n        this._isInitialized = false;\n    }\n    _createFragment(message) {\n        const toastMessage = document.createElement('span');\n        toastMessage.innerText = message;\n        return toastMessage;\n    }\n    /**\n     * Display a toast message to a player\n     * @param message Text of the message, messages may have a single \"[LINK]\" to influence placement\n     * @param linkTarget Optionally specify a link location\n     * @param linkName Optionally specify a name for that link location\n     */\n    toast(message, linkTarget, linkName) {\n        this._initialize();\n        const toast = document.createElement('div');\n        toast.className = 'ex-toast-message';\n        const messageFragments = message.split('[LINK]').map((message) => this._createFragment(message));\n        if (linkTarget) {\n            const link = document.createElement('a');\n            link.href = linkTarget;\n            if (linkName) {\n                link.innerText = linkName;\n            }\n            else {\n                link.innerText = linkTarget;\n            }\n            messageFragments.splice(1, 0, link);\n        }\n        // Assembly message\n        const finalMessage = document.createElement('div');\n        messageFragments.forEach((message) => {\n            finalMessage.appendChild(message);\n        });\n        toast.appendChild(finalMessage);\n        // Dismiss button\n        const dismissBtn = document.createElement('button');\n        dismissBtn.innerText = 'x';\n        dismissBtn.addEventListener('click', () => {\n            this._container.removeChild(toast);\n        });\n        toast.appendChild(dismissBtn);\n        // Escape to dismiss\n        const keydownHandler = (evt) => {\n            if (evt.key === 'Escape') {\n                try {\n                    this._container.removeChild(toast);\n                }\n                catch (_a) {\n                    // pass\n                }\n            }\n            document.removeEventListener('keydown', keydownHandler);\n        };\n        document.addEventListener('keydown', keydownHandler);\n        // Insert into container\n        const first = this._container.firstChild;\n        this._container.insertBefore(toast, first);\n    }\n}\n\n;// ./Director/Director.ts\n\n\n\n\n\n\nconst DirectorEvents = {\n    NavigationStart: 'navigationstart',\n    Navigation: 'navigation',\n    NavigationEnd: 'navigationend'\n};\n/**\n * The Director is responsible for managing scenes and changing scenes in Excalibur.\n *\n * It deals with transitions, scene loaders, switching scenes\n *\n * This is used internally by Excalibur, generally not mean to\n * be instantiated end users directly.\n */\nclass Director {\n    /**\n     * Gets whether the director currently transitioning between scenes\n     *\n     * Useful if you need to block behavior during transition\n     */\n    get isTransitioning() {\n        return this._isTransitioning;\n    }\n    constructor(_engine, scenes) {\n        this._engine = _engine;\n        this.events = new EventEmitter();\n        this._logger = Logger.getInstance();\n        this._initialized = false;\n        /**\n         * All registered scenes in Excalibur\n         */\n        this.scenes = {};\n        /**\n         * Holds all instantiated scenes\n         */\n        this._sceneToInstance = new Map();\n        this._sceneToLoader = new Map();\n        this._sceneToTransition = new Map();\n        /**\n         * Used to keep track of scenes that have already been loaded so we don't load multiple times\n         */\n        this._loadedScenes = new Set();\n        this._isTransitioning = false;\n        this.rootScene = this.currentScene = new Scene();\n        this.add('root', this.rootScene);\n        this.currentScene = this.rootScene;\n        this.currentSceneName = 'root';\n        for (const sceneKey in scenes) {\n            const sceneOrOptions = scenes[sceneKey];\n            this.add(sceneKey, sceneOrOptions);\n            if (sceneKey === 'root') {\n                this.rootScene = this.getSceneInstance('root'); // always a root scene\n                this.currentScene = this.rootScene;\n            }\n        }\n    }\n    /**\n     * Initialize the director's internal state\n     */\n    async onInitialize() {\n        if (!this._initialized) {\n            this._initialized = true;\n            if (this._deferredGoto) {\n                const deferredScene = this._deferredGoto;\n                this._deferredGoto = undefined;\n                const deferredTransition = this._deferredTransition;\n                this._deferredTransition = undefined;\n                const deferredSceneInstance = this.getSceneInstance(deferredScene);\n                if (deferredSceneInstance && deferredTransition) {\n                    deferredTransition._addToTargetScene(this._engine, deferredSceneInstance);\n                }\n                await this.swapScene(deferredScene);\n                if (deferredSceneInstance && deferredTransition) {\n                    await this.playTransition(deferredTransition, deferredSceneInstance);\n                }\n            }\n            else {\n                await this.swapScene('root');\n            }\n        }\n    }\n    get isInitialized() {\n        return this._initialized;\n    }\n    /**\n     * Configures the start scene, and optionally the transition & loader for the director\n     *\n     * Typically this is called at the beginning of the game to the start scene and transition and never again.\n     * @param startScene\n     * @param options\n     */\n    configureStart(startScene, options) {\n        const maybeLoaderOrCtor = options === null || options === void 0 ? void 0 : options.loader;\n        if (maybeLoaderOrCtor instanceof DefaultLoader) {\n            this.mainLoader = maybeLoaderOrCtor;\n        }\n        else if (isLoaderConstructor(maybeLoaderOrCtor)) {\n            this.mainLoader = new maybeLoaderOrCtor();\n        }\n        else {\n            this.mainLoader = new Loader();\n        }\n        let maybeStartTransition;\n        if (options === null || options === void 0 ? void 0 : options.inTransition) {\n            const { inTransition } = options;\n            maybeStartTransition = inTransition;\n        }\n        this.startScene = startScene;\n        // Fire and forget promise for the initial scene\n        if (maybeStartTransition) {\n            const startSceneInstance = this.getSceneInstance(this.startScene);\n            if (startSceneInstance) {\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                maybeStartTransition._addToTargetScene(this._engine, startSceneInstance);\n                this.swapScene(this.startScene).then(() => {\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    return this.playTransition(maybeStartTransition, startSceneInstance);\n                });\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.swapScene(this.startScene);\n        }\n        this.currentSceneName = this.startScene;\n    }\n    _getLoader(sceneName) {\n        return this._sceneToLoader.get(sceneName);\n    }\n    _getInTransition(sceneName) {\n        var _a;\n        const sceneOrRoute = this.scenes[sceneName];\n        if (sceneOrRoute instanceof Scene || isSceneConstructor(sceneOrRoute)) {\n            return undefined;\n        }\n        return (_a = sceneOrRoute === null || sceneOrRoute === void 0 ? void 0 : sceneOrRoute.transitions) === null || _a === void 0 ? void 0 : _a.in;\n    }\n    _getOutTransition(sceneName) {\n        var _a;\n        const sceneOrRoute = this.scenes[sceneName];\n        if (sceneOrRoute instanceof Scene || isSceneConstructor(sceneOrRoute)) {\n            return undefined;\n        }\n        return (_a = sceneOrRoute === null || sceneOrRoute === void 0 ? void 0 : sceneOrRoute.transitions) === null || _a === void 0 ? void 0 : _a.out;\n    }\n    getDeferredScene() {\n        const maybeDeferred = this.getSceneDefinition(this._deferredGoto);\n        if (this._deferredGoto && maybeDeferred) {\n            return maybeDeferred;\n        }\n        return null;\n    }\n    /**\n     * Returns a scene by name if it exists, might be the constructor and not the instance of a scene\n     * @param name\n     */\n    getSceneDefinition(name) {\n        const maybeScene = this.scenes[name];\n        if (maybeScene instanceof Scene || isSceneConstructor(maybeScene)) {\n            return maybeScene;\n        }\n        else if (maybeScene) {\n            return maybeScene.scene;\n        }\n        return undefined;\n    }\n    /**\n     * Returns the name of the registered scene, null if none can be found\n     * @param scene\n     */\n    getSceneName(scene) {\n        for (const [name, maybeScene] of Object.entries(this.scenes)) {\n            if (maybeScene instanceof Scene) {\n                if (scene === maybeScene) {\n                    return name;\n                }\n            }\n            else if (!isSceneConstructor(maybeScene)) {\n                if (scene === maybeScene.scene) {\n                    return name;\n                }\n            }\n        }\n        for (const [name, maybeScene] of Object.entries(this.scenes)) {\n            if (isSceneConstructor(maybeScene)) {\n                if (scene.constructor === maybeScene) {\n                    return name;\n                }\n            }\n            else if (!(maybeScene instanceof Scene)) {\n                if (scene.constructor === maybeScene.scene) {\n                    return name;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Returns the same Director, but asserts a scene DOES exist to the type system\n     * @param name\n     */\n    assertAdded(name) {\n        return this;\n    }\n    /**\n     * Returns the same Director, but asserts a scene DOES NOT exist to the type system\n     * @param name\n     */\n    assertRemoved(name) {\n        return this;\n    }\n    /**\n     * Adds additional Scenes to the game!\n     * @param name\n     * @param sceneOrRoute\n     */\n    add(name, sceneOrRoute) {\n        if (!(sceneOrRoute instanceof Scene) && !isSceneConstructor(sceneOrRoute)) {\n            const { loader, transitions } = sceneOrRoute;\n            const { in: inTransition, out: outTransition } = transitions !== null && transitions !== void 0 ? transitions : {};\n            this._sceneToTransition.set(name, { in: inTransition, out: outTransition });\n            if (isLoaderConstructor(loader)) {\n                this._sceneToLoader.set(name, new loader());\n            }\n            else if (loader) {\n                this._sceneToLoader.set(name, loader);\n            }\n        }\n        if (this.scenes[name]) {\n            this._logger.warn('Scene', name, 'already exists overwriting');\n        }\n        this.scenes[name] = sceneOrRoute;\n        return this.assertAdded(name);\n    }\n    remove(nameOrScene) {\n        if (nameOrScene instanceof Scene || isSceneConstructor(nameOrScene)) {\n            const sceneOrCtor = nameOrScene;\n            // remove scene\n            for (const key in this.scenes) {\n                if (this.scenes.hasOwnProperty(key)) {\n                    const potentialSceneOrOptions = this.scenes[key];\n                    let scene;\n                    if (potentialSceneOrOptions instanceof Scene || isSceneConstructor(potentialSceneOrOptions)) {\n                        scene = potentialSceneOrOptions;\n                    }\n                    else {\n                        scene = potentialSceneOrOptions.scene;\n                    }\n                    if (scene === sceneOrCtor) {\n                        if (key === this.currentSceneName) {\n                            throw new Error(`Cannot remove a currently active scene: ${key}`);\n                        }\n                        this._sceneToInstance.delete(key);\n                        this._sceneToTransition.delete(key);\n                        this._sceneToLoader.delete(key);\n                        delete this.scenes[key];\n                    }\n                }\n            }\n        }\n        if (typeof nameOrScene === 'string') {\n            if (nameOrScene === this.currentSceneName) {\n                throw new Error(`Cannot remove a currently active scene: ${nameOrScene}`);\n            }\n            // remove scene\n            this._sceneToInstance.delete(nameOrScene);\n            this._sceneToTransition.delete(nameOrScene);\n            this._sceneToLoader.delete(nameOrScene);\n            delete this.scenes[nameOrScene];\n        }\n    }\n    /**\n     * Go to a specific scene, and optionally override loaders and transitions\n     * @param destinationScene\n     * @param options\n     */\n    async goToScene(destinationScene, options) {\n        var _a, _b, _c, _d, _e, _f;\n        const maybeDest = this.getSceneInstance(destinationScene);\n        if (!maybeDest) {\n            this._logger.warn(`Scene ${destinationScene} does not exist! Check the name, are you sure you added it?`);\n            return;\n        }\n        const sourceSceneInstance = this.currentScene;\n        const sourceScene = this.currentSceneName;\n        const engineInputEnabled = (_b = (_a = this._engine.input) === null || _a === void 0 ? void 0 : _a.enabled) !== null && _b !== void 0 ? _b : true;\n        this._isTransitioning = true;\n        const maybeSourceOut = (_c = this.getSceneInstance(sourceScene)) === null || _c === void 0 ? void 0 : _c.onTransition('out');\n        const maybeDestinationIn = maybeDest === null || maybeDest === void 0 ? void 0 : maybeDest.onTransition('in');\n        options = {\n            // Engine configuration then dynamic scene transitions\n            ...{ sourceOut: (_d = this._getOutTransition(this.currentSceneName)) !== null && _d !== void 0 ? _d : maybeSourceOut },\n            ...{ destinationIn: (_e = this._getInTransition(destinationScene)) !== null && _e !== void 0 ? _e : maybeDestinationIn },\n            // Goto options\n            ...options\n        };\n        const { sourceOut, destinationIn, sceneActivationData } = options;\n        const outTransition = sourceOut !== null && sourceOut !== void 0 ? sourceOut : this._getOutTransition(this.currentSceneName);\n        const inTransition = destinationIn !== null && destinationIn !== void 0 ? destinationIn : this._getInTransition(destinationScene);\n        const hideLoader = (outTransition === null || outTransition === void 0 ? void 0 : outTransition.hideLoader) || (inTransition === null || inTransition === void 0 ? void 0 : inTransition.hideLoader);\n        if (hideLoader) {\n            // Start hidden loader early and take advantage of the transition\n            // Don't await and block on a hidden loader\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.maybeLoadScene(destinationScene, hideLoader);\n        }\n        this._emitEvent('navigationstart', sourceScene, destinationScene);\n        // Run the out transition on the current scene if present\n        if (outTransition) {\n            await this.playTransition(outTransition, sourceSceneInstance);\n        }\n        // Run the loader if present\n        await this.maybeLoadScene(destinationScene, hideLoader);\n        // Give incoming transition a chance to grab info from previous\n        if (inTransition) {\n            await inTransition.onPreviousSceneDeactivate(this.currentScene);\n        }\n        // Setup the in transition on the destination scene if present\n        // this is important to it can be initialized with the\n        if (inTransition) {\n            inTransition._addToTargetScene(this._engine, maybeDest);\n        }\n        // Swap to the new scene\n        // Runs scene lifecycle init and activate\n        await this.swapScene(destinationScene, sceneActivationData);\n        this._emitEvent('navigation', sourceScene, destinationScene);\n        // Run the in transition on the new scene if present\n        if (inTransition) {\n            await this.playTransition(inTransition, maybeDest);\n        }\n        this._emitEvent('navigationend', sourceScene, destinationScene);\n        (_f = this._engine.input) === null || _f === void 0 ? void 0 : _f.toggleEnabled(engineInputEnabled);\n        this._isTransitioning = false;\n    }\n    /**\n     * Retrieves a scene instance by key if it's registered.\n     *\n     * This will call any constructors that were given as a definition\n     * @param scene\n     */\n    getSceneInstance(scene) {\n        const sceneDefinition = this.getSceneDefinition(scene);\n        if (!sceneDefinition) {\n            return undefined;\n        }\n        if (this._sceneToInstance.has(scene)) {\n            return this._sceneToInstance.get(scene);\n        }\n        if (sceneDefinition instanceof Scene) {\n            this._sceneToInstance.set(scene, sceneDefinition);\n            return sceneDefinition;\n        }\n        const newScene = new sceneDefinition();\n        this._sceneToInstance.set(scene, newScene);\n        return newScene;\n    }\n    /**\n     * Triggers scene loading if has not already been loaded\n     * @param scene\n     * @param hideLoader\n     */\n    async maybeLoadScene(scene, hideLoader = false) {\n        var _a;\n        const loader = (_a = this._getLoader(scene)) !== null && _a !== void 0 ? _a : new DefaultLoader();\n        const sceneToLoad = this.getSceneDefinition(scene);\n        const sceneToLoadInstance = this.getSceneInstance(scene);\n        if (sceneToLoad && sceneToLoadInstance && !this._loadedScenes.has(sceneToLoadInstance)) {\n            sceneToLoadInstance.onPreLoad(loader);\n            sceneToLoadInstance.events.emit('preload', { loader });\n            if (hideLoader) {\n                // Don't await a hidden loader\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                this._engine.load(loader, hideLoader);\n            }\n            else {\n                await this._engine.load(loader);\n            }\n            this._loadedScenes.add(sceneToLoadInstance);\n        }\n    }\n    /**\n     * Plays a transition in the current scene and does book keeping for input.\n     * @param transition\n     */\n    async playTransition(transition, targetScene) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (!this.isInitialized) {\n            this._deferredTransition = transition;\n            return;\n        }\n        if (transition) {\n            this.currentTransition = transition;\n            const sceneInputEnabled = (_b = (_a = targetScene.input) === null || _a === void 0 ? void 0 : _a.enabled) !== null && _b !== void 0 ? _b : true;\n            (_c = targetScene.input) === null || _c === void 0 ? void 0 : _c.toggleEnabled(!transition.blockInput);\n            (_d = this._engine.input) === null || _d === void 0 ? void 0 : _d.toggleEnabled(!transition.blockInput);\n            this.currentTransition._addToTargetScene(this._engine, targetScene);\n            await this.currentTransition._play();\n            (_e = targetScene.input) === null || _e === void 0 ? void 0 : _e.toggleEnabled(sceneInputEnabled);\n        }\n        (_f = this.currentTransition) === null || _f === void 0 ? void 0 : _f.kill();\n        (_g = this.currentTransition) === null || _g === void 0 ? void 0 : _g.reset();\n        this.currentTransition = undefined;\n    }\n    /**\n     * Swaps the current and destination scene after performing required lifecycle events\n     * @param destinationScene\n     * @param data\n     */\n    async swapScene(destinationScene, data) {\n        const engine = this._engine;\n        // if not yet initialized defer goToScene\n        if (!this.isInitialized) {\n            this._deferredGoto = destinationScene;\n            return;\n        }\n        const maybeDest = this.getSceneInstance(destinationScene);\n        if (maybeDest) {\n            const previousScene = this.currentScene;\n            const nextScene = maybeDest;\n            this._logger.debug('Going to scene:', destinationScene);\n            // only deactivate when initialized\n            if (this.currentScene.isInitialized) {\n                const context = { engine, previousScene, nextScene };\n                await this.currentScene._deactivate(context);\n                this.currentScene.events.emit('deactivate', new DeactivateEvent(context, this.currentScene));\n                this.currentScene.input.clear();\n            }\n            // wait for the scene to be loaded if needed\n            const destLoader = this._sceneToLoader.get(destinationScene);\n            await (destLoader === null || destLoader === void 0 ? void 0 : destLoader.areResourcesLoaded());\n            // set current scene to new one\n            this.currentScene = nextScene;\n            this.currentSceneName = destinationScene;\n            engine.screen.setCurrentCamera(nextScene.camera);\n            // initialize the current scene if has not been already\n            await this.currentScene._initialize(engine);\n            const context = { engine, previousScene, nextScene, data };\n            await this.currentScene._activate(context);\n            this.currentScene.events.emit('activate', new ActivateEvent(context, this.currentScene));\n        }\n        else {\n            this._logger.error('Scene', destinationScene, 'does not exist!');\n        }\n    }\n    _emitEvent(eventName, sourceScene, destinationScene) {\n        const source = this.getSceneDefinition(sourceScene);\n        const dest = this.getSceneDefinition(destinationScene);\n        this.events.emit(eventName, {\n            sourceScene: source,\n            sourceName: sourceScene,\n            destinationScene: dest,\n            destinationName: destinationScene\n        });\n    }\n}\n\n;// ./Context.ts\n/**\n * Creates a injectable context that can be retrieved later with `useContext(context)`\n *\n * Example\n * ```typescript\n *\n * const AppContext = createContext({some: 'value'});\n * context.scope(val, () => {\n *    const value = useContext(AppContext);\n * })\n *\n * ```\n */\nfunction createContext() {\n    const ctx = {\n        scope: (value, cb) => {\n            const old = ctx.value;\n            ctx.value = value;\n            try {\n                return cb();\n            }\n            catch (e) {\n                throw e;\n            }\n            finally {\n                ctx.value = old;\n            }\n        },\n        value: undefined\n    };\n    return ctx;\n}\n/**\n * Retrieves the value from the current context\n */\nfunction useContext(context) {\n    return context.value;\n}\n\n;// ./GarbageCollector.ts\nconst DefaultGarbageCollectionOptions = {\n    textureCollectInterval: 60000\n    // TODO future work to integrate the font and text configuration, refactor existing collection mechanism\n    // fontCollectInterval: 60_000,\n    // textMeasurementCollectInterval: 60_000,\n};\nclass GarbageCollector {\n    constructor(options) {\n        this.options = options;\n        this._running = false;\n        this._collectionMap = new Map();\n        this._collectors = new Map();\n        /**\n         * Runs the collection loop to cleanup any stale resources given the registered collect handlers\n         */\n        this.collectStaleResources = (deadline) => {\n            if (!this._running) {\n                return;\n            }\n            for (const [type, [collector, timeoutInterval]] of this._collectors.entries()) {\n                const now = this.options.getTimestamp();\n                for (const [resource, [resourceType, time]] of this._collectionMap.entries()) {\n                    if (type !== resourceType || time + timeoutInterval >= now) {\n                        continue;\n                    }\n                    const collected = collector(resource);\n                    if (collected) {\n                        this._collectionMap.delete(resource);\n                    }\n                }\n            }\n            this._collectHandle = requestIdleCallback(this.collectStaleResources);\n        };\n    }\n    /**\n     *\n     * @param type Resource type\n     * @param timeoutInterval If resource type exceeds interval in milliseconds collect() is called\n     * @param collect Collection implementation, returns true if collected\n     */\n    registerCollector(type, timeoutInterval, collect) {\n        this._collectors.set(type, [collect, timeoutInterval]);\n    }\n    /**\n     * Add a resource to be tracked for collection\n     * @param type\n     * @param resource\n     */\n    addCollectableResource(type, resource) {\n        this._collectionMap.set(resource, [type, this.options.getTimestamp()]);\n    }\n    /**\n     * Update the resource last used timestamp preventing collection\n     * @param resource\n     */\n    touch(resource) {\n        const collectionData = this._collectionMap.get(resource);\n        if (collectionData) {\n            this._collectionMap.set(resource, [collectionData[0], this.options.getTimestamp()]);\n        }\n    }\n    /**\n     * Force collect all resources, useful for shutting down a game\n     * or if you know that you will not use anything you've allocated before now\n     */\n    forceCollectAll() {\n        for (const [_, [collector]] of this._collectors.entries()) {\n            for (const [resource] of this._collectionMap.entries()) {\n                const collected = collector(resource);\n                if (collected) {\n                    this._collectionMap.delete(resource);\n                }\n            }\n        }\n    }\n    /**\n     * Starts the garbage collection loop\n     */\n    start() {\n        this._running = true;\n        this.collectStaleResources();\n    }\n    /**\n     * Stops the garbage collection loop\n     */\n    stop() {\n        this._running = false;\n        cancelIdleCallback(this._collectHandle);\n    }\n}\n\n;// ./Engine.ts\n\n\n\n\n\n\npolyfill();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst EngineEvents = {\n    FallbackGraphicsContext: 'fallbackgraphicscontext',\n    Initialize: 'initialize',\n    Visible: 'visible',\n    Hidden: 'hidden',\n    Start: 'start',\n    Stop: 'stop',\n    PreUpdate: 'preupdate',\n    PostUpdate: 'postupdate',\n    PreFrame: 'preframe',\n    PostFrame: 'postframe',\n    PreDraw: 'predraw',\n    PostDraw: 'postdraw'\n};\n/**\n * Enum representing the different mousewheel event bubble prevention\n */\nvar ScrollPreventionMode;\n(function (ScrollPreventionMode) {\n    /**\n     * Do not prevent any page scrolling\n     */\n    ScrollPreventionMode[ScrollPreventionMode[\"None\"] = 0] = \"None\";\n    /**\n     * Prevent page scroll if mouse is over the game canvas\n     */\n    ScrollPreventionMode[ScrollPreventionMode[\"Canvas\"] = 1] = \"Canvas\";\n    /**\n     * Prevent all page scrolling via mouse wheel\n     */\n    ScrollPreventionMode[ScrollPreventionMode[\"All\"] = 2] = \"All\";\n})(ScrollPreventionMode || (ScrollPreventionMode = {}));\n/**\n * The Excalibur Engine\n *\n * The {@apilink Engine} is the main driver for a game. It is responsible for\n * starting/stopping the game, maintaining state, transmitting events,\n * loading resources, and managing the scene.\n */\nclass Engine {\n    static useEngine() {\n        const value = useContext(Engine.Context);\n        if (!value) {\n            throw new Error('Cannot inject engine with `useEngine()`, `useEngine()` was called outside of Engine lifecycle scope.');\n        }\n        return value;\n    }\n    /**\n     * The width of the game canvas in pixels (physical width component of the\n     * resolution of the canvas element)\n     */\n    get canvasWidth() {\n        return this.screen.canvasWidth;\n    }\n    /**\n     * Returns half width of the game canvas in pixels (half physical width component)\n     */\n    get halfCanvasWidth() {\n        return this.screen.halfCanvasWidth;\n    }\n    /**\n     * The height of the game canvas in pixels, (physical height component of\n     * the resolution of the canvas element)\n     */\n    get canvasHeight() {\n        return this.screen.canvasHeight;\n    }\n    /**\n     * Returns half height of the game canvas in pixels (half physical height component)\n     */\n    get halfCanvasHeight() {\n        return this.screen.halfCanvasHeight;\n    }\n    /**\n     * Returns the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawWidth() {\n        return this.screen.drawWidth;\n    }\n    /**\n     * Returns half the width of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawWidth() {\n        return this.screen.halfDrawWidth;\n    }\n    /**\n     * Returns the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get drawHeight() {\n        return this.screen.drawHeight;\n    }\n    /**\n     * Returns half the height of the engine's visible drawing surface in pixels including zoom and device pixel ratio.\n     */\n    get halfDrawHeight() {\n        return this.screen.halfDrawHeight;\n    }\n    /**\n     * Returns whether excalibur detects the current screen to be HiDPI\n     */\n    get isHiDpi() {\n        return this.screen.isHiDpi;\n    }\n    /**\n     * Access {@apilink stats} that holds frame statistics.\n     */\n    get stats() {\n        return this.debug.stats;\n    }\n    /**\n     * The current {@apilink Scene} being drawn and updated on screen\n     */\n    get currentScene() {\n        return this.director.currentScene;\n    }\n    /**\n     * The current {@apilink Scene} being drawn and updated on screen\n     */\n    get currentSceneName() {\n        return this.director.currentSceneName;\n    }\n    /**\n     * The default {@apilink Scene} of the game, use {@apilink Engine.goToScene} to transition to different scenes.\n     */\n    get rootScene() {\n        return this.director.rootScene;\n    }\n    /**\n     * Contains all the scenes currently registered with Excalibur\n     */\n    get scenes() {\n        return this.director.scenes;\n    }\n    /**\n     * Indicates whether the engine is set to fullscreen or not\n     */\n    get isFullscreen() {\n        return this.screen.isFullScreen;\n    }\n    /**\n     * Indicates the current {@apilink DisplayMode} of the engine.\n     */\n    get displayMode() {\n        return this.screen.displayMode;\n    }\n    /**\n     * Returns the calculated pixel ration for use in rendering\n     */\n    get pixelRatio() {\n        return this.screen.pixelRatio;\n    }\n    get isDebug() {\n        return this._isDebug;\n    }\n    /**\n     * Hints the graphics context to truncate fractional world space coordinates\n     */\n    get snapToPixel() {\n        return this.graphicsContext.snapToPixel;\n    }\n    set snapToPixel(shouldSnapToPixel) {\n        this.graphicsContext.snapToPixel = shouldSnapToPixel;\n    }\n    emit(eventName, event) {\n        this.events.emit(eventName, event);\n    }\n    on(eventName, handler) {\n        return this.events.on(eventName, handler);\n    }\n    once(eventName, handler) {\n        return this.events.once(eventName, handler);\n    }\n    off(eventName, handler) {\n        this.events.off(eventName, handler);\n    }\n    /**\n     * Creates a new game using the given {@apilink EngineOptions}. By default, if no options are provided,\n     * the game will be rendered full screen (taking up all available browser window space).\n     * You can customize the game rendering through {@apilink EngineOptions}.\n     *\n     * Example:\n     *\n     * ```js\n     * var game = new ex.Engine({\n     *   width: 0, // the width of the canvas\n     *   height: 0, // the height of the canvas\n     *   enableCanvasTransparency: true, // the transparencySection of the canvas\n     *   canvasElementId: '', // the DOM canvas element ID, if you are providing your own\n     *   displayMode: ex.DisplayMode.FullScreen, // the display mode\n     *   pointerScope: ex.PointerScope.Document, // the scope of capturing pointer (mouse/touch) events\n     *   backgroundColor: ex.Color.fromHex('#2185d0') // background color of the engine\n     * });\n     *\n     * // call game.start, which is a Promise\n     * game.start().then(function () {\n     *   // ready, set, go!\n     * });\n     * ```\n     */\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        /**\n         * Anything run under scope can use `useEngine()` to inject the current engine\n         * @param cb\n         */\n        this.scope = (cb) => Engine.Context.scope(this, cb);\n        /**\n         * Current Excalibur version string\n         *\n         * Useful for plugins or other tools that need to know what features are available\n         */\n        this.version = EX_VERSION;\n        /**\n         * Listen to and emit events on the Engine\n         */\n        this.events = new EventEmitter();\n        /**\n         * Optionally set the maximum fps if not set Excalibur will go as fast as the device allows.\n         *\n         * You may want to constrain max fps if your game cannot maintain fps consistently, it can look and feel better to have a 30fps game than\n         * one that bounces between 30fps and 60fps\n         */\n        this.maxFps = Number.POSITIVE_INFINITY;\n        this._inputEnabled = true;\n        this._suppressPlayButton = false;\n        /**\n         * Indicates whether audio should be paused when the game is no longer visible.\n         */\n        this.pauseAudioWhenHidden = true;\n        /**\n         * Indicates whether the engine should draw with debug information\n         */\n        this._isDebug = false;\n        /**\n         * Sets the Transparency for the engine.\n         */\n        this.enableCanvasTransparency = true;\n        /**\n         * The action to take when a fatal exception is thrown\n         */\n        this.onFatalException = (e) => {\n            Logger.getInstance().fatal(e, e.stack);\n        };\n        this._toaster = new Toaster();\n        this._timescale = 1.0;\n        this._isInitialized = false;\n        this._originalOptions = {};\n        this._handleWebGLContextLost = (e) => {\n            var _a;\n            e.preventDefault();\n            this.clock.stop();\n            this._logger.fatalOnce('WebGL Graphics Lost', e);\n            const container = document.createElement('div');\n            container.id = 'ex-webgl-graphics-context-lost';\n            container.style.position = 'absolute';\n            container.style.zIndex = '99';\n            container.style.left = '50%';\n            container.style.top = '50%';\n            container.style.display = 'flex';\n            container.style.flexDirection = 'column';\n            container.style.transform = 'translate(-50%, -50%)';\n            container.style.backgroundColor = 'white';\n            container.style.padding = '10px';\n            container.style.borderStyle = 'solid 1px';\n            const div = document.createElement('div');\n            div.innerHTML = `\r\n      <h1>There was an issue rendering, please refresh the page.</h1>\r\n      <div>\r\n        <p>WebGL Graphics Context Lost</p>\r\n\r\n        <button id=\"ex-webgl-graphics-reload\">Refresh Page</button>\r\n\r\n        <p>There are a few reasons this might happen:</p>\r\n        <ul>\r\n          <li>Two or more pages are placing a high demand on the GPU</li>\r\n          <li>Another page or operation has stalled the GPU and the browser has decided to reset the GPU</li>\r\n          <li>The computer has multiple GPUs and the user has switched between them</li>\r\n          <li>Graphics driver has crashed or restarted</li>\r\n          <li>Graphics driver was updated</li>\r\n        </ul>\r\n      </div>\r\n    `;\n            container.appendChild(div);\n            if ((_a = this.canvas) === null || _a === void 0 ? void 0 : _a.parentElement) {\n                this.canvas.parentElement.appendChild(container);\n                const button = div.querySelector('#ex-webgl-graphics-reload');\n                button === null || button === void 0 ? void 0 : button.addEventListener('click', () => location.reload());\n            }\n        };\n        this._performanceThresholdTriggered = false;\n        this._fpsSamples = [];\n        this._disposed = false;\n        this._isLoading = false;\n        this._hideLoader = false;\n        this._isReadyFuture = new Future();\n        /**\n         * Returns the current frames elapsed milliseconds\n         */\n        this.currentFrameElapsedMs = 0;\n        /**\n         * Returns the current frame lag when in fixed update mode\n         */\n        this.currentFrameLagMs = 0;\n        this._lagMs = 0;\n        this._screenShotRequests = [];\n        options = { ...Engine._DEFAULT_ENGINE_OPTIONS, ...options };\n        this._originalOptions = options;\n        Flags.freeze();\n        // Initialize browser events facade\n        this.browser = new BrowserEvents(window, document);\n        // Check compatibility\n        const detector = new Detector();\n        if (!options.suppressMinimumBrowserFeatureDetection && !(this._compatible = detector.test())) {\n            const message = document.createElement('div');\n            message.innerText = 'Sorry, your browser does not support all the features needed for Excalibur';\n            document.body.appendChild(message);\n            detector.failedTests.forEach(function (test) {\n                const testMessage = document.createElement('div');\n                testMessage.innerText = 'Browser feature missing ' + test;\n                document.body.appendChild(testMessage);\n            });\n            if (options.canvasElementId) {\n                const canvas = document.getElementById(options.canvasElementId);\n                if (canvas) {\n                    canvas.parentElement.removeChild(canvas);\n                }\n            }\n            return;\n        }\n        else {\n            this._compatible = true;\n        }\n        // Use native console API for color fun\n        // eslint-disable-next-line no-console\n        if (console.log && !options.suppressConsoleBootMessage) {\n            // eslint-disable-next-line no-console\n            console.log(`%cPowered by Excalibur.js (v${EX_VERSION})`, 'background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;');\n            // eslint-disable-next-line no-console\n            console.log('\\n\\\r\n      /| ________________\\n\\\r\nO|===|* >________________>\\n\\\r\n      \\\\|');\n            // eslint-disable-next-line no-console\n            console.log('Visit', 'http://excaliburjs.com', 'for more information');\n        }\n        // Suppress play button\n        if (options.suppressPlayButton) {\n            this._suppressPlayButton = true;\n        }\n        this._logger = Logger.getInstance();\n        // If debug is enabled, let's log browser features to the console.\n        if (this._logger.defaultLevel === LogLevel.Debug) {\n            detector.logBrowserFeatures();\n        }\n        this._logger.debug('Building engine...');\n        if (options.garbageCollection === true) {\n            this.garbageCollectorConfig = {\n                ...DefaultGarbageCollectionOptions\n            };\n        }\n        else if (options.garbageCollection === false) {\n            this._logger.warn('WebGL Garbage Collection Disabled!!! If you leak any images over time your game will crash when GPU memory is exhausted');\n            this.garbageCollectorConfig = null;\n        }\n        else {\n            this.garbageCollectorConfig = {\n                ...DefaultGarbageCollectionOptions,\n                ...options.garbageCollection\n            };\n        }\n        this._garbageCollector = new GarbageCollector({ getTimestamp: Date.now });\n        this.canvasElementId = options.canvasElementId;\n        if (options.canvasElementId) {\n            this._logger.debug('Using Canvas element specified: ' + options.canvasElementId);\n            //test for existence of element\n            if (document.getElementById(options.canvasElementId) === null) {\n                throw new Error('Cannot find existing element in the DOM, please ensure element is created prior to engine creation.');\n            }\n            this.canvas = document.getElementById(options.canvasElementId);\n        }\n        else if (options.canvasElement) {\n            this._logger.debug('Using Canvas element specified:', options.canvasElement);\n            this.canvas = options.canvasElement;\n        }\n        else {\n            this._logger.debug('Using generated canvas element');\n            this.canvas = document.createElement('canvas');\n        }\n        if (this.canvas && !options.enableCanvasContextMenu) {\n            this.canvas.addEventListener('contextmenu', (evt) => {\n                evt.preventDefault();\n            });\n        }\n        let displayMode = (_a = options.displayMode) !== null && _a !== void 0 ? _a : DisplayMode.Fixed;\n        if ((options.width && options.height) || options.viewport) {\n            if (options.displayMode === undefined) {\n                displayMode = DisplayMode.Fixed;\n            }\n            this._logger.debug('Engine viewport is size ' + options.width + ' x ' + options.height);\n        }\n        else if (!options.displayMode) {\n            this._logger.debug('Engine viewport is fit');\n            displayMode = DisplayMode.FitScreen;\n        }\n        this.grabWindowFocus = options.grabWindowFocus;\n        this.pointerScope = options.pointerScope;\n        this._originalDisplayMode = displayMode;\n        let pixelArtSampler;\n        let uvPadding;\n        let nativeContextAntialiasing;\n        let canvasImageRendering;\n        let filtering;\n        let multiSampleAntialiasing;\n        if (typeof options.antialiasing === 'object') {\n            ({ pixelArtSampler, nativeContextAntialiasing, multiSampleAntialiasing, filtering, canvasImageRendering } = {\n                ...(options.pixelArt ? DefaultPixelArtOptions : DefaultAntialiasOptions),\n                ...options.antialiasing\n            });\n        }\n        else {\n            pixelArtSampler = !!options.pixelArt;\n            nativeContextAntialiasing = false;\n            multiSampleAntialiasing = options.antialiasing;\n            canvasImageRendering = options.antialiasing ? 'auto' : 'pixelated';\n            filtering = options.antialiasing ? ImageFiltering.Blended : ImageFiltering.Pixel;\n        }\n        if (nativeContextAntialiasing && multiSampleAntialiasing) {\n            this._logger.warnOnce(`Cannot use antialias setting nativeContextAntialiasing and multiSampleAntialiasing` +\n                ` at the same time, they are incompatible settings. If you aren\\'t sure use multiSampleAntialiasing`);\n        }\n        if (options.pixelArt) {\n            uvPadding = 0.25;\n        }\n        if (!options.antialiasing || filtering === ImageFiltering.Pixel) {\n            uvPadding = 0;\n        }\n        // Override with any user option, if non default to .25 for pixel art, 0.01 for everything else\n        uvPadding = (_c = (_b = options.uvPadding) !== null && _b !== void 0 ? _b : uvPadding) !== null && _c !== void 0 ? _c : 0.01;\n        // Canvas 2D fallback can be flagged on\n        let useCanvasGraphicsContext = Flags.isEnabled('use-canvas-context');\n        if (!useCanvasGraphicsContext) {\n            // Attempt webgl first\n            try {\n                this.graphicsContext = new ExcaliburGraphicsContextWebGL({\n                    canvasElement: this.canvas,\n                    enableTransparency: this.enableCanvasTransparency,\n                    pixelArtSampler: pixelArtSampler,\n                    antialiasing: nativeContextAntialiasing,\n                    multiSampleAntialiasing: multiSampleAntialiasing,\n                    uvPadding: uvPadding,\n                    powerPreference: options.powerPreference,\n                    backgroundColor: options.backgroundColor,\n                    snapToPixel: options.snapToPixel,\n                    useDrawSorting: options.useDrawSorting,\n                    garbageCollector: this.garbageCollectorConfig\n                        ? {\n                            garbageCollector: this._garbageCollector,\n                            collectionInterval: this.garbageCollectorConfig.textureCollectInterval\n                        }\n                        : null,\n                    handleContextLost: (_d = options.handleContextLost) !== null && _d !== void 0 ? _d : this._handleWebGLContextLost,\n                    handleContextRestored: options.handleContextRestored\n                });\n            }\n            catch (e) {\n                this._logger.warn(`Excalibur could not load webgl for some reason (${e.message}) and loaded a Canvas 2D fallback. ` +\n                    `Some features of Excalibur will not work in this mode. \\n\\n` +\n                    'Read more about this issue at https://excaliburjs.com/docs/performance');\n                // fallback to canvas in case of failure\n                useCanvasGraphicsContext = true;\n            }\n        }\n        if (useCanvasGraphicsContext) {\n            this.graphicsContext = new ExcaliburGraphicsContext2DCanvas({\n                canvasElement: this.canvas,\n                enableTransparency: this.enableCanvasTransparency,\n                antialiasing: nativeContextAntialiasing,\n                backgroundColor: options.backgroundColor,\n                snapToPixel: options.snapToPixel,\n                useDrawSorting: options.useDrawSorting\n            });\n        }\n        this.screen = new Screen({\n            canvas: this.canvas,\n            context: this.graphicsContext,\n            antialiasing: nativeContextAntialiasing,\n            canvasImageRendering: canvasImageRendering,\n            browser: this.browser,\n            viewport: (_e = options.viewport) !== null && _e !== void 0 ? _e : (options.width && options.height ? { width: options.width, height: options.height } : Resolution.SVGA),\n            resolution: options.resolution,\n            displayMode,\n            pixelRatio: options.suppressHiDPIScaling ? 1 : (_f = options.pixelRatio) !== null && _f !== void 0 ? _f : null\n        });\n        // TODO REMOVE STATIC!!!\n        // Set default filtering based on antialiasing\n        TextureLoader.filtering = filtering;\n        if (options.backgroundColor) {\n            this.backgroundColor = options.backgroundColor.clone();\n        }\n        this.maxFps = (_g = options.maxFps) !== null && _g !== void 0 ? _g : this.maxFps;\n        this.fixedUpdateTimestep = (_h = options.fixedUpdateTimestep) !== null && _h !== void 0 ? _h : this.fixedUpdateTimestep;\n        this.fixedUpdateFps = (_j = options.fixedUpdateFps) !== null && _j !== void 0 ? _j : this.fixedUpdateFps;\n        this.fixedUpdateTimestep = this.fixedUpdateTimestep || 1000 / this.fixedUpdateFps;\n        this.clock = new StandardClock({\n            maxFps: this.maxFps,\n            tick: this._mainloop.bind(this),\n            onFatalException: (e) => this.onFatalException(e)\n        });\n        this.enableCanvasTransparency = options.enableCanvasTransparency;\n        if (typeof options.physics === 'boolean') {\n            this.physics = {\n                ...getDefaultPhysicsConfig(),\n                enabled: options.physics\n            };\n        }\n        else {\n            this.physics = {\n                ...getDefaultPhysicsConfig()\n            };\n            mergeDeep(this.physics, options.physics);\n        }\n        this.debug = new DebugConfig(this);\n        this.director = new Director(this, options.scenes);\n        this._initialize(options);\n        window.___EXCALIBUR_DEVTOOL = this;\n        Engine.InstanceCount++;\n    }\n    _monitorPerformanceThresholdAndTriggerFallback() {\n        const { allow } = this._originalOptions.configurePerformanceCanvas2DFallback;\n        let { threshold, showPlayerMessage } = this._originalOptions.configurePerformanceCanvas2DFallback;\n        if (threshold === undefined) {\n            threshold = Engine._DEFAULT_ENGINE_OPTIONS.configurePerformanceCanvas2DFallback.threshold;\n        }\n        if (showPlayerMessage === undefined) {\n            showPlayerMessage = Engine._DEFAULT_ENGINE_OPTIONS.configurePerformanceCanvas2DFallback.showPlayerMessage;\n        }\n        if (!Flags.isEnabled('use-canvas-context') && allow && this.ready && !this._performanceThresholdTriggered) {\n            // Calculate Average fps for last X number of frames after start\n            if (this._fpsSamples.length === threshold.numberOfFrames) {\n                this._fpsSamples.splice(0, 1);\n            }\n            this._fpsSamples.push(this.clock.fpsSampler.fps);\n            let total = 0;\n            for (let i = 0; i < this._fpsSamples.length; i++) {\n                total += this._fpsSamples[i];\n            }\n            const average = total / this._fpsSamples.length;\n            if (this._fpsSamples.length === threshold.numberOfFrames) {\n                if (average <= threshold.fps) {\n                    this._performanceThresholdTriggered = true;\n                    this._logger.warn(`Switching to browser 2D Canvas fallback due to performance. Some features of Excalibur will not work in this mode.\\n` +\n                        \"this might mean your browser doesn't have webgl enabled or hardware acceleration is unavailable.\\n\\n\" +\n                        'If in Chrome:\\n' +\n                        '  * Visit Settings > Advanced > System, and ensure \"Use Hardware Acceleration\" is checked.\\n' +\n                        '  * Visit chrome://flags/#ignore-gpu-blocklist and ensure \"Override software rendering list\" is \"enabled\"\\n' +\n                        'If in Firefox, visit about:config\\n' +\n                        '  * Ensure webgl.disabled = false\\n' +\n                        '  * Ensure webgl.force-enabled = true\\n' +\n                        '  * Ensure layers.acceleration.force-enabled = true\\n\\n' +\n                        'Read more about this issue at https://excaliburjs.com/docs/performance');\n                    if (showPlayerMessage) {\n                        this._toaster.toast('Excalibur is encountering performance issues. ' +\n                            \"It's possible that your browser doesn't have hardware acceleration enabled. \" +\n                            'Visit [LINK] for more information and potential solutions.', 'https://excaliburjs.com/docs/performance');\n                    }\n                    this.useCanvas2DFallback();\n                    this.emit('fallbackgraphicscontext', this.graphicsContext);\n                }\n            }\n        }\n    }\n    /**\n     * Switches the engine's graphics context to the 2D Canvas.\n     * @warning Some features of Excalibur will not work in this mode.\n     */\n    useCanvas2DFallback() {\n        var _a, _b, _c;\n        // Swap out the canvas\n        const newCanvas = this.canvas.cloneNode(false);\n        this.canvas.parentNode.replaceChild(newCanvas, this.canvas);\n        this.canvas = newCanvas;\n        const options = { ...this._originalOptions, antialiasing: this.screen.antialiasing };\n        const displayMode = this._originalDisplayMode;\n        // New graphics context\n        this.graphicsContext = new ExcaliburGraphicsContext2DCanvas({\n            canvasElement: this.canvas,\n            enableTransparency: this.enableCanvasTransparency,\n            antialiasing: options.antialiasing,\n            backgroundColor: options.backgroundColor,\n            snapToPixel: options.snapToPixel,\n            useDrawSorting: options.useDrawSorting\n        });\n        // Reset screen\n        if (this.screen) {\n            this.screen.dispose();\n        }\n        this.screen = new Screen({\n            canvas: this.canvas,\n            context: this.graphicsContext,\n            antialiasing: (_a = options.antialiasing) !== null && _a !== void 0 ? _a : true,\n            browser: this.browser,\n            viewport: (_b = options.viewport) !== null && _b !== void 0 ? _b : (options.width && options.height ? { width: options.width, height: options.height } : Resolution.SVGA),\n            resolution: options.resolution,\n            displayMode,\n            pixelRatio: options.suppressHiDPIScaling ? 1 : (_c = options.pixelRatio) !== null && _c !== void 0 ? _c : null\n        });\n        this.screen.setCurrentCamera(this.currentScene.camera);\n        // Reset pointers\n        this.input.pointers.detach();\n        const pointerTarget = options && options.pointerScope === PointerScope.Document ? document : this.canvas;\n        this.input.pointers = this.input.pointers.recreate(pointerTarget, this);\n        this.input.pointers.init();\n    }\n    /**\n     * Attempts to completely clean up excalibur resources, including removing the canvas from the dom.\n     *\n     * To start again you will need to new up an Engine.\n     */\n    dispose() {\n        if (!this._disposed) {\n            this._disposed = true;\n            this.stop();\n            this._garbageCollector.forceCollectAll();\n            this.input.toggleEnabled(false);\n            this.canvas.parentNode.removeChild(this.canvas);\n            this.canvas = null;\n            this.screen.dispose();\n            this.graphicsContext.dispose();\n            this.graphicsContext = null;\n            Engine.InstanceCount--;\n        }\n    }\n    isDisposed() {\n        return this._disposed;\n    }\n    /**\n     * Returns a BoundingBox of the top left corner of the screen\n     * and the bottom right corner of the screen.\n     */\n    getWorldBounds() {\n        return this.screen.getWorldBounds();\n    }\n    /**\n     * Gets the current engine timescale factor (default is 1.0 which is 1:1 time)\n     */\n    get timescale() {\n        return this._timescale;\n    }\n    /**\n     * Sets the current engine timescale factor. Useful for creating slow-motion effects or fast-forward effects\n     * when using time-based movement.\n     */\n    set timescale(value) {\n        if (value < 0) {\n            Logger.getInstance().warnOnce('engine.timescale to a value less than 0 are ignored');\n            return;\n        }\n        this._timescale = value;\n    }\n    /**\n     * Adds a {@apilink Timer} to the {@apilink currentScene}.\n     * @param timer  The timer to add to the {@apilink currentScene}.\n     */\n    addTimer(timer) {\n        return this.currentScene.addTimer(timer);\n    }\n    /**\n     * Removes a {@apilink Timer} from the {@apilink currentScene}.\n     * @param timer  The timer to remove to the {@apilink currentScene}.\n     */\n    removeTimer(timer) {\n        return this.currentScene.removeTimer(timer);\n    }\n    /**\n     * Adds a {@apilink Scene} to the engine, think of scenes in Excalibur as you\n     * would levels or menus.\n     * @param key  The name of the scene, must be unique\n     * @param scene The scene to add to the engine\n     */\n    addScene(key, scene) {\n        this.director.add(key, scene);\n        return this;\n    }\n    /**\n     * @internal\n     */\n    removeScene(entity) {\n        this.director.remove(entity);\n    }\n    add(entity) {\n        if (arguments.length === 2) {\n            this.director.add(arguments[0], arguments[1]);\n            return;\n        }\n        const maybeDeferred = this.director.getDeferredScene();\n        if (maybeDeferred instanceof Scene) {\n            maybeDeferred.add(entity);\n        }\n        else {\n            this.currentScene.add(entity);\n        }\n    }\n    remove(entity) {\n        if (entity instanceof Entity) {\n            this.currentScene.remove(entity);\n        }\n        if (entity instanceof Scene || isSceneConstructor(entity)) {\n            this.removeScene(entity);\n        }\n        if (typeof entity === 'string') {\n            this.removeScene(entity);\n        }\n    }\n    /**\n     * Changes the current scene with optionally supplied:\n     * * Activation data\n     * * Transitions\n     * * Loaders\n     *\n     * Example:\n     * ```typescript\n     * game.goToScene('myScene', {\n     *   sceneActivationData: {any: 'thing at all'},\n     *   destinationIn: new FadeInOut({duration: 1000, direction: 'in'}),\n     *   sourceOut: new FadeInOut({duration: 1000, direction: 'out'}),\n     *   loader: MyLoader\n     * });\n     * ```\n     *\n     * Scenes are defined in the Engine constructor\n     * ```typescript\n     * const engine = new ex.Engine({\n        scenes: {...}\n      });\n     * ```\n     * Or by adding dynamically\n     *\n     * ```typescript\n     * engine.addScene('myScene', new ex.Scene());\n     * ```\n     * @param destinationScene\n     * @param options\n     */\n    async goToScene(destinationScene, options) {\n        await this.scope(async () => {\n            await this.director.goToScene(destinationScene, options);\n        });\n    }\n    /**\n     * Transforms the current x, y from screen coordinates to world coordinates\n     * @param point  Screen coordinate to convert\n     */\n    screenToWorldCoordinates(point) {\n        return this.screen.screenToWorldCoordinates(point);\n    }\n    /**\n     * Transforms a world coordinate, to a screen coordinate\n     * @param point  World coordinate to convert\n     */\n    worldToScreenCoordinates(point) {\n        return this.screen.worldToScreenCoordinates(point);\n    }\n    /**\n     * Initializes the internal canvas, rendering context, display mode, and native event listeners\n     */\n    _initialize(options) {\n        var _a, _b;\n        this.pageScrollPreventionMode = options.scrollPreventionMode;\n        // initialize inputs\n        const pointerTarget = options && options.pointerScope === PointerScope.Document ? document : this.canvas;\n        const grabWindowFocus = (_b = (_a = this._originalOptions) === null || _a === void 0 ? void 0 : _a.grabWindowFocus) !== null && _b !== void 0 ? _b : true;\n        this.input = new InputHost({\n            pointerTarget,\n            grabWindowFocus,\n            engine: this\n        });\n        this.inputMapper = this.input.inputMapper;\n        // Issue #385 make use of the visibility api\n        // https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API\n        this.browser.document.on('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                this.events.emit('hidden', new HiddenEvent(this));\n                this._logger.debug('Window hidden');\n            }\n            else if (document.visibilityState === 'visible') {\n                this.events.emit('visible', new VisibleEvent(this));\n                this._logger.debug('Window visible');\n            }\n        });\n        if (!this.canvasElementId && !options.canvasElement) {\n            document.body.appendChild(this.canvas);\n        }\n    }\n    toggleInputEnabled(enabled) {\n        this._inputEnabled = enabled;\n        this.input.toggleEnabled(this._inputEnabled);\n    }\n    onInitialize(engine) {\n        // Override me\n    }\n    /**\n     * Gets whether the actor is Initialized\n     */\n    get isInitialized() {\n        return this._isInitialized;\n    }\n    async _overrideInitialize(engine) {\n        if (!this.isInitialized) {\n            await this.director.onInitialize();\n            await this.onInitialize(engine);\n            this.events.emit('initialize', new InitializeEvent(engine, this));\n            this._isInitialized = true;\n        }\n    }\n    /**\n     * Updates the entire state of the game\n     * @param elapsed  Number of milliseconds elapsed since the last update.\n     */\n    _update(elapsed) {\n        var _a;\n        if (this._isLoading) {\n            // suspend updates until loading is finished\n            (_a = this._loader) === null || _a === void 0 ? void 0 : _a.onUpdate(this, elapsed);\n            // Update input listeners\n            this.input.update();\n            return;\n        }\n        // Publish preupdate events\n        this.clock.__runScheduledCbs('preupdate');\n        this._preupdate(elapsed);\n        // process engine level events\n        this.currentScene.update(this, elapsed);\n        // Update graphics postprocessors\n        this.graphicsContext.updatePostProcessors(elapsed);\n        // Publish update event\n        this.clock.__runScheduledCbs('postupdate');\n        this._postupdate(elapsed);\n        // Update input listeners\n        this.input.update();\n    }\n    /**\n     * @internal\n     */\n    _preupdate(elapsed) {\n        this.emit('preupdate', new PreUpdateEvent(this, elapsed, this));\n        this.onPreUpdate(this, elapsed);\n    }\n    /**\n     * Safe to override method\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     */\n    onPreUpdate(engine, elapsed) {\n        // Override me\n    }\n    /**\n     * @internal\n     */\n    _postupdate(elapsed) {\n        this.emit('postupdate', new PostUpdateEvent(this, elapsed, this));\n        this.onPostUpdate(this, elapsed);\n    }\n    /**\n     * Safe to override method\n     * @param engine The reference to the current game engine\n     * @param elapsed  The time elapsed since the last update in milliseconds\n     */\n    onPostUpdate(engine, elapsed) {\n        // Override me\n    }\n    /**\n     * Draws the entire game\n     * @param elapsed  Number of milliseconds elapsed since the last draw.\n     */\n    _draw(elapsed) {\n        var _a, _b;\n        // Use scene background color if present, fallback to engine\n        this.graphicsContext.backgroundColor = (_a = this.currentScene.backgroundColor) !== null && _a !== void 0 ? _a : this.backgroundColor;\n        this.graphicsContext.beginDrawLifecycle();\n        this.graphicsContext.clear();\n        this.clock.__runScheduledCbs('predraw');\n        this._predraw(this.graphicsContext, elapsed);\n        // Drawing nothing else while loading\n        if (this._isLoading) {\n            if (!this._hideLoader) {\n                (_b = this._loader) === null || _b === void 0 ? void 0 : _b.canvas.draw(this.graphicsContext, 0, 0);\n                this.clock.__runScheduledCbs('postdraw');\n                this.graphicsContext.flush();\n                this.graphicsContext.endDrawLifecycle();\n            }\n            return;\n        }\n        this.currentScene.draw(this.graphicsContext, elapsed);\n        this.clock.__runScheduledCbs('postdraw');\n        this._postdraw(this.graphicsContext, elapsed);\n        // Flush any pending drawings\n        this.graphicsContext.flush();\n        this.graphicsContext.endDrawLifecycle();\n        this._checkForScreenShots();\n    }\n    /**\n     * @internal\n     */\n    _predraw(ctx, elapsed) {\n        this.emit('predraw', new PreDrawEvent(ctx, elapsed, this));\n        this.onPreDraw(ctx, elapsed);\n    }\n    /**\n     * Safe to override method to hook into pre draw\n     * @param ctx {@link ExcaliburGraphicsContext} for drawing\n     * @param elapsed  Number of milliseconds elapsed since the last draw.\n     */\n    onPreDraw(ctx, elapsed) {\n        // Override me\n    }\n    /**\n     * @internal\n     */\n    _postdraw(ctx, elapsed) {\n        this.emit('postdraw', new PostDrawEvent(ctx, elapsed, this));\n        this.onPostDraw(ctx, elapsed);\n    }\n    /**\n     * Safe to override method to hook into pre draw\n     * @param ctx {@link ExcaliburGraphicsContext} for drawing\n     * @param elapsed  Number of milliseconds elapsed since the last draw.\n     */\n    onPostDraw(ctx, elapsed) {\n        // Override me\n    }\n    /**\n     * Enable or disable Excalibur debugging functionality.\n     * @param toggle a value that debug drawing will be changed to\n     */\n    showDebug(toggle) {\n        this._isDebug = toggle;\n    }\n    /**\n     * Toggle Excalibur debugging functionality.\n     */\n    toggleDebug() {\n        this._isDebug = !this._isDebug;\n        return this._isDebug;\n    }\n    /**\n     * Returns true when loading is totally complete and the player has clicked start\n     */\n    get loadingComplete() {\n        return !this._isLoading;\n    }\n    get ready() {\n        return this._isReadyFuture.isCompleted;\n    }\n    isReady() {\n        return this._isReadyFuture.promise;\n    }\n    async start(sceneNameOrLoader, options) {\n        await this.scope(async () => {\n            if (!this._compatible) {\n                throw new Error('Excalibur is incompatible with your browser');\n            }\n            this._isLoading = true;\n            let loader;\n            if (sceneNameOrLoader instanceof DefaultLoader) {\n                loader = sceneNameOrLoader;\n            }\n            else if (typeof sceneNameOrLoader === 'string') {\n                this.director.configureStart(sceneNameOrLoader, options);\n                loader = this.director.mainLoader;\n            }\n            // Start the excalibur clock which drives the mainloop\n            this._logger.debug('Starting game clock...');\n            this.browser.resume();\n            this.clock.start();\n            if (this.garbageCollectorConfig) {\n                this._garbageCollector.start();\n            }\n            this._logger.debug('Game clock started');\n            await this.load(loader !== null && loader !== void 0 ? loader : new Loader());\n            // Initialize before ready\n            await this._overrideInitialize(this);\n            this._isReadyFuture.resolve();\n            this.emit('start', new GameStartEvent(this));\n            return this._isReadyFuture.promise;\n        });\n    }\n    _mainloop(elapsed) {\n        this.scope(() => {\n            this.emit('preframe', new PreFrameEvent(this, this.stats.prevFrame));\n            const elapsedMs = elapsed * this.timescale;\n            this.currentFrameElapsedMs = elapsedMs;\n            // reset frame stats (reuse existing instances)\n            const frameId = this.stats.prevFrame.id + 1;\n            this.stats.currFrame.reset();\n            this.stats.currFrame.id = frameId;\n            this.stats.currFrame.elapsedMs = elapsedMs;\n            this.stats.currFrame.fps = this.clock.fpsSampler.fps;\n            GraphicsDiagnostics.clear();\n            const beforeUpdate = this.clock.now();\n            const fixedTimestepMs = this.fixedUpdateTimestep;\n            if (this.fixedUpdateTimestep) {\n                this._lagMs += elapsedMs;\n                while (this._lagMs >= fixedTimestepMs) {\n                    this._update(fixedTimestepMs);\n                    this._lagMs -= fixedTimestepMs;\n                }\n            }\n            else {\n                this._update(elapsedMs);\n            }\n            const afterUpdate = this.clock.now();\n            this.currentFrameLagMs = this._lagMs;\n            this._draw(elapsedMs);\n            const afterDraw = this.clock.now();\n            this.stats.currFrame.duration.update = afterUpdate - beforeUpdate;\n            this.stats.currFrame.duration.draw = afterDraw - afterUpdate;\n            this.stats.currFrame.graphics.drawnImages = GraphicsDiagnostics.DrawnImagesCount;\n            this.stats.currFrame.graphics.drawCalls = GraphicsDiagnostics.DrawCallCount;\n            this.emit('postframe', new PostFrameEvent(this, this.stats.currFrame));\n            this.stats.prevFrame.reset(this.stats.currFrame);\n            this._monitorPerformanceThresholdAndTriggerFallback();\n        });\n    }\n    /**\n     * Stops Excalibur's main loop, useful for pausing the game.\n     */\n    stop() {\n        if (this.clock.isRunning()) {\n            this.emit('stop', new GameStopEvent(this));\n            this.browser.pause();\n            this.clock.stop();\n            this._garbageCollector.stop();\n            this._logger.debug('Game stopped');\n        }\n    }\n    /**\n     * Returns the Engine's running status, Useful for checking whether engine is running or paused.\n     */\n    isRunning() {\n        return this.clock.isRunning();\n    }\n    /**\n     * Takes a screen shot of the current viewport and returns it as an\n     * HTML Image Element.\n     * @param preserveHiDPIResolution in the case of HiDPI return the full scaled backing image, by default false\n     */\n    screenshot(preserveHiDPIResolution = false) {\n        const screenShotPromise = new Promise((resolve) => {\n            this._screenShotRequests.push({ preserveHiDPIResolution, resolve });\n        });\n        return screenShotPromise;\n    }\n    _checkForScreenShots() {\n        // We must grab the draw buffer before we yield to the browser\n        // the draw buffer is cleared after compositing\n        // the reason for the asynchrony is setting `preserveDrawingBuffer: true`\n        // forces the browser to copy buffers which can have a mass perf impact on mobile\n        for (const request of this._screenShotRequests) {\n            const finalWidth = request.preserveHiDPIResolution ? this.canvas.width : this.screen.resolution.width;\n            const finalHeight = request.preserveHiDPIResolution ? this.canvas.height : this.screen.resolution.height;\n            const screenshot = document.createElement('canvas');\n            screenshot.width = finalWidth;\n            screenshot.height = finalHeight;\n            const ctx = screenshot.getContext('2d');\n            ctx.imageSmoothingEnabled = this.screen.antialiasing;\n            ctx.drawImage(this.canvas, 0, 0, finalWidth, finalHeight);\n            const result = new Image();\n            const raw = screenshot.toDataURL('image/png');\n            result.onload = () => {\n                request.resolve(result);\n            };\n            result.src = raw;\n        }\n        // Reset state\n        this._screenShotRequests.length = 0;\n    }\n    /**\n     * Another option available to you to load resources into the game.\n     * Immediately after calling this the game will pause and the loading screen\n     * will appear.\n     * @param loader  Some {@apilink Loadable} such as a {@apilink Loader} collection, {@apilink Sound}, or {@apilink Texture}.\n     */\n    async load(loader, hideLoader = false) {\n        await this.scope(async () => {\n            try {\n                // early exit if loaded\n                if (loader.isLoaded()) {\n                    return;\n                }\n                this._loader = loader;\n                this._isLoading = true;\n                this._hideLoader = hideLoader;\n                if (loader instanceof Loader) {\n                    loader.suppressPlayButton = loader.suppressPlayButton || this._suppressPlayButton;\n                }\n                this._loader.onInitialize(this);\n                await loader.load();\n            }\n            catch (e) {\n                this._logger.error('Error loading resources, things may not behave properly', e);\n                await Promise.resolve();\n            }\n            finally {\n                this._isLoading = false;\n                this._hideLoader = false;\n                this._loader = null;\n            }\n        });\n    }\n}\nEngine.Context = createContext();\nEngine.InstanceCount = 0;\n/**\n * Default {@apilink EngineOptions}\n */\nEngine._DEFAULT_ENGINE_OPTIONS = {\n    width: 0,\n    height: 0,\n    enableCanvasTransparency: true,\n    useDrawSorting: true,\n    configurePerformanceCanvas2DFallback: {\n        allow: false,\n        showPlayerMessage: false,\n        threshold: { fps: 20, numberOfFrames: 100 }\n    },\n    canvasElementId: '',\n    canvasElement: undefined,\n    enableCanvasContextMenu: false,\n    snapToPixel: false,\n    antialiasing: true,\n    pixelArt: false,\n    garbageCollection: true,\n    powerPreference: 'high-performance',\n    pointerScope: PointerScope.Canvas,\n    suppressConsoleBootMessage: null,\n    suppressMinimumBrowserFeatureDetection: null,\n    suppressHiDPIScaling: null,\n    suppressPlayButton: null,\n    grabWindowFocus: true,\n    scrollPreventionMode: ScrollPreventionMode.Canvas,\n    backgroundColor: Color.fromHex('#2185d0') // Excalibur blue\n};\n\n;// ./Math/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// ./Debug/index.ts\n\n\n\n\n;// ./Label.ts\n\n\n\n\n\n/**\n * Labels are the way to draw small amounts of text to the screen. They are\n * actors and inherit all of the benefits and capabilities.\n */\nclass Label extends Actor {\n    set maxWidth(width) {\n        this._text.maxWidth = width;\n    }\n    get maxWidth() {\n        return this._text.maxWidth;\n    }\n    get font() {\n        return this._font;\n    }\n    set font(newFont) {\n        this._font = newFont;\n        this._text.font = newFont;\n    }\n    /**\n     * The text to draw.\n     */\n    get text() {\n        return this._text.text;\n    }\n    set text(text) {\n        this._text.text = text;\n    }\n    get color() {\n        return this._text.color;\n    }\n    set color(color) {\n        if (this._text) {\n            this._text.color = color;\n        }\n    }\n    get opacity() {\n        return this.graphics.opacity;\n    }\n    set opacity(opacity) {\n        this.graphics.opacity = opacity;\n    }\n    /**\n     * The {@apilink SpriteFont} to use, if any. Overrides {@apilink Font | `font`} if present.\n     */\n    get spriteFont() {\n        return this._spriteFont;\n    }\n    set spriteFont(sf) {\n        if (sf) {\n            this._spriteFont = sf;\n            this._text.font = this._spriteFont;\n        }\n    }\n    /**\n     * Build a new label\n     * @param options\n     */\n    constructor(options) {\n        super(options);\n        this._font = new Font();\n        this._text = new Text({ text: '', font: this._font });\n        const { text, pos, x, y, spriteFont, font, color, maxWidth } = { text: '', ...options };\n        this.pos = pos !== null && pos !== void 0 ? pos : (x && y ? vec(x, y) : this.pos);\n        this.text = text !== null && text !== void 0 ? text : this.text;\n        this.font = font !== null && font !== void 0 ? font : this.font;\n        this.maxWidth = maxWidth !== null && maxWidth !== void 0 ? maxWidth : this.maxWidth;\n        this.spriteFont = spriteFont !== null && spriteFont !== void 0 ? spriteFont : this.spriteFont;\n        this._text.color = color !== null && color !== void 0 ? color : this.color;\n        const gfx = this.get(GraphicsComponent);\n        gfx.anchor = Vector.Zero;\n        gfx.use(this._text);\n    }\n    _initialize(engine) {\n        super._initialize(engine);\n    }\n    /**\n     * Returns the width of the text in the label (in pixels);\n     */\n    getTextWidth() {\n        return this._text.width;\n    }\n}\n\n;// ./Particles/EmitterType.ts\n/**\n * An enum that represents the types of emitter nozzles\n */\nvar EmitterType;\n(function (EmitterType) {\n    /**\n     * Constant for the circular emitter type\n     */\n    EmitterType[\"Circle\"] = \"circle\";\n    /**\n     * Constant for the rectangular emitter type\n     */\n    EmitterType[\"Rectangle\"] = \"rectangle\";\n})(EmitterType || (EmitterType = {}));\n\n;// ./Particles/ParticleEmitter.ts\n\n\n\n\n\n\n\n\n/**\n * Using a particle emitter is a great way to create interesting effects\n * in your game, like smoke, fire, water, explosions, etc. `ParticleEmitter`\n * extend {@apilink Actor} allowing you to use all of the features that come with.\n *\n * These particles are simulated on the CPU in JavaScript\n */\nclass ParticleEmitter extends Actor {\n    /**\n     * @param config particle emitter options bag\n     */\n    constructor(config) {\n        var _a, _b;\n        super({ width: (_a = config.width) !== null && _a !== void 0 ? _a : 0, height: (_b = config.height) !== null && _b !== void 0 ? _b : 0 });\n        this._particlesToEmit = 0;\n        this._particlePool = new RentalPool(() => new Particle({}), (p) => p, 500);\n        this.numParticles = 0;\n        /**\n         * Gets or sets the isEmitting flag\n         */\n        this.isEmitting = true;\n        /**\n         * Gets or sets the backing deadParticle collection\n         */\n        this.deadParticles = [];\n        /**\n         * Gets or sets the emission rate for particles (particles/sec)\n         */\n        this.emitRate = 1; //particles/sec\n        /**\n         * Gets or sets the emitter type for the particle emitter\n         */\n        this.emitterType = EmitterType.Rectangle;\n        /**\n         * Gets or sets the emitter radius, only takes effect when the {@apilink emitterType} is {@apilink EmitterType.Circle}\n         */\n        this.radius = 0;\n        this.particle = {\n            /**\n             * Gets or sets the life of each particle in milliseconds\n             */\n            life: 2000,\n            transform: ParticleTransform.Global,\n            graphic: undefined,\n            opacity: 1,\n            angularVelocity: 0,\n            focus: undefined,\n            focusAccel: undefined,\n            randomRotation: false\n        };\n        this._activeParticles = [];\n        const { particle, x, y, z, pos, isEmitting, emitRate, emitterType, radius, random } = { ...config };\n        this.particle = { ...this.particle, ...particle };\n        this.pos = pos !== null && pos !== void 0 ? pos : vec(x !== null && x !== void 0 ? x : 0, y !== null && y !== void 0 ? y : 0);\n        this.z = z !== null && z !== void 0 ? z : 0;\n        this.isEmitting = isEmitting !== null && isEmitting !== void 0 ? isEmitting : this.isEmitting;\n        this.emitRate = emitRate !== null && emitRate !== void 0 ? emitRate : this.emitRate;\n        this.emitterType = emitterType !== null && emitterType !== void 0 ? emitterType : this.emitterType;\n        this.radius = radius !== null && radius !== void 0 ? radius : this.radius;\n        this.body.collisionType = CollisionType.PreventCollision;\n        this.random = random !== null && random !== void 0 ? random : new Random();\n    }\n    removeParticle(particle) {\n        this.deadParticles.push(particle);\n    }\n    /**\n     * Causes the emitter to emit particles\n     * @param particleCount  Number of particles to emit right now\n     */\n    emitParticles(particleCount) {\n        var _a;\n        if (particleCount <= 0) {\n            return;\n        }\n        particleCount = particleCount | 0; // coerce to int\n        for (let i = 0; i < particleCount; i++) {\n            const p = this._createParticle();\n            if ((_a = this === null || this === void 0 ? void 0 : this.scene) === null || _a === void 0 ? void 0 : _a.world) {\n                if (this.particle.transform === ParticleTransform.Global) {\n                    this.scene.world.add(p);\n                }\n                else {\n                    this.addChild(p);\n                }\n            }\n            this._activeParticles.push(p);\n        }\n    }\n    clearParticles() {\n        for (let i = 0; i < this._activeParticles.length; i++) {\n            this.removeParticle(this._activeParticles[i]);\n        }\n    }\n    // Creates a new particle given the constraints of the emitter\n    _createParticle() {\n        let ranX = 0;\n        let ranY = 0;\n        const angle = randomInRange(this.particle.minAngle || 0, this.particle.maxAngle || Math.PI * 2, this.random);\n        const vel = randomInRange(this.particle.minSpeed || 0, this.particle.maxSpeed || 0, this.random);\n        const size = this.particle.startSize || randomInRange(this.particle.minSize || 5, this.particle.maxSize || 5, this.random);\n        const dx = vel * Math.cos(angle);\n        const dy = vel * Math.sin(angle);\n        if (this.emitterType === EmitterType.Rectangle) {\n            ranX = randomInRange(0, this.width, this.random);\n            ranY = randomInRange(0, this.height, this.random);\n        }\n        else if (this.emitterType === EmitterType.Circle) {\n            const radius = randomInRange(0, this.radius, this.random);\n            ranX = radius * Math.cos(angle);\n            ranY = radius * Math.sin(angle);\n        }\n        const p = this._particlePool.rent();\n        p.configure({\n            life: this.particle.life,\n            opacity: this.particle.opacity,\n            beginColor: this.particle.beginColor,\n            endColor: this.particle.endColor,\n            pos: vec(ranX, ranY),\n            vel: vec(dx, dy),\n            acc: this.particle.acc,\n            angularVelocity: this.particle.angularVelocity,\n            startSize: this.particle.startSize,\n            endSize: this.particle.endSize,\n            size: size,\n            graphic: this.particle.graphic,\n            fade: this.particle.fade\n        });\n        p.registerEmitter(this);\n        if (this.particle.randomRotation) {\n            p.transform.rotation = randomInRange(0, Math.PI * 2, this.random);\n        }\n        if (this.particle.focus) {\n            p.focus = this.particle.focus.add(vec(this.pos.x, this.pos.y));\n            p.focusAccel = this.particle.focusAccel;\n        }\n        return p;\n    }\n    update(engine, elapsed) {\n        var _a;\n        super.update(engine, elapsed);\n        if (this.isEmitting) {\n            this._particlesToEmit += this.emitRate * (elapsed / 1000);\n            if (this._particlesToEmit > 1.0) {\n                this.emitParticles(Math.floor(this._particlesToEmit));\n                this._particlesToEmit = this._particlesToEmit - Math.floor(this._particlesToEmit);\n            }\n        }\n        // deferred removal\n        for (let i = 0; i < this.deadParticles.length; i++) {\n            if ((_a = this === null || this === void 0 ? void 0 : this.scene) === null || _a === void 0 ? void 0 : _a.world) {\n                this.scene.world.remove(this.deadParticles[i], false);\n                this._particlePool.return(this.deadParticles[i]);\n            }\n            const index = this._activeParticles.indexOf(this.deadParticles[i]);\n            if (index > -1) {\n                this._activeParticles.splice(index, 1);\n            }\n        }\n        this.deadParticles.length = 0;\n    }\n}\n\n;// ./Util/Assert.ts\n/**\n * Asserts will throw in `process.env.NODE_ENV === 'development'` builds if the expression evaluates false\n */\nfunction assert(message, expression) {\n    if (false) {}\n}\n\n;// ./Particles/GpuParticleRenderer.ts\n\n\n\n\n\n/**\n * Container for the GPU Particle State contains the internal state needed for the GPU\n * to render particles and maintain state.\n */\nclass GpuParticleRenderer {\n    constructor(emitter, random, options) {\n        var _a;\n        this.emitRate = 1;\n        this._initialized = false;\n        this._vaos = [];\n        this._buffers = [];\n        this._drawIndex = 0;\n        this._numInputFloats = 2 + 2 + 1 + 1 + 1;\n        this._particleIndex = 0;\n        this._uploadIndex = 0;\n        this._wrappedLife = 0;\n        this._wrappedParticles = 0;\n        this._particleLife = 0;\n        this._clearRequested = false;\n        this._emitted = [];\n        this.emitter = emitter;\n        this.particle = options;\n        this._particleData = new Float32Array(this.emitter.maxParticles * this._numInputFloats);\n        this._random = random;\n        this._particleLife = (_a = this.particle.life) !== null && _a !== void 0 ? _a : 2000;\n    }\n    get isInitialized() {\n        return this._initialized;\n    }\n    get maxParticles() {\n        return this.emitter.maxParticles;\n    }\n    initialize(gl, context) {\n        if (this._initialized) {\n            return;\n        }\n        const numParticles = this.emitter.maxParticles;\n        const numInputFloats = this._numInputFloats;\n        const particleData = this._particleData;\n        const bytesPerFloat = 4;\n        const particleDataBuffer1 = gl.createBuffer();\n        const vao1 = gl.createVertexArray();\n        gl.bindVertexArray(vao1);\n        gl.bindBuffer(gl.ARRAY_BUFFER, particleDataBuffer1);\n        gl.bufferData(gl.ARRAY_BUFFER, numParticles * numInputFloats * bytesPerFloat, gl.DYNAMIC_DRAW);\n        gl.bufferSubData(gl.ARRAY_BUFFER, 0, particleData);\n        let offset = 0;\n        // position\n        gl.vertexAttribPointer(0, 2, gl.FLOAT, false, numInputFloats * bytesPerFloat, 0);\n        offset += bytesPerFloat * 2;\n        // velocity\n        gl.vertexAttribPointer(1, 2, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 2;\n        // rotation\n        gl.vertexAttribPointer(2, 1, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 1;\n        // angularVelocity\n        gl.vertexAttribPointer(3, 1, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 1;\n        // life\n        gl.vertexAttribPointer(4, 1, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 1;\n        // enable attributes\n        gl.enableVertexAttribArray(0);\n        gl.enableVertexAttribArray(1);\n        gl.enableVertexAttribArray(2);\n        gl.enableVertexAttribArray(3);\n        gl.enableVertexAttribArray(4);\n        this._vaos.push(vao1);\n        this._buffers.push(particleDataBuffer1);\n        // Clean up\n        gl.bindVertexArray(null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        const particleDataBuffer2 = gl.createBuffer();\n        const vao2 = gl.createVertexArray();\n        gl.bindVertexArray(vao2);\n        gl.bindBuffer(gl.ARRAY_BUFFER, particleDataBuffer2);\n        gl.bufferData(gl.ARRAY_BUFFER, numParticles * numInputFloats * bytesPerFloat, gl.DYNAMIC_DRAW);\n        offset = 0;\n        // position\n        gl.vertexAttribPointer(0, 2, gl.FLOAT, false, numInputFloats * bytesPerFloat, 0);\n        offset += bytesPerFloat * 2;\n        // velocity\n        gl.vertexAttribPointer(1, 2, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 2;\n        // rotation\n        gl.vertexAttribPointer(2, 1, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 1;\n        // angularVelocity\n        gl.vertexAttribPointer(3, 1, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 1;\n        // life\n        gl.vertexAttribPointer(4, 1, gl.FLOAT, false, numInputFloats * bytesPerFloat, offset);\n        offset += bytesPerFloat * 1;\n        // enable attributes\n        gl.enableVertexAttribArray(0);\n        gl.enableVertexAttribArray(1);\n        gl.enableVertexAttribArray(2);\n        gl.enableVertexAttribArray(3);\n        gl.enableVertexAttribArray(4);\n        this._vaos.push(vao2);\n        this._buffers.push(particleDataBuffer2);\n        // Clean up\n        gl.bindVertexArray(null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        this._currentVao = this._vaos[this._drawIndex % 2];\n        this._currentBuffer = this._buffers[(this._drawIndex + 1) % 2];\n        this._initialized = true;\n    }\n    clearParticles() {\n        this._particleData.fill(0);\n        this._clearRequested = true;\n    }\n    emitParticles(particleCount) {\n        const startIndex = this._particleIndex;\n        const maxSize = this.maxParticles * this._numInputFloats;\n        const endIndex = particleCount * this._numInputFloats + startIndex;\n        let countParticle = 0;\n        for (let i = startIndex; i < endIndex; i += this._numInputFloats) {\n            const angle = this._random.floating(this.particle.minAngle || 0, this.particle.maxAngle || TwoPI);\n            const speedX = this._random.floating(this.particle.minSpeed || 0, this.particle.maxSpeed || 0);\n            const speedY = this._random.floating(this.particle.minSpeed || 0, this.particle.maxSpeed || 0);\n            const dx = speedX * Math.cos(angle);\n            const dy = speedY * Math.sin(angle);\n            let ranX = 0;\n            let ranY = 0;\n            if (this.emitter.emitterType === EmitterType.Rectangle) {\n                ranX = this._random.floating(-0.5, 0.5) * this.emitter.width;\n                ranY = this._random.floating(-0.5, 0.5) * this.emitter.height;\n            }\n            else {\n                const radius = this._random.floating(0, this.emitter.radius);\n                ranX = radius * Math.cos(angle);\n                ranY = radius * Math.sin(angle);\n            }\n            const tx = this.emitter.transform.apply(vec(ranX, ranY));\n            const data = [\n                this.particle.transform === ParticleTransform.Local ? ranX : tx.x,\n                this.particle.transform === ParticleTransform.Local ? ranY : tx.y, // pos in world space\n                dx,\n                dy, // velocity\n                this.particle.randomRotation ? randomInRange(0, TwoPI, this._random) : this.particle.rotation || 0, // rotation\n                this.particle.angularVelocity || 0, // angular velocity\n                this._particleLife // life\n            ];\n            countParticle++;\n            this._particleData.set(data, i % this._particleData.length);\n        }\n        if (endIndex >= maxSize) {\n            this._wrappedParticles += (endIndex - maxSize) / this._numInputFloats;\n            this._wrappedLife = this._particleLife;\n        }\n        else if (this._wrappedLife > 0) {\n            this._wrappedParticles += particleCount;\n        }\n        this._particleIndex = endIndex % maxSize;\n        this._emitted.push([this._particleLife, startIndex]);\n    }\n    _uploadEmitted(gl) {\n        // upload index is the index of the previous upload\n        // particle index is the current index of modification\n        if (this._particleIndex !== this._uploadIndex) {\n            // Bind one buffer to ARRAY_BUFFER and the other to TFB\n            gl.bindBuffer(gl.ARRAY_BUFFER, this._buffers[(this._drawIndex + 1) % 2]);\n            if (this._particleIndex >= this._uploadIndex) {\n                gl.bufferSubData(gl.ARRAY_BUFFER, this._uploadIndex * 4, // dst byte offset 4 bytes per float\n                this._particleData, this._uploadIndex, this._particleIndex - this._uploadIndex);\n            }\n            else {\n                // upload before the wrap\n                // prettier-ignore\n                gl.bufferSubData(gl.ARRAY_BUFFER, this._uploadIndex * 4, this._particleData, this._uploadIndex, this._particleData.length - this._uploadIndex);\n                // upload after the wrap if there are any\n                if (this._wrappedParticles) {\n                    // prettier-ignore\n                    gl.bufferSubData(gl.ARRAY_BUFFER, 0, this._particleData, 0, this._wrappedParticles * this._numInputFloats);\n                }\n                this._wrappedLife = this._particleLife;\n            }\n            gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        }\n        this._uploadIndex = this._particleIndex % (this.maxParticles * this._numInputFloats);\n    }\n    update(elapsed) {\n        var _a;\n        this._particleLife = (_a = this.particle.life) !== null && _a !== void 0 ? _a : this._particleLife;\n        if (this._wrappedLife > 0) {\n            this._wrappedLife -= elapsed;\n        }\n        else {\n            this._wrappedLife = 0;\n            this._wrappedParticles = 0;\n        }\n        if (!this._emitted.length) {\n            return;\n        }\n        for (let i = this._emitted.length - 1; i >= 0; i--) {\n            const particle = this._emitted[i];\n            particle[0] -= elapsed;\n            const life = particle[0];\n            if (life <= 0) {\n                this._emitted.splice(i, 1);\n            }\n        }\n        this._emitted.sort((a, b) => a[0] - b[0]);\n    }\n    draw(gl) {\n        if (this._initialized) {\n            // Emit\n            if (this._clearRequested) {\n                gl.bindBuffer(gl.ARRAY_BUFFER, this._buffers[(this._drawIndex + 1) % 2]);\n                gl.bufferSubData(gl.ARRAY_BUFFER, 0, this._particleData);\n                gl.bindBuffer(gl.ARRAY_BUFFER, null);\n                this._clearRequested = false;\n            }\n            else {\n                this._uploadEmitted(gl);\n            }\n            // Bind one buffer to ARRAY_BUFFER and the other to transform feedback buffer\n            gl.bindVertexArray(this._currentVao);\n            gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, 0, this._currentBuffer);\n            // Perform transform feedback (run the simulation) and the draw call all at once\n            if (this._wrappedLife && this._emitted[0] && this._emitted[0][1] > 0) {\n                const midpoint = this._emitted[0][1] / this._numInputFloats;\n                // draw oldest first (maybe make configurable)\n                assert(`midpoint greater than 0, actual: ${midpoint}`, () => midpoint > 0);\n                assert(`midpoint is less than max, actual: ${midpoint}`, () => midpoint < this.maxParticles);\n                gl.bindBufferRange(gl.TRANSFORM_FEEDBACK_BUFFER, 0, this._currentBuffer, this._emitted[0][1] * 4, (this.maxParticles - midpoint) * this._numInputFloats * 4);\n                gl.beginTransformFeedback(gl.POINTS);\n                gl.drawArrays(gl.POINTS, midpoint, this.maxParticles - midpoint);\n                gl.endTransformFeedback();\n                // then draw newer particles\n                gl.bindBufferRange(gl.TRANSFORM_FEEDBACK_BUFFER, 0, this._currentBuffer, 0, this._emitted[0][1] * 4);\n                gl.beginTransformFeedback(gl.POINTS);\n                gl.drawArrays(gl.POINTS, 0, midpoint);\n                gl.endTransformFeedback();\n            }\n            else {\n                gl.bindBufferRange(gl.TRANSFORM_FEEDBACK_BUFFER, 0, this._currentBuffer, 0, this._particleData.length * 4);\n                gl.beginTransformFeedback(gl.POINTS);\n                gl.drawArrays(gl.POINTS, 0, this.maxParticles);\n                gl.endTransformFeedback();\n            }\n            // Clean up after ourselves to avoid errors.\n            gl.bindVertexArray(null);\n            gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, 0, null);\n            // flip flop buffers, one will be draw the other simulation\n            this._currentVao = this._vaos[this._drawIndex % 2];\n            this._currentBuffer = this._buffers[(this._drawIndex + 1) % 2];\n            this._drawIndex = (this._drawIndex + 1) % 2;\n        }\n    }\n}\nGpuParticleRenderer.GPU_MAX_PARTICLES = 100000;\n\n;// ./Particles/GpuParticleEmitter.ts\n\n\n\n\n\n\n\n\nclass GpuParticleEmitter extends Actor {\n    get pos() {\n        return this.transform.pos;\n    }\n    set pos(pos) {\n        this.transform.pos = pos;\n    }\n    get z() {\n        return this.transform.z;\n    }\n    set z(z) {\n        this.transform.z = z;\n    }\n    constructor(config) {\n        super({ name: `GpuParticleEmitter`, width: config.width, height: config.height }); // somewhat goofy way of doing width/height\n        this.particle = {\n            /**\n             * Gets or sets the life of each particle in milliseconds\n             */\n            life: 2000,\n            transform: ParticleTransform.Global,\n            graphic: undefined,\n            opacity: 1,\n            angularVelocity: 0,\n            focus: undefined,\n            focusAccel: undefined,\n            randomRotation: false\n        };\n        this.graphics = new GraphicsComponent();\n        this.isEmitting = false;\n        this.emitRate = 1;\n        this.emitterType = EmitterType.Rectangle;\n        this.radius = 0;\n        this.maxParticles = 2000;\n        this._particlesToEmit = 0;\n        this.addComponent(this.graphics, true);\n        this.graphics.onPostDraw = this.draw.bind(this);\n        const { particle, maxParticles, x, y, z, pos, isEmitting, emitRate, emitterType, radius, random } = { ...config };\n        this.maxParticles = clamp(maxParticles !== null && maxParticles !== void 0 ? maxParticles : this.maxParticles, 0, GpuParticleRenderer.GPU_MAX_PARTICLES);\n        this.pos = pos !== null && pos !== void 0 ? pos : vec(x !== null && x !== void 0 ? x : 0, y !== null && y !== void 0 ? y : 0);\n        this.z = z !== null && z !== void 0 ? z : 0;\n        this.isEmitting = isEmitting !== null && isEmitting !== void 0 ? isEmitting : this.isEmitting;\n        this.emitRate = emitRate !== null && emitRate !== void 0 ? emitRate : this.emitRate;\n        this.emitterType = emitterType !== null && emitterType !== void 0 ? emitterType : this.emitterType;\n        this.radius = radius !== null && radius !== void 0 ? radius : this.radius;\n        this.particle = { ...this.particle, ...particle };\n        this.random = random !== null && random !== void 0 ? random : new Random();\n        this.renderer = new GpuParticleRenderer(this, this.random, this.particle);\n    }\n    _initialize(engine) {\n        super._initialize(engine);\n        const context = engine.graphicsContext;\n        this.renderer.initialize(context.__gl, context);\n    }\n    update(engine, elapsed) {\n        super.update(engine, elapsed);\n        if (this.isEmitting) {\n            this._particlesToEmit += this.emitRate * (elapsed / 1000);\n            if (this._particlesToEmit > 1.0) {\n                this.emitParticles(Math.floor(this._particlesToEmit));\n                this._particlesToEmit = this._particlesToEmit - Math.floor(this._particlesToEmit);\n            }\n        }\n        this.renderer.update(elapsed);\n    }\n    emitParticles(particleCount) {\n        if (particleCount <= 0) {\n            return;\n        }\n        this.renderer.emitParticles(particleCount | 0); // coerce to integer\n    }\n    clearParticles() {\n        this.renderer.clearParticles();\n    }\n    draw(ctx, elapsed) {\n        ctx.draw('ex.particle', this.renderer, elapsed);\n    }\n}\n\n;// ./Particles/index.ts\n\n\n\n\n\n\n;// ./TileMap/IsometricMap.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass IsometricTile extends Entity {\n    getGraphics() {\n        return this._graphics;\n    }\n    /**\n     * Tile graphics\n     */\n    addGraphic(graphic, options) {\n        this._graphics.push(graphic);\n        this._gfx.isVisible = this.map.isVisible;\n        this._gfx.opacity = this.map.opacity;\n        if (options === null || options === void 0 ? void 0 : options.offset) {\n            this._gfx.offset = options.offset;\n        }\n        // TODO detect when this changes on the map and apply to all tiles\n        this._gfx.localBounds = this._recalculateBounds();\n    }\n    _recalculateBounds() {\n        let bounds = this._tileBounds.clone();\n        for (const graphic of this._graphics) {\n            const offset = vec(this.map.graphicsOffset.x - this.map.tileWidth / 2, this.map.graphicsOffset.y - (this.map.renderFromTopOfGraphic ? 0 : graphic.height - this.map.tileHeight));\n            bounds = bounds.combine(graphic.localBounds.translate(offset));\n        }\n        return bounds;\n    }\n    removeGraphic(graphic) {\n        const index = this._graphics.indexOf(graphic);\n        if (index > -1) {\n            this._graphics.splice(index, 1);\n        }\n        this._gfx.localBounds = this._recalculateBounds();\n    }\n    clearGraphics() {\n        this._graphics.length = 0;\n        this._gfx.isVisible = false;\n        this._gfx.localBounds = this._recalculateBounds();\n    }\n    getColliders() {\n        return this._colliders;\n    }\n    /**\n     * Adds a collider to the IsometricTile\n     *\n     * **Note!** the {@apilink Tile.solid} must be set to true for it to act as a \"fixed\" collider\n     * @param collider\n     */\n    addCollider(collider) {\n        this._colliders.push(collider);\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Removes a collider from the IsometricTile\n     * @param collider\n     */\n    removeCollider(collider) {\n        const index = this._colliders.indexOf(collider);\n        if (index > -1) {\n            this._colliders.splice(index, 1);\n        }\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Clears all colliders from the IsometricTile\n     */\n    clearColliders() {\n        this._colliders.length = 0;\n        this.map.flagCollidersDirty();\n    }\n    /**\n     * Returns the top left corner of the {@apilink IsometricTile} in world space\n     */\n    get pos() {\n        return this.map.tileToWorld(vec(this.x, this.y));\n    }\n    /**\n     * Returns the center of the {@apilink IsometricTile}\n     */\n    get center() {\n        return this.pos.add(vec(0, this.map.tileHeight / 2));\n    }\n    /**\n     * Construct a new IsometricTile\n     * @param x tile coordinate in x (not world position)\n     * @param y tile coordinate in y (not world position)\n     * @param graphicsOffset offset that tile should be shifted by (default (0, 0))\n     * @param map reference to owning IsometricMap\n     */\n    constructor(x, y, graphicsOffset, map) {\n        super([\n            new TransformComponent(),\n            new GraphicsComponent({\n                offset: graphicsOffset !== null && graphicsOffset !== void 0 ? graphicsOffset : Vector.Zero,\n                onPostDraw: (gfx, elapsed) => this.draw(gfx, elapsed)\n            }),\n            new IsometricEntityComponent(map)\n        ]);\n        /**\n         * Indicates whether this tile is solid\n         */\n        this.solid = false;\n        this.events = new EventEmitter();\n        this._tileBounds = new BoundingBox();\n        this._graphics = [];\n        /**\n         * Tile colliders\n         */\n        this._colliders = [];\n        /**\n         * Arbitrary data storage per tile, useful for any game specific data\n         */\n        this.data = new Map();\n        this.x = x;\n        this.y = y;\n        this.map = map;\n        this._transform = this.get(TransformComponent);\n        this._isometricEntityComponent = this.get(IsometricEntityComponent);\n        const halfTileWidth = this.map.tileWidth / 2;\n        const halfTileHeight = this.map.tileHeight / 2;\n        // See https://clintbellanger.net/articles/isometric_math/ for formula\n        // The x position shifts left with every y step\n        const xPos = (this.x - this.y) * halfTileWidth;\n        // The y position needs to go down with every x step\n        const yPos = (this.x + this.y) * halfTileHeight;\n        this._transform.pos = vec(xPos, yPos);\n        this._isometricEntityComponent.elevation = map.elevation;\n        this._gfx = this.get(GraphicsComponent);\n        this._gfx.isVisible = false; // start not visible\n        const totalWidth = this.map.tileWidth;\n        const totalHeight = this.map.tileHeight;\n        // initial guess at gfx bounds based on the tile\n        const offset = vec(0, this.map.renderFromTopOfGraphic ? totalHeight : 0);\n        this._gfx.localBounds = this._tileBounds = new BoundingBox({\n            left: -totalWidth / 2,\n            top: -totalHeight,\n            right: totalWidth / 2,\n            bottom: totalHeight\n        }).translate(offset);\n    }\n    draw(gfx, _elapsed) {\n        const halfTileWidth = this.map.tileWidth / 2;\n        gfx.save();\n        // shift left origin to corner of map, not the left corner of the first sprite\n        gfx.translate(-halfTileWidth, 0);\n        for (const graphic of this._graphics) {\n            graphic.draw(gfx, this.map.graphicsOffset.x, this.map.graphicsOffset.y - (this.map.renderFromTopOfGraphic ? 0 : graphic.height - this.map.tileHeight));\n        }\n        gfx.restore();\n    }\n}\n/**\n * The IsometricMap is a special tile map that provides isometric rendering support to Excalibur\n *\n * The tileWidth and tileHeight should be the height and width in pixels of the parallelogram of the base of the tile art asset.\n * The tileWidth and tileHeight is not necessarily the same as your graphic pixel width and height.\n *\n * Please refer to the docs https://excaliburjs.com for more details calculating what your tile width and height should be given\n * your art assets.\n */\nclass IsometricMap extends Entity {\n    /**\n     * Whether tiles should be visible\n     * @deprecated use isVisible\n     */\n    get visible() {\n        return this.isVisible;\n    }\n    /**\n     * Whether tiles should be visible\n     * @deprecated use isVisible\n     */\n    set visible(val) {\n        this.isVisible = val;\n    }\n    constructor(options) {\n        super([\n            new TransformComponent(),\n            new BodyComponent({\n                type: CollisionType.Fixed\n            }),\n            new ColliderComponent(),\n            new PointerComponent(),\n            new DebugGraphicsComponent((ctx, debugFlags) => this.debug(ctx, debugFlags), false)\n        ], options.name);\n        this.elevation = 0;\n        /**\n         * Whether tiles should be visible\n         */\n        this.isVisible = true;\n        /**\n         * Opacity of tiles\n         */\n        this.opacity = 1.0;\n        /**\n         * Render the tile graphic from the top instead of the bottom\n         *\n         * default is `false` meaning rendering from the bottom\n         */\n        this.renderFromTopOfGraphic = false;\n        this.graphicsOffset = vec(0, 0);\n        this._collidersDirty = false;\n        this._originalOffsets = new WeakMap();\n        const { pos, tileWidth, tileHeight, columns: width, rows: height, renderFromTopOfGraphic, graphicsOffset, elevation } = options;\n        this.transform = this.get(TransformComponent);\n        if (pos) {\n            this.transform.pos = pos;\n        }\n        this.collider = this.get(ColliderComponent);\n        if (this.collider) {\n            this.collider.set((this._composite = new CompositeCollider([])));\n        }\n        this.pointer = this.get(PointerComponent);\n        this.renderFromTopOfGraphic = renderFromTopOfGraphic !== null && renderFromTopOfGraphic !== void 0 ? renderFromTopOfGraphic : this.renderFromTopOfGraphic;\n        this.graphicsOffset = graphicsOffset !== null && graphicsOffset !== void 0 ? graphicsOffset : this.graphicsOffset;\n        this.elevation = elevation !== null && elevation !== void 0 ? elevation : this.elevation;\n        this.tileWidth = tileWidth;\n        this.tileHeight = tileHeight;\n        this.columns = width;\n        this.rows = height;\n        this._pointerEventDispatcher = new PointerEventsToObjectDispatcher();\n        this.tiles = new Array(width * height);\n        // build up tile representation\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const tile = new IsometricTile(x, y, this.graphicsOffset, this);\n                this.tiles[x + y * width] = tile;\n                this.addChild(tile);\n                this._pointerEventDispatcher.addObject(tile, (p) => this.getTileByPoint(p.worldPos) === tile, () => true);\n            }\n        }\n        this.pointer.localBounds = BoundingBox.fromDimension(tileWidth * width * this.transform.scale.x, tileHeight * height * this.transform.scale.y, vec(0.5, 0));\n    }\n    /**\n     * @internal\n     */\n    _processPointerToObject(receiver) {\n        this._pointerEventDispatcher.processPointerToObject(receiver, this.tiles);\n    }\n    /**\n     * @internal\n     */\n    _dispatchPointerEvents(receiver) {\n        this._pointerEventDispatcher.dispatchEvents(receiver, this.tiles);\n    }\n    update() {\n        if (this._collidersDirty) {\n            this.updateColliders();\n            this._collidersDirty = false;\n        }\n        this._pointerEventDispatcher.clear();\n    }\n    flagCollidersDirty() {\n        this._collidersDirty = true;\n    }\n    _getOrSetColliderOriginalOffset(collider) {\n        var _a;\n        if (!this._originalOffsets.has(collider)) {\n            const originalOffset = collider.offset;\n            this._originalOffsets.set(collider, originalOffset);\n            return originalOffset;\n        }\n        else {\n            return (_a = this._originalOffsets.get(collider)) !== null && _a !== void 0 ? _a : Vector.Zero;\n        }\n    }\n    updateColliders() {\n        this._composite.clearColliders();\n        const pos = this.get(TransformComponent).pos;\n        for (const tile of this.tiles) {\n            if (tile.solid) {\n                for (const collider of tile.getColliders()) {\n                    const originalOffset = this._getOrSetColliderOriginalOffset(collider);\n                    collider.offset = this.tileToWorld(vec(tile.x, tile.y))\n                        .sub(pos)\n                        .add(originalOffset)\n                        .sub(vec(this.tileWidth / 2, this.tileHeight)); // We need to unshift height based on drawing\n                    collider.owner = this;\n                    this._composite.addCollider(collider);\n                }\n            }\n        }\n        this.collider.update();\n    }\n    /**\n     * Convert world space coordinates to the tile x, y coordinate\n     * @param worldCoordinate\n     */\n    worldToTile(worldCoordinate) {\n        // TODO I don't think this handles parent transform see TileMap\n        worldCoordinate = worldCoordinate.sub(this.transform.globalPos);\n        const halfTileWidth = this.tileWidth / 2;\n        const halfTileHeight = this.tileHeight / 2;\n        // See https://clintbellanger.net/articles/isometric_math/ for formula\n        return vec(~~((worldCoordinate.x / halfTileWidth + worldCoordinate.y / halfTileHeight) / 2), ~~((worldCoordinate.y / halfTileHeight - worldCoordinate.x / halfTileWidth) / 2));\n    }\n    /**\n     * Given a tile coordinate, return the top left corner in world space\n     * @param tileCoordinate\n     */\n    tileToWorld(tileCoordinate) {\n        const halfTileWidth = this.tileWidth / 2;\n        const halfTileHeight = this.tileHeight / 2;\n        // The x position shifts left with every y step\n        const xPos = (tileCoordinate.x - tileCoordinate.y) * halfTileWidth;\n        // The y position needs to go down with every x step\n        const yPos = (tileCoordinate.x + tileCoordinate.y) * halfTileHeight;\n        return vec(xPos, yPos).add(this.transform.pos);\n    }\n    /**\n     * Returns the {@apilink IsometricTile} by its x and y coordinates\n     */\n    getTile(x, y) {\n        if (x < 0 || y < 0 || x >= this.columns || y >= this.rows) {\n            return null;\n        }\n        return this.tiles[x + y * this.columns];\n    }\n    /**\n     * Returns the {@apilink IsometricTile} by testing a point in world coordinates,\n     * returns `null` if no Tile was found.\n     */\n    getTileByPoint(point) {\n        const tileCoord = this.worldToTile(point);\n        const tile = this.getTile(tileCoord.x, tileCoord.y);\n        return tile;\n    }\n    _getMaxZIndex() {\n        let maxZ = Number.NEGATIVE_INFINITY;\n        for (const tile of this.tiles) {\n            const currentZ = tile.get(TransformComponent).z;\n            if (currentZ > maxZ) {\n                maxZ = currentZ;\n            }\n        }\n        return maxZ;\n    }\n    /**\n     * Debug draw for IsometricMap, called internally by excalibur when debug mode is toggled on\n     * @param gfx\n     */\n    debug(gfx, debugFlags) {\n        const { showAll, showPosition, positionColor, positionSize, showGrid, gridColor, gridWidth, showColliderGeometry } = debugFlags.isometric;\n        const { geometryColor, geometryLineWidth, geometryPointSize } = debugFlags.collider;\n        gfx.save();\n        gfx.z = this._getMaxZIndex() + 0.5;\n        if (showAll || showGrid) {\n            for (let y = 0; y < this.rows + 1; y++) {\n                const left = this.tileToWorld(vec(0, y));\n                const right = this.tileToWorld(vec(this.columns, y));\n                gfx.drawLine(left, right, gridColor, gridWidth);\n            }\n            for (let x = 0; x < this.columns + 1; x++) {\n                const top = this.tileToWorld(vec(x, 0));\n                const bottom = this.tileToWorld(vec(x, this.rows));\n                gfx.drawLine(top, bottom, gridColor, gridWidth);\n            }\n        }\n        if (showAll || showPosition) {\n            for (const tile of this.tiles) {\n                gfx.drawCircle(this.tileToWorld(vec(tile.x, tile.y)), positionSize, positionColor);\n            }\n        }\n        if (showAll || showColliderGeometry) {\n            for (const tile of this.tiles) {\n                if (tile.solid) {\n                    // only draw solid tiles\n                    for (const collider of tile.getColliders()) {\n                        collider.debug(gfx, geometryColor, { lineWidth: geometryLineWidth, pointSize: geometryPointSize });\n                    }\n                }\n            }\n        }\n        gfx.restore();\n    }\n}\n\n;// ./TileMap/index.ts\n\n\n\n\n\n;// ./Actions/Action/ActionSequence.ts\n\n\n/**\n * Action that can represent a sequence of actions, this can be useful in conjunction with\n * {@apilink ParallelActions} to run multiple sequences in parallel.\n */\nclass ActionSequence {\n    constructor(entity, actionBuilder) {\n        this.id = nextActionId();\n        this._stopped = false;\n        this._sequenceBuilder = actionBuilder;\n        this._sequenceContext = new ActionContext(entity);\n        this._actionQueue = this._sequenceContext.getQueue();\n        this._sequenceBuilder(this._sequenceContext);\n    }\n    update(elapsed) {\n        this._actionQueue.update(elapsed);\n    }\n    isComplete() {\n        return this._stopped || this._actionQueue.isComplete();\n    }\n    stop() {\n        this._stopped = true;\n    }\n    reset() {\n        this._stopped = false;\n        this._actionQueue.reset();\n    }\n    clone(entity) {\n        return new ActionSequence(entity, this._sequenceBuilder);\n    }\n}\n\n;// ./Actions/Action/ParallelActions.ts\n\n/**\n * Action that can run multiple {@apilink Action}s or {@apilink ActionSequence}s at the same time\n */\nclass ParallelActions {\n    constructor(parallelActions) {\n        this.id = nextActionId();\n        this._actions = parallelActions;\n    }\n    update(elapsed) {\n        for (let i = 0; i < this._actions.length; i++) {\n            this._actions[i].update(elapsed);\n        }\n    }\n    isComplete(entity) {\n        return this._actions.every((a) => a.isComplete(entity));\n    }\n    reset() {\n        this._actions.forEach((a) => a.reset());\n    }\n    stop() {\n        this._actions.forEach((a) => a.stop());\n    }\n}\n\n;// ./Actions/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// ./Collision/Detection/QuadTree.ts\n\n\n/**\n * QuadTree spatial data structure. Useful for quickly retrieving all objects that might\n * be in a specific location.\n */\nclass QuadTree {\n    constructor(bounds, options) {\n        this.bounds = bounds;\n        this.options = options;\n        this._defaultOptions = {\n            maxDepth: 10,\n            capacity: 10,\n            level: 0\n        };\n        this.items = [];\n        this._isDivided = false;\n        this.topLeft = null;\n        this.topRight = null;\n        this.bottomLeft = null;\n        this.bottomRight = null;\n        this.options = { ...this._defaultOptions, ...options };\n        this.halfWidth = bounds.width / 2;\n        this.halfHeight = bounds.height / 2;\n    }\n    /**\n     * Splits the quad tree one level deeper\n     */\n    _split() {\n        this._isDivided = true;\n        const newLevelOptions = {\n            maxDepth: this.options.maxDepth,\n            capacity: this.options.capacity,\n            level: this.options.level + 1\n        };\n        this.topLeft = new QuadTree(new BoundingBox({\n            left: this.bounds.left,\n            top: this.bounds.top,\n            right: this.bounds.left + this.halfWidth,\n            bottom: this.bounds.top + this.halfHeight\n        }), newLevelOptions);\n        this.topRight = new QuadTree(new BoundingBox({\n            left: this.bounds.left + this.halfWidth,\n            top: this.bounds.top,\n            right: this.bounds.right,\n            bottom: this.bounds.top + this.halfHeight\n        }), newLevelOptions);\n        this.bottomLeft = new QuadTree(new BoundingBox({\n            left: this.bounds.left,\n            top: this.bounds.top + this.halfHeight,\n            right: this.bounds.left + this.halfWidth,\n            bottom: this.bounds.bottom\n        }), newLevelOptions);\n        this.bottomRight = new QuadTree(new BoundingBox({\n            left: this.bounds.left + this.halfWidth,\n            top: this.bounds.top + this.halfHeight,\n            right: this.bounds.right,\n            bottom: this.bounds.bottom\n        }), newLevelOptions);\n    }\n    _insertIntoSubNodes(item) {\n        var _a, _b, _c, _d;\n        if ((_a = this.topLeft) === null || _a === void 0 ? void 0 : _a.bounds.overlaps(item.bounds)) {\n            this.topLeft.insert(item);\n        }\n        if ((_b = this.topRight) === null || _b === void 0 ? void 0 : _b.bounds.overlaps(item.bounds)) {\n            this.topRight.insert(item);\n        }\n        if ((_c = this.bottomLeft) === null || _c === void 0 ? void 0 : _c.bounds.overlaps(item.bounds)) {\n            this.bottomLeft.insert(item);\n        }\n        if ((_d = this.bottomRight) === null || _d === void 0 ? void 0 : _d.bounds.overlaps(item.bounds)) {\n            this.bottomRight.insert(item);\n        }\n    }\n    /**\n     * Insert an item to be tracked in the QuadTree\n     * @param item\n     */\n    insert(item) {\n        // add to subnodes if it matches\n        if (this._isDivided) {\n            this._insertIntoSubNodes(item);\n            return;\n        }\n        // leaf case\n        this.items.push(item);\n        // capacity\n        if (this.items.length > this.options.capacity && this.options.level < this.options.maxDepth) {\n            if (!this._isDivided) {\n                this._split();\n            }\n            // divide this level's items into it's subnodes\n            for (const item of this.items) {\n                this._insertIntoSubNodes(item);\n            }\n            // clear this level\n            this.items.length = 0;\n        }\n    }\n    /**\n     * Remove a tracked item in the QuadTree\n     * @param item\n     */\n    remove(item) {\n        var _a, _b, _c, _d;\n        if (!this.bounds.overlaps(item.bounds)) {\n            return;\n        }\n        if (!this._isDivided) {\n            const index = this.items.indexOf(item);\n            if (index > -1) {\n                this.items.splice(index, 1);\n            }\n            return;\n        }\n        if ((_a = this.topLeft) === null || _a === void 0 ? void 0 : _a.bounds.overlaps(item.bounds)) {\n            this.topLeft.remove(item);\n        }\n        if ((_b = this.topRight) === null || _b === void 0 ? void 0 : _b.bounds.overlaps(item.bounds)) {\n            this.topRight.remove(item);\n        }\n        if ((_c = this.bottomLeft) === null || _c === void 0 ? void 0 : _c.bounds.overlaps(item.bounds)) {\n            this.bottomLeft.remove(item);\n        }\n        if ((_d = this.bottomRight) === null || _d === void 0 ? void 0 : _d.bounds.overlaps(item.bounds)) {\n            this.bottomRight.remove(item);\n        }\n    }\n    /**\n     * Query the structure for all objects that intersect the bounding box\n     * @param boundingBox\n     * @returns items\n     */\n    query(boundingBox) {\n        let results = this.items;\n        if (this._isDivided) {\n            if (this.topLeft.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.topLeft.query(boundingBox));\n            }\n            if (this.topRight.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.topRight.query(boundingBox));\n            }\n            if (this.bottomLeft.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.bottomLeft.query(boundingBox));\n            }\n            if (this.bottomRight.bounds.overlaps(boundingBox)) {\n                results = results.concat(this.bottomRight.query(boundingBox));\n            }\n        }\n        results = results.filter((item, index) => {\n            return results.indexOf(item) >= index;\n        });\n        return results;\n    }\n    clear() {\n        this.items = [];\n        this._isDivided = false;\n        this.topLeft = null;\n        this.topRight = null;\n        this.bottomLeft = null;\n        this.bottomRight = null;\n    }\n    getAllItems() {\n        let results = this.items;\n        if (this._isDivided) {\n            results = results.concat(this.topLeft.getAllItems());\n            results = results.concat(this.topRight.getAllItems());\n            results = results.concat(this.bottomLeft.getAllItems());\n            results = results.concat(this.bottomRight.getAllItems());\n        }\n        results = results.filter((item, index) => {\n            return results.indexOf(item) >= index;\n        });\n        return results;\n    }\n    getTreeDepth() {\n        if (!this._isDivided) {\n            return 0;\n        }\n        return (1 +\n            Math.max(this.topLeft.getTreeDepth(), this.topRight.getTreeDepth(), this.bottomLeft.getTreeDepth(), this.bottomRight.getTreeDepth()));\n    }\n    debug(ctx) {\n        this.bounds.draw(ctx, Color.Yellow);\n        if (this._isDivided) {\n            this.topLeft.bounds.draw(ctx, Color.Yellow);\n            this.topRight.bounds.draw(ctx, Color.Yellow);\n            this.bottomLeft.bounds.draw(ctx, Color.Yellow);\n            this.bottomRight.bounds.draw(ctx, Color.Yellow);\n        }\n    }\n}\n\n;// ./Collision/Index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// ./Interfaces/LifecycleEvents.ts\n/**\n * Type guard checking for internal initialize method\n * @internal\n * @param a\n */\nfunction has_initialize(a) {\n    return !!a._initialize;\n}\n/**\n *\n */\nfunction has_add(a) {\n    return !!a.onAdd;\n}\n/**\n *\n */\nfunction has_remove(a) {\n    return !!a.onRemove;\n}\n/**\n *\n */\nfunction hasOnInitialize(a) {\n    return !!a.onInitialize;\n}\n/**\n *\n */\nfunction has_preupdate(a) {\n    return !!a._preupdate;\n}\n/**\n *\n */\nfunction hasOnPreUpdate(a) {\n    return !!a.onPreUpdate;\n}\n/**\n *\n */\nfunction has_postupdate(a) {\n    return !!a.onPostUpdate;\n}\n/**\n *\n */\nfunction hasOnPostUpdate(a) {\n    return !!a.onPostUpdate;\n}\n/**\n *\n */\nfunction hasOnAdd(a) {\n    return !!a.onAdd;\n}\n/**\n *\n */\nfunction hasOnRemove(a) {\n    return !!a.onRemove;\n}\n/**\n *\n */\nfunction hasPreDraw(a) {\n    return !!a.onPreDraw;\n}\n/**\n *\n */\nfunction hasPostDraw(a) {\n    return !!a.onPostDraw;\n}\n\n;// ./Interfaces/Index.ts\n\n\n\n\n\n\n\n\n;// ./Resources/Sound/Index.ts\n\n\n\n\n;// ./Resources/Gif.ts\n\n\n\n\n/**\n * The {@apilink Texture} object allows games built in Excalibur to load image resources.\n * {@apilink Texture} is an {@apilink Loadable} which means it can be passed to a {@apilink Loader}\n * to pre-load before starting a level or game.\n */\nclass Gif {\n    /**\n     * @param path       Path to the image resource\n     * @param bustCache  Optionally load texture with cache busting\n     */\n    constructor(path, bustCache = false) {\n        this.path = path;\n        /**\n         * The width of the texture in pixels\n         */\n        this.width = 0;\n        /**\n         * The height of the texture in pixels\n         */\n        this.height = 0;\n        this._images = [];\n        this.data = [];\n        this._sprites = [];\n        this._resource = new Resource(path, 'arraybuffer', bustCache);\n    }\n    /**\n     * Should excalibur add a cache busting querystring? By default false.\n     * Must be set before loading\n     */\n    get bustCache() {\n        return this._resource.bustCache;\n    }\n    set bustCache(val) {\n        this._resource.bustCache = val;\n    }\n    /**\n     * Begins loading the texture and returns a promise to be resolved on completion\n     */\n    async load() {\n        const arraybuffer = await this._resource.load();\n        this._stream = new Stream(arraybuffer);\n        this._gif = new GifParser(this._stream);\n        const images = this._gif.images.map((i) => new ImageSource(i.src, false));\n        // Load all textures\n        await Promise.all(images.map((t) => t.load()));\n        this.data = this._images = images;\n        this._sprites = this._images.map((image) => {\n            return image.toSprite();\n        });\n        return this.data;\n    }\n    isLoaded() {\n        return !!this.data;\n    }\n    /**\n     * Return a frame of the gif as a sprite by id\n     * @param id\n     */\n    toSprite(id = 0) {\n        var _a;\n        return (_a = this._sprites[id]) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Return the gif as a spritesheet\n     */\n    toSpriteSheet() {\n        const sprites = this._sprites;\n        if (sprites.length) {\n            return new SpriteSheet({ sprites });\n        }\n        return null;\n    }\n    /**\n     * Transform the GIF into an animation with duration per frame\n     * @param durationPerFrame Optionally override duration per frame\n     */\n    toAnimation(durationPerFrame) {\n        var _a;\n        const images = (_a = this._gif) === null || _a === void 0 ? void 0 : _a.images;\n        if (images === null || images === void 0 ? void 0 : images.length) {\n            const frames = images.map((image, index) => {\n                var _a;\n                return {\n                    graphic: this._sprites[index],\n                    duration: ((_a = this._gif) === null || _a === void 0 ? void 0 : _a.frames[index].delayMs) || undefined\n                };\n            });\n            this._animation = new Animation({\n                frames,\n                frameDuration: durationPerFrame\n            });\n            return this._animation;\n        }\n        return null;\n    }\n    get readCheckBytes() {\n        var _a, _b;\n        return (_b = (_a = this._gif) === null || _a === void 0 ? void 0 : _a.checkBytes) !== null && _b !== void 0 ? _b : [];\n    }\n}\nconst bitsToNum = (ba) => {\n    return ba.reduce(function (s, n) {\n        return s * 2 + n;\n    }, 0);\n};\nconst byteToBitArr = (bite) => {\n    const a = [];\n    for (let i = 7; i >= 0; i--) {\n        a.push(!!(bite & (1 << i)));\n    }\n    return a;\n};\nclass Stream {\n    constructor(dataArray) {\n        this.len = 0;\n        this.position = 0;\n        this.readByte = () => {\n            if (this.position >= this.data.byteLength) {\n                throw new Error('Attempted to read past end of stream.');\n            }\n            return this.data[this.position++];\n        };\n        this.readBytes = (n) => {\n            const bytes = [];\n            for (let i = 0; i < n; i++) {\n                bytes.push(this.readByte());\n            }\n            return bytes;\n        };\n        this.read = (n) => {\n            let s = '';\n            for (let i = 0; i < n; i++) {\n                s += String.fromCharCode(this.readByte());\n            }\n            return s;\n        };\n        this.readUnsigned = () => {\n            // Little-endian.\n            const a = this.readBytes(2);\n            return (a[1] << 8) + a[0];\n        };\n        this.data = new Uint8Array(dataArray);\n        this.len = this.data.byteLength;\n        if (this.len === 0) {\n            throw new Error('No data loaded from file');\n        }\n    }\n}\nconst lzwDecode = function (minCodeSize, data) {\n    // TODO: Now that the GIF parser is a bit different, maybe this should get an array of bytes instead of a String?\n    let pos = 0; // Maybe this streaming thing should be merged with the Stream?\n    const readCode = function (size) {\n        let code = 0;\n        for (let i = 0; i < size; i++) {\n            if (data.charCodeAt(pos >> 3) & (1 << (pos & 7))) {\n                code |= 1 << i;\n            }\n            pos++;\n        }\n        return code;\n    };\n    const output = [];\n    const clearCode = 1 << minCodeSize;\n    const eoiCode = clearCode + 1;\n    let codeSize = minCodeSize + 1;\n    let dict = [];\n    const clear = function () {\n        dict = [];\n        codeSize = minCodeSize + 1;\n        for (let i = 0; i < clearCode; i++) {\n            dict[i] = [i];\n        }\n        dict[clearCode] = [];\n        dict[eoiCode] = null;\n    };\n    let code = 0;\n    let last = 0;\n    while (true) {\n        last = code;\n        code = readCode(codeSize);\n        if (code === clearCode) {\n            clear();\n            continue;\n        }\n        if (code === eoiCode) {\n            break;\n        }\n        if (code < dict.length) {\n            if (last !== clearCode) {\n                dict.push(dict[last].concat(dict[code][0]));\n            }\n        }\n        else {\n            if (code !== dict.length) {\n                throw new Error('Invalid LZW code.');\n            }\n            dict.push(dict[last].concat(dict[last][0]));\n        }\n        output.push.apply(output, dict[code]);\n        if (dict.length === 1 << codeSize && codeSize < 12) {\n            // If we're at the last code and codeSize is 12, the next code will be a clearCode, and it'll be 12 bits long.\n            codeSize++;\n        }\n    }\n    // I don't know if this is technically an error, but some GIFs do it.\n    //if (Math.ceil(pos / 8) !== data.length) throw new Error('Extraneous LZW bytes.');\n    return output;\n};\n/**\n * GifParser for binary format\n *\n * Roughly based on the documentation https://giflib.sourceforge.net/whatsinagif/index.html\n */\nclass GifParser {\n    constructor(stream) {\n        this._handler = {};\n        this.frames = [];\n        this.images = [];\n        this.globalColorTableBytes = [];\n        this.checkBytes = [];\n        this.parseColorTableBytes = (entries) => {\n            // Each entry is 3 bytes, for RGB.\n            const colorTable = [];\n            for (let i = 0; i < entries; i++) {\n                const rgb = this._st.readBytes(3);\n                colorTable.push(rgb);\n            }\n            return colorTable;\n        };\n        this.readSubBlocks = () => {\n            let size, data;\n            data = '';\n            do {\n                size = this._st.readByte();\n                data += this._st.read(size);\n            } while (size !== 0);\n            return data;\n        };\n        this.parseHeader = () => {\n            const hdr = {\n                sig: '',\n                ver: '',\n                width: 0,\n                height: 0,\n                colorResolution: 0,\n                globalColorTableSize: 0,\n                gctFlag: false,\n                sortedFlag: false,\n                globalColorTable: [],\n                backgroundColorIndex: 0,\n                pixelAspectRatio: 0 // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\n            };\n            hdr.sig = this._st.read(3);\n            hdr.ver = this._st.read(3);\n            if (hdr.sig !== 'GIF') {\n                throw new Error('Not a GIF file.'); // XXX: This should probably be handled more nicely.\n            }\n            hdr.width = this._st.readUnsigned();\n            hdr.height = this._st.readUnsigned();\n            this._currentFrameCanvas.width = hdr.width;\n            this._currentFrameCanvas.height = hdr.height;\n            const bits = byteToBitArr(this._st.readByte());\n            hdr.gctFlag = bits.shift();\n            hdr.colorResolution = bitsToNum(bits.splice(0, 3));\n            hdr.sortedFlag = bits.shift();\n            hdr.globalColorTableSize = bitsToNum(bits.splice(0, 3));\n            hdr.backgroundColorIndex = this._st.readByte();\n            hdr.pixelAspectRatio = this._st.readByte(); // if not 0, aspectRatio = (pixelAspectRatio + 15) / 64\n            if (hdr.gctFlag) {\n                // hdr.globalColorTable = this.parseColorTable(1 << (hdr.globalColorTableSize + 1));\n                this.globalColorTableBytes = this.parseColorTableBytes(1 << (hdr.globalColorTableSize + 1));\n            }\n            if (this._handler.hdr && this._handler.hdr(hdr)) {\n                this.checkBytes.push(this._handler.hdr);\n            }\n        };\n        this.parseExt = (block) => {\n            const parseGCExt = (block) => {\n                this.checkBytes.push(this._st.readByte()); // Always 4\n                const bits = byteToBitArr(this._st.readByte());\n                block.reserved = bits.splice(0, 3); // Reserved; should be 000.\n                block.disposalMethod = bitsToNum(bits.splice(0, 3));\n                block.userInputFlag = bits.shift();\n                block.transparentColorFlag = bits.shift();\n                block.delayTime = this._st.readUnsigned();\n                block.transparentColorIndex = this._st.readByte();\n                block.terminator = this._st.readByte(); // always 0\n                if (this._handler.gce && this._handler.gce(block)) {\n                    this.checkBytes.push(this._handler.gce);\n                }\n                return block;\n            };\n            const parseComExt = (block) => {\n                block.comment = this.readSubBlocks();\n                if (this._handler.com && this._handler.com(block)) {\n                    this.checkBytes.push(this._handler.com);\n                }\n            };\n            const parsePTExt = (block) => {\n                this.checkBytes.push(this._st.readByte()); // Always 12\n                block.ptHeader = this._st.readBytes(12);\n                block.ptData = this.readSubBlocks();\n                if (this._handler.pte && this._handler.pte(block)) {\n                    this.checkBytes.push(this._handler.pte);\n                }\n            };\n            const parseAppExt = (block) => {\n                const parseNetscapeExt = (block) => {\n                    this.checkBytes.push(this._st.readByte()); // Always 3\n                    block.unknown = this._st.readByte(); // Q: Always 1? What is this?\n                    block.iterations = this._st.readUnsigned();\n                    block.terminator = this._st.readByte();\n                    if (this._handler.app && this._handler.app.NETSCAPE && this._handler.app.NETSCAPE(block)) {\n                        this.checkBytes.push(this._handler.app);\n                    }\n                };\n                const parseUnknownAppExt = (block) => {\n                    block.appData = this.readSubBlocks();\n                    // FIXME: This won't work if a handler wants to match on any identifier.\n                    if (this._handler.app && this._handler.app[block.identifier] && this._handler.app[block.identifier](block)) {\n                        this.checkBytes.push(this._handler.app[block.identifier]);\n                    }\n                };\n                this.checkBytes.push(this._st.readByte()); // Always 11\n                block.identifier = this._st.read(8);\n                block.authCode = this._st.read(3);\n                switch (block.identifier) {\n                    case 'NETSCAPE':\n                        parseNetscapeExt(block);\n                        break;\n                    default:\n                        parseUnknownAppExt(block);\n                        break;\n                }\n            };\n            const parseUnknownExt = (block) => {\n                block.data = this.readSubBlocks();\n                if (this._handler.unknown && this._handler.unknown(block)) {\n                    this.checkBytes.push(this._handler.unknown);\n                }\n            };\n            block.label = this._st.readByte();\n            switch (block.label) {\n                case 0xf9:\n                    block.extType = 'gce';\n                    this._gce = parseGCExt(block);\n                    break;\n                case 0xfe:\n                    block.extType = 'com';\n                    parseComExt(block);\n                    break;\n                case 0x01:\n                    block.extType = 'pte';\n                    parsePTExt(block);\n                    break;\n                case 0xff:\n                    block.extType = 'app';\n                    parseAppExt(block);\n                    break;\n                default:\n                    block.extType = 'unknown';\n                    parseUnknownExt(block);\n                    break;\n            }\n        };\n        this.parseImg = (img) => {\n            var _a;\n            const deinterlace = (pixels, width) => {\n                // Of course this defeats the purpose of interlacing. And it's *probably*\n                // the least efficient way it's ever been implemented. But nevertheless...\n                const newPixels = new Array(pixels.length);\n                const rows = pixels.length / width;\n                const cpRow = (toRow, fromRow) => {\n                    const fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n                    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n                };\n                const offsets = [0, 4, 2, 1];\n                const steps = [8, 8, 4, 2];\n                let fromRow = 0;\n                for (let pass = 0; pass < 4; pass++) {\n                    for (let toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n                        cpRow(toRow, fromRow);\n                        fromRow++;\n                    }\n                }\n                return newPixels;\n            };\n            img.leftPos = this._st.readUnsigned();\n            img.topPos = this._st.readUnsigned();\n            img.width = this._st.readUnsigned();\n            img.height = this._st.readUnsigned();\n            const bits = byteToBitArr(this._st.readByte());\n            img.lctFlag = bits.shift();\n            img.interlaced = bits.shift();\n            img.sorted = bits.shift();\n            img.reserved = bits.splice(0, 2);\n            img.lctSize = bitsToNum(bits.splice(0, 3));\n            if (img.lctFlag) {\n                img.lctBytes = this.parseColorTableBytes(1 << (img.lctSize + 1));\n            }\n            img.lzwMinCodeSize = this._st.readByte();\n            const lzwData = this.readSubBlocks();\n            img.pixels = lzwDecode(img.lzwMinCodeSize, lzwData);\n            if (img.interlaced) {\n                // Move\n                img.pixels = deinterlace(img.pixels, img.width);\n            }\n            if ((_a = this._gce) === null || _a === void 0 ? void 0 : _a.delayTime) {\n                img.delayMs = this._gce.delayTime * 10;\n            }\n            this.frames.push(img);\n            this.arrayToImage(img, img.lctFlag ? img.lctBytes : this.globalColorTableBytes);\n            if (this._handler.img && this._handler.img(img)) {\n                this.checkBytes.push(this._handler);\n            }\n        };\n        this.parseBlocks = () => {\n            const block = {\n                sentinel: this._st.readByte(),\n                type: ''\n            };\n            const blockChar = String.fromCharCode(block.sentinel);\n            switch (blockChar) {\n                case '!':\n                    block.type = 'ext';\n                    this.parseExt(block);\n                    break;\n                case ',':\n                    block.type = 'img';\n                    this.parseImg(block);\n                    break;\n                case ';':\n                    block.type = 'eof';\n                    if (this._handler.eof && this._handler.eof(block)) {\n                        this.checkBytes.push(this._handler.eof);\n                    }\n                    break;\n                default:\n                    throw new Error('Unknown block: 0x' + block.sentinel.toString(16));\n            }\n            if (block.type !== 'eof') {\n                this.parseBlocks();\n            }\n        };\n        this.arrayToImage = (frame, colorTable) => {\n            var _a, _b, _c, _d;\n            const canvas = document.createElement('canvas');\n            canvas.width = frame.width;\n            canvas.height = frame.height;\n            const context = canvas.getContext('2d');\n            const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n            let transparentColorIndex = -1;\n            if ((_a = this._gce) === null || _a === void 0 ? void 0 : _a.transparentColorFlag) {\n                transparentColorIndex = this._gce.transparentColorIndex;\n            }\n            for (let pixel = 0; pixel < frame.pixels.length; pixel++) {\n                const colorIndex = frame.pixels[pixel];\n                const color = colorTable[colorIndex];\n                if (colorIndex === transparentColorIndex) {\n                    imageData.data.set([0, 0, 0, 0], pixel * 4);\n                }\n                else {\n                    imageData.data.set([...color, 255], pixel * 4);\n                }\n            }\n            context.putImageData(imageData, 0, 0);\n            // A value of 1 which tells the decoder to leave the image in place and draw the next image on top of it.\n            // A value of 2 would have meant that the canvas should be restored to the background color (as indicated by the logical screen descriptor).\n            // A value of 3 is defined to mean that the decoder should restore the canvas to its previous state before the current image was drawn.\n            // The behavior for values 4-7 are yet to be defined.\n            if (((_b = this._gce) === null || _b === void 0 ? void 0 : _b.disposalMethod) === 1 && this.images.length) {\n                this._currentFrameContext.drawImage(this.images[this.images.length - 1], 0, 0);\n            }\n            else if (((_c = this._gce) === null || _c === void 0 ? void 0 : _c.disposalMethod) === 2 && ((_d = this._hdr) === null || _d === void 0 ? void 0 : _d.gctFlag)) {\n                const bg = colorTable[this._hdr.backgroundColorIndex];\n                this._currentFrameContext.fillStyle = `rgb(${bg[0]}, ${bg[1]}, ${bg[2]})`;\n                this._currentFrameContext.fillRect(0, 0, this._hdr.width, this._hdr.height);\n            }\n            else {\n                this._currentFrameContext.clearRect(0, 0, this._currentFrameCanvas.width, this._currentFrameCanvas.height);\n            }\n            this._currentFrameContext.drawImage(canvas, frame.leftPos, frame.topPos, frame.width, frame.height);\n            const img = new Image();\n            img.src = this._currentFrameCanvas.toDataURL(); // default is png\n            this.images.push(img);\n        };\n        this._st = stream;\n        this._handler = {};\n        this._currentFrameCanvas = document.createElement('canvas');\n        this._currentFrameContext = this._currentFrameCanvas.getContext('2d');\n        this.parseHeader();\n        this.parseBlocks();\n    }\n}\n\n;// ./Resources/Font.ts\n\n\nclass FontSource {\n    constructor(\n    /**\n     * Path to the font resource relative from the HTML document hosting the game, or absolute\n     */\n    path, \n    /**\n     * The font family name\n     */\n    family, { bustCache, ...options } = {}) {\n        this.path = path;\n        this.family = family;\n        this._isLoaded = false;\n        this._resource = new Resource(path, 'blob', bustCache);\n        this._options = options;\n    }\n    async load() {\n        if (this.isLoaded()) {\n            return this.data;\n        }\n        try {\n            const blob = await this._resource.load();\n            const url = URL.createObjectURL(blob);\n            if (!this.data) {\n                this.data = new FontFace(this.family, `url(${url})`);\n                document.fonts.add(this.data);\n            }\n            await this.data.load();\n            this._isLoaded = true;\n        }\n        catch (error) {\n            throw `Error loading FontSource from path '${this.path}' with error [${error.message}]`;\n        }\n        return this.data;\n    }\n    isLoaded() {\n        return this._isLoaded;\n    }\n    /**\n     * Build a font from this FontSource.\n     * @param options {FontOptions} Override the font options\n     */\n    toFont(options) {\n        return new Font({ family: this.family, ...this._options, ...options });\n    }\n}\n\n;// ./Resources/Index.ts\n\n\n\n\n\n;// ./EntityComponentSystem/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// ./Util/Coroutine.ts\n\n\n\nconst InsideCoroutineContext = createContext();\nconst generatorFunctionDeclaration = /^\\s*(?:function)?\\*/;\n/**\n *\n */\nfunction isCoroutineGenerator(x) {\n    if (typeof x !== 'function') {\n        return false;\n    }\n    if (generatorFunctionDeclaration.test(Function.prototype.toString.call(x))) {\n        return true;\n    }\n    if (!Object.getPrototypeOf) {\n        return false;\n    }\n    return Object.getPrototypeOf(x) === Object.getPrototypeOf(new Function('return function * () {}')());\n}\n/**\n *\n */\nfunction coroutine(...args) {\n    var _a;\n    const logger = Logger.getInstance();\n    let coroutineGenerator;\n    let thisArg;\n    let options;\n    let passedEngine;\n    // coroutine(coroutineGenerator: CoroutineGenerator, options?: CoroutineOptions): CoroutineInstance;\n    if (isCoroutineGenerator(args[0])) {\n        thisArg = globalThis;\n        coroutineGenerator = args[0];\n        options = args[1];\n    }\n    // coroutine(thisArg: any, coroutineGenerator: CoroutineGenerator, options?: CoroutineOptions): CoroutineInstance;\n    if (isCoroutineGenerator(args[1])) {\n        thisArg = args[0];\n        coroutineGenerator = args[1];\n        options = args[2];\n    }\n    // coroutine(thisArg: any, engine: Engine, coroutineGenerator: CoroutineGenerator, options?: CoroutineOptions): CoroutineInstance;\n    if (args[1] instanceof Engine) {\n        thisArg = args[0];\n        passedEngine = args[1];\n        coroutineGenerator = args[2];\n        options = args[3];\n    }\n    // coroutine(engine: Engine, coroutineGenerator: CoroutineGenerator, options?: CoroutineOptions): CoroutineInstance;\n    if (args[0] instanceof Engine) {\n        thisArg = globalThis;\n        passedEngine = args[0];\n        coroutineGenerator = args[1];\n        options = args[2];\n    }\n    const inside = useContext(InsideCoroutineContext);\n    const schedule = options === null || options === void 0 ? void 0 : options.timing;\n    const autostart = inside ? false : (_a = options === null || options === void 0 ? void 0 : options.autostart) !== null && _a !== void 0 ? _a : true;\n    let engine;\n    try {\n        engine = passedEngine !== null && passedEngine !== void 0 ? passedEngine : Engine.useEngine();\n    }\n    catch (_) {\n        throw Error('Cannot run coroutine without engine parameter outside of an excalibur lifecycle method.\\n' +\n            'Pass an engine parameter to ex.coroutine(engine, function * {...})');\n    }\n    let started = false;\n    let completed = false;\n    let cancelled = false;\n    const generatorFcn = coroutineGenerator.bind(thisArg);\n    const generator = generatorFcn();\n    let loop;\n    const complete = new Promise((resolve, reject) => {\n        loop = (elapsed) => {\n            try {\n                if (cancelled) {\n                    completed = true;\n                    resolve();\n                    return;\n                }\n                const { done, value } = InsideCoroutineContext.scope(true, () => generator.next(elapsed));\n                if (done || cancelled) {\n                    completed = true;\n                    resolve();\n                    return;\n                }\n                if (value instanceof Promise) {\n                    value.then(() => {\n                        // schedule next loop\n                        engine.clock.schedule(loop, 0, schedule);\n                    });\n                }\n                else if (value === undefined || value === void 0) {\n                    // schedule next frame\n                    engine.clock.schedule(loop, 0, schedule);\n                }\n                else {\n                    // schedule value milliseconds from now\n                    engine.clock.schedule(loop, value || 0, schedule);\n                }\n            }\n            catch (e) {\n                reject(e);\n                return;\n            }\n        };\n        if (autostart) {\n            started = true;\n            loop(engine.clock.elapsed()); // run first frame immediately\n        }\n    });\n    const co = {\n        isRunning: () => {\n            return started && !cancelled && !completed;\n        },\n        isComplete: () => {\n            return completed;\n        },\n        cancel: () => {\n            cancelled = true;\n        },\n        start: () => {\n            if (!started) {\n                started = true;\n                loop(engine.clock.elapsed());\n            }\n            else {\n                logger.warn('.start() was called on a coroutine that was already started, this is probably a bug:\\n', Function.prototype.toString.call(generatorFcn));\n            }\n            return co;\n        },\n        generator,\n        done: complete,\n        then: complete.then.bind(complete),\n        [Symbol.iterator]: () => {\n            // TODO warn if a coroutine is already running\n            // TODO warn if a coroutine is cancelled\n            return generator;\n        }\n    };\n    return co;\n}\n\n;// ./Director/Transition.ts\n\n\n\n\n\n\n\n\n\n/**\n * Base Transition that can be extended to provide custom scene transitions in Excalibur.\n */\nclass Transition extends Entity {\n    /**\n     * Returns a number between [0, 1] indicating what state the transition is in.\n     *\n     * * For 'out' direction transitions start at 0 and end at 1\n     * * For 'in' direction transitions start at 1 and end at 0\n     */\n    get progress() {\n        return this._currentProgress;\n    }\n    get complete() {\n        if (this.direction === 'out') {\n            return this.progress >= 1;\n        }\n        else {\n            return this.progress <= 0;\n        }\n    }\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super();\n        this._logger = Logger.getInstance();\n        this.transform = new TransformComponent();\n        this.graphics = new GraphicsComponent();\n        this._completeFuture = new Future();\n        // State needs to be reset between uses\n        this.started = false;\n        this._currentDistance = 0;\n        this._currentProgress = 0;\n        this.done = this._completeFuture.promise;\n        this.name = `Transition#${this.id}`;\n        this.duration = options.duration;\n        this.easing = (_a = options.easing) !== null && _a !== void 0 ? _a : EasingFunctions.Linear;\n        this.direction = (_b = options.direction) !== null && _b !== void 0 ? _b : 'out';\n        this.hideLoader = (_c = options.hideLoader) !== null && _c !== void 0 ? _c : false;\n        this.blockInput = (_d = options.blockInput) !== null && _d !== void 0 ? _d : false;\n        this.transform.coordPlane = CoordPlane.Screen;\n        this.transform.pos = Vector.Zero;\n        this.transform.z = Infinity; // Transitions sit on top of everything\n        this.graphics.anchor = Vector.Zero;\n        this.addComponent(this.transform);\n        this.addComponent(this.graphics);\n        if (this.direction === 'out') {\n            this._currentProgress = 0;\n        }\n        else {\n            this._currentProgress = 1;\n        }\n    }\n    /**\n     * Overridable lifecycle method, called before each update.\n     *\n     * **WARNING BE SURE** to call `super.updateTransition()` if overriding in your own custom implementation\n     * @param engine\n     * @param elapsed\n     */\n    updateTransition(engine, elapsed) {\n        if (this.complete) {\n            return;\n        }\n        this._currentDistance += clamp(elapsed / this.duration, 0, 1);\n        if (this._currentDistance >= 1) {\n            this._currentDistance = 1;\n        }\n        if (this.direction === 'out') {\n            this._currentProgress = clamp(this.easing(this._currentDistance, 0, 1, 1), 0, 1);\n        }\n        else {\n            this._currentProgress = clamp(this.easing(this._currentDistance, 1, 0, 1), 0, 1);\n        }\n    }\n    /**\n     * Overridable lifecycle method, called right before the previous scene has deactivated.\n     *\n     * This gives incoming transition a chance to grab info from previous scene if desired\n     * @param scene\n     */\n    async onPreviousSceneDeactivate(scene) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called once at the beginning of the transition\n     *\n     * `progress` is given between 0 and 1\n     * @param progress\n     */\n    onStart(progress) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called every frame of the transition\n     *\n     * `progress` is given between 0 and 1\n     * @param progress\n     */\n    onUpdate(progress) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called at the end of the transition,\n     *\n     * `progress` is given between 0 and 1\n     * @param progress\n     */\n    onEnd(progress) {\n        // override me\n    }\n    /**\n     * Overridable lifecycle method, called when the transition is reset\n     *\n     * Use this to override and provide your own reset logic for internal state in custom transition implementations\n     */\n    onReset() {\n        // override me\n    }\n    /**\n     * reset() is called by the engine to reset transitions\n     */\n    reset() {\n        this.started = false;\n        this._completeFuture = new Future();\n        this.done = this._completeFuture.promise;\n        this._currentDistance = 0;\n        if (this.direction === 'out') {\n            this._currentProgress = 0;\n        }\n        else {\n            this._currentProgress = 1;\n        }\n        this.onReset();\n    }\n    /**\n     * @internal\n     */\n    _addToTargetScene(engine, targetScene) {\n        const currentScene = targetScene;\n        if (this.started) {\n            this._logger.warn(`Attempted to add a transition ${this.name} that is already playing.`);\n        }\n        if (currentScene.world.entityManager.getById(this.id)) {\n            return this._co;\n        }\n        this._engine = engine;\n        currentScene.add(this);\n        const self = this;\n        this._co = coroutine(engine, function* () {\n            while (!self.complete) {\n                const elapsed = yield; // per frame\n                self.updateTransition(self._engine, elapsed);\n                self._execute();\n            }\n        }, {\n            autostart: false\n        });\n        return this._co;\n    }\n    /**\n     * Called internally by excalibur to swap scenes with transition\n     * @internal\n     */\n    async _play() {\n        if (this.started) {\n            this.reset();\n            this._logger.warn(`Attempted to play a transition ${this.name} that is already playing, reset transition.`);\n        }\n        if (!this._engine || !this._co) {\n            this.reset();\n            this._logger.warn(`Attempted to play a transition ${this.name} that hasn't been added`);\n        }\n        if (this._co) {\n            await this._co.start();\n        }\n    }\n    /**\n     * execute() is called by the engine every frame to update the Transition lifecycle onStart/onUpdate/onEnd\n     * @internal\n     */\n    _execute() {\n        if (!this.isInitialized) {\n            return;\n        }\n        if (!this.started) {\n            this.started = true;\n            this.onStart(this.progress);\n        }\n        this.onUpdate(this.progress);\n        if (this.complete && !this._completeFuture.isCompleted) {\n            this.onEnd(this.progress);\n            this._completeFuture.resolve();\n        }\n    }\n}\n\n;// ./Director/FadeInOut.ts\n\n\n\nclass FadeInOut extends Transition {\n    constructor(options) {\n        var _a, _b;\n        super({\n            ...options,\n            duration: (_a = options.duration) !== null && _a !== void 0 ? _a : 2000\n        });\n        this.name = `FadeInOut#${this.id}`;\n        this.color = (_b = options.color) !== null && _b !== void 0 ? _b : Color.Black;\n    }\n    onInitialize(engine) {\n        this.transform.pos = engine.screen.unsafeArea.topLeft;\n        this.screenCover = new Rectangle({\n            width: engine.screen.resolution.width,\n            height: engine.screen.resolution.height,\n            color: this.color\n        });\n        this.graphics.add(this.screenCover);\n        this.graphics.opacity = this.progress;\n    }\n    onReset() {\n        this.graphics.opacity = this.progress;\n    }\n    onStart(progress) {\n        this.graphics.opacity = progress;\n    }\n    onEnd(progress) {\n        this.graphics.opacity = progress;\n    }\n    onUpdate(progress) {\n        this.graphics.opacity = progress;\n    }\n}\n\n;// ./Director/CrossFade.ts\n\n\n\n/**\n * CrossFades between the previous scene and the destination scene\n *\n * Note: CrossFade only works as an \"in\" transition\n */\nclass CrossFade extends Transition {\n    constructor(options) {\n        super({ direction: 'in', ...options }); // default the correct direction\n        this.name = `CrossFade#${this.id}`;\n    }\n    async onPreviousSceneDeactivate(scene) {\n        this.image = await scene.engine.screenshot(true);\n        // Firefox is particularly slow\n        // needed in case the image isn't ready yet\n        await this.image.decode();\n    }\n    onInitialize(engine) {\n        this.engine = engine;\n        this.transform.pos = engine.screen.unsafeArea.topLeft;\n        this.screenCover = ImageSource.fromHtmlImageElement(this.image).toSprite();\n        this.graphics.add(this.screenCover);\n        // This is because we preserve hidpi res on the screen shot which COULD be bigger than the logical resolution\n        this.transform.scale = vec(1 / engine.screen.pixelRatio, 1 / engine.screen.pixelRatio);\n        this.graphics.opacity = this.progress;\n    }\n    onStart(_progress) {\n        this.graphics.opacity = this.progress;\n    }\n    onReset() {\n        this.graphics.opacity = this.progress;\n    }\n    onEnd(progress) {\n        this.graphics.opacity = progress;\n    }\n    onUpdate(progress) {\n        this.graphics.opacity = progress;\n    }\n}\n\n;// ./Director/Slide.ts\n\n\n\n\n\n/**\n * Slide`s between the previous scene and the destination scene\n *\n * Note: Slide` only works as an \"in\" transition\n */\nclass Slide extends Transition {\n    constructor(options) {\n        var _a;\n        super({ direction: 'in', ...options }); // default the correct direction\n        this._easing = EasingFunctions.Linear;\n        this.name = `Slide#${this.id}`;\n        this.slideDirection = options.slideDirection;\n        this.transform.coordPlane = CoordPlane.World;\n        this.graphics.forceOnScreen = true;\n        this._easing = (_a = options.easingFunction) !== null && _a !== void 0 ? _a : this._easing;\n        this._vectorEasing = EasingFunctions.CreateVectorEasingFunction(this._easing);\n    }\n    async onPreviousSceneDeactivate(scene) {\n        this._image = await scene.engine.screenshot(true);\n        // Firefox is particularly slow\n        // needed in case the image isn't ready yet\n        await this._image.decode();\n        this._screenCover = ImageSource.fromHtmlImageElement(this._image).toSprite();\n    }\n    onInitialize(engine) {\n        this._engine = engine;\n        switch (this.slideDirection) {\n            case 'up': {\n                this._directionOffset = vec(0, -engine.screen.resolution.height);\n                break;\n            }\n            case 'down': {\n                this._directionOffset = vec(0, engine.screen.resolution.height);\n                break;\n            }\n            case 'left': {\n                this._directionOffset = vec(-engine.screen.resolution.width, 0);\n                break;\n            }\n            case 'right': {\n                this._directionOffset = vec(engine.screen.resolution.width, 0);\n                break;\n            }\n        }\n        this._camera = this._engine.currentScene.camera;\n        this._destinationCameraPosition = this._camera.pos.clone();\n        // For sliding shift the camera and the transition slide by offset\n        this._camera.pos = this._camera.pos.add(this._directionOffset);\n        this.transform.pos = this.transform.pos.add(this._directionOffset);\n        this._startCameraPosition = this._camera.pos.clone();\n        this.graphics.use(this._screenCover);\n        // This is because we preserve hidpi res on the screen shot which COULD be bigger than the logical resolution\n        this.transform.scale = vec(1 / engine.screen.pixelRatio, 1 / engine.screen.pixelRatio);\n    }\n    onUpdate(progress) {\n        // in-transitions count down from 1 -> 0, so our \"end\" is swapped\n        this._camera.pos = this._vectorEasing(progress, this._destinationCameraPosition, this._startCameraPosition, 1);\n    }\n}\n\n;// ./Director/index.ts\n\n\n\n\n\n\n\n\n;// ./Graphics/Line.ts\n\n\n\nclass Line extends Graphic {\n    constructor(options) {\n        super();\n        this.color = Color.Black;\n        this.thickness = 1;\n        const { start, end, color, thickness } = options;\n        this.start = start;\n        this.end = end;\n        this.color = color !== null && color !== void 0 ? color : this.color;\n        this.thickness = thickness !== null && thickness !== void 0 ? thickness : this.thickness;\n        this._localBounds = this._calculateBounds();\n        const { width, height } = this._localBounds;\n        this.width = width;\n        this.height = height;\n    }\n    get localBounds() {\n        return this._localBounds;\n    }\n    _calculateBounds() {\n        const lineNormal = this.end.sub(this.start).normal();\n        const halfThickness = this.thickness / 2;\n        const points = [\n            this.start.add(lineNormal.scale(halfThickness)),\n            this.end.add(lineNormal.scale(halfThickness)),\n            this.end.add(lineNormal.scale(-halfThickness)),\n            this.start.add(lineNormal.scale(-halfThickness))\n        ];\n        return BoundingBox.fromPoints(points);\n    }\n    _drawImage(ctx, _x, _y) {\n        ctx.drawLine(this.start, this.end, this.color, this.thickness);\n    }\n    clone() {\n        return new Line({\n            start: this.start,\n            end: this.end,\n            color: this.color,\n            thickness: this.thickness\n        });\n    }\n}\n\n;// ./Graphics/Polygon.ts\n\n\n\n/**\n * A polygon {@apilink Graphic} for drawing arbitrary polygons to the {@apilink ExcaliburGraphicsContext}\n *\n * Polygons default to {@apilink ImageFiltering.Blended}\n */\nclass Polygon extends Raster {\n    get points() {\n        return this._points;\n    }\n    set points(points) {\n        this._points = points;\n        const min = this.minPoint;\n        this.width = this._points.reduce((max, p) => Math.max(p.x, max), 0) - min.x;\n        this.height = this._points.reduce((max, p) => Math.max(p.y, max), 0) - min.y;\n        this.flagDirty();\n    }\n    get minPoint() {\n        const minX = this._points.reduce((min, p) => Math.min(p.x, min), Infinity);\n        const minY = this._points.reduce((min, p) => Math.min(p.y, min), Infinity);\n        return vec(minX, minY);\n    }\n    constructor(options) {\n        super(options);\n        this._points = [];\n        this.points = options.points;\n        this.filtering = ImageFiltering.Blended;\n        this.rasterize();\n    }\n    clone() {\n        return new Polygon({\n            points: this.points.map((p) => p.clone()),\n            ...this.cloneGraphicOptions(),\n            ...this.cloneRasterOptions()\n        });\n    }\n    execute(ctx) {\n        if (this.points && this.points.length) {\n            ctx.beginPath();\n            // Iterate through the supplied points and construct a 'polygon'\n            const min = this.minPoint.negate();\n            const firstPoint = this.points[0].add(min);\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            this.points.forEach((point) => {\n                ctx.lineTo(point.x + min.x, point.y + min.y);\n            });\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n            ctx.closePath();\n            if (this.color) {\n                ctx.fill();\n            }\n            if (this.strokeColor) {\n                ctx.stroke();\n            }\n        }\n    }\n}\n\n;// ./Graphics/NineSlice.ts\n\n\n\n/**\n * Nine slice stretch mode\n */\nvar NineSliceStretch;\n(function (NineSliceStretch) {\n    /**\n     * Stretch the image across a dimension\n     */\n    NineSliceStretch[\"Stretch\"] = \"stretch\";\n    /**\n     * Tile the image across a dimension\n     */\n    NineSliceStretch[\"Tile\"] = \"tile\";\n    /**\n     * Tile the image across a dimension but only by whole image amounts\n     */\n    NineSliceStretch[\"TileFit\"] = \"tile-fit\";\n})(NineSliceStretch || (NineSliceStretch = {}));\nclass NineSlice extends Graphic {\n    constructor(config) {\n        super(config);\n        this._logger = Logger.getInstance();\n        this._config = config;\n        this._imgSource = config.source;\n        this._canvasA = document.createElement('canvas');\n        this._canvasB = document.createElement('canvas');\n        this._canvasC = document.createElement('canvas');\n        this._canvasD = document.createElement('canvas');\n        this._canvasE = document.createElement('canvas');\n        this._canvasF = document.createElement('canvas');\n        this._canvasG = document.createElement('canvas');\n        this._canvasH = document.createElement('canvas');\n        this._canvasI = document.createElement('canvas');\n        this._initialize();\n        this._imgSource.ready.then(() => {\n            this._initialize();\n        });\n    }\n    /**\n     * Sets the target width of the 9 slice (pixels), and recalculates the 9 slice if desired (auto)\n     * @param newWidth\n     * @param auto\n     */\n    setTargetWidth(newWidth, auto = false) {\n        this._config.width = newWidth;\n        if (auto) {\n            this._initialize();\n        }\n    }\n    /**\n     * Sets the target height of the 9 slice (pixels), and recalculates the 9 slice if desired (auto)\n     * @param newHeight\n     * @param auto\n     */\n    setTargetHeight(newHeight, auto = false) {\n        this._config.height = newHeight;\n        if (auto) {\n            this._initialize();\n        }\n    }\n    /**\n     *  Sets the 9 slice margins (pixels), and recalculates the 9 slice if desired (auto)\n     */\n    setMargins(left, top, right, bottom, auto = false) {\n        this._config.sourceConfig.leftMargin = left;\n        this._config.sourceConfig.topMargin = top;\n        this._config.sourceConfig.rightMargin = right;\n        this._config.sourceConfig.bottomMargin = bottom;\n        if (auto) {\n            this._initialize();\n        }\n    }\n    /**\n     *  Sets the stretching strategy for the 9 slice, and recalculates the 9 slice if desired (auto)\n     *\n     */\n    setStretch(type, stretch, auto = false) {\n        if (type === 'horizontal') {\n            this._config.destinationConfig.horizontalStretch = stretch;\n        }\n        else if (type === 'vertical') {\n            this._config.destinationConfig.verticalStretch = stretch;\n        }\n        else {\n            this._config.destinationConfig.horizontalStretch = stretch;\n            this._config.destinationConfig.verticalStretch = stretch;\n        }\n        if (auto) {\n            this._initialize();\n        }\n    }\n    /**\n     *  Returns the config of the 9 slice\n     */\n    getConfig() {\n        return this._config;\n    }\n    /**\n     * Draws 1 of the 9 tiles based on parameters passed in\n     * context is the ExcaliburGraphicsContext from the _drawImage function\n     * destinationSize is the size of the destination image as a vector (width,height)\n     * targetCanvas is the canvas to draw to\n     * horizontalStretch and verticalStretch are the horizontal and vertical stretching strategies\n     * marginW and marginH are optional margins for the 9 slice for positioning\n     * @param context\n     * @param targetCanvas\n     * @param destinationSize\n     * @param horizontalStretch\n     * @param verticalStretch\n     * @param marginWidth\n     * @param marginHeight\n     */\n    _drawTile(context, targetCanvas, destinationSize, horizontalStretch, verticalStretch, marginWidth, marginHeight) {\n        const tempMarginW = marginWidth || 0;\n        const tempMarginH = marginHeight || 0;\n        let tempSizeX, tempPositionX, tempSizeY, tempPositionY;\n        const numTilesX = this._getNumberOfTiles(targetCanvas.width, destinationSize.x, horizontalStretch);\n        const numTilesY = this._getNumberOfTiles(targetCanvas.height, destinationSize.y, verticalStretch);\n        for (let i = 0; i < numTilesX; i++) {\n            for (let j = 0; j < numTilesY; j++) {\n                let { tempSize, tempPosition } = this._calculateParams(i, numTilesX, targetCanvas.width, destinationSize.x, this._config.destinationConfig.horizontalStretch);\n                tempSizeX = tempSize;\n                tempPositionX = tempPosition;\n                ({ tempSize, tempPosition } = this._calculateParams(j, numTilesY, targetCanvas.height, destinationSize.y, this._config.destinationConfig.verticalStretch));\n                tempSizeY = tempSize;\n                tempPositionY = tempPosition;\n                context.drawImage(targetCanvas, 0, 0, targetCanvas.width, targetCanvas.height, tempMarginW + tempPositionX, tempMarginH + tempPositionY, tempSizeX, tempSizeY);\n            }\n        }\n    }\n    /**\n     *  Draws the 9 slices to the canvas\n     */\n    _drawImage(ex, x, y) {\n        if (this._imgSource.isLoaded()) {\n            // Top left, no stretching\n            this._drawTile(ex, this._canvasA, new Vector(this._config.sourceConfig.leftMargin, this._config.sourceConfig.topMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch);\n            // Top, middle, horizontal stretching\n            this._drawTile(ex, this._canvasB, new Vector(this._config.width - this._config.sourceConfig.leftMargin - this._config.sourceConfig.rightMargin, this._config.sourceConfig.topMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, this._config.sourceConfig.leftMargin, 0);\n            // Top right, no stretching\n            this._drawTile(ex, this._canvasC, new Vector(this._config.sourceConfig.rightMargin, this._config.sourceConfig.topMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, this._config.width - this._config.sourceConfig.rightMargin, 0);\n            // middle, left, vertical stretching\n            this._drawTile(ex, this._canvasD, new Vector(this._config.sourceConfig.leftMargin, this._config.height - this._config.sourceConfig.bottomMargin - this._config.sourceConfig.topMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, 0, this._config.sourceConfig.topMargin);\n            // center, both stretching\n            if (this._config.destinationConfig.drawCenter) {\n                this._drawTile(ex, this._canvasE, new Vector(this._config.width - this._config.sourceConfig.leftMargin - this._config.sourceConfig.rightMargin, this._config.height - this._config.sourceConfig.bottomMargin - this._config.sourceConfig.topMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, this._config.sourceConfig.leftMargin, this._config.sourceConfig.topMargin);\n            }\n            // middle, right, vertical stretching\n            this._drawTile(ex, this._canvasF, new Vector(this._config.sourceConfig.rightMargin, this._config.height - this._config.sourceConfig.bottomMargin - this._config.sourceConfig.topMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, this._config.width - this._config.sourceConfig.rightMargin, this._config.sourceConfig.topMargin);\n            // bottom left, no stretching\n            this._drawTile(ex, this._canvasG, new Vector(this._config.sourceConfig.leftMargin, this._config.sourceConfig.bottomMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, 0, this._config.height - this._config.sourceConfig.bottomMargin);\n            // bottom middle, horizontal stretching\n            this._drawTile(ex, this._canvasH, new Vector(this._config.width - this._config.sourceConfig.leftMargin - this._config.sourceConfig.rightMargin, this._config.sourceConfig.bottomMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, this._config.sourceConfig.leftMargin, this._config.height - this._config.sourceConfig.bottomMargin);\n            // bottom right, no stretching\n            this._drawTile(ex, this._canvasI, new Vector(this._config.sourceConfig.rightMargin, this._config.sourceConfig.bottomMargin), this._config.destinationConfig.horizontalStretch, this._config.destinationConfig.verticalStretch, this._config.width - this._config.sourceConfig.rightMargin, this._config.height - this._config.sourceConfig.bottomMargin);\n        }\n        else {\n            this._logger.warnOnce(`NineSlice ImageSource ${this._imgSource.path}` +\n                ` is not yet loaded and won't be drawn. Please call .load() or include in a Loader.\\n\\n` +\n                `Read https://excaliburjs.com/docs/imagesource for more information.`);\n        }\n    }\n    /**\n     * Slices the source sprite into the 9 slice canvases internally\n     */\n    _initialize() {\n        this._sourceSprite = this._imgSource.image;\n        // top left slice\n        this._canvasA.width = this._config.sourceConfig.leftMargin;\n        this._canvasA.height = this._config.sourceConfig.topMargin;\n        const aCtx = this._canvasA.getContext('2d');\n        aCtx === null || aCtx === void 0 ? void 0 : aCtx.drawImage(this._sourceSprite, 0, 0, this._canvasA.width, this._canvasA.height, 0, 0, this._canvasA.width, this._canvasA.height);\n        // top slice\n        this._canvasB.width = this._config.sourceConfig.width - this._config.sourceConfig.leftMargin - this._config.sourceConfig.rightMargin;\n        this._canvasB.height = this._config.sourceConfig.topMargin;\n        const bCtx = this._canvasB.getContext('2d');\n        bCtx === null || bCtx === void 0 ? void 0 : bCtx.drawImage(this._sourceSprite, this._config.sourceConfig.leftMargin, 0, this._canvasB.width, this._canvasB.height, 0, 0, this._canvasB.width, this._canvasB.height);\n        // top right slice\n        this._canvasC.width = this._config.sourceConfig.rightMargin;\n        this._canvasC.height = this._config.sourceConfig.topMargin;\n        const cCtx = this._canvasC.getContext('2d');\n        cCtx === null || cCtx === void 0 ? void 0 : cCtx.drawImage(this._sourceSprite, this._sourceSprite.width - this._config.sourceConfig.rightMargin, 0, this._canvasC.width, this._canvasC.height, 0, 0, this._canvasC.width, this._canvasC.height);\n        // middle left slice\n        this._canvasD.width = this._config.sourceConfig.leftMargin;\n        this._canvasD.height = this._config.sourceConfig.height - this._config.sourceConfig.topMargin - this._config.sourceConfig.bottomMargin;\n        const dCtx = this._canvasD.getContext('2d');\n        dCtx === null || dCtx === void 0 ? void 0 : dCtx.drawImage(this._sourceSprite, 0, this._config.sourceConfig.topMargin, this._canvasD.width, this._canvasD.height, 0, 0, this._canvasD.width, this._canvasD.height);\n        // middle slice\n        this._canvasE.width = this._config.sourceConfig.width - this._config.sourceConfig.leftMargin - this._config.sourceConfig.rightMargin;\n        this._canvasE.height = this._config.sourceConfig.height - this._config.sourceConfig.topMargin - this._config.sourceConfig.bottomMargin;\n        const eCtx = this._canvasE.getContext('2d');\n        eCtx === null || eCtx === void 0 ? void 0 : eCtx.drawImage(this._sourceSprite, this._config.sourceConfig.leftMargin, this._config.sourceConfig.topMargin, this._canvasE.width, this._canvasE.height, 0, 0, this._canvasE.width, this._canvasE.height);\n        // middle right slice\n        this._canvasF.width = this._config.sourceConfig.rightMargin;\n        this._canvasF.height = this._config.sourceConfig.height - this._config.sourceConfig.topMargin - this._config.sourceConfig.bottomMargin;\n        const fCtx = this._canvasF.getContext('2d');\n        fCtx === null || fCtx === void 0 ? void 0 : fCtx.drawImage(this._sourceSprite, this._config.sourceConfig.width - this._config.sourceConfig.rightMargin, this._config.sourceConfig.topMargin, this._canvasF.width, this._canvasF.height, 0, 0, this._canvasF.width, this._canvasF.height);\n        // bottom left slice\n        this._canvasG.width = this._config.sourceConfig.leftMargin;\n        this._canvasG.height = this._config.sourceConfig.bottomMargin;\n        const gCtx = this._canvasG.getContext('2d');\n        gCtx === null || gCtx === void 0 ? void 0 : gCtx.drawImage(this._sourceSprite, 0, this._config.sourceConfig.height - this._config.sourceConfig.bottomMargin, this._canvasG.width, this._canvasG.height, 0, 0, this._canvasG.width, this._canvasG.height);\n        // bottom slice\n        this._canvasH.width = this._config.sourceConfig.width - this._config.sourceConfig.leftMargin - this._config.sourceConfig.rightMargin;\n        this._canvasH.height = this._config.sourceConfig.bottomMargin;\n        const hCtx = this._canvasH.getContext('2d');\n        hCtx === null || hCtx === void 0 ? void 0 : hCtx.drawImage(this._sourceSprite, this._config.sourceConfig.leftMargin, this._config.sourceConfig.height - this._config.sourceConfig.bottomMargin, this._canvasH.width, this._canvasH.height, 0, 0, this._canvasH.width, this._canvasH.height);\n        // bottom right slice\n        this._canvasI.width = this._config.sourceConfig.rightMargin;\n        this._canvasI.height = this._config.sourceConfig.bottomMargin;\n        const iCtx = this._canvasI.getContext('2d');\n        iCtx === null || iCtx === void 0 ? void 0 : iCtx.drawImage(this._sourceSprite, this._sourceSprite.width - this._config.sourceConfig.rightMargin, this._config.sourceConfig.height - this._config.sourceConfig.bottomMargin, this._canvasI.width, this._canvasI.height, 0, 0, this._canvasI.width, this._canvasI.height);\n    }\n    /**\n     * Clones the 9 slice\n     */\n    clone() {\n        return new NineSlice(this._config);\n    }\n    /**\n     * Returns the number of tiles\n     */\n    _getNumberOfTiles(tileSize, destinationSize, strategy) {\n        switch (strategy) {\n            case NineSliceStretch.Stretch:\n                return 1;\n            case NineSliceStretch.Tile:\n                return Math.ceil(destinationSize / tileSize);\n            case NineSliceStretch.TileFit:\n                return Math.ceil(destinationSize / tileSize);\n        }\n    }\n    /**\n     * Returns the position and size of the tile\n     */\n    _calculateParams(tileNum, numTiles, tileSize, destinationSize, strategy) {\n        switch (strategy) {\n            case NineSliceStretch.Stretch:\n                return {\n                    tempPosition: 0,\n                    tempSize: destinationSize\n                };\n            case NineSliceStretch.Tile:\n                // if last tile, adjust size\n                if (tileNum === numTiles - 1) {\n                    //last tile\n                    return {\n                        tempPosition: tileNum * tileSize,\n                        tempSize: tileSize - (numTiles * tileSize - destinationSize)\n                    };\n                }\n                else {\n                    return {\n                        tempPosition: tileNum * tileSize,\n                        tempSize: tileSize\n                    };\n                }\n            case NineSliceStretch.TileFit:\n                const reducedTileSize = destinationSize / numTiles;\n                const position = tileNum * reducedTileSize;\n                return {\n                    tempPosition: position,\n                    tempSize: reducedTileSize\n                };\n        }\n    }\n}\n\n;// ./Graphics/TiledAnimation.ts\n\n\n\n\n\nclass TiledAnimation extends Animation {\n    constructor(options) {\n        super({\n            ...options,\n            frames: options.animation.frames.slice(),\n            strategy: options.animation.strategy,\n            frameDuration: options.animation.frameDuration,\n            speed: options.animation.speed,\n            reverse: options.animation.isReversed\n        });\n        this._ready = new Future();\n        this.ready = this._ready.promise;\n        this._tiledWidth = 0;\n        this._tiledHeight = 0;\n        this._sourceView = {};\n        this._sourceView = { ...options.sourceView };\n        this._tiledWidth = options.width;\n        this._tiledHeight = options.height;\n        const promises = [];\n        for (let i = 0; i < this.frames.length; i++) {\n            const graphic = this.frames[i].graphic;\n            if (graphic && graphic instanceof Sprite) {\n                const tiledSprite = new TiledSprite({\n                    image: graphic.image,\n                    width: options.width,\n                    height: options.height,\n                    sourceView: { ...graphic.sourceView },\n                    wrapping: options.wrapping,\n                    filtering: options.filtering\n                });\n                this.frames[i].graphic = tiledSprite;\n                // There is a new calc'd sourceView when ready\n                tiledSprite.ready.then(() => {\n                    tiledSprite.sourceView = { ...tiledSprite.sourceView, ...this._sourceView };\n                });\n                promises.push(tiledSprite.ready);\n            }\n        }\n        Promise.all(promises).then(() => this._ready.resolve());\n    }\n    static fromAnimation(animation, options) {\n        return new TiledAnimation({\n            width: animation.width,\n            height: animation.height,\n            ...options,\n            animation\n        });\n    }\n    _updateSourceView() {\n        for (let i = 0; i < this.frames.length; i++) {\n            const graphic = this.frames[i].graphic;\n            if (graphic && graphic instanceof Sprite) {\n                graphic.sourceView = { ...graphic.sourceView, ...this._sourceView };\n            }\n        }\n    }\n    get sourceView() {\n        return watch(this._sourceView, () => this._updateSourceView());\n    }\n    set sourceView(sourceView) {\n        this._sourceView = watch(sourceView, () => this._updateSourceView());\n        this._updateSourceView();\n    }\n    _updateWidthHeight() {\n        for (let i = 0; i < this.frames.length; i++) {\n            const graphic = this.frames[i].graphic;\n            if (graphic && graphic instanceof Sprite) {\n                graphic.sourceView.height = this._tiledHeight || graphic.height;\n                graphic.destSize.height = this._tiledHeight || graphic.height;\n                graphic.sourceView.width = this._tiledWidth || graphic.width;\n                graphic.destSize.width = this._tiledWidth || graphic.width;\n            }\n        }\n    }\n    get width() {\n        return this._tiledWidth;\n    }\n    get height() {\n        return this._tiledHeight;\n    }\n    set width(width) {\n        this._tiledWidth = width;\n        this._updateWidthHeight();\n    }\n    set height(height) {\n        this._tiledHeight = height;\n        this._updateWidthHeight();\n    }\n}\n\n;// ./Graphics/index.ts\n// Graphics\n\n\n\n\n\n\n\n// Graphics ECS\n\n\n\n\n\n// Raster graphics\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// TODO DELETEME\n\n\n// Post Processor\n\n\n\n\n\n\n\n// Rendering\n\n\n\n\n\n\n// Debug\n\n// Util\n\n\n\n;// ./Util/Index.ts\n\n\n\n\n\n\n\n;// ./Util/Decorators.ts\n\n\nconst maxMessages = 5;\nconst obsoleteMessage = {};\nconst resetObsoleteCounter = () => {\n    for (const message in obsoleteMessage) {\n        obsoleteMessage[message] = 0;\n    }\n};\nconst logMessage = (message, options) => {\n    const suppressObsoleteMessages = Flags.isEnabled('suppress-obsolete-message');\n    if (obsoleteMessage[message] < maxMessages && !suppressObsoleteMessages) {\n        Logger.getInstance().warn(message);\n        // tslint:disable-next-line: no-console\n        if (console.trace && options.showStackTrace) {\n            // tslint:disable-next-line: no-console\n            console.trace();\n        }\n    }\n    obsoleteMessage[message]++;\n};\n/**\n * Obsolete decorator for marking Excalibur methods obsolete, you can optionally specify a custom message and/or alternate replacement\n * method do the deprecated one. Inspired by https://github.com/jayphelps/core-decorators.js\n */\nfunction obsolete(options) {\n    options = {\n        message: 'This feature will be removed in future versions of Excalibur.',\n        alternateMethod: null,\n        showStackTrace: false,\n        ...options\n    };\n    return function (target, property, descriptor) {\n        if (descriptor &&\n            !(typeof descriptor.value === 'function' || typeof descriptor.get === 'function' || typeof descriptor.set === 'function')) {\n            throw new SyntaxError('Only classes/functions/getters/setters can be marked as obsolete');\n        }\n        const methodSignature = `${target.name || ''}${target.name && property ? '.' : ''}${property ? property : ''}`;\n        const message = `${methodSignature} is marked obsolete: ${options.message}` +\n            (options.alternateMethod ? ` Use ${options.alternateMethod} instead` : '');\n        if (!obsoleteMessage[message]) {\n            obsoleteMessage[message] = 0;\n        }\n        // If descriptor is null it is a class\n        const method = descriptor ? { ...descriptor } : target;\n        if (!descriptor) {\n            // with es2015 classes we need to change our decoration tactic\n            class DecoratedClass extends method {\n                constructor(...args) {\n                    logMessage(message, options);\n                    super(...args);\n                }\n            }\n            return DecoratedClass;\n        }\n        if (descriptor && descriptor.value) {\n            method.value = function () {\n                logMessage(message, options);\n                return descriptor.value.apply(this, arguments);\n            };\n            return method;\n        }\n        if (descriptor && descriptor.get) {\n            method.get = function () {\n                logMessage(message, options);\n                return descriptor.get.apply(this, arguments);\n            };\n        }\n        if (descriptor && descriptor.set) {\n            method.set = function () {\n                logMessage(message, options);\n                return descriptor.set.apply(this, arguments);\n            };\n        }\n        return method;\n    };\n}\n\n;// ./Util/Semaphore.ts\n\nclass AsyncWaitQueue {\n    constructor() {\n        // Code from StephenCleary https://gist.github.com/StephenCleary/ba50b2da419c03b9cba1d20cb4654d5e\n        this._queue = [];\n    }\n    get length() {\n        return this._queue.length;\n    }\n    enqueue() {\n        const future = new Future();\n        this._queue.push(future);\n        return future.promise;\n    }\n    dequeue(value) {\n        const future = this._queue.shift();\n        future.resolve(value);\n    }\n}\n/**\n * Semaphore allows you to limit the amount of async calls happening between `enter()` and `exit()`\n *\n * This can be useful when limiting the number of http calls, browser api calls, etc either for performance or to work\n * around browser limitations like max Image.decode() calls in chromium being 256.\n */\nclass Semaphore {\n    constructor(_count) {\n        this._count = _count;\n        this._waitQueue = new AsyncWaitQueue();\n    }\n    get count() {\n        return this._count;\n    }\n    get waiting() {\n        return this._waitQueue.length;\n    }\n    // eslint-disable-next-line require-await\n    async enter() {\n        if (this._count !== 0) {\n            this._count--;\n            return Promise.resolve();\n        }\n        return this._waitQueue.enqueue();\n    }\n    exit(count = 1) {\n        if (count === 0) {\n            return;\n        }\n        while (count !== 0 && this._waitQueue.length !== 0) {\n            this._waitQueue.dequeue(null);\n            count--;\n        }\n        this._count += count;\n    }\n}\n\n;// ./index.ts\n/**\n * The current Excalibur version string\n * @description `process.env.__EX_VERSION` gets replaced by Webpack on build\n */\nconst EX_VERSION = \"0.30.1\";\n\npolyfill();\n// This file is used as the bundle entry point and exports everything\n// that will be exposed as the `ex` global variable.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ex.Events namespace\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ex.Util namespaces\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ex.Deprecated\n// import * as deprecated from './Deprecated';\n// export { deprecated as Deprecated };\n// export * from './Deprecated';\n\nvar __webpack_exports__ActionCompleteEvent = __webpack_exports__.eKr;\nvar __webpack_exports__ActionContext = __webpack_exports__.yVm;\nvar __webpack_exports__ActionQueue = __webpack_exports__.a7j;\nvar __webpack_exports__ActionSequence = __webpack_exports__.U_w;\nvar __webpack_exports__ActionStartEvent = __webpack_exports__.JF2;\nvar __webpack_exports__ActionsComponent = __webpack_exports__.htg;\nvar __webpack_exports__ActionsSystem = __webpack_exports__.HXL;\nvar __webpack_exports__ActivateEvent = __webpack_exports__.mcg;\nvar __webpack_exports__Actor = __webpack_exports__.Agj;\nvar __webpack_exports__ActorEvents = __webpack_exports__.J3_;\nvar __webpack_exports__AddEvent = __webpack_exports__.Wgv;\nvar __webpack_exports__AddedComponent = __webpack_exports__.u6S;\nvar __webpack_exports__AffineMatrix = __webpack_exports__.x7M;\nvar __webpack_exports__Animation = __webpack_exports__.X55;\nvar __webpack_exports__AnimationDirection = __webpack_exports__.m3M;\nvar __webpack_exports__AnimationEvents = __webpack_exports__.aE5;\nvar __webpack_exports__AnimationStrategy = __webpack_exports__.YJU;\nvar __webpack_exports__ArcadeSolver = __webpack_exports__.eZi;\nvar __webpack_exports__AudioContextFactory = __webpack_exports__.GNv;\nvar __webpack_exports__Axes = __webpack_exports__.Y56;\nvar __webpack_exports__Axis = __webpack_exports__._0v;\nvar __webpack_exports__BaseAlign = __webpack_exports__.vhs;\nvar __webpack_exports__BezierCurve = __webpack_exports__.vrQ;\nvar __webpack_exports__Blink = __webpack_exports__.Z8b;\nvar __webpack_exports__BodyComponent = __webpack_exports__.Yfw;\nvar __webpack_exports__BoundingBox = __webpack_exports__.IcQ;\nvar __webpack_exports__BrowserComponent = __webpack_exports__.kgJ;\nvar __webpack_exports__BrowserEvents = __webpack_exports__.GTT;\nvar __webpack_exports__Buttons = __webpack_exports__.ypY;\nvar __webpack_exports__Camera = __webpack_exports__.i7d;\nvar __webpack_exports__CameraEvents = __webpack_exports__.fQ3;\nvar __webpack_exports__Canvas = __webpack_exports__.HlI;\nvar __webpack_exports__Circle = __webpack_exports__.jlt;\nvar __webpack_exports__CircleCollider = __webpack_exports__.VQc;\nvar __webpack_exports__Clock = __webpack_exports__.zD7;\nvar __webpack_exports__ClosestLineJumpTable = __webpack_exports__.AUF;\nvar __webpack_exports__Collider = __webpack_exports__.JoF;\nvar __webpack_exports__ColliderComponent = __webpack_exports__.MlA;\nvar __webpack_exports__CollisionContact = __webpack_exports__.PZh;\nvar __webpack_exports__CollisionEndEvent = __webpack_exports__.qA;\nvar __webpack_exports__CollisionGroup = __webpack_exports__.CrD;\nvar __webpack_exports__CollisionGroupManager = __webpack_exports__.dQK;\nvar __webpack_exports__CollisionJumpTable = __webpack_exports__.D3r;\nvar __webpack_exports__CollisionPostSolveEvent = __webpack_exports__.Qpo;\nvar __webpack_exports__CollisionPreSolveEvent = __webpack_exports__.D9n;\nvar __webpack_exports__CollisionStartEvent = __webpack_exports__.b6v;\nvar __webpack_exports__CollisionSystem = __webpack_exports__.mvh;\nvar __webpack_exports__CollisionType = __webpack_exports__.Bpo;\nvar __webpack_exports__Color = __webpack_exports__.Q1f;\nvar __webpack_exports__ColorBlindFlags = __webpack_exports__.IKv;\nvar __webpack_exports__ColorBlindnessMode = __webpack_exports__.fcV;\nvar __webpack_exports__ColorBlindnessPostProcessor = __webpack_exports__.Glf;\nvar __webpack_exports__Component = __webpack_exports__.uAl;\nvar __webpack_exports__CompositeCollider = __webpack_exports__.ElT;\nvar __webpack_exports__ConsoleAppender = __webpack_exports__.Z8r;\nvar __webpack_exports__ContactConstraintPoint = __webpack_exports__.QSL;\nvar __webpack_exports__ContactEndEvent = __webpack_exports__.sPV;\nvar __webpack_exports__ContactSolveBias = __webpack_exports__.nAn;\nvar __webpack_exports__ContactStartEvent = __webpack_exports__.zCU;\nvar __webpack_exports__CoordPlane = __webpack_exports__.QrV;\nvar __webpack_exports__CrossFade = __webpack_exports__.fF9;\nvar __webpack_exports__CurveBy = __webpack_exports__.Jqv;\nvar __webpack_exports__CurveTo = __webpack_exports__.d_u;\nvar __webpack_exports__DeactivateEvent = __webpack_exports__.xI8;\nvar __webpack_exports__Debug = __webpack_exports__.yar;\nvar __webpack_exports__DebugConfig = __webpack_exports__.SP7;\nvar __webpack_exports__DebugGraphicsComponent = __webpack_exports__.oRy;\nvar __webpack_exports__DebugSystem = __webpack_exports__.f5X;\nvar __webpack_exports__DebugText = __webpack_exports__.V1c;\nvar __webpack_exports__DefaultAntialiasOptions = __webpack_exports__.Mlx;\nvar __webpack_exports__DefaultGarbageCollectionOptions = __webpack_exports__.ZiM;\nvar __webpack_exports__DefaultLoader = __webpack_exports__.ZCo;\nvar __webpack_exports__DefaultPixelArtOptions = __webpack_exports__.J5p;\nvar __webpack_exports__DegreeOfFreedom = __webpack_exports__.mL_;\nvar __webpack_exports__Delay = __webpack_exports__.Guw;\nvar __webpack_exports__Detector = __webpack_exports__.N5j;\nvar __webpack_exports__Die = __webpack_exports__.pgY;\nvar __webpack_exports__Direction = __webpack_exports__.OP3;\nvar __webpack_exports__Director = __webpack_exports__.rl5;\nvar __webpack_exports__DirectorEvents = __webpack_exports__.eod;\nvar __webpack_exports__DisplayMode = __webpack_exports__.q5Z;\nvar __webpack_exports__DynamicTree = __webpack_exports__.YUC;\nvar __webpack_exports__DynamicTreeCollisionProcessor = __webpack_exports__.saR;\nvar __webpack_exports__EX_VERSION = __webpack_exports__.hvr;\nvar __webpack_exports__EaseBy = __webpack_exports__.Qol;\nvar __webpack_exports__EaseTo = __webpack_exports__.Wf4;\nvar __webpack_exports__EasingFunctions = __webpack_exports__.JCs;\nvar __webpack_exports__EdgeCollider = __webpack_exports__.gJV;\nvar __webpack_exports__ElasticToActorStrategy = __webpack_exports__.fWD;\nvar __webpack_exports__EmitterType = __webpack_exports__.Va_;\nvar __webpack_exports__Engine = __webpack_exports__.N$8;\nvar __webpack_exports__EngineEvents = __webpack_exports__._jQ;\nvar __webpack_exports__EnterTriggerEvent = __webpack_exports__.rxj;\nvar __webpack_exports__EnterViewPortEvent = __webpack_exports__.rhv;\nvar __webpack_exports__Entity = __webpack_exports__.wCu;\nvar __webpack_exports__EntityEvents = __webpack_exports__.HAp;\nvar __webpack_exports__EntityManager = __webpack_exports__.Zy1;\nvar __webpack_exports__EventEmitter = __webpack_exports__.bkB;\nvar __webpack_exports__EventTypes = __webpack_exports__.wfL;\nvar __webpack_exports__Events = __webpack_exports__.sVA;\nvar __webpack_exports__ExResponse = __webpack_exports__.$Gs;\nvar __webpack_exports__ExcaliburGraphicsContext2DCanvas = __webpack_exports__.CJ0;\nvar __webpack_exports__ExcaliburGraphicsContextWebGL = __webpack_exports__.NWh;\nvar __webpack_exports__ExitTriggerEvent = __webpack_exports__.tWi;\nvar __webpack_exports__ExitViewPortEvent = __webpack_exports__.xAj;\nvar __webpack_exports__Fade = __webpack_exports__.zWh;\nvar __webpack_exports__FadeInOut = __webpack_exports__.i_4;\nvar __webpack_exports__Flags = __webpack_exports__.iIx;\nvar __webpack_exports__Flash = __webpack_exports__.Hxo;\nvar __webpack_exports__Follow = __webpack_exports__.c9e;\nvar __webpack_exports__Font = __webpack_exports__.KQV;\nvar __webpack_exports__FontCache = __webpack_exports__.weH;\nvar __webpack_exports__FontSource = __webpack_exports__.jXp;\nvar __webpack_exports__FontStyle = __webpack_exports__.zzY;\nvar __webpack_exports__FontUnit = __webpack_exports__.yRQ;\nvar __webpack_exports__FpsSampler = __webpack_exports__.MtE;\nvar __webpack_exports__FrameStats = __webpack_exports__.rPj;\nvar __webpack_exports__Future = __webpack_exports__.KLc;\nvar __webpack_exports__GameEvent = __webpack_exports__.Fir;\nvar __webpack_exports__GameStartEvent = __webpack_exports__.V5f;\nvar __webpack_exports__GameStopEvent = __webpack_exports__.Xj7;\nvar __webpack_exports__Gamepad = __webpack_exports__.Wud;\nvar __webpack_exports__GamepadAxisEvent = __webpack_exports__.FVg;\nvar __webpack_exports__GamepadButtonEvent = __webpack_exports__.g5Y;\nvar __webpack_exports__GamepadConnectEvent = __webpack_exports__.YQB;\nvar __webpack_exports__GamepadDisconnectEvent = __webpack_exports__.KPb;\nvar __webpack_exports__Gamepads = __webpack_exports__.nHK;\nvar __webpack_exports__GarbageCollector = __webpack_exports__.Jrb;\nvar __webpack_exports__Gif = __webpack_exports__.TX_;\nvar __webpack_exports__GifParser = __webpack_exports__.Olt;\nvar __webpack_exports__GlobalCoordinates = __webpack_exports__.r3n;\nvar __webpack_exports__GpuParticleEmitter = __webpack_exports__.Fvk;\nvar __webpack_exports__GpuParticleRenderer = __webpack_exports__.gpR;\nvar __webpack_exports__Graphic = __webpack_exports__.vYh;\nvar __webpack_exports__GraphicsComponent = __webpack_exports__.hnk;\nvar __webpack_exports__GraphicsGroup = __webpack_exports__.D2R;\nvar __webpack_exports__GraphicsSystem = __webpack_exports__.n1o;\nvar __webpack_exports__HashColliderProxy = __webpack_exports__.h9O;\nvar __webpack_exports__HashGridCell = __webpack_exports__.X5j;\nvar __webpack_exports__HashGridProxy = __webpack_exports__.p3P;\nvar __webpack_exports__HiddenEvent = __webpack_exports__.RLG;\nvar __webpack_exports__HorizontalFirst = __webpack_exports__.fBU;\nvar __webpack_exports__ImageFiltering = __webpack_exports__.Adb;\nvar __webpack_exports__ImageSource = __webpack_exports__.bEs;\nvar __webpack_exports__ImageSourceAttributeConstants = __webpack_exports__.wCy;\nvar __webpack_exports__ImageWrapping = __webpack_exports__.CbD;\nvar __webpack_exports__InitializeEvent = __webpack_exports__.x_C;\nvar __webpack_exports__InputHost = __webpack_exports__.pGf;\nvar __webpack_exports__InputMapper = __webpack_exports__.ibQ;\nvar __webpack_exports__IsometricEntityComponent = __webpack_exports__.shR;\nvar __webpack_exports__IsometricEntitySystem = __webpack_exports__.Yjk;\nvar __webpack_exports__IsometricMap = __webpack_exports__._u1;\nvar __webpack_exports__IsometricTile = __webpack_exports__.OBI;\nvar __webpack_exports__KeyEvent = __webpack_exports__.klh;\nvar __webpack_exports__Keyboard = __webpack_exports__.s3S;\nvar __webpack_exports__Keys = __webpack_exports__.D$R;\nvar __webpack_exports__KillEvent = __webpack_exports__.xth;\nvar __webpack_exports__Label = __webpack_exports__.JU7;\nvar __webpack_exports__LimitCameraBoundsStrategy = __webpack_exports__.h9x;\nvar __webpack_exports__Line = __webpack_exports__.N1A;\nvar __webpack_exports__LineSegment = __webpack_exports__.e_k;\nvar __webpack_exports__Loader = __webpack_exports__.aHM;\nvar __webpack_exports__LoaderEvents = __webpack_exports__.tlv;\nvar __webpack_exports__LockCameraToActorAxisStrategy = __webpack_exports__.Vi9;\nvar __webpack_exports__LockCameraToActorStrategy = __webpack_exports__.ieR;\nvar __webpack_exports__LogLevel = __webpack_exports__.$bb;\nvar __webpack_exports__Logger = __webpack_exports__.VyI;\nvar __webpack_exports__Material = __webpack_exports__.imn;\nvar __webpack_exports__Matrix = __webpack_exports__.uqu;\nvar __webpack_exports__MatrixLocations = __webpack_exports__.QnL;\nvar __webpack_exports__MediaEvent = __webpack_exports__.vnc;\nvar __webpack_exports__Meet = __webpack_exports__.wk_;\nvar __webpack_exports__MotionComponent = __webpack_exports__.GH0;\nvar __webpack_exports__MotionSystem = __webpack_exports__._1r;\nvar __webpack_exports__MoveBy = __webpack_exports__.l0X;\nvar __webpack_exports__MoveByWithOptions = __webpack_exports__.bT;\nvar __webpack_exports__MoveTo = __webpack_exports__.HHX;\nvar __webpack_exports__MoveToWithOptions = __webpack_exports__.jtW;\nvar __webpack_exports__NativePointerButton = __webpack_exports__.tjk;\nvar __webpack_exports__NativeSoundEvent = __webpack_exports__.rWe;\nvar __webpack_exports__NativeSoundProcessedEvent = __webpack_exports__.j9l;\nvar __webpack_exports__NineSlice = __webpack_exports__.l0$;\nvar __webpack_exports__NineSliceStretch = __webpack_exports__.sGJ;\nvar __webpack_exports__None = __webpack_exports__.NVp;\nvar __webpack_exports__Observable = __webpack_exports__.cPK;\nvar __webpack_exports__OffscreenSystem = __webpack_exports__.XoL;\nvar __webpack_exports__Pair = __webpack_exports__.RmF;\nvar __webpack_exports__ParallaxComponent = __webpack_exports__.DXI;\nvar __webpack_exports__ParallelActions = __webpack_exports__.tCD;\nvar __webpack_exports__Particle = __webpack_exports__.J3D;\nvar __webpack_exports__ParticleEmitter = __webpack_exports__.vCJ;\nvar __webpack_exports__ParticleRenderer = __webpack_exports__.e6k;\nvar __webpack_exports__ParticleTransform = __webpack_exports__.f9l;\nvar __webpack_exports__PhysicsStats = __webpack_exports__.v9m;\nvar __webpack_exports__PhysicsWorld = __webpack_exports__.yRJ;\nvar __webpack_exports__PointerAbstraction = __webpack_exports__.EU6;\nvar __webpack_exports__PointerButton = __webpack_exports__.m3O;\nvar __webpack_exports__PointerComponent = __webpack_exports__.Ryz;\nvar __webpack_exports__PointerEvent = __webpack_exports__.OxP;\nvar __webpack_exports__PointerEventReceiver = __webpack_exports__.LEs;\nvar __webpack_exports__PointerScope = __webpack_exports__.Ec;\nvar __webpack_exports__PointerSystem = __webpack_exports__.Pi5;\nvar __webpack_exports__PointerType = __webpack_exports__.gmH;\nvar __webpack_exports__Polygon = __webpack_exports__.tS;\nvar __webpack_exports__PolygonCollider = __webpack_exports__.XxX;\nvar __webpack_exports__Pool = __webpack_exports__.bCz;\nvar __webpack_exports__PostCollisionEvent = __webpack_exports__.nYS;\nvar __webpack_exports__PostDebugDrawEvent = __webpack_exports__.yiT;\nvar __webpack_exports__PostDrawEvent = __webpack_exports__.NHl;\nvar __webpack_exports__PostFrameEvent = __webpack_exports__.mO8;\nvar __webpack_exports__PostKillEvent = __webpack_exports__.PXI;\nvar __webpack_exports__PostTransformDrawEvent = __webpack_exports__.bn5;\nvar __webpack_exports__PostUpdateEvent = __webpack_exports__.Ywr;\nvar __webpack_exports__PreCollisionEvent = __webpack_exports__.cMd;\nvar __webpack_exports__PreDebugDrawEvent = __webpack_exports__.Bs6;\nvar __webpack_exports__PreDrawEvent = __webpack_exports__.G0k;\nvar __webpack_exports__PreFrameEvent = __webpack_exports__.pyn;\nvar __webpack_exports__PreKillEvent = __webpack_exports__.QeM;\nvar __webpack_exports__PreLoadEvent = __webpack_exports__.aPX;\nvar __webpack_exports__PreTransformDrawEvent = __webpack_exports__.ITP;\nvar __webpack_exports__PreUpdateEvent = __webpack_exports__.BY0;\nvar __webpack_exports__Projection = __webpack_exports__.MFw;\nvar __webpack_exports__QuadIndexBuffer = __webpack_exports__.sBn;\nvar __webpack_exports__QuadTree = __webpack_exports__.S3L;\nvar __webpack_exports__Query = __webpack_exports__.XKQ;\nvar __webpack_exports__QueryManager = __webpack_exports__.ESI;\nvar __webpack_exports__RadiusAroundActorStrategy = __webpack_exports__.uxz;\nvar __webpack_exports__Random = __webpack_exports__.o8N;\nvar __webpack_exports__Raster = __webpack_exports__.u_r;\nvar __webpack_exports__Ray = __webpack_exports__.RlV;\nvar __webpack_exports__RealisticSolver = __webpack_exports__.gVA;\nvar __webpack_exports__Rectangle = __webpack_exports__.M_G;\nvar __webpack_exports__RemoveEvent = __webpack_exports__.BpG;\nvar __webpack_exports__RemovedComponent = __webpack_exports__.GRB;\nvar __webpack_exports__Repeat = __webpack_exports__.kM6;\nvar __webpack_exports__RepeatForever = __webpack_exports__.dO8;\nvar __webpack_exports__Resolution = __webpack_exports__.jgM;\nvar __webpack_exports__Resource = __webpack_exports__.FWq;\nvar __webpack_exports__ResourceEvents = __webpack_exports__.s3j;\nvar __webpack_exports__RotateBy = __webpack_exports__.hlw;\nvar __webpack_exports__RotateByWithOptions = __webpack_exports__.L0q;\nvar __webpack_exports__RotateTo = __webpack_exports__.B7e;\nvar __webpack_exports__RotateToWithOptions = __webpack_exports__.PGN;\nvar __webpack_exports__RotationType = __webpack_exports__.H_X;\nvar __webpack_exports__ScaleBy = __webpack_exports__.S_d;\nvar __webpack_exports__ScaleByWithOptions = __webpack_exports__._Tq;\nvar __webpack_exports__ScaleTo = __webpack_exports__.U7E;\nvar __webpack_exports__ScaleToWithOptions = __webpack_exports__.IOH;\nvar __webpack_exports__Scene = __webpack_exports__.Z58;\nvar __webpack_exports__SceneEvents = __webpack_exports__.yh2;\nvar __webpack_exports__Screen = __webpack_exports__.ff$;\nvar __webpack_exports__ScreenAppender = __webpack_exports__.cWi;\nvar __webpack_exports__ScreenElement = __webpack_exports__.NBt;\nvar __webpack_exports__ScreenEvents = __webpack_exports__.oNz;\nvar __webpack_exports__ScreenShader = __webpack_exports__.QlU;\nvar __webpack_exports__ScrollPreventionMode = __webpack_exports__.Xey;\nvar __webpack_exports__Semaphore = __webpack_exports__.jft;\nvar __webpack_exports__SeparatingAxis = __webpack_exports__._r8;\nvar __webpack_exports__SeparationInfo = __webpack_exports__.bTC;\nvar __webpack_exports__Shader = __webpack_exports__.Mtr;\nvar __webpack_exports__Shape = __webpack_exports__.ypk;\nvar __webpack_exports__Side = __webpack_exports__.mnM;\nvar __webpack_exports__Slide = __webpack_exports__.q7S;\nvar __webpack_exports__SolverStrategy = __webpack_exports__.bAZ;\nvar __webpack_exports__Sound = __webpack_exports__.ABN;\nvar __webpack_exports__SoundEvents = __webpack_exports__.VK6;\nvar __webpack_exports__SparseHashGrid = __webpack_exports__.Hj2;\nvar __webpack_exports__SparseHashGridCollisionProcessor = __webpack_exports__.Df8;\nvar __webpack_exports__SpatialPartitionStrategy = __webpack_exports__.oOx;\nvar __webpack_exports__Sprite = __webpack_exports__.kxk;\nvar __webpack_exports__SpriteFont = __webpack_exports__.DT1;\nvar __webpack_exports__SpriteSheet = __webpack_exports__.FLG;\nvar __webpack_exports__StandardClock = __webpack_exports__.qN_;\nvar __webpack_exports__StateMachine = __webpack_exports__.Z37;\nvar __webpack_exports__StrategyContainer = __webpack_exports__.FtL;\nvar __webpack_exports__Stream = __webpack_exports__.Z6X;\nvar __webpack_exports__System = __webpack_exports__.iQT;\nvar __webpack_exports__SystemManager = __webpack_exports__.ziO;\nvar __webpack_exports__SystemPriority = __webpack_exports__.OEF;\nvar __webpack_exports__SystemType = __webpack_exports__.uuE;\nvar __webpack_exports__TagQuery = __webpack_exports__.tiv;\nvar __webpack_exports__TestClock = __webpack_exports__.T$Y;\nvar __webpack_exports__Text = __webpack_exports__.EYj;\nvar __webpack_exports__TextAlign = __webpack_exports__.nOB;\nvar __webpack_exports__TextureLoader = __webpack_exports__.Tap;\nvar __webpack_exports__Tile = __webpack_exports__.FAs;\nvar __webpack_exports__TileMap = __webpack_exports__.B_P;\nvar __webpack_exports__TileMapEvents = __webpack_exports__.aA5;\nvar __webpack_exports__TiledAnimation = __webpack_exports__.J3s;\nvar __webpack_exports__TiledSprite = __webpack_exports__.Y0Q;\nvar __webpack_exports__Timer = __webpack_exports__.M4G;\nvar __webpack_exports__Toaster = __webpack_exports__.l$l;\nvar __webpack_exports__Transform = __webpack_exports__.dLy;\nvar __webpack_exports__TransformComponent = __webpack_exports__.WZP;\nvar __webpack_exports__Transition = __webpack_exports__.eB6;\nvar __webpack_exports__TreeNode = __webpack_exports__.nFK;\nvar __webpack_exports__Trigger = __webpack_exports__.l9z;\nvar __webpack_exports__TriggerEvents = __webpack_exports__.YOF;\nvar __webpack_exports__TwoPI = __webpack_exports__.yhB;\nvar __webpack_exports__Util = __webpack_exports__.J0N;\nvar __webpack_exports__Vector = __webpack_exports__.Miz;\nvar __webpack_exports__VectorView = __webpack_exports__.Bj4;\nvar __webpack_exports__VertexBuffer = __webpack_exports__.Rcs;\nvar __webpack_exports__VertexLayout = __webpack_exports__.vJ4;\nvar __webpack_exports__VerticalFirst = __webpack_exports__.TqC;\nvar __webpack_exports__VisibleEvent = __webpack_exports__.nM0;\nvar __webpack_exports__WebAudio = __webpack_exports__.X1u;\nvar __webpack_exports__WebAudioInstance = __webpack_exports__.SpZ;\nvar __webpack_exports__WheelDeltaMode = __webpack_exports__.DX8;\nvar __webpack_exports__WheelEvent = __webpack_exports__.Yx$;\nvar __webpack_exports__World = __webpack_exports__.HK4;\nvar __webpack_exports__approximatelyEqual = __webpack_exports__.yt5;\nvar __webpack_exports__assert = __webpack_exports__.vAR;\nvar __webpack_exports__canonicalizeAngle = __webpack_exports__.SE$;\nvar __webpack_exports__clamp = __webpack_exports__.qE8;\nvar __webpack_exports__coroutine = __webpack_exports__.Pz7;\nvar __webpack_exports__createId = __webpack_exports__.sX_;\nvar __webpack_exports__frac = __webpack_exports__.JuI;\nvar __webpack_exports__getDefaultPhysicsConfig = __webpack_exports__.pxT;\nvar __webpack_exports__hasGraphicsTick = __webpack_exports__.Nl$;\nvar __webpack_exports__hasOnAdd = __webpack_exports__.zDr;\nvar __webpack_exports__hasOnInitialize = __webpack_exports__.OwT;\nvar __webpack_exports__hasOnPostUpdate = __webpack_exports__.P$G;\nvar __webpack_exports__hasOnPreUpdate = __webpack_exports__.mHV;\nvar __webpack_exports__hasOnRemove = __webpack_exports__.kEA;\nvar __webpack_exports__hasPostDraw = __webpack_exports__.Fx_;\nvar __webpack_exports__hasPreDraw = __webpack_exports__.WFC;\nvar __webpack_exports__has_add = __webpack_exports__.vKu;\nvar __webpack_exports__has_initialize = __webpack_exports__.aDq;\nvar __webpack_exports__has_postupdate = __webpack_exports__.jIg;\nvar __webpack_exports__has_preupdate = __webpack_exports__.UH3;\nvar __webpack_exports__has_remove = __webpack_exports__.AJO;\nvar __webpack_exports__inverseLerp = __webpack_exports__.U4;\nvar __webpack_exports__inverseLerpVector = __webpack_exports__.xAc;\nvar __webpack_exports__isActor = __webpack_exports__._3Y;\nvar __webpack_exports__isAddedComponent = __webpack_exports__.K6X;\nvar __webpack_exports__isComponentCtor = __webpack_exports__.C1Y;\nvar __webpack_exports__isLoaderConstructor = __webpack_exports__.Aw1;\nvar __webpack_exports__isMoveByOptions = __webpack_exports__.tm8;\nvar __webpack_exports__isMoveToOptions = __webpack_exports__.LBV;\nvar __webpack_exports__isRemovedComponent = __webpack_exports__.A8$;\nvar __webpack_exports__isRotateByOptions = __webpack_exports__.F5e;\nvar __webpack_exports__isRotateToOptions = __webpack_exports__.ran;\nvar __webpack_exports__isScaleByOptions = __webpack_exports__.c8L;\nvar __webpack_exports__isScaleToOptions = __webpack_exports__.o6M;\nvar __webpack_exports__isSceneConstructor = __webpack_exports__.hsx;\nvar __webpack_exports__isScreenElement = __webpack_exports__.l9E;\nvar __webpack_exports__isSystemConstructor = __webpack_exports__.aSf;\nvar __webpack_exports__lerp = __webpack_exports__.CcK;\nvar __webpack_exports__lerpAngle = __webpack_exports__.nU8;\nvar __webpack_exports__lerpVector = __webpack_exports__.td6;\nvar __webpack_exports__maxMessages = __webpack_exports__.Zex;\nvar __webpack_exports__nextActionId = __webpack_exports__.bkJ;\nvar __webpack_exports__obsolete = __webpack_exports__.mXP;\nvar __webpack_exports__parseImageFiltering = __webpack_exports__.vt$;\nvar __webpack_exports__parseImageWrapping = __webpack_exports__.hCA;\nvar __webpack_exports__pixelSnapEpsilon = __webpack_exports__.pjR;\nvar __webpack_exports__randomInRange = __webpack_exports__.U43;\nvar __webpack_exports__randomIntInRange = __webpack_exports__.pSZ;\nvar __webpack_exports__range = __webpack_exports__.y17;\nvar __webpack_exports__remap = __webpack_exports__.Ew7;\nvar __webpack_exports__remapVector = __webpack_exports__.hG1;\nvar __webpack_exports__resetObsoleteCounter = __webpack_exports__.jVr;\nvar __webpack_exports__sign = __webpack_exports__._SZ;\nvar __webpack_exports__toDegrees = __webpack_exports__.xWn;\nvar __webpack_exports__toRadians = __webpack_exports__.ehJ;\nvar __webpack_exports__vec = __webpack_exports__.t6s;\nvar __webpack_exports__webgl = __webpack_exports__.Eyn;\nexport { __webpack_exports__ActionCompleteEvent as ActionCompleteEvent, __webpack_exports__ActionContext as ActionContext, __webpack_exports__ActionQueue as ActionQueue, __webpack_exports__ActionSequence as ActionSequence, __webpack_exports__ActionStartEvent as ActionStartEvent, __webpack_exports__ActionsComponent as ActionsComponent, __webpack_exports__ActionsSystem as ActionsSystem, __webpack_exports__ActivateEvent as ActivateEvent, __webpack_exports__Actor as Actor, __webpack_exports__ActorEvents as ActorEvents, __webpack_exports__AddEvent as AddEvent, __webpack_exports__AddedComponent as AddedComponent, __webpack_exports__AffineMatrix as AffineMatrix, __webpack_exports__Animation as Animation, __webpack_exports__AnimationDirection as AnimationDirection, __webpack_exports__AnimationEvents as AnimationEvents, __webpack_exports__AnimationStrategy as AnimationStrategy, __webpack_exports__ArcadeSolver as ArcadeSolver, __webpack_exports__AudioContextFactory as AudioContextFactory, __webpack_exports__Axes as Axes, __webpack_exports__Axis as Axis, __webpack_exports__BaseAlign as BaseAlign, __webpack_exports__BezierCurve as BezierCurve, __webpack_exports__Blink as Blink, __webpack_exports__BodyComponent as BodyComponent, __webpack_exports__BoundingBox as BoundingBox, __webpack_exports__BrowserComponent as BrowserComponent, __webpack_exports__BrowserEvents as BrowserEvents, __webpack_exports__Buttons as Buttons, __webpack_exports__Camera as Camera, __webpack_exports__CameraEvents as CameraEvents, __webpack_exports__Canvas as Canvas, __webpack_exports__Circle as Circle, __webpack_exports__CircleCollider as CircleCollider, __webpack_exports__Clock as Clock, __webpack_exports__ClosestLineJumpTable as ClosestLineJumpTable, __webpack_exports__Collider as Collider, __webpack_exports__ColliderComponent as ColliderComponent, __webpack_exports__CollisionContact as CollisionContact, __webpack_exports__CollisionEndEvent as CollisionEndEvent, __webpack_exports__CollisionGroup as CollisionGroup, __webpack_exports__CollisionGroupManager as CollisionGroupManager, __webpack_exports__CollisionJumpTable as CollisionJumpTable, __webpack_exports__CollisionPostSolveEvent as CollisionPostSolveEvent, __webpack_exports__CollisionPreSolveEvent as CollisionPreSolveEvent, __webpack_exports__CollisionStartEvent as CollisionStartEvent, __webpack_exports__CollisionSystem as CollisionSystem, __webpack_exports__CollisionType as CollisionType, __webpack_exports__Color as Color, __webpack_exports__ColorBlindFlags as ColorBlindFlags, __webpack_exports__ColorBlindnessMode as ColorBlindnessMode, __webpack_exports__ColorBlindnessPostProcessor as ColorBlindnessPostProcessor, __webpack_exports__Component as Component, __webpack_exports__CompositeCollider as CompositeCollider, __webpack_exports__ConsoleAppender as ConsoleAppender, __webpack_exports__ContactConstraintPoint as ContactConstraintPoint, __webpack_exports__ContactEndEvent as ContactEndEvent, __webpack_exports__ContactSolveBias as ContactSolveBias, __webpack_exports__ContactStartEvent as ContactStartEvent, __webpack_exports__CoordPlane as CoordPlane, __webpack_exports__CrossFade as CrossFade, __webpack_exports__CurveBy as CurveBy, __webpack_exports__CurveTo as CurveTo, __webpack_exports__DeactivateEvent as DeactivateEvent, __webpack_exports__Debug as Debug, __webpack_exports__DebugConfig as DebugConfig, __webpack_exports__DebugGraphicsComponent as DebugGraphicsComponent, __webpack_exports__DebugSystem as DebugSystem, __webpack_exports__DebugText as DebugText, __webpack_exports__DefaultAntialiasOptions as DefaultAntialiasOptions, __webpack_exports__DefaultGarbageCollectionOptions as DefaultGarbageCollectionOptions, __webpack_exports__DefaultLoader as DefaultLoader, __webpack_exports__DefaultPixelArtOptions as DefaultPixelArtOptions, __webpack_exports__DegreeOfFreedom as DegreeOfFreedom, __webpack_exports__Delay as Delay, __webpack_exports__Detector as Detector, __webpack_exports__Die as Die, __webpack_exports__Direction as Direction, __webpack_exports__Director as Director, __webpack_exports__DirectorEvents as DirectorEvents, __webpack_exports__DisplayMode as DisplayMode, __webpack_exports__DynamicTree as DynamicTree, __webpack_exports__DynamicTreeCollisionProcessor as DynamicTreeCollisionProcessor, __webpack_exports__EX_VERSION as EX_VERSION, __webpack_exports__EaseBy as EaseBy, __webpack_exports__EaseTo as EaseTo, __webpack_exports__EasingFunctions as EasingFunctions, __webpack_exports__EdgeCollider as EdgeCollider, __webpack_exports__ElasticToActorStrategy as ElasticToActorStrategy, __webpack_exports__EmitterType as EmitterType, __webpack_exports__Engine as Engine, __webpack_exports__EngineEvents as EngineEvents, __webpack_exports__EnterTriggerEvent as EnterTriggerEvent, __webpack_exports__EnterViewPortEvent as EnterViewPortEvent, __webpack_exports__Entity as Entity, __webpack_exports__EntityEvents as EntityEvents, __webpack_exports__EntityManager as EntityManager, __webpack_exports__EventEmitter as EventEmitter, __webpack_exports__EventTypes as EventTypes, __webpack_exports__Events as Events, __webpack_exports__ExResponse as ExResponse, __webpack_exports__ExcaliburGraphicsContext2DCanvas as ExcaliburGraphicsContext2DCanvas, __webpack_exports__ExcaliburGraphicsContextWebGL as ExcaliburGraphicsContextWebGL, __webpack_exports__ExitTriggerEvent as ExitTriggerEvent, __webpack_exports__ExitViewPortEvent as ExitViewPortEvent, __webpack_exports__Fade as Fade, __webpack_exports__FadeInOut as FadeInOut, __webpack_exports__Flags as Flags, __webpack_exports__Flash as Flash, __webpack_exports__Follow as Follow, __webpack_exports__Font as Font, __webpack_exports__FontCache as FontCache, __webpack_exports__FontSource as FontSource, __webpack_exports__FontStyle as FontStyle, __webpack_exports__FontUnit as FontUnit, __webpack_exports__FpsSampler as FpsSampler, __webpack_exports__FrameStats as FrameStats, __webpack_exports__Future as Future, __webpack_exports__GameEvent as GameEvent, __webpack_exports__GameStartEvent as GameStartEvent, __webpack_exports__GameStopEvent as GameStopEvent, __webpack_exports__Gamepad as Gamepad, __webpack_exports__GamepadAxisEvent as GamepadAxisEvent, __webpack_exports__GamepadButtonEvent as GamepadButtonEvent, __webpack_exports__GamepadConnectEvent as GamepadConnectEvent, __webpack_exports__GamepadDisconnectEvent as GamepadDisconnectEvent, __webpack_exports__Gamepads as Gamepads, __webpack_exports__GarbageCollector as GarbageCollector, __webpack_exports__Gif as Gif, __webpack_exports__GifParser as GifParser, __webpack_exports__GlobalCoordinates as GlobalCoordinates, __webpack_exports__GpuParticleEmitter as GpuParticleEmitter, __webpack_exports__GpuParticleRenderer as GpuParticleRenderer, __webpack_exports__Graphic as Graphic, __webpack_exports__GraphicsComponent as GraphicsComponent, __webpack_exports__GraphicsGroup as GraphicsGroup, __webpack_exports__GraphicsSystem as GraphicsSystem, __webpack_exports__HashColliderProxy as HashColliderProxy, __webpack_exports__HashGridCell as HashGridCell, __webpack_exports__HashGridProxy as HashGridProxy, __webpack_exports__HiddenEvent as HiddenEvent, __webpack_exports__HorizontalFirst as HorizontalFirst, __webpack_exports__ImageFiltering as ImageFiltering, __webpack_exports__ImageSource as ImageSource, __webpack_exports__ImageSourceAttributeConstants as ImageSourceAttributeConstants, __webpack_exports__ImageWrapping as ImageWrapping, __webpack_exports__InitializeEvent as InitializeEvent, __webpack_exports__InputHost as InputHost, __webpack_exports__InputMapper as InputMapper, __webpack_exports__IsometricEntityComponent as IsometricEntityComponent, __webpack_exports__IsometricEntitySystem as IsometricEntitySystem, __webpack_exports__IsometricMap as IsometricMap, __webpack_exports__IsometricTile as IsometricTile, __webpack_exports__KeyEvent as KeyEvent, __webpack_exports__Keyboard as Keyboard, __webpack_exports__Keys as Keys, __webpack_exports__KillEvent as KillEvent, __webpack_exports__Label as Label, __webpack_exports__LimitCameraBoundsStrategy as LimitCameraBoundsStrategy, __webpack_exports__Line as Line, __webpack_exports__LineSegment as LineSegment, __webpack_exports__Loader as Loader, __webpack_exports__LoaderEvents as LoaderEvents, __webpack_exports__LockCameraToActorAxisStrategy as LockCameraToActorAxisStrategy, __webpack_exports__LockCameraToActorStrategy as LockCameraToActorStrategy, __webpack_exports__LogLevel as LogLevel, __webpack_exports__Logger as Logger, __webpack_exports__Material as Material, __webpack_exports__Matrix as Matrix, __webpack_exports__MatrixLocations as MatrixLocations, __webpack_exports__MediaEvent as MediaEvent, __webpack_exports__Meet as Meet, __webpack_exports__MotionComponent as MotionComponent, __webpack_exports__MotionSystem as MotionSystem, __webpack_exports__MoveBy as MoveBy, __webpack_exports__MoveByWithOptions as MoveByWithOptions, __webpack_exports__MoveTo as MoveTo, __webpack_exports__MoveToWithOptions as MoveToWithOptions, __webpack_exports__NativePointerButton as NativePointerButton, __webpack_exports__NativeSoundEvent as NativeSoundEvent, __webpack_exports__NativeSoundProcessedEvent as NativeSoundProcessedEvent, __webpack_exports__NineSlice as NineSlice, __webpack_exports__NineSliceStretch as NineSliceStretch, __webpack_exports__None as None, __webpack_exports__Observable as Observable, __webpack_exports__OffscreenSystem as OffscreenSystem, __webpack_exports__Pair as Pair, __webpack_exports__ParallaxComponent as ParallaxComponent, __webpack_exports__ParallelActions as ParallelActions, __webpack_exports__Particle as Particle, __webpack_exports__ParticleEmitter as ParticleEmitter, __webpack_exports__ParticleRenderer as ParticleRenderer, __webpack_exports__ParticleTransform as ParticleTransform, __webpack_exports__PhysicsStats as PhysicsStats, __webpack_exports__PhysicsWorld as PhysicsWorld, __webpack_exports__PointerAbstraction as PointerAbstraction, __webpack_exports__PointerButton as PointerButton, __webpack_exports__PointerComponent as PointerComponent, __webpack_exports__PointerEvent as PointerEvent, __webpack_exports__PointerEventReceiver as PointerEventReceiver, __webpack_exports__PointerScope as PointerScope, __webpack_exports__PointerSystem as PointerSystem, __webpack_exports__PointerType as PointerType, __webpack_exports__Polygon as Polygon, __webpack_exports__PolygonCollider as PolygonCollider, __webpack_exports__Pool as Pool, __webpack_exports__PostCollisionEvent as PostCollisionEvent, __webpack_exports__PostDebugDrawEvent as PostDebugDrawEvent, __webpack_exports__PostDrawEvent as PostDrawEvent, __webpack_exports__PostFrameEvent as PostFrameEvent, __webpack_exports__PostKillEvent as PostKillEvent, __webpack_exports__PostTransformDrawEvent as PostTransformDrawEvent, __webpack_exports__PostUpdateEvent as PostUpdateEvent, __webpack_exports__PreCollisionEvent as PreCollisionEvent, __webpack_exports__PreDebugDrawEvent as PreDebugDrawEvent, __webpack_exports__PreDrawEvent as PreDrawEvent, __webpack_exports__PreFrameEvent as PreFrameEvent, __webpack_exports__PreKillEvent as PreKillEvent, __webpack_exports__PreLoadEvent as PreLoadEvent, __webpack_exports__PreTransformDrawEvent as PreTransformDrawEvent, __webpack_exports__PreUpdateEvent as PreUpdateEvent, __webpack_exports__Projection as Projection, __webpack_exports__QuadIndexBuffer as QuadIndexBuffer, __webpack_exports__QuadTree as QuadTree, __webpack_exports__Query as Query, __webpack_exports__QueryManager as QueryManager, __webpack_exports__RadiusAroundActorStrategy as RadiusAroundActorStrategy, __webpack_exports__Random as Random, __webpack_exports__Raster as Raster, __webpack_exports__Ray as Ray, __webpack_exports__RealisticSolver as RealisticSolver, __webpack_exports__Rectangle as Rectangle, __webpack_exports__RemoveEvent as RemoveEvent, __webpack_exports__RemovedComponent as RemovedComponent, __webpack_exports__Repeat as Repeat, __webpack_exports__RepeatForever as RepeatForever, __webpack_exports__Resolution as Resolution, __webpack_exports__Resource as Resource, __webpack_exports__ResourceEvents as ResourceEvents, __webpack_exports__RotateBy as RotateBy, __webpack_exports__RotateByWithOptions as RotateByWithOptions, __webpack_exports__RotateTo as RotateTo, __webpack_exports__RotateToWithOptions as RotateToWithOptions, __webpack_exports__RotationType as RotationType, __webpack_exports__ScaleBy as ScaleBy, __webpack_exports__ScaleByWithOptions as ScaleByWithOptions, __webpack_exports__ScaleTo as ScaleTo, __webpack_exports__ScaleToWithOptions as ScaleToWithOptions, __webpack_exports__Scene as Scene, __webpack_exports__SceneEvents as SceneEvents, __webpack_exports__Screen as Screen, __webpack_exports__ScreenAppender as ScreenAppender, __webpack_exports__ScreenElement as ScreenElement, __webpack_exports__ScreenEvents as ScreenEvents, __webpack_exports__ScreenShader as ScreenShader, __webpack_exports__ScrollPreventionMode as ScrollPreventionMode, __webpack_exports__Semaphore as Semaphore, __webpack_exports__SeparatingAxis as SeparatingAxis, __webpack_exports__SeparationInfo as SeparationInfo, __webpack_exports__Shader as Shader, __webpack_exports__Shape as Shape, __webpack_exports__Side as Side, __webpack_exports__Slide as Slide, __webpack_exports__SolverStrategy as SolverStrategy, __webpack_exports__Sound as Sound, __webpack_exports__SoundEvents as SoundEvents, __webpack_exports__SparseHashGrid as SparseHashGrid, __webpack_exports__SparseHashGridCollisionProcessor as SparseHashGridCollisionProcessor, __webpack_exports__SpatialPartitionStrategy as SpatialPartitionStrategy, __webpack_exports__Sprite as Sprite, __webpack_exports__SpriteFont as SpriteFont, __webpack_exports__SpriteSheet as SpriteSheet, __webpack_exports__StandardClock as StandardClock, __webpack_exports__StateMachine as StateMachine, __webpack_exports__StrategyContainer as StrategyContainer, __webpack_exports__Stream as Stream, __webpack_exports__System as System, __webpack_exports__SystemManager as SystemManager, __webpack_exports__SystemPriority as SystemPriority, __webpack_exports__SystemType as SystemType, __webpack_exports__TagQuery as TagQuery, __webpack_exports__TestClock as TestClock, __webpack_exports__Text as Text, __webpack_exports__TextAlign as TextAlign, __webpack_exports__TextureLoader as TextureLoader, __webpack_exports__Tile as Tile, __webpack_exports__TileMap as TileMap, __webpack_exports__TileMapEvents as TileMapEvents, __webpack_exports__TiledAnimation as TiledAnimation, __webpack_exports__TiledSprite as TiledSprite, __webpack_exports__Timer as Timer, __webpack_exports__Toaster as Toaster, __webpack_exports__Transform as Transform, __webpack_exports__TransformComponent as TransformComponent, __webpack_exports__Transition as Transition, __webpack_exports__TreeNode as TreeNode, __webpack_exports__Trigger as Trigger, __webpack_exports__TriggerEvents as TriggerEvents, __webpack_exports__TwoPI as TwoPI, __webpack_exports__Util as Util, __webpack_exports__Vector as Vector, __webpack_exports__VectorView as VectorView, __webpack_exports__VertexBuffer as VertexBuffer, __webpack_exports__VertexLayout as VertexLayout, __webpack_exports__VerticalFirst as VerticalFirst, __webpack_exports__VisibleEvent as VisibleEvent, __webpack_exports__WebAudio as WebAudio, __webpack_exports__WebAudioInstance as WebAudioInstance, __webpack_exports__WheelDeltaMode as WheelDeltaMode, __webpack_exports__WheelEvent as WheelEvent, __webpack_exports__World as World, __webpack_exports__approximatelyEqual as approximatelyEqual, __webpack_exports__assert as assert, __webpack_exports__canonicalizeAngle as canonicalizeAngle, __webpack_exports__clamp as clamp, __webpack_exports__coroutine as coroutine, __webpack_exports__createId as createId, __webpack_exports__frac as frac, __webpack_exports__getDefaultPhysicsConfig as getDefaultPhysicsConfig, __webpack_exports__hasGraphicsTick as hasGraphicsTick, __webpack_exports__hasOnAdd as hasOnAdd, __webpack_exports__hasOnInitialize as hasOnInitialize, __webpack_exports__hasOnPostUpdate as hasOnPostUpdate, __webpack_exports__hasOnPreUpdate as hasOnPreUpdate, __webpack_exports__hasOnRemove as hasOnRemove, __webpack_exports__hasPostDraw as hasPostDraw, __webpack_exports__hasPreDraw as hasPreDraw, __webpack_exports__has_add as has_add, __webpack_exports__has_initialize as has_initialize, __webpack_exports__has_postupdate as has_postupdate, __webpack_exports__has_preupdate as has_preupdate, __webpack_exports__has_remove as has_remove, __webpack_exports__inverseLerp as inverseLerp, __webpack_exports__inverseLerpVector as inverseLerpVector, __webpack_exports__isActor as isActor, __webpack_exports__isAddedComponent as isAddedComponent, __webpack_exports__isComponentCtor as isComponentCtor, __webpack_exports__isLoaderConstructor as isLoaderConstructor, __webpack_exports__isMoveByOptions as isMoveByOptions, __webpack_exports__isMoveToOptions as isMoveToOptions, __webpack_exports__isRemovedComponent as isRemovedComponent, __webpack_exports__isRotateByOptions as isRotateByOptions, __webpack_exports__isRotateToOptions as isRotateToOptions, __webpack_exports__isScaleByOptions as isScaleByOptions, __webpack_exports__isScaleToOptions as isScaleToOptions, __webpack_exports__isSceneConstructor as isSceneConstructor, __webpack_exports__isScreenElement as isScreenElement, __webpack_exports__isSystemConstructor as isSystemConstructor, __webpack_exports__lerp as lerp, __webpack_exports__lerpAngle as lerpAngle, __webpack_exports__lerpVector as lerpVector, __webpack_exports__maxMessages as maxMessages, __webpack_exports__nextActionId as nextActionId, __webpack_exports__obsolete as obsolete, __webpack_exports__parseImageFiltering as parseImageFiltering, __webpack_exports__parseImageWrapping as parseImageWrapping, __webpack_exports__pixelSnapEpsilon as pixelSnapEpsilon, __webpack_exports__randomInRange as randomInRange, __webpack_exports__randomIntInRange as randomIntInRange, __webpack_exports__range as range, __webpack_exports__remap as remap, __webpack_exports__remapVector as remapVector, __webpack_exports__resetObsoleteCounter as resetObsoleteCounter, __webpack_exports__sign as sign, __webpack_exports__toDegrees as toDegrees, __webpack_exports__toRadians as toRadians, __webpack_exports__vec as vec, __webpack_exports__webgl as webgl };\n\n//# sourceMappingURL=excalibur.js.map","export default {}","import*as e from\"jsdom\";import*as t from\"excalibur\";var A={668:(e,t,A)=>{var i={};(0,A(805).assign)(i,A(303),A(83),A(681)),e.exports=i},303:(e,t,A)=>{var i=A(792),a=A(805),s=A(996),r=A(674),n=A(442),o=Object.prototype.toString,l=0,g=-1,d=0,h=8;function c(e){if(!(this instanceof c))return new c(e);this.options=a.assign({level:g,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var A=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(A!==l)throw new Error(r[A]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var I;if(I=\"string\"==typeof t.dictionary?s.string2buf(t.dictionary):\"[object ArrayBuffer]\"===o.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(A=i.deflateSetDictionary(this.strm,I))!==l)throw new Error(r[A]);this._dict_set=!0}}function I(e,t){var A=new c(t);if(A.push(e,!0),A.err)throw A.msg||r[A.err];return A.result}c.prototype.push=function(e,t){var A,r,n=this.strm,g=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,\"string\"==typeof e?n.input=s.string2buf(e):\"[object ArrayBuffer]\"===o.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new a.Buf8(g),n.next_out=0,n.avail_out=g),1!==(A=i.deflate(n,r))&&A!==l)return this.onEnd(A),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==r&&2!==r)||(\"string\"===this.options.to?this.onData(s.buf2binstring(a.shrinkBuf(n.output,n.next_out))):this.onData(a.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==A);return 4===r?(A=i.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===l):2!==r||(this.onEnd(l),n.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=c,t.deflate=I,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,I(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,I(e,t)}},83:(e,t,A)=>{var i=A(447),a=A(805),s=A(996),r=A(681),n=A(674),o=A(442),l=A(414),g=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var A=i.inflateInit2(this.strm,t.windowBits);if(A!==r.Z_OK)throw new Error(n[A]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):\"[object ArrayBuffer]\"===g.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(A=i.inflateSetDictionary(this.strm,t.dictionary))!==r.Z_OK))throw new Error(n[A])}function h(e,t){var A=new d(t);if(A.push(e,!0),A.err)throw A.msg||n[A.err];return A.result}d.prototype.push=function(e,t){var A,n,o,l,d,h=this.strm,c=this.options.chunkSize,I=this.options.dictionary,u=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?r.Z_FINISH:r.Z_NO_FLUSH,\"string\"==typeof e?h.input=s.binstring2buf(e):\"[object ArrayBuffer]\"===g.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(c),h.next_out=0,h.avail_out=c),(A=i.inflate(h,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&I&&(A=i.inflateSetDictionary(this.strm,I)),A===r.Z_BUF_ERROR&&!0===u&&(A=r.Z_OK,u=!1),A!==r.Z_STREAM_END&&A!==r.Z_OK)return this.onEnd(A),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&A!==r.Z_STREAM_END&&(0!==h.avail_in||n!==r.Z_FINISH&&n!==r.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(o=s.utf8border(h.output,h.next_out),l=h.next_out-o,d=s.buf2string(h.output,o),h.next_out=l,h.avail_out=c-l,l&&a.arraySet(h.output,h.output,o,l,0),this.onData(d)):this.onData(a.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(u=!0)}while((h.avail_in>0||0===h.avail_out)&&A!==r.Z_STREAM_END);return A===r.Z_STREAM_END&&(n=r.Z_FINISH),n===r.Z_FINISH?(A=i.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===r.Z_OK):n!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),h.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===r.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},805:(e,t)=>{var A=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var A=t.shift();if(A){if(\"object\"!=typeof A)throw new TypeError(A+\"must be non-object\");for(var a in A)i(A,a)&&(e[a]=A[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,A,i,a){if(t.subarray&&e.subarray)e.set(t.subarray(A,A+i),a);else for(var s=0;s<i;s++)e[a+s]=t[A+s]},flattenChunks:function(e){var t,A,i,a,s,r;for(i=0,t=0,A=e.length;t<A;t++)i+=e[t].length;for(r=new Uint8Array(i),a=0,t=0,A=e.length;t<A;t++)s=e[t],r.set(s,a),a+=s.length;return r}},s={arraySet:function(e,t,A,i,a){for(var s=0;s<i;s++)e[a+s]=t[A+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(A)},996:(e,t,A)=>{var i=A(805),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var r=new i.Buf8(256),n=0;n<256;n++)r[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;function o(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var A=\"\",r=0;r<t;r++)A+=String.fromCharCode(e[r]);return A}r[254]=r[254]=1,t.string2buf=function(e){var t,A,a,s,r,n=e.length,o=0;for(s=0;s<n;s++)55296==(64512&(A=e.charCodeAt(s)))&&s+1<n&&56320==(64512&(a=e.charCodeAt(s+1)))&&(A=65536+(A-55296<<10)+(a-56320),s++),o+=A<128?1:A<2048?2:A<65536?3:4;for(t=new i.Buf8(o),r=0,s=0;r<o;s++)55296==(64512&(A=e.charCodeAt(s)))&&s+1<n&&56320==(64512&(a=e.charCodeAt(s+1)))&&(A=65536+(A-55296<<10)+(a-56320),s++),A<128?t[r++]=A:A<2048?(t[r++]=192|A>>>6,t[r++]=128|63&A):A<65536?(t[r++]=224|A>>>12,t[r++]=128|A>>>6&63,t[r++]=128|63&A):(t[r++]=240|A>>>18,t[r++]=128|A>>>12&63,t[r++]=128|A>>>6&63,t[r++]=128|63&A);return t},t.buf2binstring=function(e){return o(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),A=0,a=t.length;A<a;A++)t[A]=e.charCodeAt(A);return t},t.buf2string=function(e,t){var A,i,a,s,n=t||e.length,l=new Array(2*n);for(i=0,A=0;A<n;)if((a=e[A++])<128)l[i++]=a;else if((s=r[a])>4)l[i++]=65533,A+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&A<n;)a=a<<6|63&e[A++],s--;s>1?l[i++]=65533:a<65536?l[i++]=a:(a-=65536,l[i++]=55296|a>>10&1023,l[i++]=56320|1023&a)}return o(l,i)},t.utf8border=function(e,t){var A;for((t=t||e.length)>e.length&&(t=e.length),A=t-1;A>=0&&128==(192&e[A]);)A--;return A<0||0===A?t:A+r[e[A]]>t?A:t}},269:e=>{e.exports=function(e,t,A,i){for(var a=65535&e|0,s=e>>>16&65535|0,r=0;0!==A;){A-=r=A>2e3?2e3:A;do{s=s+(a=a+t[i++]|0)|0}while(--r);a%=65521,s%=65521}return a|s<<16|0}},681:e=>{e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},823:e=>{var t=function(){for(var e,t=[],A=0;A<256;A++){e=A;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[A]=e}return t}();e.exports=function(e,A,i,a){var s=t,r=a+i;e^=-1;for(var n=a;n<r;n++)e=e>>>8^s[255&(e^A[n])];return-1^e}},792:(e,t,A)=>{var i,a=A(805),s=A(665),r=A(269),n=A(823),o=A(674),l=0,g=4,d=0,h=-2,c=-1,I=4,u=2,B=8,C=9,p=286,f=30,Q=19,E=2*p+1,m=15,y=3,w=258,_=w+y+1,v=42,b=103,k=113,D=666,x=1,L=2,S=3,F=4;function G(e,t){return e.msg=o[t],t}function T(e){return(e<<1)-(e>4?9:0)}function N(e){for(var t=e.length;--t>=0;)e[t]=0}function R(e){var t=e.state,A=t.pending;A>e.avail_out&&(A=e.avail_out),0!==A&&(a.arraySet(e.output,t.pending_buf,t.pending_out,A,e.next_out),e.next_out+=A,t.pending_out+=A,e.total_out+=A,e.avail_out-=A,t.pending-=A,0===t.pending&&(t.pending_out=0))}function M(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,R(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function O(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function q(e,t){var A,i,a=e.max_chain_length,s=e.strstart,r=e.prev_length,n=e.nice_match,o=e.strstart>e.w_size-_?e.strstart-(e.w_size-_):0,l=e.window,g=e.w_mask,d=e.prev,h=e.strstart+w,c=l[s+r-1],I=l[s+r];e.prev_length>=e.good_match&&(a>>=2),n>e.lookahead&&(n=e.lookahead);do{if(l[(A=t)+r]===I&&l[A+r-1]===c&&l[A]===l[s]&&l[++A]===l[s+1]){s+=2,A++;do{}while(l[++s]===l[++A]&&l[++s]===l[++A]&&l[++s]===l[++A]&&l[++s]===l[++A]&&l[++s]===l[++A]&&l[++s]===l[++A]&&l[++s]===l[++A]&&l[++s]===l[++A]&&s<h);if(i=w-(h-s),s=h-w,i>r){if(e.match_start=t,r=i,i>=n)break;c=l[s+r-1],I=l[s+r]}}}while((t=d[t&g])>o&&0!=--a);return r<=e.lookahead?r:e.lookahead}function j(e){var t,A,i,s,o,l,g,d,h,c,I=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=I+(I-_)){a.arraySet(e.window,e.window,I,I,0),e.match_start-=I,e.strstart-=I,e.block_start-=I,t=A=e.hash_size;do{i=e.head[--t],e.head[t]=i>=I?i-I:0}while(--A);t=A=I;do{i=e.prev[--t],e.prev[t]=i>=I?i-I:0}while(--A);s+=I}if(0===e.strm.avail_in)break;if(l=e.strm,g=e.window,d=e.strstart+e.lookahead,h=s,c=void 0,(c=l.avail_in)>h&&(c=h),A=0===c?0:(l.avail_in-=c,a.arraySet(g,l.input,l.next_in,c,d),1===l.state.wrap?l.adler=r(l.adler,g,c,d):2===l.state.wrap&&(l.adler=n(l.adler,g,c,d)),l.next_in+=c,l.total_in+=c,c),e.lookahead+=A,e.lookahead+e.insert>=y)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+y-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<y)););}while(e.lookahead<_&&0!==e.strm.avail_in)}function J(e,t){for(var A,i;;){if(e.lookahead<_){if(j(e),e.lookahead<_&&t===l)return x;if(0===e.lookahead)break}if(A=0,e.lookahead>=y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==A&&e.strstart-A<=e.w_size-_&&(e.match_length=q(e,A)),e.match_length>=y)if(i=s._tr_tally(e,e.strstart-e.match_start,e.match_length-y),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=y){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(M(e,!1),0===e.strm.avail_out))return x}return e.insert=e.strstart<y-1?e.strstart:y-1,t===g?(M(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?x:L}function Z(e,t){for(var A,i,a;;){if(e.lookahead<_){if(j(e),e.lookahead<_&&t===l)return x;if(0===e.lookahead)break}if(A=0,e.lookahead>=y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=y-1,0!==A&&e.prev_length<e.max_lazy_match&&e.strstart-A<=e.w_size-_&&(e.match_length=q(e,A),e.match_length<=5&&(1===e.strategy||e.match_length===y&&e.strstart-e.match_start>4096)&&(e.match_length=y-1)),e.prev_length>=y&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-y,i=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-y),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=y-1,e.strstart++,i&&(M(e,!1),0===e.strm.avail_out))return x}else if(e.match_available){if((i=s._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return x}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<y-1?e.strstart:y-1,t===g?(M(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?x:L}function Y(e,t,A,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=A,this.max_chain=i,this.func=a}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*E),this.dyn_dtree=new a.Buf16(2*(2*f+1)),this.bl_tree=new a.Buf16(2*(2*Q+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(m+1),this.heap=new a.Buf16(2*p+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*p+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=u,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?v:k,e.adler=2===t.wrap?0:1,t.last_flush=l,s._tr_init(t),d):G(e,h)}function P(e){var t,A=K(e);return A===d&&((t=e.state).window_size=2*t.w_size,N(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=y-1,t.match_available=0,t.ins_h=0),A}function z(e,t,A,i,s,r){if(!e)return h;var n=1;if(t===c&&(t=6),i<0?(n=0,i=-i):i>15&&(n=2,i-=16),s<1||s>C||A!==B||i<8||i>15||t<0||t>9||r<0||r>I)return G(e,h);8===i&&(i=9);var o=new H;return e.state=o,o.strm=e,o.wrap=n,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+y-1)/y),o.window=new a.Buf8(2*o.w_size),o.head=new a.Buf16(o.hash_size),o.prev=new a.Buf16(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new a.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=r,o.method=A,P(e)}i=[new Y(0,0,0,0,(function(e,t){var A=65535;for(A>e.pending_buf_size-5&&(A=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return x;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+A;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,M(e,!1),0===e.strm.avail_out))return x;if(e.strstart-e.block_start>=e.w_size-_&&(M(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===g?(M(e,!0),0===e.strm.avail_out?S:F):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),x)})),new Y(4,4,8,4,J),new Y(4,5,16,8,J),new Y(4,6,32,32,J),new Y(4,4,16,16,Z),new Y(8,16,32,32,Z),new Y(8,16,128,128,Z),new Y(8,32,128,256,Z),new Y(32,128,258,1024,Z),new Y(32,258,258,4096,Z)],t.deflateInit=function(e,t){return z(e,t,B,15,8,0)},t.deflateInit2=z,t.deflateReset=P,t.deflateResetKeep=K,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},t.deflate=function(e,t){var A,a,r,o;if(!e||!e.state||t>5||t<0)return e?G(e,h):h;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===D&&t!==g)return G(e,0===e.avail_out?-5:h);if(a.strm=e,A=a.last_flush,a.last_flush=t,a.status===v)if(2===a.wrap)e.adler=0,U(a,31),U(a,139),U(a,8),a.gzhead?(U(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),U(a,255&a.gzhead.time),U(a,a.gzhead.time>>8&255),U(a,a.gzhead.time>>16&255),U(a,a.gzhead.time>>24&255),U(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),U(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(U(a,255&a.gzhead.extra.length),U(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=n(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(U(a,0),U(a,0),U(a,0),U(a,0),U(a,0),U(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),U(a,3),a.status=k);else{var c=B+(a.w_bits-8<<4)<<8;c|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(c|=32),c+=31-c%31,a.status=k,O(a,c),0!==a.strstart&&(O(a,e.adler>>>16),O(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(r=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>r&&(e.adler=n(e.adler,a.pending_buf,a.pending-r,r)),R(e),r=a.pending,a.pending!==a.pending_buf_size));)U(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>r&&(e.adler=n(e.adler,a.pending_buf,a.pending-r,r)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(e.adler=n(e.adler,a.pending_buf,a.pending-r,r)),R(e),r=a.pending,a.pending===a.pending_buf_size)){o=1;break}o=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,U(a,o)}while(0!==o);a.gzhead.hcrc&&a.pending>r&&(e.adler=n(e.adler,a.pending_buf,a.pending-r,r)),0===o&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(e.adler=n(e.adler,a.pending_buf,a.pending-r,r)),R(e),r=a.pending,a.pending===a.pending_buf_size)){o=1;break}o=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,U(a,o)}while(0!==o);a.gzhead.hcrc&&a.pending>r&&(e.adler=n(e.adler,a.pending_buf,a.pending-r,r)),0===o&&(a.status=b)}else a.status=b;if(a.status===b&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&R(e),a.pending+2<=a.pending_buf_size&&(U(a,255&e.adler),U(a,e.adler>>8&255),e.adler=0,a.status=k)):a.status=k),0!==a.pending){if(R(e),0===e.avail_out)return a.last_flush=-1,d}else if(0===e.avail_in&&T(t)<=T(A)&&t!==g)return G(e,-5);if(a.status===D&&0!==e.avail_in)return G(e,-5);if(0!==e.avail_in||0!==a.lookahead||t!==l&&a.status!==D){var I=2===a.strategy?function(e,t){for(var A;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return x;break}if(e.match_length=0,A=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,A&&(M(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===g?(M(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?x:L}(a,t):3===a.strategy?function(e,t){for(var A,i,a,r,n=e.window;;){if(e.lookahead<=w){if(j(e),e.lookahead<=w&&t===l)return x;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=y&&e.strstart>0&&(i=n[a=e.strstart-1])===n[++a]&&i===n[++a]&&i===n[++a]){r=e.strstart+w;do{}while(i===n[++a]&&i===n[++a]&&i===n[++a]&&i===n[++a]&&i===n[++a]&&i===n[++a]&&i===n[++a]&&i===n[++a]&&a<r);e.match_length=w-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=y?(A=s._tr_tally(e,1,e.match_length-y),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(A=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),A&&(M(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===g?(M(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?x:L}(a,t):i[a.level].func(a,t);if(I!==S&&I!==F||(a.status=D),I===x||I===S)return 0===e.avail_out&&(a.last_flush=-1),d;if(I===L&&(1===t?s._tr_align(a):5!==t&&(s._tr_stored_block(a,0,0,!1),3===t&&(N(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),R(e),0===e.avail_out))return a.last_flush=-1,d}return t!==g?d:a.wrap<=0?1:(2===a.wrap?(U(a,255&e.adler),U(a,e.adler>>8&255),U(a,e.adler>>16&255),U(a,e.adler>>24&255),U(a,255&e.total_in),U(a,e.total_in>>8&255),U(a,e.total_in>>16&255),U(a,e.total_in>>24&255)):(O(a,e.adler>>>16),O(a,65535&e.adler)),R(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?d:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==v&&69!==t&&73!==t&&91!==t&&t!==b&&t!==k&&t!==D?G(e,h):(e.state=null,t===k?G(e,-3):d):h},t.deflateSetDictionary=function(e,t){var A,i,s,n,o,l,g,c,I=t.length;if(!e||!e.state)return h;if(2===(n=(A=e.state).wrap)||1===n&&A.status!==v||A.lookahead)return h;for(1===n&&(e.adler=r(e.adler,t,I,0)),A.wrap=0,I>=A.w_size&&(0===n&&(N(A.head),A.strstart=0,A.block_start=0,A.insert=0),c=new a.Buf8(A.w_size),a.arraySet(c,t,I-A.w_size,A.w_size,0),t=c,I=A.w_size),o=e.avail_in,l=e.next_in,g=e.input,e.avail_in=I,e.next_in=0,e.input=t,j(A);A.lookahead>=y;){i=A.strstart,s=A.lookahead-(y-1);do{A.ins_h=(A.ins_h<<A.hash_shift^A.window[i+y-1])&A.hash_mask,A.prev[i&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=i,i++}while(--s);A.strstart=i,A.lookahead=y-1,j(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=y-1,A.match_available=0,e.next_in=l,e.input=g,e.avail_in=o,A.wrap=n,d},t.deflateInfo=\"pako deflate (from Nodeca project)\"},414:e=>{e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},293:e=>{e.exports=function(e,t){var A,i,a,s,r,n,o,l,g,d,h,c,I,u,B,C,p,f,Q,E,m,y,w,_,v;A=e.state,i=e.next_in,_=e.input,a=i+(e.avail_in-5),s=e.next_out,v=e.output,r=s-(t-e.avail_out),n=s+(e.avail_out-257),o=A.dmax,l=A.wsize,g=A.whave,d=A.wnext,h=A.window,c=A.hold,I=A.bits,u=A.lencode,B=A.distcode,C=(1<<A.lenbits)-1,p=(1<<A.distbits)-1;e:do{I<15&&(c+=_[i++]<<I,I+=8,c+=_[i++]<<I,I+=8),f=u[c&C];t:for(;;){if(c>>>=Q=f>>>24,I-=Q,0===(Q=f>>>16&255))v[s++]=65535&f;else{if(!(16&Q)){if(0==(64&Q)){f=u[(65535&f)+(c&(1<<Q)-1)];continue t}if(32&Q){A.mode=12;break e}e.msg=\"invalid literal/length code\",A.mode=30;break e}E=65535&f,(Q&=15)&&(I<Q&&(c+=_[i++]<<I,I+=8),E+=c&(1<<Q)-1,c>>>=Q,I-=Q),I<15&&(c+=_[i++]<<I,I+=8,c+=_[i++]<<I,I+=8),f=B[c&p];A:for(;;){if(c>>>=Q=f>>>24,I-=Q,!(16&(Q=f>>>16&255))){if(0==(64&Q)){f=B[(65535&f)+(c&(1<<Q)-1)];continue A}e.msg=\"invalid distance code\",A.mode=30;break e}if(m=65535&f,I<(Q&=15)&&(c+=_[i++]<<I,(I+=8)<Q&&(c+=_[i++]<<I,I+=8)),(m+=c&(1<<Q)-1)>o){e.msg=\"invalid distance too far back\",A.mode=30;break e}if(c>>>=Q,I-=Q,m>(Q=s-r)){if((Q=m-Q)>g&&A.sane){e.msg=\"invalid distance too far back\",A.mode=30;break e}if(y=0,w=h,0===d){if(y+=l-Q,Q<E){E-=Q;do{v[s++]=h[y++]}while(--Q);y=s-m,w=v}}else if(d<Q){if(y+=l+d-Q,(Q-=d)<E){E-=Q;do{v[s++]=h[y++]}while(--Q);if(y=0,d<E){E-=Q=d;do{v[s++]=h[y++]}while(--Q);y=s-m,w=v}}}else if(y+=d-Q,Q<E){E-=Q;do{v[s++]=h[y++]}while(--Q);y=s-m,w=v}for(;E>2;)v[s++]=w[y++],v[s++]=w[y++],v[s++]=w[y++],E-=3;E&&(v[s++]=w[y++],E>1&&(v[s++]=w[y++]))}else{y=s-m;do{v[s++]=v[y++],v[s++]=v[y++],v[s++]=v[y++],E-=3}while(E>2);E&&(v[s++]=v[y++],E>1&&(v[s++]=v[y++]))}break}}break}}while(i<a&&s<n);i-=E=I>>3,c&=(1<<(I-=E<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<a?a-i+5:5-(i-a),e.avail_out=s<n?n-s+257:257-(s-n),A.hold=c,A.bits=I}},447:(e,t,A)=>{var i=A(805),a=A(269),s=A(823),r=A(293),n=A(998),o=1,l=2,g=0,d=-2,h=1,c=12,I=30,u=852,B=592;function C(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(u),t.distcode=t.distdyn=new i.Buf32(B),t.sane=1,t.back=-1,g):d}function Q(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):d}function E(e,t){var A,i;return e&&e.state?(i=e.state,t<0?(A=0,t=-t):(A=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?d:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=A,i.wbits=t,Q(e))):d}function m(e,t){var A,i;return e?(i=new p,e.state=i,i.window=null,(A=E(e,t))!==g&&(e.state=null),A):d}var y,w,_=!0;function v(e){if(_){var t;for(y=new i.Buf32(512),w=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(n(o,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;n(l,e.lens,0,32,w,0,e.work,{bits:5}),_=!1}e.lencode=y,e.lenbits=9,e.distcode=w,e.distbits=5}function b(e,t,A,a){var s,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new i.Buf8(r.wsize)),a>=r.wsize?(i.arraySet(r.window,t,A-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((s=r.wsize-r.wnext)>a&&(s=a),i.arraySet(r.window,t,A-a,s,r.wnext),(a-=s)?(i.arraySet(r.window,t,A-a,a,0),r.wnext=a,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0}t.inflateReset=Q,t.inflateReset2=E,t.inflateResetKeep=f,t.inflateInit=function(e){return m(e,15)},t.inflateInit2=m,t.inflate=function(e,t){var A,u,B,p,f,Q,E,m,y,w,_,k,D,x,L,S,F,G,T,N,R,M,U,O,q=0,j=new i.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;(A=e.state).mode===c&&(A.mode=13),f=e.next_out,B=e.output,E=e.avail_out,p=e.next_in,u=e.input,Q=e.avail_in,m=A.hold,y=A.bits,w=Q,_=E,M=g;e:for(;;)switch(A.mode){case h:if(0===A.wrap){A.mode=13;break}for(;y<16;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(2&A.wrap&&35615===m){A.check=0,j[0]=255&m,j[1]=m>>>8&255,A.check=s(A.check,j,2,0),m=0,y=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg=\"incorrect header check\",A.mode=I;break}if(8!=(15&m)){e.msg=\"unknown compression method\",A.mode=I;break}if(y-=4,R=8+(15&(m>>>=4)),0===A.wbits)A.wbits=R;else if(R>A.wbits){e.msg=\"invalid window size\",A.mode=I;break}A.dmax=1<<R,e.adler=A.check=1,A.mode=512&m?10:c,m=0,y=0;break;case 2:for(;y<16;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(A.flags=m,8!=(255&A.flags)){e.msg=\"unknown compression method\",A.mode=I;break}if(57344&A.flags){e.msg=\"unknown header flags set\",A.mode=I;break}A.head&&(A.head.text=m>>8&1),512&A.flags&&(j[0]=255&m,j[1]=m>>>8&255,A.check=s(A.check,j,2,0)),m=0,y=0,A.mode=3;case 3:for(;y<32;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}A.head&&(A.head.time=m),512&A.flags&&(j[0]=255&m,j[1]=m>>>8&255,j[2]=m>>>16&255,j[3]=m>>>24&255,A.check=s(A.check,j,4,0)),m=0,y=0,A.mode=4;case 4:for(;y<16;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}A.head&&(A.head.xflags=255&m,A.head.os=m>>8),512&A.flags&&(j[0]=255&m,j[1]=m>>>8&255,A.check=s(A.check,j,2,0)),m=0,y=0,A.mode=5;case 5:if(1024&A.flags){for(;y<16;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}A.length=m,A.head&&(A.head.extra_len=m),512&A.flags&&(j[0]=255&m,j[1]=m>>>8&255,A.check=s(A.check,j,2,0)),m=0,y=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&((k=A.length)>Q&&(k=Q),k&&(A.head&&(R=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),i.arraySet(A.head.extra,u,p,k,R)),512&A.flags&&(A.check=s(A.check,u,k,p)),Q-=k,p+=k,A.length-=k),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(0===Q)break e;k=0;do{R=u[p+k++],A.head&&R&&A.length<65536&&(A.head.name+=String.fromCharCode(R))}while(R&&k<Q);if(512&A.flags&&(A.check=s(A.check,u,k,p)),Q-=k,p+=k,R)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(0===Q)break e;k=0;do{R=u[p+k++],A.head&&R&&A.length<65536&&(A.head.comment+=String.fromCharCode(R))}while(R&&k<Q);if(512&A.flags&&(A.check=s(A.check,u,k,p)),Q-=k,p+=k,R)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;y<16;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(m!==(65535&A.check)){e.msg=\"header crc mismatch\",A.mode=I;break}m=0,y=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),e.adler=A.check=0,A.mode=c;break;case 10:for(;y<32;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}e.adler=A.check=C(m),m=0,y=0,A.mode=11;case 11:if(0===A.havedict)return e.next_out=f,e.avail_out=E,e.next_in=p,e.avail_in=Q,A.hold=m,A.bits=y,2;e.adler=A.check=1,A.mode=c;case c:if(5===t||6===t)break e;case 13:if(A.last){m>>>=7&y,y-=7&y,A.mode=27;break}for(;y<3;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}switch(A.last=1&m,y-=1,3&(m>>>=1)){case 0:A.mode=14;break;case 1:if(v(A),A.mode=20,6===t){m>>>=2,y-=2;break e}break;case 2:A.mode=17;break;case 3:e.msg=\"invalid block type\",A.mode=I}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){e.msg=\"invalid stored block lengths\",A.mode=I;break}if(A.length=65535&m,m=0,y=0,A.mode=15,6===t)break e;case 15:A.mode=16;case 16:if(k=A.length){if(k>Q&&(k=Q),k>E&&(k=E),0===k)break e;i.arraySet(B,u,p,k,f),Q-=k,p+=k,E-=k,f+=k,A.length-=k;break}A.mode=c;break;case 17:for(;y<14;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(A.nlen=257+(31&m),m>>>=5,y-=5,A.ndist=1+(31&m),m>>>=5,y-=5,A.ncode=4+(15&m),m>>>=4,y-=4,A.nlen>286||A.ndist>30){e.msg=\"too many length or distance symbols\",A.mode=I;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;y<3;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}A.lens[J[A.have++]]=7&m,m>>>=3,y-=3}for(;A.have<19;)A.lens[J[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,U={bits:A.lenbits},M=n(0,A.lens,0,19,A.lencode,0,A.work,U),A.lenbits=U.bits,M){e.msg=\"invalid code lengths set\",A.mode=I;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;S=(q=A.lencode[m&(1<<A.lenbits)-1])>>>16&255,F=65535&q,!((L=q>>>24)<=y);){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(F<16)m>>>=L,y-=L,A.lens[A.have++]=F;else{if(16===F){for(O=L+2;y<O;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(m>>>=L,y-=L,0===A.have){e.msg=\"invalid bit length repeat\",A.mode=I;break}R=A.lens[A.have-1],k=3+(3&m),m>>>=2,y-=2}else if(17===F){for(O=L+3;y<O;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}y-=L,R=0,k=3+(7&(m>>>=L)),m>>>=3,y-=3}else{for(O=L+7;y<O;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}y-=L,R=0,k=11+(127&(m>>>=L)),m>>>=7,y-=7}if(A.have+k>A.nlen+A.ndist){e.msg=\"invalid bit length repeat\",A.mode=I;break}for(;k--;)A.lens[A.have++]=R}}if(A.mode===I)break;if(0===A.lens[256]){e.msg=\"invalid code -- missing end-of-block\",A.mode=I;break}if(A.lenbits=9,U={bits:A.lenbits},M=n(o,A.lens,0,A.nlen,A.lencode,0,A.work,U),A.lenbits=U.bits,M){e.msg=\"invalid literal/lengths set\",A.mode=I;break}if(A.distbits=6,A.distcode=A.distdyn,U={bits:A.distbits},M=n(l,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,U),A.distbits=U.bits,M){e.msg=\"invalid distances set\",A.mode=I;break}if(A.mode=20,6===t)break e;case 20:A.mode=21;case 21:if(Q>=6&&E>=258){e.next_out=f,e.avail_out=E,e.next_in=p,e.avail_in=Q,A.hold=m,A.bits=y,r(e,_),f=e.next_out,B=e.output,E=e.avail_out,p=e.next_in,u=e.input,Q=e.avail_in,m=A.hold,y=A.bits,A.mode===c&&(A.back=-1);break}for(A.back=0;S=(q=A.lencode[m&(1<<A.lenbits)-1])>>>16&255,F=65535&q,!((L=q>>>24)<=y);){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(S&&0==(240&S)){for(G=L,T=S,N=F;S=(q=A.lencode[N+((m&(1<<G+T)-1)>>G)])>>>16&255,F=65535&q,!(G+(L=q>>>24)<=y);){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}m>>>=G,y-=G,A.back+=G}if(m>>>=L,y-=L,A.back+=L,A.length=F,0===S){A.mode=26;break}if(32&S){A.back=-1,A.mode=c;break}if(64&S){e.msg=\"invalid literal/length code\",A.mode=I;break}A.extra=15&S,A.mode=22;case 22:if(A.extra){for(O=A.extra;y<O;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}A.length+=m&(1<<A.extra)-1,m>>>=A.extra,y-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;S=(q=A.distcode[m&(1<<A.distbits)-1])>>>16&255,F=65535&q,!((L=q>>>24)<=y);){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(0==(240&S)){for(G=L,T=S,N=F;S=(q=A.distcode[N+((m&(1<<G+T)-1)>>G)])>>>16&255,F=65535&q,!(G+(L=q>>>24)<=y);){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}m>>>=G,y-=G,A.back+=G}if(m>>>=L,y-=L,A.back+=L,64&S){e.msg=\"invalid distance code\",A.mode=I;break}A.offset=F,A.extra=15&S,A.mode=24;case 24:if(A.extra){for(O=A.extra;y<O;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}A.offset+=m&(1<<A.extra)-1,m>>>=A.extra,y-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){e.msg=\"invalid distance too far back\",A.mode=I;break}A.mode=25;case 25:if(0===E)break e;if(k=_-E,A.offset>k){if((k=A.offset-k)>A.whave&&A.sane){e.msg=\"invalid distance too far back\",A.mode=I;break}k>A.wnext?(k-=A.wnext,D=A.wsize-k):D=A.wnext-k,k>A.length&&(k=A.length),x=A.window}else x=B,D=f-A.offset,k=A.length;k>E&&(k=E),E-=k,A.length-=k;do{B[f++]=x[D++]}while(--k);0===A.length&&(A.mode=21);break;case 26:if(0===E)break e;B[f++]=A.length,E--,A.mode=21;break;case 27:if(A.wrap){for(;y<32;){if(0===Q)break e;Q--,m|=u[p++]<<y,y+=8}if(_-=E,e.total_out+=_,A.total+=_,_&&(e.adler=A.check=A.flags?s(A.check,B,_,f-_):a(A.check,B,_,f-_)),_=E,(A.flags?m:C(m))!==A.check){e.msg=\"incorrect data check\",A.mode=I;break}m=0,y=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;y<32;){if(0===Q)break e;Q--,m+=u[p++]<<y,y+=8}if(m!==(4294967295&A.total)){e.msg=\"incorrect length check\",A.mode=I;break}m=0,y=0}A.mode=29;case 29:M=1;break e;case I:M=-3;break e;case 31:return-4;default:return d}return e.next_out=f,e.avail_out=E,e.next_in=p,e.avail_in=Q,A.hold=m,A.bits=y,(A.wsize||_!==e.avail_out&&A.mode<I&&(A.mode<27||4!==t))&&b(e,e.output,e.next_out,_-e.avail_out)?(A.mode=31,-4):(w-=e.avail_in,_-=e.avail_out,e.total_in+=w,e.total_out+=_,A.total+=_,A.wrap&&_&&(e.adler=A.check=A.flags?s(A.check,B,_,e.next_out-_):a(A.check,B,_,e.next_out-_)),e.data_type=A.bits+(A.last?64:0)+(A.mode===c?128:0)+(20===A.mode||15===A.mode?256:0),(0===w&&0===_||4===t)&&M===g&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,g},t.inflateGetHeader=function(e,t){var A;return e&&e.state?0==(2&(A=e.state).wrap)?d:(A.head=t,t.done=!1,g):d},t.inflateSetDictionary=function(e,t){var A,i=t.length;return e&&e.state?0!==(A=e.state).wrap&&11!==A.mode?d:11===A.mode&&a(1,t,i,0)!==A.check?-3:b(e,t,i,i)?(A.mode=31,-4):(A.havedict=1,g):d},t.inflateInfo=\"pako inflate (from Nodeca project)\"},998:(e,t,A)=>{var i=A(805),a=15,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,A,l,g,d,h,c){var I,u,B,C,p,f,Q,E,m,y=c.bits,w=0,_=0,v=0,b=0,k=0,D=0,x=0,L=0,S=0,F=0,G=null,T=0,N=new i.Buf16(16),R=new i.Buf16(16),M=null,U=0;for(w=0;w<=a;w++)N[w]=0;for(_=0;_<l;_++)N[t[A+_]]++;for(k=y,b=a;b>=1&&0===N[b];b--);if(k>b&&(k=b),0===b)return g[d++]=20971520,g[d++]=20971520,c.bits=1,0;for(v=1;v<b&&0===N[v];v++);for(k<v&&(k=v),L=1,w=1;w<=a;w++)if(L<<=1,(L-=N[w])<0)return-1;if(L>0&&(0===e||1!==b))return-1;for(R[1]=0,w=1;w<a;w++)R[w+1]=R[w]+N[w];for(_=0;_<l;_++)0!==t[A+_]&&(h[R[t[A+_]]++]=_);if(0===e?(G=M=h,f=19):1===e?(G=s,T-=257,M=r,U-=257,f=256):(G=n,M=o,f=-1),F=0,_=0,w=v,p=d,D=k,x=0,B=-1,C=(S=1<<k)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){Q=w-x,h[_]<f?(E=0,m=h[_]):h[_]>f?(E=M[U+h[_]],m=G[T+h[_]]):(E=96,m=0),I=1<<w-x,v=u=1<<D;do{g[p+(F>>x)+(u-=I)]=Q<<24|E<<16|m|0}while(0!==u);for(I=1<<w-1;F&I;)I>>=1;if(0!==I?(F&=I-1,F+=I):F=0,_++,0==--N[w]){if(w===b)break;w=t[A+h[_]]}if(w>k&&(F&C)!==B){for(0===x&&(x=k),p+=v,L=1<<(D=w-x);D+x<b&&!((L-=N[D+x])<=0);)D++,L<<=1;if(S+=1<<D,1===e&&S>852||2===e&&S>592)return 1;g[B=F&C]=k<<24|D<<16|p-d|0}}return 0!==F&&(g[p+F]=w-x<<24|64<<16|0),c.bits=k,0}},674:e=>{e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},665:(e,t,A)=>{var i=A(805),a=0,s=1;function r(e){for(var t=e.length;--t>=0;)e[t]=0}var n=0,o=29,l=256,g=l+1+o,d=30,h=19,c=2*g+1,I=15,u=16,B=7,C=256,p=16,f=17,Q=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],m=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(2*(g+2));r(_);var v=new Array(2*d);r(v);var b=new Array(512);r(b);var k=new Array(256);r(k);var D=new Array(o);r(D);var x,L,S,F=new Array(d);function G(e,t,A,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=A,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}function T(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?b[e]:b[256+(e>>>7)]}function R(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function M(e,t,A){e.bi_valid>u-A?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>u-e.bi_valid,e.bi_valid+=A-u):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=A)}function U(e,t,A){M(e,A[2*t],A[2*t+1])}function O(e,t){var A=0;do{A|=1&e,e>>>=1,A<<=1}while(--t>0);return A>>>1}function q(e,t,A){var i,a,s=new Array(I+1),r=0;for(i=1;i<=I;i++)s[i]=r=r+A[i-1]<<1;for(a=0;a<=t;a++){var n=e[2*a+1];0!==n&&(e[2*a]=O(s[n]++,n))}}function j(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*C]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function J(e){e.bi_valid>8?R(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z(e,t,A,i){var a=2*t,s=2*A;return e[a]<e[s]||e[a]===e[s]&&i[t]<=i[A]}function Y(e,t,A){for(var i=e.heap[A],a=A<<1;a<=e.heap_len&&(a<e.heap_len&&Z(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Z(t,i,e.heap[a],e.depth));)e.heap[A]=e.heap[a],A=a,a<<=1;e.heap[A]=i}function H(e,t,A){var i,a,s,r,n=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*n]<<8|e.pending_buf[e.d_buf+2*n+1],a=e.pending_buf[e.l_buf+n],n++,0===i?U(e,a,t):(U(e,(s=k[a])+l+1,t),0!==(r=E[s])&&M(e,a-=D[s],r),U(e,s=N(--i),A),0!==(r=m[s])&&M(e,i-=F[s],r))}while(n<e.last_lit);U(e,C,t)}function K(e,t){var A,i,a,s=t.dyn_tree,r=t.stat_desc.static_tree,n=t.stat_desc.has_stree,o=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=c,A=0;A<o;A++)0!==s[2*A]?(e.heap[++e.heap_len]=l=A,e.depth[A]=0):s[2*A+1]=0;for(;e.heap_len<2;)s[2*(a=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[a]=0,e.opt_len--,n&&(e.static_len-=r[2*a+1]);for(t.max_code=l,A=e.heap_len>>1;A>=1;A--)Y(e,s,A);a=o;do{A=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=A,e.heap[--e.heap_max]=i,s[2*a]=s[2*A]+s[2*i],e.depth[a]=(e.depth[A]>=e.depth[i]?e.depth[A]:e.depth[i])+1,s[2*A+1]=s[2*i+1]=a,e.heap[1]=a++,Y(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var A,i,a,s,r,n,o=t.dyn_tree,l=t.max_code,g=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,B=t.stat_desc.max_length,C=0;for(s=0;s<=I;s++)e.bl_count[s]=0;for(o[2*e.heap[e.heap_max]+1]=0,A=e.heap_max+1;A<c;A++)(s=o[2*o[2*(i=e.heap[A])+1]+1]+1)>B&&(s=B,C++),o[2*i+1]=s,i>l||(e.bl_count[s]++,r=0,i>=u&&(r=h[i-u]),n=o[2*i],e.opt_len+=n*(s+r),d&&(e.static_len+=n*(g[2*i+1]+r)));if(0!==C){do{for(s=B-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[B]--,C-=2}while(C>0);for(s=B;0!==s;s--)for(i=e.bl_count[s];0!==i;)(a=e.heap[--A])>l||(o[2*a+1]!==s&&(e.opt_len+=(s-o[2*a+1])*o[2*a],o[2*a+1]=s),i--)}}(e,t),q(s,l,e.bl_count)}function P(e,t,A){var i,a,s=-1,r=t[1],n=0,o=7,l=4;for(0===r&&(o=138,l=3),t[2*(A+1)+1]=65535,i=0;i<=A;i++)a=r,r=t[2*(i+1)+1],++n<o&&a===r||(n<l?e.bl_tree[2*a]+=n:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[2*p]++):n<=10?e.bl_tree[2*f]++:e.bl_tree[2*Q]++,n=0,s=a,0===r?(o=138,l=3):a===r?(o=6,l=3):(o=7,l=4))}function z(e,t,A){var i,a,s=-1,r=t[1],n=0,o=7,l=4;for(0===r&&(o=138,l=3),i=0;i<=A;i++)if(a=r,r=t[2*(i+1)+1],!(++n<o&&a===r)){if(n<l)do{U(e,a,e.bl_tree)}while(0!=--n);else 0!==a?(a!==s&&(U(e,a,e.bl_tree),n--),U(e,p,e.bl_tree),M(e,n-3,2)):n<=10?(U(e,f,e.bl_tree),M(e,n-3,3)):(U(e,Q,e.bl_tree),M(e,n-11,7));n=0,s=a,0===r?(o=138,l=3):a===r?(o=6,l=3):(o=7,l=4)}}r(F);var V=!1;function W(e,t,A,a){M(e,(n<<1)+(a?1:0),3),function(e,t,A,a){J(e),a&&(R(e,A),R(e,~A)),i.arraySet(e.pending_buf,e.window,t,A,e.pending),e.pending+=A}(e,t,A,!0)}t._tr_init=function(e){V||(!function(){var e,t,A,i,a,s=new Array(I+1);for(A=0,i=0;i<o-1;i++)for(D[i]=A,e=0;e<1<<E[i];e++)k[A++]=i;for(k[A-1]=i,a=0,i=0;i<16;i++)for(F[i]=a,e=0;e<1<<m[i];e++)b[a++]=i;for(a>>=7;i<d;i++)for(F[i]=a<<7,e=0;e<1<<m[i]-7;e++)b[256+a++]=i;for(t=0;t<=I;t++)s[t]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,s[8]++;for(;e<=255;)_[2*e+1]=9,e++,s[9]++;for(;e<=279;)_[2*e+1]=7,e++,s[7]++;for(;e<=287;)_[2*e+1]=8,e++,s[8]++;for(q(_,g+1,s),e=0;e<d;e++)v[2*e+1]=5,v[2*e]=O(e,5);x=new G(_,E,l+1,g,I),L=new G(v,m,0,d,I),S=new G(new Array(0),y,0,h,B)}(),V=!0),e.l_desc=new T(e.dyn_ltree,x),e.d_desc=new T(e.dyn_dtree,L),e.bl_desc=new T(e.bl_tree,S),e.bi_buf=0,e.bi_valid=0,j(e)},t._tr_stored_block=W,t._tr_flush_block=function(e,t,A,i){var r,n,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,A=4093624447;for(t=0;t<=31;t++,A>>>=1)if(1&A&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return s;return a}(e)),K(e,e.l_desc),K(e,e.d_desc),o=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=h-1;t>=3&&0===e.bl_tree[2*w[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(n=e.static_len+3+7>>>3)<=r&&(r=n)):r=n=A+5,A+4<=r&&-1!==t?W(e,t,A,i):4===e.strategy||n===r?(M(e,2+(i?1:0),3),H(e,_,v)):(M(e,4+(i?1:0),3),function(e,t,A,i){var a;for(M(e,t-257,5),M(e,A-1,5),M(e,i-4,4),a=0;a<i;a++)M(e,e.bl_tree[2*w[a]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,A-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),H(e,e.dyn_ltree,e.dyn_dtree)),j(e),i&&J(e)},t._tr_tally=function(e,t,A){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&A,e.last_lit++,0===t?e.dyn_ltree[2*A]++:(e.matches++,t--,e.dyn_ltree[2*(k[A]+l+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){M(e,2,3),U(e,C,_),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},442:e=>{e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},371:t=>{t.exports=e}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return A[e](s,s.exports,a),s.exports}a.d=(e,t)=>{for(var A in t)a.o(t,A)&&!a.o(e,A)&&Object.defineProperty(e,A,{enumerable:!0,get:t[A]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s,r,n={};a.d(n,{XM:()=>vA,Pp:()=>WA,B8:()=>bA,Z9:()=>GA,Ms:()=>SA,yO:()=>FA,UZ:()=>kA,fN:()=>PA,_k:()=>UA,J4:()=>HA,bR:()=>zA,tS:()=>$A,Ro:()=>ei,M_:()=>XA,Bj:()=>ii,HZ:()=>KA,xn:()=>ni,EY:()=>VA,FA:()=>ai,o4:()=>oi,$u:()=>li,ZR:()=>cA,uE:()=>pA,Bf:()=>wi,xm:()=>hA,OK:()=>Xt,r0:()=>sA,IB:()=>Kt,cp:()=>Ht,pE:()=>dA,fO:()=>lA,pf:()=>si,fc:()=>ri,NW:()=>xA,OW:()=>DA,I:()=>LA,N5:()=>jA,fd:()=>MA,zU:()=>zt,RT:()=>RA,SW:()=>TA,s:()=>NA,mD:()=>IA,wi:()=>oA,tP:()=>uA,YK:()=>BA,Ey:()=>nA,qD:()=>JA,rr:()=>qA,Xs:()=>Pt,lj:()=>ti,MB:()=>Ai,hu:()=>ZA,Uk:()=>YA}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const A of e)t[A]=A;return t},e.getValidEnumValues=t=>{const A=e.objectKeys(t).filter((e=>\"number\"!=typeof t[t[e]])),i={};for(const e of A)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys=\"function\"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const A in e)Object.prototype.hasOwnProperty.call(e,A)&&t.push(A);return t},e.find=(e,t)=>{for(const A of e)if(t(A))return A},e.isInteger=\"function\"==typeof Number.isInteger?e=>Number.isInteger(e):e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=\" | \"){return e.map((e=>\"string\"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>\"bigint\"==typeof t?t.toString():t}(s||(s={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(r||(r={}));const o=s.arrayToEnum([\"string\",\"nan\",\"number\",\"integer\",\"float\",\"boolean\",\"date\",\"bigint\",\"symbol\",\"function\",\"undefined\",\"null\",\"array\",\"object\",\"unknown\",\"promise\",\"void\",\"never\",\"map\",\"set\"]),l=e=>{switch(typeof e){case\"undefined\":return o.undefined;case\"string\":return o.string;case\"number\":return isNaN(e)?o.nan:o.number;case\"boolean\":return o.boolean;case\"function\":return o.function;case\"bigint\":return o.bigint;case\"symbol\":return o.symbol;case\"object\":return Array.isArray(e)?o.array:null===e?o.null:e.then&&\"function\"==typeof e.then&&e.catch&&\"function\"==typeof e.catch?o.promise:\"undefined\"!=typeof Map&&e instanceof Map?o.map:\"undefined\"!=typeof Set&&e instanceof Set?o.set:\"undefined\"!=typeof Date&&e instanceof Date?o.date:o.object;default:return o.unknown}},g=s.arrayToEnum([\"invalid_type\",\"invalid_literal\",\"custom\",\"invalid_union\",\"invalid_union_discriminator\",\"invalid_enum_value\",\"unrecognized_keys\",\"invalid_arguments\",\"invalid_return_type\",\"invalid_date\",\"invalid_string\",\"too_small\",\"too_big\",\"invalid_intersection_types\",\"not_multiple_of\",\"not_finite\"]);class d extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name=\"ZodError\",this.issues=e}format(e){const t=e||function(e){return e.message},A={_errors:[]},i=e=>{for(const a of e.issues)if(\"invalid_union\"===a.code)a.unionErrors.map(i);else if(\"invalid_return_type\"===a.code)i(a.returnTypeError);else if(\"invalid_arguments\"===a.code)i(a.argumentsError);else if(0===a.path.length)A._errors.push(t(a));else{let e=A,i=0;for(;i<a.path.length;){const A=a.path[i];i===a.path.length-1?(e[A]=e[A]||{_errors:[]},e[A]._errors.push(t(a))):e[A]=e[A]||{_errors:[]},e=e[A],i++}}};return i(this),A}static assert(e){if(!(e instanceof d))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,s.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},A=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):A.push(e(i));return{formErrors:A,fieldErrors:t}}get formErrors(){return this.flatten()}}d.create=e=>new d(e);const h=(e,t)=>{let A;switch(e.code){case g.invalid_type:A=e.received===o.undefined?\"Required\":`Expected ${e.expected}, received ${e.received}`;break;case g.invalid_literal:A=`Invalid literal value, expected ${JSON.stringify(e.expected,s.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:A=`Unrecognized key(s) in object: ${s.joinValues(e.keys,\", \")}`;break;case g.invalid_union:A=\"Invalid input\";break;case g.invalid_union_discriminator:A=`Invalid discriminator value. Expected ${s.joinValues(e.options)}`;break;case g.invalid_enum_value:A=`Invalid enum value. Expected ${s.joinValues(e.options)}, received '${e.received}'`;break;case g.invalid_arguments:A=\"Invalid function arguments\";break;case g.invalid_return_type:A=\"Invalid function return type\";break;case g.invalid_date:A=\"Invalid date\";break;case g.invalid_string:\"object\"==typeof e.validation?\"includes\"in e.validation?(A=`Invalid input: must include \"${e.validation.includes}\"`,\"number\"==typeof e.validation.position&&(A=`${A} at one or more positions greater than or equal to ${e.validation.position}`)):\"startsWith\"in e.validation?A=`Invalid input: must start with \"${e.validation.startsWith}\"`:\"endsWith\"in e.validation?A=`Invalid input: must end with \"${e.validation.endsWith}\"`:s.assertNever(e.validation):A=\"regex\"!==e.validation?`Invalid ${e.validation}`:\"Invalid\";break;case g.too_small:A=\"array\"===e.type?`Array must contain ${e.exact?\"exactly\":e.inclusive?\"at least\":\"more than\"} ${e.minimum} element(s)`:\"string\"===e.type?`String must contain ${e.exact?\"exactly\":e.inclusive?\"at least\":\"over\"} ${e.minimum} character(s)`:\"number\"===e.type?`Number must be ${e.exact?\"exactly equal to \":e.inclusive?\"greater than or equal to \":\"greater than \"}${e.minimum}`:\"date\"===e.type?`Date must be ${e.exact?\"exactly equal to \":e.inclusive?\"greater than or equal to \":\"greater than \"}${new Date(Number(e.minimum))}`:\"Invalid input\";break;case g.too_big:A=\"array\"===e.type?`Array must contain ${e.exact?\"exactly\":e.inclusive?\"at most\":\"less than\"} ${e.maximum} element(s)`:\"string\"===e.type?`String must contain ${e.exact?\"exactly\":e.inclusive?\"at most\":\"under\"} ${e.maximum} character(s)`:\"number\"===e.type?`Number must be ${e.exact?\"exactly\":e.inclusive?\"less than or equal to\":\"less than\"} ${e.maximum}`:\"bigint\"===e.type?`BigInt must be ${e.exact?\"exactly\":e.inclusive?\"less than or equal to\":\"less than\"} ${e.maximum}`:\"date\"===e.type?`Date must be ${e.exact?\"exactly\":e.inclusive?\"smaller than or equal to\":\"smaller than\"} ${new Date(Number(e.maximum))}`:\"Invalid input\";break;case g.custom:A=\"Invalid input\";break;case g.invalid_intersection_types:A=\"Intersection results could not be merged\";break;case g.not_multiple_of:A=`Number must be a multiple of ${e.multipleOf}`;break;case g.not_finite:A=\"Number must be finite\";break;default:A=t.defaultError,s.assertNever(e)}return{message:A}};let c=h;function I(){return c}const u=e=>{const{data:t,path:A,errorMaps:i,issueData:a}=e,s=[...A,...a.path||[]],r={...a,path:s};if(void 0!==a.message)return{...a,path:s,message:a.message};let n=\"\";const o=i.filter((e=>!!e)).slice().reverse();for(const e of o)n=e(r,{data:t,defaultError:n}).message;return{...a,path:s,message:n}};function B(e,t){const A=I(),i=u({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,A,A===h?void 0:h].filter((e=>!!e))});e.common.issues.push(i)}class C{constructor(){this.value=\"valid\"}dirty(){\"valid\"===this.value&&(this.value=\"dirty\")}abort(){\"aborted\"!==this.value&&(this.value=\"aborted\")}static mergeArray(e,t){const A=[];for(const i of t){if(\"aborted\"===i.status)return p;\"dirty\"===i.status&&e.dirty(),A.push(i.value)}return{status:e.value,value:A}}static async mergeObjectAsync(e,t){const A=[];for(const e of t){const t=await e.key,i=await e.value;A.push({key:t,value:i})}return C.mergeObjectSync(e,A)}static mergeObjectSync(e,t){const A={};for(const i of t){const{key:t,value:a}=i;if(\"aborted\"===t.status)return p;if(\"aborted\"===a.status)return p;\"dirty\"===t.status&&e.dirty(),\"dirty\"===a.status&&e.dirty(),\"__proto__\"===t.value||void 0===a.value&&!i.alwaysSet||(A[t.value]=a.value)}return{status:e.value,value:A}}}const p=Object.freeze({status:\"aborted\"}),f=e=>({status:\"dirty\",value:e}),Q=e=>({status:\"valid\",value:e}),E=e=>\"aborted\"===e.status,m=e=>\"dirty\"===e.status,y=e=>\"valid\"===e.status,w=e=>\"undefined\"!=typeof Promise&&e instanceof Promise;function _(e,t,A,i){if(\"a\"===A&&!i)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"==typeof t?e!==t||!i:!t.has(e))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===A?i:\"a\"===A?i.call(e):i?i.value:t.get(e)}function v(e,t,A,i,a){if(\"m\"===i)throw new TypeError(\"Private method is not writable\");if(\"a\"===i&&!a)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"==typeof t?e!==t||!a:!t.has(e))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===i?a.call(e,A):a?a.value=A:t.set(e,A),A}var b,k,D;\"function\"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>\"string\"==typeof e?{message:e}:e||{},e.toString=e=>\"string\"==typeof e?e:null==e?void 0:e.message}(b||(b={}));class x{constructor(e,t,A,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=A,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const L=(e,t)=>{if(y(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error(\"Validation failed but no issues detected.\");return{success:!1,get error(){if(this._error)return this._error;const t=new d(e.common.issues);return this._error=t,this._error}}};function S(e){if(!e)return{};const{errorMap:t,invalid_type_error:A,required_error:i,description:a}=e;if(t&&(A||i))throw new Error('Can\\'t use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var s,r;const{message:n}=e;return\"invalid_enum_value\"===t.code?{message:null!=n?n:a.defaultError}:void 0===a.data?{message:null!==(s=null!=n?n:i)&&void 0!==s?s:a.defaultError}:\"invalid_type\"!==t.code?{message:a.defaultError}:{message:null!==(r=null!=n?n:A)&&void 0!==r?r:a.defaultError}},description:a}}class F{get description(){return this._def.description}_getType(e){return l(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new C,ctx:{common:e.parent.common,data:e.data,parsedType:l(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(w(t))throw new Error(\"Synchronous parse encountered promise.\");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const A=this.safeParse(e,t);if(A.success)return A.data;throw A.error}safeParse(e,t){var A;const i={common:{issues:[],async:null!==(A=null==t?void 0:t.async)&&void 0!==A&&A,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:l(e)},a=this._parseSync({data:e,path:i.path,parent:i});return L(i,a)}\"~validate\"(e){var t,A;const i={common:{issues:[],async:!!this[\"~standard\"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:l(e)};if(!this[\"~standard\"].async)try{const t=this._parseSync({data:e,path:[],parent:i});return y(t)?{value:t.value}:{issues:i.common.issues}}catch(e){(null===(A=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===A?void 0:A.includes(\"encountered\"))&&(this[\"~standard\"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then((e=>y(e)?{value:e.value}:{issues:i.common.issues}))}async parseAsync(e,t){const A=await this.safeParseAsync(e,t);if(A.success)return A.data;throw A.error}async safeParseAsync(e,t){const A={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:l(e)},i=this._parse({data:e,path:A.path,parent:A}),a=await(w(i)?i:Promise.resolve(i));return L(A,a)}refine(e,t){const A=e=>\"string\"==typeof t||void 0===t?{message:t}:\"function\"==typeof t?t(e):t;return this._refinement(((t,i)=>{const a=e(t),s=()=>i.addIssue({code:g.custom,...A(t)});return\"undefined\"!=typeof Promise&&a instanceof Promise?a.then((e=>!!e||(s(),!1))):!!a||(s(),!1)}))}refinement(e,t){return this._refinement(((A,i)=>!!e(A)||(i.addIssue(\"function\"==typeof t?t(A,i):t),!1)))}_refinement(e){return new Fe({schema:this,typeName:Ye.ZodEffects,effect:{type:\"refinement\",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this[\"~standard\"]={version:1,vendor:\"zod\",validate:e=>this[\"~validate\"](e)}}optional(){return Ge.create(this,this._def)}nullable(){return Te.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ie.create(this)}promise(){return Se.create(this,this._def)}or(e){return Ce.create([this,e],this._def)}and(e){return Ee.create(this,e,this._def)}transform(e){return new Fe({...S(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:\"transform\",transform:e}})}default(e){const t=\"function\"==typeof e?e:()=>e;return new Ne({...S(this._def),innerType:this,defaultValue:t,typeName:Ye.ZodDefault})}brand(){return new Oe({typeName:Ye.ZodBranded,type:this,...S(this._def)})}catch(e){const t=\"function\"==typeof e?e:()=>e;return new Re({...S(this._def),innerType:this,catchValue:t,typeName:Ye.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return qe.create(this,e)}readonly(){return je.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const G=/^c[^\\s-]{8,}$/i,T=/^[0-9a-z]+$/,N=/^[0-9A-HJKMNP-TV-Z]{26}$/i,R=/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i,M=/^[a-z0-9_-]{21}$/i,U=/^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/,O=/^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/,q=/^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;let j;const J=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,Y=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,z=\"((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))\",V=new RegExp(`^${z}$`);function W(e){let t=\"([01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d\";return e.precision?t=`${t}\\\\.\\\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\\\.\\\\d+)?`),t}function X(e){let t=`${z}T${W(e)}`;const A=[];return A.push(e.local?\"Z?\":\"Z\"),e.offset&&A.push(\"([+-]\\\\d{2}:?\\\\d{2})\"),t=`${t}(${A.join(\"|\")})`,new RegExp(`^${t}$`)}function $(e,t){if(!U.test(e))return!1;try{const[A]=e.split(\".\"),i=A.replace(/-/g,\"+\").replace(/_/g,\"/\").padEnd(A.length+(4-A.length%4)%4,\"=\"),a=JSON.parse(atob(i));return\"object\"==typeof a&&null!==a&&(!(!a.typ||!a.alg)&&(!t||a.alg===t))}catch(e){return!1}}function ee(e,t){return!(\"v4\"!==t&&t||!Z.test(e))||!(\"v6\"!==t&&t||!H.test(e))}class te extends F{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==o.string){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.string,received:t.parsedType}),p}const t=new C;let A;for(const r of this._def.checks)if(\"min\"===r.kind)e.data.length<r.value&&(A=this._getOrReturnCtx(e,A),B(A,{code:g.too_small,minimum:r.value,type:\"string\",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if(\"max\"===r.kind)e.data.length>r.value&&(A=this._getOrReturnCtx(e,A),B(A,{code:g.too_big,maximum:r.value,type:\"string\",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if(\"length\"===r.kind){const i=e.data.length>r.value,a=e.data.length<r.value;(i||a)&&(A=this._getOrReturnCtx(e,A),i?B(A,{code:g.too_big,maximum:r.value,type:\"string\",inclusive:!0,exact:!0,message:r.message}):a&&B(A,{code:g.too_small,minimum:r.value,type:\"string\",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if(\"email\"===r.kind)q.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"email\",code:g.invalid_string,message:r.message}),t.dirty());else if(\"emoji\"===r.kind)j||(j=new RegExp(\"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\",\"u\")),j.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"emoji\",code:g.invalid_string,message:r.message}),t.dirty());else if(\"uuid\"===r.kind)R.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"uuid\",code:g.invalid_string,message:r.message}),t.dirty());else if(\"nanoid\"===r.kind)M.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"nanoid\",code:g.invalid_string,message:r.message}),t.dirty());else if(\"cuid\"===r.kind)G.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"cuid\",code:g.invalid_string,message:r.message}),t.dirty());else if(\"cuid2\"===r.kind)T.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"cuid2\",code:g.invalid_string,message:r.message}),t.dirty());else if(\"ulid\"===r.kind)N.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"ulid\",code:g.invalid_string,message:r.message}),t.dirty());else if(\"url\"===r.kind)try{new URL(e.data)}catch(i){A=this._getOrReturnCtx(e,A),B(A,{validation:\"url\",code:g.invalid_string,message:r.message}),t.dirty()}else if(\"regex\"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"regex\",code:g.invalid_string,message:r.message}),t.dirty())}else if(\"trim\"===r.kind)e.data=e.data.trim();else if(\"includes\"===r.kind)e.data.includes(r.value,r.position)||(A=this._getOrReturnCtx(e,A),B(A,{code:g.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if(\"toLowerCase\"===r.kind)e.data=e.data.toLowerCase();else if(\"toUpperCase\"===r.kind)e.data=e.data.toUpperCase();else if(\"startsWith\"===r.kind)e.data.startsWith(r.value)||(A=this._getOrReturnCtx(e,A),B(A,{code:g.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if(\"endsWith\"===r.kind)e.data.endsWith(r.value)||(A=this._getOrReturnCtx(e,A),B(A,{code:g.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if(\"datetime\"===r.kind){X(r).test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{code:g.invalid_string,validation:\"datetime\",message:r.message}),t.dirty())}else if(\"date\"===r.kind){V.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{code:g.invalid_string,validation:\"date\",message:r.message}),t.dirty())}else if(\"time\"===r.kind){new RegExp(`^${W(r)}$`).test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{code:g.invalid_string,validation:\"time\",message:r.message}),t.dirty())}else\"duration\"===r.kind?O.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"duration\",code:g.invalid_string,message:r.message}),t.dirty()):\"ip\"===r.kind?(i=e.data,(\"v4\"!==(a=r.version)&&a||!J.test(i))&&(\"v6\"!==a&&a||!Y.test(i))&&(A=this._getOrReturnCtx(e,A),B(A,{validation:\"ip\",code:g.invalid_string,message:r.message}),t.dirty())):\"jwt\"===r.kind?$(e.data,r.alg)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"jwt\",code:g.invalid_string,message:r.message}),t.dirty()):\"cidr\"===r.kind?ee(e.data,r.version)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"cidr\",code:g.invalid_string,message:r.message}),t.dirty()):\"base64\"===r.kind?K.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"base64\",code:g.invalid_string,message:r.message}),t.dirty()):\"base64url\"===r.kind?P.test(e.data)||(A=this._getOrReturnCtx(e,A),B(A,{validation:\"base64url\",code:g.invalid_string,message:r.message}),t.dirty()):s.assertNever(r);var i,a;return{status:t.value,value:e.data}}_regex(e,t,A){return this.refinement((t=>e.test(t)),{validation:t,code:g.invalid_string,...b.errToObj(A)})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:\"email\",...b.errToObj(e)})}url(e){return this._addCheck({kind:\"url\",...b.errToObj(e)})}emoji(e){return this._addCheck({kind:\"emoji\",...b.errToObj(e)})}uuid(e){return this._addCheck({kind:\"uuid\",...b.errToObj(e)})}nanoid(e){return this._addCheck({kind:\"nanoid\",...b.errToObj(e)})}cuid(e){return this._addCheck({kind:\"cuid\",...b.errToObj(e)})}cuid2(e){return this._addCheck({kind:\"cuid2\",...b.errToObj(e)})}ulid(e){return this._addCheck({kind:\"ulid\",...b.errToObj(e)})}base64(e){return this._addCheck({kind:\"base64\",...b.errToObj(e)})}base64url(e){return this._addCheck({kind:\"base64url\",...b.errToObj(e)})}jwt(e){return this._addCheck({kind:\"jwt\",...b.errToObj(e)})}ip(e){return this._addCheck({kind:\"ip\",...b.errToObj(e)})}cidr(e){return this._addCheck({kind:\"cidr\",...b.errToObj(e)})}datetime(e){var t,A;return\"string\"==typeof e?this._addCheck({kind:\"datetime\",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:\"datetime\",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(A=null==e?void 0:e.local)&&void 0!==A&&A,...b.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:\"date\",message:e})}time(e){return\"string\"==typeof e?this._addCheck({kind:\"time\",precision:null,message:e}):this._addCheck({kind:\"time\",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...b.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:\"duration\",...b.errToObj(e)})}regex(e,t){return this._addCheck({kind:\"regex\",regex:e,...b.errToObj(t)})}includes(e,t){return this._addCheck({kind:\"includes\",value:e,position:null==t?void 0:t.position,...b.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:\"startsWith\",value:e,...b.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:\"endsWith\",value:e,...b.errToObj(t)})}min(e,t){return this._addCheck({kind:\"min\",value:e,...b.errToObj(t)})}max(e,t){return this._addCheck({kind:\"max\",value:e,...b.errToObj(t)})}length(e,t){return this._addCheck({kind:\"length\",value:e,...b.errToObj(t)})}nonempty(e){return this.min(1,b.errToObj(e))}trim(){return new te({...this._def,checks:[...this._def.checks,{kind:\"trim\"}]})}toLowerCase(){return new te({...this._def,checks:[...this._def.checks,{kind:\"toLowerCase\"}]})}toUpperCase(){return new te({...this._def,checks:[...this._def.checks,{kind:\"toUpperCase\"}]})}get isDatetime(){return!!this._def.checks.find((e=>\"datetime\"===e.kind))}get isDate(){return!!this._def.checks.find((e=>\"date\"===e.kind))}get isTime(){return!!this._def.checks.find((e=>\"time\"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>\"duration\"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>\"email\"===e.kind))}get isURL(){return!!this._def.checks.find((e=>\"url\"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>\"emoji\"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>\"uuid\"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>\"nanoid\"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>\"cuid\"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>\"cuid2\"===e.kind))}get isULID(){return!!this._def.checks.find((e=>\"ulid\"===e.kind))}get isIP(){return!!this._def.checks.find((e=>\"ip\"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>\"cidr\"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>\"base64\"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>\"base64url\"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ae(e,t){const A=(e.toString().split(\".\")[1]||\"\").length,i=(t.toString().split(\".\")[1]||\"\").length,a=A>i?A:i;return parseInt(e.toFixed(a).replace(\".\",\"\"))%parseInt(t.toFixed(a).replace(\".\",\"\"))/Math.pow(10,a)}te.create=e=>{var t;return new te({checks:[],typeName:Ye.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...S(e)})};class ie extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==o.number){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.number,received:t.parsedType}),p}let t;const A=new C;for(const i of this._def.checks)if(\"int\"===i.kind)s.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),B(t,{code:g.invalid_type,expected:\"integer\",received:\"float\",message:i.message}),A.dirty());else if(\"min\"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:g.too_small,minimum:i.value,type:\"number\",inclusive:i.inclusive,exact:!1,message:i.message}),A.dirty())}else if(\"max\"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:g.too_big,maximum:i.value,type:\"number\",inclusive:i.inclusive,exact:!1,message:i.message}),A.dirty())}else\"multipleOf\"===i.kind?0!==Ae(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:g.not_multiple_of,multipleOf:i.value,message:i.message}),A.dirty()):\"finite\"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),B(t,{code:g.not_finite,message:i.message}),A.dirty()):s.assertNever(i);return{status:A.value,value:e.data}}gte(e,t){return this.setLimit(\"min\",e,!0,b.toString(t))}gt(e,t){return this.setLimit(\"min\",e,!1,b.toString(t))}lte(e,t){return this.setLimit(\"max\",e,!0,b.toString(t))}lt(e,t){return this.setLimit(\"max\",e,!1,b.toString(t))}setLimit(e,t,A,i){return new ie({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:A,message:b.toString(i)}]})}_addCheck(e){return new ie({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:\"int\",message:b.toString(e)})}positive(e){return this._addCheck({kind:\"min\",value:0,inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:\"max\",value:0,inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:\"max\",value:0,inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:\"min\",value:0,inclusive:!0,message:b.toString(e)})}multipleOf(e,t){return this._addCheck({kind:\"multipleOf\",value:e,message:b.toString(t)})}finite(e){return this._addCheck({kind:\"finite\",message:b.toString(e)})}safe(e){return this._addCheck({kind:\"min\",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:b.toString(e)})._addCheck({kind:\"max\",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:b.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>\"int\"===e.kind||\"multipleOf\"===e.kind&&s.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const A of this._def.checks){if(\"finite\"===A.kind||\"int\"===A.kind||\"multipleOf\"===A.kind)return!0;\"min\"===A.kind?(null===t||A.value>t)&&(t=A.value):\"max\"===A.kind&&(null===e||A.value<e)&&(e=A.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ie.create=e=>new ie({checks:[],typeName:Ye.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...S(e)});class ae extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==o.bigint)return this._getInvalidInput(e);let t;const A=new C;for(const i of this._def.checks)if(\"min\"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:g.too_small,type:\"bigint\",minimum:i.value,inclusive:i.inclusive,message:i.message}),A.dirty())}else if(\"max\"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:g.too_big,type:\"bigint\",maximum:i.value,inclusive:i.inclusive,message:i.message}),A.dirty())}else\"multipleOf\"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),B(t,{code:g.not_multiple_of,multipleOf:i.value,message:i.message}),A.dirty()):s.assertNever(i);return{status:A.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.bigint,received:t.parsedType}),p}gte(e,t){return this.setLimit(\"min\",e,!0,b.toString(t))}gt(e,t){return this.setLimit(\"min\",e,!1,b.toString(t))}lte(e,t){return this.setLimit(\"max\",e,!0,b.toString(t))}lt(e,t){return this.setLimit(\"max\",e,!1,b.toString(t))}setLimit(e,t,A,i){return new ae({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:A,message:b.toString(i)}]})}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:\"min\",value:BigInt(0),inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:\"max\",value:BigInt(0),inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:\"max\",value:BigInt(0),inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:\"min\",value:BigInt(0),inclusive:!0,message:b.toString(e)})}multipleOf(e,t){return this._addCheck({kind:\"multipleOf\",value:e,message:b.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ae.create=e=>{var t;return new ae({checks:[],typeName:Ye.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...S(e)})};class se extends F{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==o.boolean){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.boolean,received:t.parsedType}),p}return Q(e.data)}}se.create=e=>new se({typeName:Ye.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...S(e)});class re extends F{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==o.date){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.date,received:t.parsedType}),p}if(isNaN(e.data.getTime())){return B(this._getOrReturnCtx(e),{code:g.invalid_date}),p}const t=new C;let A;for(const i of this._def.checks)\"min\"===i.kind?e.data.getTime()<i.value&&(A=this._getOrReturnCtx(e,A),B(A,{code:g.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:\"date\"}),t.dirty()):\"max\"===i.kind?e.data.getTime()>i.value&&(A=this._getOrReturnCtx(e,A),B(A,{code:g.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:\"date\"}),t.dirty()):s.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new re({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:\"min\",value:e.getTime(),message:b.toString(t)})}max(e,t){return this._addCheck({kind:\"max\",value:e.getTime(),message:b.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)\"min\"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)\"max\"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}re.create=e=>new re({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Ye.ZodDate,...S(e)});class ne extends F{_parse(e){if(this._getType(e)!==o.symbol){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.symbol,received:t.parsedType}),p}return Q(e.data)}}ne.create=e=>new ne({typeName:Ye.ZodSymbol,...S(e)});class oe extends F{_parse(e){if(this._getType(e)!==o.undefined){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.undefined,received:t.parsedType}),p}return Q(e.data)}}oe.create=e=>new oe({typeName:Ye.ZodUndefined,...S(e)});class le extends F{_parse(e){if(this._getType(e)!==o.null){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.null,received:t.parsedType}),p}return Q(e.data)}}le.create=e=>new le({typeName:Ye.ZodNull,...S(e)});class ge extends F{constructor(){super(...arguments),this._any=!0}_parse(e){return Q(e.data)}}ge.create=e=>new ge({typeName:Ye.ZodAny,...S(e)});class de extends F{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Q(e.data)}}de.create=e=>new de({typeName:Ye.ZodUnknown,...S(e)});class he extends F{_parse(e){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.never,received:t.parsedType}),p}}he.create=e=>new he({typeName:Ye.ZodNever,...S(e)});class ce extends F{_parse(e){if(this._getType(e)!==o.undefined){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.void,received:t.parsedType}),p}return Q(e.data)}}ce.create=e=>new ce({typeName:Ye.ZodVoid,...S(e)});class Ie extends F{_parse(e){const{ctx:t,status:A}=this._processInputParams(e),i=this._def;if(t.parsedType!==o.array)return B(t,{code:g.invalid_type,expected:o.array,received:t.parsedType}),p;if(null!==i.exactLength){const e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(B(t,{code:e?g.too_big:g.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:\"array\",inclusive:!0,exact:!0,message:i.exactLength.message}),A.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(B(t,{code:g.too_small,minimum:i.minLength.value,type:\"array\",inclusive:!0,exact:!1,message:i.minLength.message}),A.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(B(t,{code:g.too_big,maximum:i.maxLength.value,type:\"array\",inclusive:!0,exact:!1,message:i.maxLength.message}),A.dirty()),t.common.async)return Promise.all([...t.data].map(((e,A)=>i.type._parseAsync(new x(t,e,t.path,A))))).then((e=>C.mergeArray(A,e)));const a=[...t.data].map(((e,A)=>i.type._parseSync(new x(t,e,t.path,A))));return C.mergeArray(A,a)}get element(){return this._def.type}min(e,t){return new Ie({...this._def,minLength:{value:e,message:b.toString(t)}})}max(e,t){return new Ie({...this._def,maxLength:{value:e,message:b.toString(t)}})}length(e,t){return new Ie({...this._def,exactLength:{value:e,message:b.toString(t)}})}nonempty(e){return this.min(1,e)}}function ue(e){if(e instanceof Be){const t={};for(const A in e.shape){const i=e.shape[A];t[A]=Ge.create(ue(i))}return new Be({...e._def,shape:()=>t})}return e instanceof Ie?new Ie({...e._def,type:ue(e.element)}):e instanceof Ge?Ge.create(ue(e.unwrap())):e instanceof Te?Te.create(ue(e.unwrap())):e instanceof me?me.create(e.items.map((e=>ue(e)))):e}Ie.create=(e,t)=>new Ie({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...S(t)});class Be extends F{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=s.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==o.object){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.object,received:t.parsedType}),p}const{status:t,ctx:A}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof he&&\"strip\"===this._def.unknownKeys))for(const e in A.data)a.includes(e)||s.push(e);const r=[];for(const e of a){const t=i[e],a=A.data[e];r.push({key:{status:\"valid\",value:e},value:t._parse(new x(A,a,A.path,e)),alwaysSet:e in A.data})}if(this._def.catchall instanceof he){const e=this._def.unknownKeys;if(\"passthrough\"===e)for(const e of s)r.push({key:{status:\"valid\",value:e},value:{status:\"valid\",value:A.data[e]}});else if(\"strict\"===e)s.length>0&&(B(A,{code:g.unrecognized_keys,keys:s}),t.dirty());else if(\"strip\"!==e)throw new Error(\"Internal ZodObject error: invalid unknownKeys value.\")}else{const e=this._def.catchall;for(const t of s){const i=A.data[t];r.push({key:{status:\"valid\",value:t},value:e._parse(new x(A,i,A.path,t)),alwaysSet:t in A.data})}}return A.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of r){const A=await t.key,i=await t.value;e.push({key:A,value:i,alwaysSet:t.alwaysSet})}return e})).then((e=>C.mergeObjectSync(t,e))):C.mergeObjectSync(t,r)}get shape(){return this._def.shape()}strict(e){return b.errToObj,new Be({...this._def,unknownKeys:\"strict\",...void 0!==e?{errorMap:(t,A)=>{var i,a,s,r;const n=null!==(s=null===(a=(i=this._def).errorMap)||void 0===a?void 0:a.call(i,t,A).message)&&void 0!==s?s:A.defaultError;return\"unrecognized_keys\"===t.code?{message:null!==(r=b.errToObj(e).message)&&void 0!==r?r:n}:{message:n}}}:{}})}strip(){return new Be({...this._def,unknownKeys:\"strip\"})}passthrough(){return new Be({...this._def,unknownKeys:\"passthrough\"})}extend(e){return new Be({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Be({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ye.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Be({...this._def,catchall:e})}pick(e){const t={};return s.objectKeys(e).forEach((A=>{e[A]&&this.shape[A]&&(t[A]=this.shape[A])})),new Be({...this._def,shape:()=>t})}omit(e){const t={};return s.objectKeys(this.shape).forEach((A=>{e[A]||(t[A]=this.shape[A])})),new Be({...this._def,shape:()=>t})}deepPartial(){return ue(this)}partial(e){const t={};return s.objectKeys(this.shape).forEach((A=>{const i=this.shape[A];e&&!e[A]?t[A]=i:t[A]=i.optional()})),new Be({...this._def,shape:()=>t})}required(e){const t={};return s.objectKeys(this.shape).forEach((A=>{if(e&&!e[A])t[A]=this.shape[A];else{let e=this.shape[A];for(;e instanceof Ge;)e=e._def.innerType;t[A]=e}})),new Be({...this._def,shape:()=>t})}keyof(){return De(s.objectKeys(this.shape))}}Be.create=(e,t)=>new Be({shape:()=>e,unknownKeys:\"strip\",catchall:he.create(),typeName:Ye.ZodObject,...S(t)}),Be.strictCreate=(e,t)=>new Be({shape:()=>e,unknownKeys:\"strict\",catchall:he.create(),typeName:Ye.ZodObject,...S(t)}),Be.lazycreate=(e,t)=>new Be({shape:e,unknownKeys:\"strip\",catchall:he.create(),typeName:Ye.ZodObject,...S(t)});class Ce extends F{_parse(e){const{ctx:t}=this._processInputParams(e),A=this._def.options;if(t.common.async)return Promise.all(A.map((async e=>{const A={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:A}),ctx:A}}))).then((function(e){for(const t of e)if(\"valid\"===t.result.status)return t.result;for(const A of e)if(\"dirty\"===A.result.status)return t.common.issues.push(...A.ctx.common.issues),A.result;const A=e.map((e=>new d(e.ctx.common.issues)));return B(t,{code:g.invalid_union,unionErrors:A}),p}));{let e;const i=[];for(const a of A){const A={...t,common:{...t.common,issues:[]},parent:null},s=a._parseSync({data:t.data,path:t.path,parent:A});if(\"valid\"===s.status)return s;\"dirty\"!==s.status||e||(e={result:s,ctx:A}),A.common.issues.length&&i.push(A.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=i.map((e=>new d(e)));return B(t,{code:g.invalid_union,unionErrors:a}),p}}get options(){return this._def.options}}Ce.create=(e,t)=>new Ce({options:e,typeName:Ye.ZodUnion,...S(t)});const pe=e=>e instanceof be?pe(e.schema):e instanceof Fe?pe(e.innerType()):e instanceof ke?[e.value]:e instanceof xe?e.options:e instanceof Le?s.objectValues(e.enum):e instanceof Ne?pe(e._def.innerType):e instanceof oe?[void 0]:e instanceof le?[null]:e instanceof Ge?[void 0,...pe(e.unwrap())]:e instanceof Te?[null,...pe(e.unwrap())]:e instanceof Oe||e instanceof je?pe(e.unwrap()):e instanceof Re?pe(e._def.innerType):[];class fe extends F{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.object)return B(t,{code:g.invalid_type,expected:o.object,received:t.parsedType}),p;const A=this.discriminator,i=t.data[A],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(B(t,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[A]}),p)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,A){const i=new Map;for(const A of t){const t=pe(A.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \\`${e}\\` could not be extracted from all schema options`);for(const a of t){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,A)}}return new fe({typeName:Ye.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...S(A)})}}function Qe(e,t){const A=l(e),i=l(t);if(e===t)return{valid:!0,data:e};if(A===o.object&&i===o.object){const A=s.objectKeys(t),i=s.objectKeys(e).filter((e=>-1!==A.indexOf(e))),a={...e,...t};for(const A of i){const i=Qe(e[A],t[A]);if(!i.valid)return{valid:!1};a[A]=i.data}return{valid:!0,data:a}}if(A===o.array&&i===o.array){if(e.length!==t.length)return{valid:!1};const A=[];for(let i=0;i<e.length;i++){const a=Qe(e[i],t[i]);if(!a.valid)return{valid:!1};A.push(a.data)}return{valid:!0,data:A}}return A===o.date&&i===o.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ee extends F{_parse(e){const{status:t,ctx:A}=this._processInputParams(e),i=(e,i)=>{if(E(e)||E(i))return p;const a=Qe(e.value,i.value);return a.valid?((m(e)||m(i))&&t.dirty(),{status:t.value,value:a.data}):(B(A,{code:g.invalid_intersection_types}),p)};return A.common.async?Promise.all([this._def.left._parseAsync({data:A.data,path:A.path,parent:A}),this._def.right._parseAsync({data:A.data,path:A.path,parent:A})]).then((([e,t])=>i(e,t))):i(this._def.left._parseSync({data:A.data,path:A.path,parent:A}),this._def.right._parseSync({data:A.data,path:A.path,parent:A}))}}Ee.create=(e,t,A)=>new Ee({left:e,right:t,typeName:Ye.ZodIntersection,...S(A)});class me extends F{_parse(e){const{status:t,ctx:A}=this._processInputParams(e);if(A.parsedType!==o.array)return B(A,{code:g.invalid_type,expected:o.array,received:A.parsedType}),p;if(A.data.length<this._def.items.length)return B(A,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:\"array\"}),p;!this._def.rest&&A.data.length>this._def.items.length&&(B(A,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:\"array\"}),t.dirty());const i=[...A.data].map(((e,t)=>{const i=this._def.items[t]||this._def.rest;return i?i._parse(new x(A,e,A.path,t)):null})).filter((e=>!!e));return A.common.async?Promise.all(i).then((e=>C.mergeArray(t,e))):C.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new me({...this._def,rest:e})}}me.create=(e,t)=>{if(!Array.isArray(e))throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");return new me({items:e,typeName:Ye.ZodTuple,rest:null,...S(t)})};class ye extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:A}=this._processInputParams(e);if(A.parsedType!==o.object)return B(A,{code:g.invalid_type,expected:o.object,received:A.parsedType}),p;const i=[],a=this._def.keyType,s=this._def.valueType;for(const e in A.data)i.push({key:a._parse(new x(A,e,A.path,e)),value:s._parse(new x(A,A.data[e],A.path,e)),alwaysSet:e in A.data});return A.common.async?C.mergeObjectAsync(t,i):C.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,A){return new ye(t instanceof F?{keyType:e,valueType:t,typeName:Ye.ZodRecord,...S(A)}:{keyType:te.create(),valueType:e,typeName:Ye.ZodRecord,...S(t)})}}class we extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:A}=this._processInputParams(e);if(A.parsedType!==o.map)return B(A,{code:g.invalid_type,expected:o.map,received:A.parsedType}),p;const i=this._def.keyType,a=this._def.valueType,s=[...A.data.entries()].map((([e,t],s)=>({key:i._parse(new x(A,e,A.path,[s,\"key\"])),value:a._parse(new x(A,t,A.path,[s,\"value\"]))})));if(A.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const A of s){const i=await A.key,a=await A.value;if(\"aborted\"===i.status||\"aborted\"===a.status)return p;\"dirty\"!==i.status&&\"dirty\"!==a.status||t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const A of s){const i=A.key,a=A.value;if(\"aborted\"===i.status||\"aborted\"===a.status)return p;\"dirty\"!==i.status&&\"dirty\"!==a.status||t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}we.create=(e,t,A)=>new we({valueType:t,keyType:e,typeName:Ye.ZodMap,...S(A)});class _e extends F{_parse(e){const{status:t,ctx:A}=this._processInputParams(e);if(A.parsedType!==o.set)return B(A,{code:g.invalid_type,expected:o.set,received:A.parsedType}),p;const i=this._def;null!==i.minSize&&A.data.size<i.minSize.value&&(B(A,{code:g.too_small,minimum:i.minSize.value,type:\"set\",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&A.data.size>i.maxSize.value&&(B(A,{code:g.too_big,maximum:i.maxSize.value,type:\"set\",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const a=this._def.valueType;function s(e){const A=new Set;for(const i of e){if(\"aborted\"===i.status)return p;\"dirty\"===i.status&&t.dirty(),A.add(i.value)}return{status:t.value,value:A}}const r=[...A.data.values()].map(((e,t)=>a._parse(new x(A,e,A.path,t))));return A.common.async?Promise.all(r).then((e=>s(e))):s(r)}min(e,t){return new _e({...this._def,minSize:{value:e,message:b.toString(t)}})}max(e,t){return new _e({...this._def,maxSize:{value:e,message:b.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}_e.create=(e,t)=>new _e({valueType:e,minSize:null,maxSize:null,typeName:Ye.ZodSet,...S(t)});class ve extends F{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.function)return B(t,{code:g.invalid_type,expected:o.function,received:t.parsedType}),p;function A(e,A){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,I(),h].filter((e=>!!e)),issueData:{code:g.invalid_arguments,argumentsError:A}})}function i(e,A){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,I(),h].filter((e=>!!e)),issueData:{code:g.invalid_return_type,returnTypeError:A}})}const a={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof Se){const e=this;return Q((async function(...t){const r=new d([]),n=await e._def.args.parseAsync(t,a).catch((e=>{throw r.addIssue(A(t,e)),r})),o=await Reflect.apply(s,this,n);return await e._def.returns._def.type.parseAsync(o,a).catch((e=>{throw r.addIssue(i(o,e)),r}))}))}{const e=this;return Q((function(...t){const r=e._def.args.safeParse(t,a);if(!r.success)throw new d([A(t,r.error)]);const n=Reflect.apply(s,this,r.data),o=e._def.returns.safeParse(n,a);if(!o.success)throw new d([i(n,o.error)]);return o.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ve({...this._def,args:me.create(e).rest(de.create())})}returns(e){return new ve({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,A){return new ve({args:e||me.create([]).rest(de.create()),returns:t||de.create(),typeName:Ye.ZodFunction,...S(A)})}}class be extends F{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}be.create=(e,t)=>new be({getter:e,typeName:Ye.ZodLazy,...S(t)});class ke extends F{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return B(t,{received:t.data,code:g.invalid_literal,expected:this._def.value}),p}return{status:\"valid\",value:e.data}}get value(){return this._def.value}}function De(e,t){return new xe({values:e,typeName:Ye.ZodEnum,...S(t)})}ke.create=(e,t)=>new ke({value:e,typeName:Ye.ZodLiteral,...S(t)});class xe extends F{constructor(){super(...arguments),k.set(this,void 0)}_parse(e){if(\"string\"!=typeof e.data){const t=this._getOrReturnCtx(e),A=this._def.values;return B(t,{expected:s.joinValues(A),received:t.parsedType,code:g.invalid_type}),p}if(_(this,k,\"f\")||v(this,k,new Set(this._def.values),\"f\"),!_(this,k,\"f\").has(e.data)){const t=this._getOrReturnCtx(e),A=this._def.values;return B(t,{received:t.data,code:g.invalid_enum_value,options:A}),p}return Q(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return xe.create(e,{...this._def,...t})}exclude(e,t=this._def){return xe.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}k=new WeakMap,xe.create=De;class Le extends F{constructor(){super(...arguments),D.set(this,void 0)}_parse(e){const t=s.getValidEnumValues(this._def.values),A=this._getOrReturnCtx(e);if(A.parsedType!==o.string&&A.parsedType!==o.number){const e=s.objectValues(t);return B(A,{expected:s.joinValues(e),received:A.parsedType,code:g.invalid_type}),p}if(_(this,D,\"f\")||v(this,D,new Set(s.getValidEnumValues(this._def.values)),\"f\"),!_(this,D,\"f\").has(e.data)){const e=s.objectValues(t);return B(A,{received:A.data,code:g.invalid_enum_value,options:e}),p}return Q(e.data)}get enum(){return this._def.values}}D=new WeakMap,Le.create=(e,t)=>new Le({values:e,typeName:Ye.ZodNativeEnum,...S(t)});class Se extends F{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.promise&&!1===t.common.async)return B(t,{code:g.invalid_type,expected:o.promise,received:t.parsedType}),p;const A=t.parsedType===o.promise?t.data:Promise.resolve(t.data);return Q(A.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Se.create=(e,t)=>new Se({type:e,typeName:Ye.ZodPromise,...S(t)});class Fe extends F{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:A}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{B(A,e),e.fatal?t.abort():t.dirty()},get path(){return A.path}};if(a.addIssue=a.addIssue.bind(a),\"preprocess\"===i.type){const e=i.transform(A.data,a);if(A.common.async)return Promise.resolve(e).then((async e=>{if(\"aborted\"===t.value)return p;const i=await this._def.schema._parseAsync({data:e,path:A.path,parent:A});return\"aborted\"===i.status?p:\"dirty\"===i.status||\"dirty\"===t.value?f(i.value):i}));{if(\"aborted\"===t.value)return p;const i=this._def.schema._parseSync({data:e,path:A.path,parent:A});return\"aborted\"===i.status?p:\"dirty\"===i.status||\"dirty\"===t.value?f(i.value):i}}if(\"refinement\"===i.type){const e=e=>{const t=i.refinement(e,a);if(A.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");return e};if(!1===A.common.async){const i=this._def.schema._parseSync({data:A.data,path:A.path,parent:A});return\"aborted\"===i.status?p:(\"dirty\"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}return this._def.schema._parseAsync({data:A.data,path:A.path,parent:A}).then((A=>\"aborted\"===A.status?p:(\"dirty\"===A.status&&t.dirty(),e(A.value).then((()=>({status:t.value,value:A.value}))))))}if(\"transform\"===i.type){if(!1===A.common.async){const e=this._def.schema._parseSync({data:A.data,path:A.path,parent:A});if(!y(e))return e;const s=i.transform(e.value,a);if(s instanceof Promise)throw new Error(\"Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.\");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:A.data,path:A.path,parent:A}).then((e=>y(e)?Promise.resolve(i.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}s.assertNever(i)}}Fe.create=(e,t,A)=>new Fe({schema:e,typeName:Ye.ZodEffects,effect:t,...S(A)}),Fe.createWithPreprocess=(e,t,A)=>new Fe({schema:t,effect:{type:\"preprocess\",transform:e},typeName:Ye.ZodEffects,...S(A)});class Ge extends F{_parse(e){return this._getType(e)===o.undefined?Q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ge.create=(e,t)=>new Ge({innerType:e,typeName:Ye.ZodOptional,...S(t)});class Te extends F{_parse(e){return this._getType(e)===o.null?Q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Te.create=(e,t)=>new Te({innerType:e,typeName:Ye.ZodNullable,...S(t)});class Ne extends F{_parse(e){const{ctx:t}=this._processInputParams(e);let A=t.data;return t.parsedType===o.undefined&&(A=this._def.defaultValue()),this._def.innerType._parse({data:A,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ne.create=(e,t)=>new Ne({innerType:e,typeName:Ye.ZodDefault,defaultValue:\"function\"==typeof t.default?t.default:()=>t.default,...S(t)});class Re extends F{_parse(e){const{ctx:t}=this._processInputParams(e),A={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:A.data,path:A.path,parent:{...A}});return w(i)?i.then((e=>({status:\"valid\",value:\"valid\"===e.status?e.value:this._def.catchValue({get error(){return new d(A.common.issues)},input:A.data})}))):{status:\"valid\",value:\"valid\"===i.status?i.value:this._def.catchValue({get error(){return new d(A.common.issues)},input:A.data})}}removeCatch(){return this._def.innerType}}Re.create=(e,t)=>new Re({innerType:e,typeName:Ye.ZodCatch,catchValue:\"function\"==typeof t.catch?t.catch:()=>t.catch,...S(t)});class Me extends F{_parse(e){if(this._getType(e)!==o.nan){const t=this._getOrReturnCtx(e);return B(t,{code:g.invalid_type,expected:o.nan,received:t.parsedType}),p}return{status:\"valid\",value:e.data}}}Me.create=e=>new Me({typeName:Ye.ZodNaN,...S(e)});const Ue=Symbol(\"zod_brand\");class Oe extends F{_parse(e){const{ctx:t}=this._processInputParams(e),A=t.data;return this._def.type._parse({data:A,path:t.path,parent:t})}unwrap(){return this._def.type}}class qe extends F{_parse(e){const{status:t,ctx:A}=this._processInputParams(e);if(A.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:A.data,path:A.path,parent:A});return\"aborted\"===e.status?p:\"dirty\"===e.status?(t.dirty(),f(e.value)):this._def.out._parseAsync({data:e.value,path:A.path,parent:A})})()}{const e=this._def.in._parseSync({data:A.data,path:A.path,parent:A});return\"aborted\"===e.status?p:\"dirty\"===e.status?(t.dirty(),{status:\"dirty\",value:e.value}):this._def.out._parseSync({data:e.value,path:A.path,parent:A})}}static create(e,t){return new qe({in:e,out:t,typeName:Ye.ZodPipeline})}}class je extends F{_parse(e){const t=this._def.innerType._parse(e),A=e=>(y(e)&&(e.value=Object.freeze(e.value)),e);return w(t)?t.then((e=>A(e))):A(t)}unwrap(){return this._def.innerType}}function Je(e,t={},A){return e?ge.create().superRefine(((i,a)=>{var s,r;if(!e(i)){const e=\"function\"==typeof t?t(i):\"string\"==typeof t?{message:t}:t,n=null===(r=null!==(s=e.fatal)&&void 0!==s?s:A)||void 0===r||r,o=\"string\"==typeof e?{message:e}:e;a.addIssue({code:\"custom\",...o,fatal:n})}})):ge.create()}je.create=(e,t)=>new je({innerType:e,typeName:Ye.ZodReadonly,...S(t)});const Ze={object:Be.lazycreate};var Ye;!function(e){e.ZodString=\"ZodString\",e.ZodNumber=\"ZodNumber\",e.ZodNaN=\"ZodNaN\",e.ZodBigInt=\"ZodBigInt\",e.ZodBoolean=\"ZodBoolean\",e.ZodDate=\"ZodDate\",e.ZodSymbol=\"ZodSymbol\",e.ZodUndefined=\"ZodUndefined\",e.ZodNull=\"ZodNull\",e.ZodAny=\"ZodAny\",e.ZodUnknown=\"ZodUnknown\",e.ZodNever=\"ZodNever\",e.ZodVoid=\"ZodVoid\",e.ZodArray=\"ZodArray\",e.ZodObject=\"ZodObject\",e.ZodUnion=\"ZodUnion\",e.ZodDiscriminatedUnion=\"ZodDiscriminatedUnion\",e.ZodIntersection=\"ZodIntersection\",e.ZodTuple=\"ZodTuple\",e.ZodRecord=\"ZodRecord\",e.ZodMap=\"ZodMap\",e.ZodSet=\"ZodSet\",e.ZodFunction=\"ZodFunction\",e.ZodLazy=\"ZodLazy\",e.ZodLiteral=\"ZodLiteral\",e.ZodEnum=\"ZodEnum\",e.ZodEffects=\"ZodEffects\",e.ZodNativeEnum=\"ZodNativeEnum\",e.ZodOptional=\"ZodOptional\",e.ZodNullable=\"ZodNullable\",e.ZodDefault=\"ZodDefault\",e.ZodCatch=\"ZodCatch\",e.ZodPromise=\"ZodPromise\",e.ZodBranded=\"ZodBranded\",e.ZodPipeline=\"ZodPipeline\",e.ZodReadonly=\"ZodReadonly\"}(Ye||(Ye={}));const He=te.create,Ke=ie.create,Pe=Me.create,ze=ae.create,Ve=se.create,We=re.create,Xe=ne.create,$e=oe.create,et=le.create,tt=ge.create,At=de.create,it=he.create,at=ce.create,st=Ie.create,rt=Be.create,nt=Be.strictCreate,ot=Ce.create,lt=fe.create,gt=Ee.create,dt=me.create,ht=ye.create,ct=we.create,It=_e.create,ut=ve.create,Bt=be.create,Ct=ke.create,pt=xe.create,ft=Le.create,Qt=Se.create,Et=Fe.create,mt=Ge.create,yt=Te.create,wt=Fe.createWithPreprocess,_t=qe.create,vt={string:e=>te.create({...e,coerce:!0}),number:e=>ie.create({...e,coerce:!0}),boolean:e=>se.create({...e,coerce:!0}),bigint:e=>ae.create({...e,coerce:!0}),date:e=>re.create({...e,coerce:!0})},bt=p;var kt=Object.freeze({__proto__:null,defaultErrorMap:h,setErrorMap:function(e){c=e},getErrorMap:I,makeIssue:u,EMPTY_PATH:[],addIssueToContext:B,ParseStatus:C,INVALID:p,DIRTY:f,OK:Q,isAborted:E,isDirty:m,isValid:y,isAsync:w,get util(){return s},get objectUtil(){return r},ZodParsedType:o,getParsedType:l,ZodType:F,datetimeRegex:X,ZodString:te,ZodNumber:ie,ZodBigInt:ae,ZodBoolean:se,ZodDate:re,ZodSymbol:ne,ZodUndefined:oe,ZodNull:le,ZodAny:ge,ZodUnknown:de,ZodNever:he,ZodVoid:ce,ZodArray:Ie,ZodObject:Be,ZodUnion:Ce,ZodDiscriminatedUnion:fe,ZodIntersection:Ee,ZodTuple:me,ZodRecord:ye,ZodMap:we,ZodSet:_e,ZodFunction:ve,ZodLazy:be,ZodLiteral:ke,ZodEnum:xe,ZodNativeEnum:Le,ZodPromise:Se,ZodEffects:Fe,ZodTransformer:Fe,ZodOptional:Ge,ZodNullable:Te,ZodDefault:Ne,ZodCatch:Re,ZodNaN:Me,BRAND:Ue,ZodBranded:Oe,ZodPipeline:qe,ZodReadonly:je,custom:Je,Schema:F,ZodSchema:F,late:Ze,get ZodFirstPartyTypeKind(){return Ye},coerce:vt,any:tt,array:st,bigint:ze,boolean:Ve,date:We,discriminatedUnion:lt,effect:Et,enum:pt,function:ut,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Je((t=>t instanceof e),t),intersection:gt,lazy:Bt,literal:Ct,map:ct,nan:Pe,nativeEnum:ft,never:it,null:et,nullable:yt,number:Ke,object:rt,oboolean:()=>Ve().optional(),onumber:()=>Ke().optional(),optional:mt,ostring:()=>He().optional(),pipeline:_t,preprocess:wt,promise:Qt,record:ht,set:It,strictObject:nt,string:He,symbol:Xe,transformer:Et,tuple:dt,undefined:$e,union:ot,unknown:At,void:at,NEVER:bt,ZodIssueCode:g,quotelessJson:e=>JSON.stringify(e,null,2).replace(/\"([^\"]+)\":/g,\"$1:\"),ZodError:d});const Dt=kt.object({name:kt.string(),type:kt.literal(\"int\"),value:kt.number().int()}),xt=kt.object({name:kt.string(),type:kt.literal(\"bool\"),value:kt.boolean()}),Lt=kt.object({name:kt.string(),type:kt.literal(\"float\"),value:kt.number()}),St=kt.object({name:kt.string(),type:kt.literal(\"string\"),value:kt.string()}),Ft=kt.object({name:kt.string(),type:kt.literal(\"file\"),value:kt.string()}),Gt=kt.object({name:kt.string(),type:kt.literal(\"color\"),value:kt.string()}),Tt=kt.object({name:kt.string(),type:kt.literal(\"object\"),value:kt.number()}),Nt=kt.discriminatedUnion(\"type\",[Dt,xt,Lt,St,Ft,Gt,Tt]),Rt=kt.object({name:kt.string(),type:kt.literal(\"tilelayer\"),class:kt.string().optional(),height:kt.number(),width:kt.number(),x:kt.number(),y:kt.number(),id:kt.number(),opacity:kt.number(),properties:kt.array(Nt).optional(),visible:kt.boolean(),tintcolor:kt.string().optional(),parallaxx:kt.number().optional(),parallaxy:kt.number().optional(),offsetx:kt.number().optional(),offsety:kt.number().optional()}),Mt=Rt.extend({data:kt.array(kt.number()),encoding:kt.literal(\"csv\")}),Ut=Rt.extend({data:kt.array(kt.number()),encoding:kt.literal(\"base64\"),compression:kt.literal(\"gzip\")}),Ot=Rt.extend({data:kt.array(kt.number()),encoding:kt.literal(\"base64\"),compression:kt.literal(\"zlib\")}),qt=Rt.extend({data:kt.array(kt.number()),encoding:kt.literal(\"base64\"),compression:kt.literal(\"zstandard\")}),jt=Rt.extend({data:kt.string(),encoding:kt.literal(\"base64\"),compression:kt.string().optional()}),Jt=kt.object({x:kt.number(),y:kt.number(),width:kt.number(),height:kt.number(),data:kt.string()}),Zt=kt.object({x:kt.number(),y:kt.number(),width:kt.number(),height:kt.number(),data:kt.array(kt.number())}),Yt=kt.union([Jt,Zt]),Ht=Rt.extend({startx:kt.number(),starty:kt.number(),chunks:kt.array(Yt),encoding:kt.string().optional(),compression:kt.string().optional(),data:kt.undefined()}),Kt=kt.union([jt,Mt,Ut,Ot,qt,Ht]);function Pt(e){return\"base64\"===e.encoding}function zt(e){return\"csv\"===e.encoding||Array.isArray(e.data)}const Vt=kt.object({x:kt.number(),y:kt.number()}),Wt=kt.array(Vt),Xt=kt.object({text:kt.string(),color:kt.string().optional(),fontfamily:kt.string().optional(),pixelsize:kt.number().optional(),wrap:kt.boolean().optional(),halign:kt.union([kt.literal(\"left\"),kt.literal(\"center\"),kt.literal(\"right\"),kt.literal(\"justify\")]).optional(),valign:kt.union([kt.literal(\"top\"),kt.literal(\"center\"),kt.literal(\"bottom\")]).optional()}),$t=kt.object({id:kt.number().optional(),name:kt.string().optional(),type:kt.string().optional(),x:kt.number().optional(),y:kt.number().optional(),rotation:kt.number().optional(),height:kt.number().optional(),width:kt.number().optional(),visible:kt.boolean().optional(),gid:kt.number().optional(),text:Xt.optional(),point:kt.boolean().optional(),ellipse:kt.boolean().optional(),polyline:kt.array(Vt).optional(),polygon:Wt.optional(),template:kt.string().optional(),properties:kt.array(Nt).optional()}),eA=kt.object({duration:kt.number(),tileid:kt.number()}),tA=kt.object({name:kt.string(),draworder:kt.string(),type:kt.literal(\"objectgroup\"),class:kt.string().optional(),x:kt.number(),y:kt.number(),id:kt.number(),color:kt.string().optional(),tintcolor:kt.string().optional(),parallaxx:kt.number().optional(),parallaxy:kt.number().optional(),offsetx:kt.number().optional(),offsety:kt.number().optional(),opacity:kt.number(),properties:kt.array(Nt).optional(),visible:kt.boolean(),objects:kt.array($t)}),AA=kt.object({name:kt.string(),x:kt.number(),y:kt.number(),id:kt.number(),type:kt.literal(\"imagelayer\"),class:kt.string().optional(),image:kt.string().optional(),opacity:kt.number(),properties:kt.array(Nt).optional(),visible:kt.boolean(),tintcolor:kt.string().optional(),repeatx:kt.boolean().optional(),repeaty:kt.boolean().optional(),parallaxx:kt.number().optional(),parallaxy:kt.number().optional(),offsetx:kt.number().optional(),offsety:kt.number().optional(),transparentcolor:kt.string().optional()}),iA=kt.union([Kt,AA,tA]),aA=kt.object({draworder:kt.string(),id:kt.number().optional(),name:kt.string(),x:kt.number(),y:kt.number(),opacity:kt.number(),tintcolor:kt.string().optional(),type:kt.literal(\"objectgroup\"),visible:kt.boolean(),objects:kt.array($t),properties:kt.array(Nt).optional()}),sA=kt.object({id:kt.number(),type:kt.string().optional(),animation:kt.array(eA).optional(),objectgroup:aA.optional(),probability:kt.number().optional(),properties:kt.array(Nt).optional(),image:kt.string().optional(),imageheight:kt.number().optional(),imagewidth:kt.number().optional()}),rA=kt.object({name:kt.string(),firstgid:kt.number().optional(),class:kt.string().optional(),objectalignment:kt.union([kt.literal(\"topleft\"),kt.literal(\"top\"),kt.literal(\"topright\"),kt.literal(\"left\"),kt.literal(\"center\"),kt.literal(\"right\"),kt.literal(\"bottomleft\"),kt.literal(\"bottom\"),kt.literal(\"bottomright\")]).optional(),image:kt.string().optional(),imagewidth:kt.number().optional(),imageheight:kt.number().optional(),columns:kt.number(),tileheight:kt.number(),tilewidth:kt.number(),tilecount:kt.number(),grid:kt.object({height:kt.number(),width:kt.number(),orientation:kt.union([kt.literal(\"isometric\"),kt.literal(\"orthogonal\")])}).optional(),tileoffset:Vt.optional(),spacing:kt.number(),margin:kt.number(),tiles:kt.array(sA).optional(),properties:kt.array(Nt).optional()});function nA(e){return!!e.image}function oA(e){return!e.image}const lA=rA.extend({tiledversion:kt.string().optional(),type:kt.literal(\"tileset\"),version:kt.string().optional()}),gA=kt.object({firstgid:kt.number(),source:kt.string()}),dA=kt.union([rA,gA]),hA=kt.object({object:$t.extend({id:kt.number().optional()}),tileset:gA.optional(),type:kt.literal(\"template\")}),cA=kt.object({type:kt.string(),class:kt.string().optional(),tiledversion:kt.string(),version:kt.string(),width:kt.number(),height:kt.number(),tilewidth:kt.number(),tileheight:kt.number(),compressionlevel:kt.number().optional(),infinite:kt.boolean(),nextlayerid:kt.number(),nextobjectid:kt.number(),parallaxoriginx:kt.number().optional(),parallaxoriginy:kt.number().optional(),hexsidelength:kt.number().optional(),staggeraxis:kt.literal(\"y\").or(kt.literal(\"x\")).optional(),staggerindex:kt.literal(\"odd\").or(kt.literal(\"even\")).optional(),orientation:kt.union([kt.literal(\"isometric\"),kt.literal(\"orthogonal\"),kt.literal(\"staggered\"),kt.literal(\"hexagonal\")]),renderorder:kt.union([kt.literal(\"right-down\"),kt.literal(\"right-up\"),kt.literal(\"left-down\"),kt.literal(\"left-up\")]),backgroundcolor:kt.string().optional(),layers:kt.array(iA),tilesets:kt.array(dA),properties:kt.array(Nt).optional()});function IA(e){return!!e.chunks}function uA(e){return!e.source}function BA(e){return!!e.source}class CA{constructor(e,t,A,i){this.x=e,this.y=t,this.width=A,this.height=i}combine(e){const t=this.x+this.width,A=this.y+this.height,i=e.x+e.width,a=e.y+e.height,s=Math.max(t,i),r=Math.max(A,a);return new CA(Math.min(this.x,e.x),Math.min(this.y,e.y),s-Math.min(this.x,e.x),r-Math.min(this.y,e.y))}}class pA{constructor(){this._largestBounds=new CA(0,0,0,0)}_coerceNumber(e){return+e}_coerceBoolean(e){switch(e){case\"0\":case\"false\":return!1;case\"true\":return!0;default:return!!Boolean(e)}}_coerceType(e,t){return\"bool\"===e?this._coerceBoolean(t):\"int\"===e||\"float\"===e||\"object\"===e?this._coerceNumber(t):t}_parsePropertiesNode(e,t){var A;const i=[];if(e)for(let t of e.children){const e=null!==(A=t.getAttribute(\"type\"))&&void 0!==A?A:\"string\";let a=t.getAttribute(\"value\");a||(a=t.innerHTML),i.push({name:t.getAttribute(\"name\"),type:e,value:this._coerceType(e,a)})}t.properties=i}_parseAttributes(e,t){const A=[\"width\",\"height\",\"columns\",\"firstgid\",\"spacing\",\"margin\",\"tilecount\",\"tilewidth\",\"tileheight\",\"opacity\",\"compressionlevel\",\"nextlayerid\",\"nextobjectid\",\"parallaxoriginx\",\"parallaxoriginy\",\"parallaxx\",\"parallaxy\",\"hexsidelength\",\"offsetx\",\"offsety\",\"id\",\"gid\",\"x\",\"y\",\"rotation\",\"probability\"],i=[\"infinite\",\"visible\",\"repeatx\",\"repeaty\"];for(let a of e.attributes)A.indexOf(a.name)>-1?t[a.name]=this._coerceNumber(a.value):i.indexOf(a.name)>-1?t[a.name]=this._coerceBoolean(a.value):t[a.name]=a.value}_parseToDocument(e){if(\"undefined\"!=typeof DOMParser){return(new DOMParser).parseFromString(e,\"application/xml\")}try{const{JSDOM:t}=a(371);return new t(e,{contentType:\"application/xml\",encoding:\"utf-8\"}).window.document}catch(e){}const t=new Error(\"Could not find DOM parser\");throw console.error(t.message,t),t}parseObject(e,t=!0){var A,i;const a={type:\"\",x:0,y:0};e.getAttribute(\"template\")||(a.visible=!0,a.name=\"\",a.rotation=0,a.height=0,a.width=0),this._parseAttributes(e,a);const s=e.querySelector(\"properties\");s&&this._parsePropertiesNode(s,a);const r=e.querySelector(\"text\");if(r){a.text={text:r.textContent};const e=r.getAttribute(\"fontfamily\");e&&(a.text.fontfamily=e);const t=r.getAttribute(\"color\");t&&(a.text.color=t);const A=r.getAttribute(\"pixelsize\");A&&(a.text.pixelsize=this._coerceNumber(A));const i=r.getAttribute(\"wrap\");i&&(a.text.wrap=this._coerceBoolean(i));const s=r.getAttribute(\"valign\");s&&(a.text.valign=s);const n=r.getAttribute(\"halign\");n&&(a.text.halign=n)}e.querySelector(\"point\")&&(a.point=!0);e.querySelector(\"ellipse\")&&(a.ellipse=!0);const n=e.querySelector(\"polygon\");if(n){const e=null===(A=n.getAttribute(\"points\"))||void 0===A?void 0:A.split(\" \");a.polygon=[],e&&e.forEach((e=>{const t=e.split(\",\");a.polygon.push({x:+t[0],y:+t[1]})}))}const o=e.querySelector(\"polyline\");if(o){const e=null===(i=o.getAttribute(\"points\"))||void 0===i?void 0:i.split(\" \");a.polyline=[],e&&e.forEach((e=>{const t=e.split(\",\");a.polyline.push({x:+t[0],y:+t[1]})}))}if(t)try{return $t.parse(a)}catch(e){throw console.error(\"Could not parse object\",a,e),e}return a}parseTileset(e,t=!0){const A={spacing:0,margin:0};if(this._parseAttributes(e,A),A.source)try{return dA.parse(A)}catch(e){console.error(\"Could not parse external tileset\",A,e)}for(let i of e.children)switch(i.tagName){case\"properties\":this._parsePropertiesNode(i,A);break;case\"tileoffset\":{const e={};this._parseAttributes(i,e),A.tileoffset=e;break}case\"grid\":{const e={};this._parseAttributes(i,e),A.grid=e;break}case\"image\":A.image=i.getAttribute(\"source\"),A.imagewidth=this._coerceNumber(i.getAttribute(\"width\")),A.imageheight=this._coerceNumber(i.getAttribute(\"height\"));break;case\"tile\":{A.tiles||(A.tiles=[]);const e={};this._parseAttributes(i,e);for(let A of i.children)switch(A.tagName){case\"image\":e.image=A.getAttribute(\"source\"),e.imagewidth=this._coerceNumber(A.getAttribute(\"width\")),e.imageheight=this._coerceNumber(A.getAttribute(\"height\"));break;case\"objectgroup\":{const i={type:\"objectgroup\",name:\"\",visible:!0,x:0,y:0,opacity:1,objects:[]};this._parseAttributes(A,i),e.objectgroup=i;for(let e of A.children){const A=this.parseObject(e,t);i.objects.push(A)}break}case\"animation\":{const t=[];for(let e of A.children)t.push({duration:this._coerceNumber(e.getAttribute(\"duration\")),tileid:this._coerceNumber(e.getAttribute(\"tileid\"))});e.animation=t;break}case\"properties\":this._parsePropertiesNode(A,e)}if(t)try{A.tiles.push(sA.parse(e))}catch(t){throw console.error(\"Could not parse Tile\",e,t),t}else A.tiles.push(e);break}}if(t)try{return dA.parse(A)}catch(e){throw console.error(\"Could not parse Tileset\",A,e),e}return A}parseTileLayer(e,t,A=!0){var i,a,s,r;const n={type:\"tilelayer\",x:0,y:0,opacity:1,visible:!0};this._parseAttributes(e,n);for(let A of e.children)switch(A.tagName){case\"properties\":this._parsePropertiesNode(A,n);break;case\"data\":{const e=A.getAttribute(\"encoding\");e&&(n.encoding=e);const o=A.getAttribute(\"compression\");if(o&&(n.compression=o),t){n.width=0,n.height=0,n.chunks=[];let e=new CA(0,0,0,0);for(let t of A.children)if(\"chunk\"===t.tagName){const A={};switch(this._parseAttributes(t,A),n.encoding){case\"base64\":A.data=null===(i=t.textContent)||void 0===i?void 0:i.trim();break;case\"csv\":A.data=null===(a=t.textContent)||void 0===a?void 0:a.split(\",\").map((e=>+e))}const s=new CA(A.x,A.y,A.width,A.height);e=e.combine(s),n.chunks.push(A)}n.width=e.width,n.height=e.height,n.startx=e.x,n.starty=e.y,this._largestBounds=this._largestBounds.combine(new CA(n.startx,n.starty,n.width,n.height))}else switch(n.encoding){case\"base64\":n.data=null===(s=A.textContent)||void 0===s?void 0:s.trim();break;case\"csv\":n.data=null===(r=A.textContent)||void 0===r?void 0:r.split(\",\").map((e=>+e))}}}if(A)try{return iA.parse(n)}catch(e){throw console.error(\"Could not parse tiled tile layer\",n,e),e}return n}parseObjectGroup(e,t=!0){const A={type:\"objectgroup\",draworder:\"topdown\",visible:!0,x:0,y:0,opacity:1,objects:[]};this._parseAttributes(e,A);for(let i of e.children)switch(i.tagName){case\"properties\":this._parsePropertiesNode(i,A);break;case\"object\":{const e=this.parseObject(i,t);A.objects.push(e);break}}if(t)try{return iA.parse(A)}catch(e){throw console.error(\"Could not parse object group\",A,e),e}return A}parseImageLayer(e,t=!0){const A={type:\"imagelayer\",visible:!0,x:0,y:0,opacity:1},i=e.querySelector(\"image\");A.image=null==i?void 0:i.getAttribute(\"source\");const a=e.querySelector(\"properties\");a&&this._parsePropertiesNode(a,A);const s=null==i?void 0:i.getAttribute(\"trans\");if(s&&(A.transparentcolor=\"#\"+s),this._parseAttributes(e,A),t)try{return iA.parse(A)}catch(e){throw console.error(\"Could not parse layer\",A,e),e}return A}parseExternalTemplate(e,t=!0){const A=this._parseToDocument(e).querySelector(\"template\"),i={type:\"template\"},a=A.querySelector(\"object\");a&&(i.object=this.parseObject(a,t));const s=A.querySelector(\"tileset\");if(s&&(i.tileset=this.parseTileset(s,t)),t)try{return hA.parse(i)}catch(e){throw console.error(\"Could not parse template\",i,e),e}return i}parseExternalTileset(e,t=!0){const A=this._parseToDocument(e).querySelector(\"tileset\"),i=this.parseTileset(A,t);if(i.type=\"tileset\",this._parseAttributes(A,i),t)try{return lA.parse(i)}catch(e){throw console.error(\"Could not parse tileset file\",i,e),e}return i}parse(e,t=!0){const A=this._parseToDocument(e).querySelector(\"map\"),i={type:\"map\",compressionlevel:-1,layers:[],tilesets:[]};this._parseAttributes(A,i);const a=(e,t=!0)=>{switch(e.tagName){case\"group\":for(let A of e.children)a(A,t);break;case\"layer\":{const A=this.parseTileLayer(e,i.infinite,t);i.layers.push(A);break}case\"properties\":this._parsePropertiesNode(e,i);break;case\"tileset\":{const A=this.parseTileset(e,t);i.tilesets.push(A);break}case\"objectgroup\":{const A=this.parseObjectGroup(e,t);i.layers.push(A);break}case\"imagelayer\":{const A=this.parseImageLayer(e,t);i.layers.push(A);break}}};for(let e of A.children)a(e,t);if(t)try{return cA.parse(i)}catch(e){throw console.error(\"Could not parse Tiled map\",e),e}return i}}var fA=a(668);let QA,EA,mA;const yA={env:{emscripten_notify_memory_growth:function(e){mA=new Uint8Array(EA.exports.memory.buffer)}}};class wA{init(){return QA||(QA=\"undefined\"!=typeof fetch?fetch(\"data:application/wasm;base64,\"+_A).then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,yA))).then(this._init):WebAssembly.instantiate(Buffer.from(_A,\"base64\"),yA).then(this._init),QA)}_init(e){EA=e.instance,yA.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!EA)throw new Error(\"ZSTDDecoder: Await .init() before decoding.\");const A=e.byteLength,i=EA.exports.malloc(A);mA.set(e,i),t=t||Number(EA.exports.ZSTD_findDecompressedSize(i,A));const a=EA.exports.malloc(t),s=EA.exports.ZSTD_decompress(a,t,i,A),r=mA.slice(a,a+s);return EA.exports.free(i),EA.exports.free(a),r}}const _A=\"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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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\";class vA{static decode(e,t){var A,i,a,s,r,n;if(e.length%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var o=\"+\".charCodeAt(0),l=\"/\".charCodeAt(0),g=\"0\".charCodeAt(0),d=\"a\".charCodeAt(0),h=\"A\".charCodeAt(0),c=\"-\".charCodeAt(0),I=\"_\".charCodeAt(0);function u(e){var t=e.charCodeAt(0);if(t===o||t===c)return 62;if(t===l||t===I)return 63;if(t<g)return-1;if(t<g+10)return t-g+26+26;if(t<h+26)return t-h;if(t<d+26)return t-d+26;throw Error(\"Could not decode elt\")}var B=e.length;r=\"=\"===e.charAt(B-2)?2:\"=\"===e.charAt(B-1)?1:0,n=new Uint8Array(3*e.length/4-r),a=r>0?e.length-4:e.length;var C=0;function p(e){n[C++]=e}for(A=0,i=0;A<a;A+=4,i+=3)p((16711680&(s=u(e.charAt(A))<<18|u(e.charAt(A+1))<<12|u(e.charAt(A+2))<<6|u(e.charAt(A+3))))>>16),p((65280&s)>>8),p(255&s);return 2===r?p(255&(s=u(e.charAt(A))<<2|u(e.charAt(A+1))>>4)):1===r&&(p((s=u(e.charAt(A))<<10|u(e.charAt(A+1))<<4|u(e.charAt(A+2))>>2)>>8&255),p(255&s)),new Promise((e=>{const i=function(e){for(var t=0,A=e.length-1;A>=0;A--)t=256*t+1*e[A];return t};if(\"zlib\"===t||\"gzip\"===t){var a=(n=(0,fA.inflate)(n)).length/4,s=new Array(a);for(A=0;A<a;A++)s[A]=i(n.slice(4*A,4*A+4));e(s)}if(\"zstd\"===t){const t=new wA;t.init().then((()=>{var a=(n=t.decode(n)).length/4,s=new Array(a);for(A=0;A<a;A++)s[A]=i(n.slice(4*A,4*A+4));e(s)}))}if(!t){a=n.length/4,s=new Array(a);for(A=0;A<a;A++)s[A]=i(n.slice(4*A,4*A+4));e(s)}}))}}const bA={TileData:{Tiled:\"ex-tiled\"},ZIndex:{ZIndex:\"zindex\"},Camera:{Camera:\"camera\",Zoom:\"zoom\"},Animation:{Strategy:\"animationstrategy\"},Layer:{Solid:\"solid\"},Collision:{Type:\"collisiontype\"}},kA=async(e,t)=>{const A=await fetch(e);switch(t.toLowerCase()){case\"xml\":default:return await A.text();case\"json\":return await A.json()}},DA=e=>t=>(null==t?void 0:t.name)&&e?0===t.name.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase()):(null==t?void 0:t.name)===e,xA=e=>t=>(null==t?void 0:t.class)&&e?0===t.class.toLocaleLowerCase().localeCompare(e.toLocaleLowerCase()):(null==t?void 0:t.class)===e,LA=(e,t)=>A=>{const i=(e=>{const t=new Map;for(let[A,i]of e){let e=i;\"string\"==typeof i&&(e=i.toLocaleLowerCase()),t.set(A.toLocaleLowerCase(),e)}return t})(A.properties);if(void 0!==t){let A=t;return\"string\"==typeof t&&(A=t.toLocaleLowerCase()),i.get(e.toLocaleLowerCase())===A}return i.has(e.toLocaleLowerCase())},SA=2147483648,FA=1073741824,GA=536870912,TA=e=>!!(e&SA),NA=e=>!!(e&FA),RA=e=>!!(e&GA),MA=e=>e&~(SA|FA|GA);class UA{constructor(e){this.type=e,this._loaded=!1,this.cache=new Map}getOrAdd(...e){let t=this.cache.get(e.join(\"+\"));return t||(t=new this.type(...e),this.cache.set(e.join(\"+\"),t),t)}values(){if(this._loaded)return Array.from(this.cache.values());throw new Error(\"Read through cache not yet loaded! No values to return!\")}async load(){const e=Array.from(this.cache.entries()),t=await Promise.allSettled(e.map((e=>e[1].load())));let A=0;for(let i=0;i<t.length;i++){const a=t[i];\"rejected\"===a.status&&(console.error(`Error loading resource at ${e[i][0]}, is your pathMap correct? or your Tiled map corrupted?`,a.reason),A++)}if(A)throw new Error(`Error loading ${A} resources`);this._loaded=!0}}const OA=(e=>{var t={};return a.d(t,e),t})({Actor:()=>t.Actor,AffineMatrix:()=>t.AffineMatrix,Animation:()=>t.Animation,AnimationStrategy:()=>t.AnimationStrategy,BaseAlign:()=>t.BaseAlign,BoundingBox:()=>t.BoundingBox,CollisionType:()=>t.CollisionType,Color:()=>t.Color,Component:()=>t.Component,Font:()=>t.Font,FontUnit:()=>t.FontUnit,GraphicsComponent:()=>t.GraphicsComponent,ImageSource:()=>t.ImageSource,IsometricEntityComponent:()=>t.IsometricEntityComponent,IsometricMap:()=>t.IsometricMap,Logger:()=>t.Logger,ParallaxComponent:()=>t.ParallaxComponent,Shape:()=>t.Shape,SpriteSheet:()=>t.SpriteSheet,Text:()=>t.Text,TextAlign:()=>t.TextAlign,TileMap:()=>t.TileMap,TransformComponent:()=>t.TransformComponent,Vector:()=>t.Vector,toRadians:()=>t.toRadians,vec:()=>t.vec});function qA(e,t){try{if(t)for(const A of t){let t=A.value;\"string\"==typeof A.value&&(t=A.value.toLocaleLowerCase()),e.properties.set(A.name.toLocaleLowerCase(),t)}}catch(t){console.error(`Unable to map properties onto ${e}`,t)}}function jA(e){const t=e.match(/[^/\\\\&\\?]+\\.\\w{2,4}(?=([\\#\\?&].*$|$))/gi);if(t){return t[0]}throw new Error(`Could not locate filename from path: ${e}`)}function JA(e,t){for(const{path:A,output:i}of t)if(\"string\"==typeof A){if(e.includes(A))return i}else{const t=e.match(A);if(t)return i.replace(\"[match]\",t[0])}return e}function ZA(e,t){if(!t)return!1;for(const{path:A,output:i}of t)if(\"string\"==typeof A){if(e.includes(A))return!0}else{if(e.match(A))return!0}return!1}function YA(e,t,A){if(ZA(t,A)&&A)return JA(t,A);if(0===t.indexOf(\"/\"))return t;const i=e.split(\"/\"),a=t.split(\"/\");return i[i.length-1].includes(\".\")&&i.pop(),i.concat(a).join(\"/\")}class HA{constructor(e){var t,A,i;this.properties=new Map,this.tiledObject=e.tiledObject,this.name=this.tiledObject.name,this.class=this.tiledObject.type,this.id=null!==(t=this.tiledObject.id)&&void 0!==t?t:-1,this.x=null!==(A=this.tiledObject.x)&&void 0!==A?A:0,this.y=null!==(i=this.tiledObject.y)&&void 0!==i?i:0}}class KA extends HA{constructor(e,t){if(super({tiledObject:e}),!e.template)throw new Error(\"Invalid template\");if(this.source=e.template,this.tiledTemplate=e,this.template=t,t.object){this.name=this.name||t.object.name,this.class=this.class||t.object.class;for(const[e,A]of t.object.properties.entries())this.properties.has(e)||this.properties.set(e,A)}if(t.tileset&&t.object.tiledObject.gid){const e=t.tileset.getTileByGid(t.object.tiledObject.gid);if(e){this.class=this.class||e.class;for(const[t,A]of e.properties.entries())this.properties.has(t)||this.properties.set(t,A)}}}}class PA extends HA{constructor(e,t,A,i){super({tiledObject:e}),this.gid=t,this.width=A,this.height=i}}class zA extends HA{}class VA extends HA{constructor(e,t,A,i){var a,s,r;super({tiledObject:e}),this.font=new OA.Font({family:null!==(a=t.fontfamily)&&void 0!==a?a:\"sans-serif\",color:t.color?OA.Color.fromHex(t.color):OA.Color.Black,size:null!==(s=t.pixelsize)&&void 0!==s?s:16,unit:OA.FontUnit.Px,textAlign:this._textAlignFromTiled(t.halign),baseAlign:this._textBaselineFromTiled(t.valign),quality:i});const n=null!==(r=t.wrap)&&void 0!==r&&r;this.text=new OA.Text({text:t.text,font:this.font,...n?{maxWidth:A+10}:{}})}_textBaselineFromTiled(e){switch(e){case\"bottom\":return OA.BaseAlign.Bottom;case\"center\":return OA.BaseAlign.Middle;default:return OA.BaseAlign.Top}}_textAlignFromTiled(e){switch(e){case\"left\":default:return OA.TextAlign.Left;case\"center\":return OA.TextAlign.Center;case\"right\":return OA.TextAlign.Right;case\"justify\":return OA.TextAlign.Start}}}class WA extends HA{constructor(e,t,A){super({tiledObject:e}),this.width=t,this.height=A}}class XA extends HA{constructor(e,t,A,i){super({tiledObject:e}),this.width=t,this.height=A,this.anchor=i}}class $A extends HA{constructor(e,t){super({tiledObject:e}),this.points=[],this.localPoints=[],this.localPoints=t.map((e=>(0,OA.vec)(e.x,e.y))),this.points=t.map((e=>(0,OA.vec)(e.x,e.y).add((0,OA.vec)(this.x,this.y))))}}class ei extends HA{constructor(e,t){super({tiledObject:e}),this.points=[],this.points=t.map((e=>(0,OA.vec)(e.x,e.y)))}}function ti(e,t){var A,i,a,s;let r;if(e.point)r=new zA({tiledObject:e});else if(e.ellipse)e.width&&e.height?(r=new WA(e,e.width,e.height),r.x+=e.width/2,r.y+=e.height/2):r=new WA(e,20,20);else if(e.polygon)r=new $A(e,e.polygon);else if(e.polyline)r=new ei(e,e.polyline);else if(e.text)r=new VA(e,e.text,null!==(A=e.width)&&void 0!==A?A:0,null!==(i=null==t?void 0:t.textQuality)&&void 0!==i?i:4);else if(e.gid){r=new PA(e,e.gid,null!==(a=e.width)&&void 0!==a?a:0,null!==(s=e.height)&&void 0!==s?s:0);const A=null==t?void 0:t.getTilesetForTileGid(e.gid);let i=e.type;if(A){const t=null==A?void 0:A.getTileByGid(e.gid);if(i=i||(null==t?void 0:t.class),null==t?void 0:t.properties)for(const[e,A]of t.properties.entries())r.properties.has(e)||r.properties.set(e,A)}r.class=i}else if(e.template&&t){const A=t.templates.find((t=>jA(t.templatePath)===jA(e.template)));if(!A)throw new Error(`Template object id ${e.id} with name ${e.name} is missing a loaded template file, there should be one loaded from ${e.template}! Is your tiled map or template corrupted?`);r=new KA(e,A)}else r=e.width&&e.height?new XA(e,e.width,e.height,OA.Vector.Zero):new XA(e,20,20,OA.Vector.Half);return qA(r,e.properties),r}function Ai(e,t){const A=[];for(const i of e.objects){let e=ti(i,t);A.push(e)}return A}class ii{constructor(e){const{templatePath:t,object:A,tiledTemplate:i,tileset:a}=e;this.templatePath=t,this.object=A,this.tiledTemplate=i,this.tileset=a}}class ai{constructor(e){this.objects=[],this.colliders=[],this.animation=[],this.properties=new Map;const{id:t,tileset:A,tiledTile:i}=e;this.id=t,this.tileset=A,this.tiledTile=i,this.class=i.type,qA(this,i.properties),i.objectgroup&&i.objectgroup.objects&&(this.objects=Ai(i.objectgroup)),i.animation&&(this.animation=i.animation)}}class si{constructor(e){var t,A,i,a,s,r,n,o,l,g;this.firstGid=-1,this.tileCount=0,this.tileWidth=0,this.tileHeight=0,this.tileOffset=(0,OA.vec)(0,0),this.tiles=[],this.objectalignment=\"bottomleft\",this.orientation=\"orthogonal\",this.properties=new Map;const{name:d,tiledTileset:h,image:c,tileToImage:I,firstGid:u}=e;if(this.name=d,this.tiledTileset=h,this.firstGid=u,nA(h)){qA(this,h.properties);const e=h.spacing,o=Math.floor((h.imagewidth+e)/(h.tilewidth+e)),l=Math.floor((h.imageheight+e)/(h.tileheight+e));if(this.class=h.class,this.orientation=null!==(A=null===(t=h.grid)||void 0===t?void 0:t.orientation)&&void 0!==A?A:\"orthogonal\",this.horizontalFlipTransform=OA.AffineMatrix.identity().translate(h.tilewidth,0).scale(-1,1),this.verticalFlipTransform=OA.AffineMatrix.identity().translate(0,h.tileheight).scale(1,-1),this.diagonalFlipTransform=OA.AffineMatrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),this.objectalignment=null!==(i=h.objectalignment)&&void 0!==i?i:\"orthogonal\"===this.orientation?\"bottomleft\":\"bottom\",c&&(this.spritesheet=OA.SpriteSheet.fromImageSource({image:c,grid:{rows:l,columns:o,spriteWidth:h.tilewidth,spriteHeight:h.tileheight},spacing:{originOffset:{x:null!==(a=h.margin)&&void 0!==a?a:0,y:null!==(s=h.margin)&&void 0!==s?s:0},margin:{x:null!==(r=h.spacing)&&void 0!==r?r:0,y:null!==(n=h.spacing)&&void 0!==n?n:0}}})),this.tileCount=h.tilecount,this.tileWidth=h.tilewidth,this.tileHeight=h.tileheight,h.tileoffset&&(this.tileOffset=(0,OA.vec)(h.tileoffset.x,h.tileoffset.y)),h.tiles)for(const e of h.tiles)this.tiles.push(new ai({id:e.id,tileset:this,tiledTile:e,image:c}))}if(oA(h)&&void 0!==h.firstgid){this.horizontalFlipTransform=OA.AffineMatrix.identity().translate(h.tilewidth,0).scale(-1,1),this.verticalFlipTransform=OA.AffineMatrix.identity().translate(0,h.tileheight).scale(1,-1),this.diagonalFlipTransform=OA.AffineMatrix.identity().translate(0,0).rotate(-Math.PI/2).scale(-1,1),this.objectalignment=null!==(o=h.objectalignment)&&void 0!==o?o:\"orthogonal\"===this.orientation?\"bottomleft\":\"bottom\",this.orientation=null!==(g=null===(l=h.grid)||void 0===l?void 0:l.orientation)&&void 0!==g?g:\"orthogonal\",this.tileCount=h.tilecount,this.tileWidth=h.tilewidth,this.tileHeight=h.tileheight,h.tileoffset&&(this.tileOffset=(0,OA.vec)(h.tileoffset.x,h.tileoffset.y));let e=[];if(h.tiles)for(const t of h.tiles){const A=null==I?void 0:I.get(t);A&&e.push(A.toSprite()),this.tiles.push(new ai({id:t.id,tileset:this,tiledTile:t,image:A}))}I&&(this.spritesheet=new OA.SpriteSheet({sprites:e}))}}getTilesetAlignmentAnchor(e){switch(null!=e?e:this.objectalignment){case\"topleft\":return(0,OA.vec)(0,0);case\"top\":return(0,OA.vec)(.5,0);case\"topright\":return(0,OA.vec)(1,0);case\"left\":return(0,OA.vec)(0,.5);case\"center\":return(0,OA.vec)(.5,.5);case\"right\":return(0,OA.vec)(1,.5);case\"bottomleft\":default:return(0,OA.vec)(0,1);case\"bottom\":return(0,OA.vec)(.5,1);case\"bottomright\":return(0,OA.vec)(1,1)}}getTileByGid(e){const t=MA(e)-this.firstGid;return this.tiles.find((e=>e.id===t))}getTilesByClassName(e){return this.tiles.filter(xA(e))}getTilesByProperty(e,t){return this.tiles.filter(LA(e,t))}getSpriteForGid(e){const t=TA(e),A=NA(e),i=RA(e),a=MA(e),s=a-this.firstGid;if(this.spritesheet){let e=this.spritesheet.sprites[s];return(i||t||A)&&(e=e.clone()),i&&(e.rotation=-Math.PI/2,e.scale=(0,OA.vec)(-1,1)),t&&(e.scale=(0,OA.vec)((i?1:-1)*e.scale.x,(i?-1:1)*e.scale.y)),A&&(e.scale=(0,OA.vec)((i?-1:1)*e.scale.x,(i?1:-1)*e.scale.y)),e}throw new Error(`Tileset: [${this.name}] Could not find sprite for gid: [${e}] normalized gid: [${a}]`)}_isometricTiledCoordToWorld(e){const t=this.tileWidth,A=this.tileHeight/2,i=e.y/A,a=e.x/A;return(0,OA.vec)((a-i)*t/2+0,(a+i)*A/2)}getCollidersForGid(e,t){let{anchor:A,scale:i,orientationOverride:a,offset:s}={anchor:OA.Vector.Zero,scale:OA.Vector.One,offset:OA.Vector.Zero,orientationOverride:void 0,...t};const r=null!=a?a:this.orientation,n=this.getTileByGid(e),o=[];if(n&&n.objects)for(let t of n.objects){if(t instanceof $A){let A=t.points.map((e=>e.scale(i)));A=this._applyFlipsToPoints(A,e),\"isometric\"===r&&(A=A.map((e=>this._isometricTiledCoordToWorld(e)))),A=A.map((e=>e.add(s)));let a=OA.Shape.Polygon(A,OA.Vector.Zero,!0);a.isConvex()?o.push(a):o.push(a.triangulate())}if(t instanceof XA){let a=OA.BoundingBox.fromDimension(t.width*i.x,t.height*i.y,A).getPoints().map((e=>e.add((0,OA.vec)(t.x,t.y))));\"isometric\"===r&&(a=a.map((e=>this._isometricTiledCoordToWorld(e)))),a=this._applyFlipsToPoints(a,e),a=a.map((e=>e.add(s)));const n=OA.Shape.Polygon(a);o.push(n)}if(t instanceof WA){let e=(0,OA.vec)(t.x,t.y);\"isometric\"===r&&(e=this._isometricTiledCoordToWorld(e)),e=e.add(s);const A=Math.min(t.width/2,t.height/2),a=OA.Shape.Circle(A,e.scale(i));o.push(a)}}return o}_applyFlipsToPoints(e,t){const A=TA(t),i=NA(t);return RA(t)&&(e=e.map((e=>this.diagonalFlipTransform.multiply(e)))),A&&(e=e.map((e=>this.horizontalFlipTransform.multiply(e)))),i&&(e=e.map((e=>this.verticalFlipTransform.multiply(e)))),e}getAnimationForGid(e){var t;const A=this.getTileByGid(e);if(A&&(null===(t=A.animation)||void 0===t?void 0:t.length)){let e=[];for(let t of A.animation)e.push({graphic:this.getSpriteForGid(t.tileid+this.firstGid),duration:t.duration});return new OA.Animation({frames:e,strategy:OA.AnimationStrategy.Loop})}return null}}class ri{constructor(e,t,A){this.path=e,this.strict=!0,this.headless=!1,this.orientation=\"orthogonal\",this.fileLoader=kA;const{fileLoader:i,parser:a,pathMap:s,imageLoader:r,strict:n,headless:o,orientation:l}={...A};this.headless=null!=o?o:this.headless,this.orientation=null!=l?l:this.orientation,this.strict=null!=n?n:this.strict,this.fileLoader=null!=i?i:this.fileLoader,this.imageLoader=null!=r?r:new UA(OA.ImageSource),this.parser=null!=a?a:new pA,this.firstGid=t,this.pathMap=s}async load(){const e=this.path.includes(\".tsx\")?\"xml\":\"json\";try{const t=await this.fileLoader(this.path,e);let A;if(A=\"json\"===e?this.strict?lA.parse(t):t:this.parser.parseExternalTileset(t,this.strict),nA(A)){const e=YA(this.path,A.image,this.pathMap),t=this.headless?void 0:this.imageLoader.getOrAdd(e);this.data=new si({name:A.name,tiledTileset:A,firstGid:this.firstGid,image:t})}if(oA(A)){const e=this.headless?void 0:new Map;if(e){const t=[];if(A.tiles)for(let i of A.tiles)if(i.image){const A=YA(this.path,i.image,this.pathMap),a=this.imageLoader.getOrAdd(A);e.set(i,a),t.push(a)}}A.firstgid=this.firstGid,this.data=new si({name:A.name,tiledTileset:A,firstGid:this.firstGid,tileToImage:e})}if(this.headless||await this.imageLoader.load(),this.data)return this.data}catch(e){throw console.error(`Could not load tileset at path ${this.path}`),e}throw new Error(`No tileset at path ${this.path}`)}isLoaded(){return!!this.data}}class ni{constructor(e,t){this.templatePath=e,this.headless=!1,this.strict=!0,this.fileLoader=kA;const{fileLoader:A,parser:i,pathMap:a,imageLoader:s,strict:r,headless:n}={...t};this.headless=null!=n?n:this.headless,this.strict=null!=r?r:this.strict,this.fileLoader=null!=A?A:this.fileLoader,this.imageLoader=null!=s?s:new UA(OA.ImageSource),this.parser=null!=i?i:new pA,this.pathMap=a}isLoaded(){return!!this.data}async load(){const e=this.templatePath.includes(\".tx\")?\"xml\":\"json\";try{const t=await this.fileLoader(this.templatePath,e);let A;A=\"xml\"===e?this.parser.parseExternalTemplate(t,this.strict):this.strict?hA.parse(t):t;const i=A,a=ti(A.object);let s;if(A.tileset){const e=YA(this.templatePath,A.tileset.source,this.pathMap),t=new ri(e,A.tileset.firstgid,{headless:this.headless,strict:this.strict,fileLoader:this.fileLoader,imageLoader:this.imageLoader,parser:this.parser,pathMap:this.pathMap});s=await t.load()}return this.data=new ii({templatePath:this.templatePath,tiledTemplate:i,object:a,tileset:s})}catch(e){throw console.error(`Could not load template at ${this.templatePath}, check to see if your pathMap is correct or if you're Tiled map is corrupted`),e}}}class oi extends OA.Component{constructor(e){super();const{tiledObject:t}=e;this.tiledObject=t}}class li extends OA.Component{constructor(e){super();const{tiledTileLayer:t}=e;this.tiledTileLayer=t}}class gi{constructor(e,t,A){this.tiledTileLayer=e,this.resource=t,this.order=A,this.logger=OA.Logger.getInstance(),this.width=0,this.height=0,this.properties=new Map,this.data=[],this._gidToTileInfo=new Map,this.name=e.name,this.class=e.class,this.width=e.width,this.height=e.height,qA(this,e.properties)}getTilesByGid(e){var t;return null!==(t=this._gidToTileInfo.get(e))&&void 0!==t?t:[]}getTilesByClassName(e){return this.isometricMap.tiles.filter((t=>{const A=t.data.get(bA.TileData.Tiled);return!!A&&xA(e)(A)})).map((e=>({exTile:e,tiledTile:e.data.get(bA.TileData.Tiled)})))}getTilesByProperty(e,t){return this.isometricMap.tiles.filter((A=>{const i=A.data.get(bA.TileData.Tiled);return!!i&&LA(e,t)(i)})).map((e=>({exTile:e,tiledTile:e.data.get(bA.TileData.Tiled)})))}getTileByPoint(e){if(!this.isometricMap)return this.logger.warn(\"IsometricMap has not yet been loaded! getTileByPoint() will only return null\"),null;if(this.isometricMap){const t=this.isometricMap.getTileByPoint(e);if(!t)return null;const A=this.isometricMap.tiles.indexOf(t),i=MA(this.data[A]);if(i<=0)return null;return{tiledTile:this.resource.getTilesetForTileGid(i).getTileByGid(i),exTile:t}}return null}_recordTileData(e,t){let A=this._gidToTileInfo.get(e),i=this.resource.getTilesetForTileGid(e).getTileByGid(e);A?A.push({exTile:t,tiledTile:i}):A=[{exTile:t,tiledTile:i}],this._gidToTileInfo.set(e,A),t.data.set(bA.TileData.Tiled,i)}updateTile(e,t,A,i,a){this._recordTileData(t,e),this.resource.useExcaliburWiring&&a&&(e.solid=!0);const s=e.get(OA.IsometricEntityComponent);s&&(s.elevation=this.order);const r=this.resource.getTilesetForTileGid(t);let n=r.getSpriteForGid(t);A&&(n=n.clone(),n.tint=i),e.addGraphic(n,{offset:r.tileOffset});let o=e.pos;if(\"orthogonal\"===r.orientation)o=(0,OA.vec)(0,0);else{const e=this.resource.map.tilewidth/2,t=this.resource.map.tileheight;o=(0,OA.vec)(e,t)}const l=r.getCollidersForGid(t,{offset:o});for(let t of l)e.addCollider(t);let g=r.getAnimationForGid(t);if(g&&(A&&(g=g.clone(),g.tint=i),e.clearGraphics(),e.addGraphic(g,{offset:r.tileOffset}),this.resource.useExcaliburWiring)){const e=r.getTileByGid(t),A=null==e?void 0:e.properties.get(bA.Animation.Strategy);if(A&&\"string\"==typeof A)switch(A.toLowerCase()){case OA.AnimationStrategy.End.toLowerCase():g.strategy=OA.AnimationStrategy.End;break;case OA.AnimationStrategy.Freeze.toLowerCase():g.strategy=OA.AnimationStrategy.Freeze;break;case OA.AnimationStrategy.Loop.toLowerCase():g.strategy=OA.AnimationStrategy.Loop;break;case OA.AnimationStrategy.PingPong.toLowerCase():g.strategy=OA.AnimationStrategy.PingPong;break;default:this.logger.warn(`Unknown animation strategy in tileset ${r.name} on tile gid ${t}: ${A}`)}}}async load(){var e,t,A,i;const a=this.tiledTileLayer,s=!!this.properties.get(bA.Layer.Solid),r=(this.tiledTileLayer.opacity,!!this.tiledTileLayer.tintcolor),n=this.tiledTileLayer.tintcolor?OA.Color.fromHex(this.tiledTileLayer.tintcolor):OA.Color.Transparent,o=(0,OA.vec)(null!==(e=a.offsetx)&&void 0!==e?e:0,null!==(t=a.offsety)&&void 0!==t?t:0);this.tiledTileLayer.data&&Pt(this.tiledTileLayer)?this.data=await vA.decode(this.tiledTileLayer.data,this.tiledTileLayer.compression):this.tiledTileLayer.data&&zt(this.tiledTileLayer)&&(this.data=this.tiledTileLayer.data);let l=this.order,g=this.properties.get(bA.ZIndex.ZIndex);if(\"number\"==typeof g&&(l=g),this.resource.map.infinite&&IA(this.tiledTileLayer)){const e=this.resource.isometricTiledCoordToWorld(this.tiledTileLayer.startx,this.tiledTileLayer.starty),t=(0,OA.vec)(e.x*this.resource.map.tilewidth,e.y*this.resource.map.tileheight);this.isometricMap=new OA.IsometricMap({name:this.name,pos:o.add(t),tileHeight:this.resource.map.tileheight,tileWidth:this.resource.map.tilewidth,columns:a.width,rows:a.height,elevation:l})}else this.isometricMap=new OA.IsometricMap({name:this.name,pos:o,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight,columns:a.width,rows:a.height,elevation:l});if(this.isometricMap.visible=this.tiledTileLayer.visible,this.isometricMap.opacity=this.tiledTileLayer.opacity,this.isometricMap.addComponent(new li({tiledTileLayer:a})),a.parallaxx||a.parallaxy){const e=(0,OA.vec)(null!==(A=a.parallaxx)&&void 0!==A?A:1,null!==(i=a.parallaxy)&&void 0!==i?i:1);this.isometricMap.addComponent(new OA.ParallaxComponent(e))}if(this.resource.map.infinite&&IA(this.tiledTileLayer)){const e=this.tiledTileLayer;for(let t of this.tiledTileLayer.chunks){let A=[];Pt(this.tiledTileLayer)?A=await vA.decode(t.data,e.compression):zt(this.tiledTileLayer)&&(A=t.data);for(let e=0;e<A.length;e++){const i=A[e];if(0!=i){const A=e%t.width+(t.x-this.tiledTileLayer.startx),o=Math.floor(e/t.width)+(t.y-this.tiledTileLayer.starty),l=this.isometricMap.tiles[A+o*a.width];this.updateTile(l,i,r,n,s)}}}}else for(let e=0;e<this.data.length;e++){let t=this.data[e];if(0!==t){const A=this.isometricMap.tiles[e];this.updateTile(A,t,r,n,s)}}}}class di{getTilesByGid(e){var t;return null!==(t=this._gidToTileInfo.get(e))&&void 0!==t?t:[]}getTilesByClassName(e){return this.tilemap.tiles.filter((t=>{const A=t.data.get(bA.TileData.Tiled);return!!A&&xA(e)(A)})).map((e=>({exTile:e,tiledTile:e.data.get(bA.TileData.Tiled)})))}getTilesByProperty(e,t){return this.tilemap.tiles.filter((A=>{const i=A.data.get(bA.TileData.Tiled);return!!i&&LA(e,t)(i)})).map((e=>({exTile:e,tiledTile:e.data.get(bA.TileData.Tiled)})))}getTileByPoint(e){if(!this.tilemap)return this.logger.warn(\"Tilemap has not yet been loaded! getTileByPoint() will only return null\"),null;if(this.tilemap){const t=this.tilemap.getTileByPoint(e);if(!t)return null;const A=this.tilemap.tiles.indexOf(t),i=MA(this.data[A]);if(i<=0)return null;return{tiledTile:this.resource.getTilesetForTileGid(i).getTileByGid(i),exTile:t}}return null}getTileByCoordinate(e,t){if(!this.tilemap)return this.logger.warn(\"Tilemap has not yet been loaded! getTileByCoordinate() will only return null\"),null;if(this.tilemap){const A=this.tilemap.getTile(e,t),i=this.tilemap.tiles.indexOf(A),a=MA(this.data[i]);if(a<=0)return null;return{tiledTile:this.resource.getTilesetForTileGid(a).getTileByGid(a),exTile:A}}return null}constructor(e,t,A){this.tiledTileLayer=e,this.resource=t,this.order=A,this.logger=OA.Logger.getInstance(),this.width=0,this.height=0,this.properties=new Map,this.data=[],this._gidToTileInfo=new Map,this.name=e.name,this.class=e.class,this.width=e.width,this.height=e.height,qA(this,e.properties)}_recordTileData(e,t){let A=this._gidToTileInfo.get(e),i=this.resource.getTilesetForTileGid(e).getTileByGid(e);A?A.push({exTile:t,tiledTile:i}):A=[{exTile:t,tiledTile:i}],this._gidToTileInfo.set(e,A),t.data.set(bA.TileData.Tiled,i)}updateTile(e,t,A,i,a){this._recordTileData(t,e),this.resource.useExcaliburWiring&&a&&(e.solid=!0);const s=this.resource.getTilesetForTileGid(t),r=this.resource.headless;if(!r){let a=s.getSpriteForGid(t);A&&(a=a.clone(),a.tint=i),e.addGraphic(a,{offset:s.tileOffset})}const n=s.getCollidersForGid(t);for(let t of n)e.addCollider(t);let o=r?null:s.getAnimationForGid(t);if(o&&(A&&(o=o.clone(),o.tint=i),e.clearGraphics(),e.addGraphic(o,{offset:s.tileOffset}),this.resource.useExcaliburWiring)){const e=s.getTileByGid(t),A=null==e?void 0:e.properties.get(bA.Animation.Strategy);if(A&&\"string\"==typeof A)switch(A.toLowerCase()){case OA.AnimationStrategy.End.toLowerCase():o.strategy=OA.AnimationStrategy.End;break;case OA.AnimationStrategy.Freeze.toLowerCase():o.strategy=OA.AnimationStrategy.Freeze;break;case OA.AnimationStrategy.Loop.toLowerCase():o.strategy=OA.AnimationStrategy.Loop;break;case OA.AnimationStrategy.PingPong.toLowerCase():o.strategy=OA.AnimationStrategy.PingPong;break;default:this.logger.warn(`Unknown animation strategy in tileset ${s.name} on tile gid ${t}: ${A}`)}}}async load(){var e,t,A,i;const a=this.tiledTileLayer.opacity,s=!!this.tiledTileLayer.tintcolor,r=this.tiledTileLayer.tintcolor?OA.Color.fromHex(this.tiledTileLayer.tintcolor):OA.Color.Transparent,n=!!this.properties.get(bA.Layer.Solid),o=this.tiledTileLayer,l=(0,OA.vec)(null!==(e=o.offsetx)&&void 0!==e?e:0,null!==(t=o.offsety)&&void 0!==t?t:0);if(this.tiledTileLayer.data&&Pt(this.tiledTileLayer)?this.data=await vA.decode(this.tiledTileLayer.data,this.tiledTileLayer.compression):this.tiledTileLayer.data&&zt(this.tiledTileLayer)&&(this.data=this.tiledTileLayer.data),this.resource.map.infinite&&IA(this.tiledTileLayer)){const e=(0,OA.vec)(this.tiledTileLayer.startx*this.resource.map.tilewidth,this.tiledTileLayer.starty*this.resource.map.tileheight);this.tilemap=new OA.TileMap({name:this.name,pos:l.add(e),tileHeight:this.resource.map.tileheight,tileWidth:this.resource.map.tilewidth,columns:o.width,rows:o.height})}else this.tilemap=new OA.TileMap({name:this.name,pos:l,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight,columns:o.width,rows:o.height});this.tilemap.addComponent(new li({tiledTileLayer:o}));const g=this.tilemap.get(OA.TransformComponent);if(g){g.z=this.order;let e=this.properties.get(bA.ZIndex.ZIndex);\"number\"==typeof e&&(g.z=e)}const d=this.tilemap.get(OA.GraphicsComponent);if(d&&(d.visible=this.tiledTileLayer.visible,d.opacity=a),o.parallaxx||o.parallaxy){const e=(0,OA.vec)(null!==(A=o.parallaxx)&&void 0!==A?A:1,null!==(i=o.parallaxy)&&void 0!==i?i:1);this.tilemap.addComponent(new OA.ParallaxComponent(e))}if(this.resource.map.infinite&&IA(this.tiledTileLayer)){const e=this.tiledTileLayer;for(let t of this.tiledTileLayer.chunks){let A=[];Pt(this.tiledTileLayer)?A=await vA.decode(t.data,e.compression):zt(this.tiledTileLayer)&&(A=t.data);for(let e=0;e<A.length;e++){const i=A[e];if(0!=i){const A=e%t.width+(t.x-this.tiledTileLayer.startx),a=Math.floor(e/t.width)+(t.y-this.tiledTileLayer.starty),l=this.tilemap.tiles[A+a*o.width];this.updateTile(l,i,s,r,n)}}}}else for(let e=0;e<this.data.length;e++){let t=this.data[e];if(0!==t){const A=this.tilemap.tiles[e];this.updateTile(A,t,s,r,n)}}}}class hi{constructor(e,t,A){this.tiledObjectLayer=e,this.resource=t,this.order=A,this.logger=OA.Logger.getInstance(),this.properties=new Map,this.objects=[],this.entities=[],this._objectToEntity=new Map,this._entityToObject=new Map,this._loaded=!1,this.name=e.name,this.class=e.class,qA(this,e.properties)}_logLoadedWarning(e){this.logger.warn(`ObjectLayer ${this.name} is not yet loaded, ${e}() will always be empty!`)}getObjectsByName(e){return this._loaded||this._logLoadedWarning(\"getObjectsByName\"),this.objects.filter(DA(e))}getEntitiesByName(e){return this._loaded||this._logLoadedWarning(\"getEntitiesByName\"),this.entities.filter(DA(e))}getEntityByObject(e){return this._loaded||this._logLoadedWarning(\"getEntityByObject\"),this._objectToEntity.get(e)}getObjectByEntity(e){return this._loaded||this._logLoadedWarning(\"getObjectByEntity\"),this._entityToObject.get(e)}getObjectsByProperty(e,t){return this._loaded||this._logLoadedWarning(\"getObjectsByProperty\"),this.objects.filter(LA(e,t))}getEntitiesByProperty(e,t){return this._loaded||this._logLoadedWarning(\"getEntitiesByProperty\"),this.getObjectsByProperty(e,t).map((e=>this._objectToEntity.get(e))).filter((e=>!!e))}getObjectsByClassName(e){return this._loaded||this._logLoadedWarning(\"getObjectsByClassName\"),this.objects.filter(xA(e))}getEntitiesByClassName(e){return this._loaded||this._logLoadedWarning(\"getEntitiesByClassName\"),this.getObjectsByClassName(e).map((e=>this._objectToEntity.get(e))).filter((e=>!!e))}getTemplates(){return this._loaded||this._logLoadedWarning(\"getTemplates\"),this.objects.filter((e=>e instanceof KA))}runFactory(e){var t,A,i,a;const s=(0,OA.vec)(null!==(t=this.tiledObjectLayer.offsetx)&&void 0!==t?t:0,null!==(A=this.tiledObjectLayer.offsety)&&void 0!==A?A:0),r=this.objects.slice();for(let t of r){let A=t.class;if(t instanceof KA&&(A=A||t.template.object.class),e!==A)continue;let r=(0,OA.vec)((null!==(i=t.x)&&void 0!==i?i:0)+s.x,(null!==(a=t.y)&&void 0!==a?a:0)+s.y);\"isometric\"===this.resource.map.orientation&&(r=this.resource.isometricTiledCoordToWorld(r.x,r.y));const n=this.resource.factories.get(e);if(n){const e=n({worldPos:r,name:t.name,class:A,layer:this,object:t,properties:t.properties});e&&this._recordObjectEntityMapping(t,e)}}}_actorFromObject(e,t,A){var i,a,s,r,n,o;const l=this.resource.headless,g=!!this.tiledObjectLayer.tintcolor,d=this.tiledObjectLayer.tintcolor?OA.Color.fromHex(this.tiledObjectLayer.tintcolor):OA.Color.White;if(e instanceof PA&&A){const h=\"isometric\"===this.resource.map.orientation&&\"orthogonal\"===A.orientation?\"bottom\":void 0,c=A.getTilesetAlignmentAnchor(h);t.anchor=c;const I=(null!==(i=e.tiledObject.width)&&void 0!==i?i:this.resource.map.tilewidth)/this.resource.map.tilewidth,u=(null!==(a=e.tiledObject.width)&&void 0!==a?a:this.resource.map.tilewidth)/this.resource.map.tilewidth,B=(0,OA.vec)(I,u);if(!l){const i=A.getSpriteForGid(e.gid).clone();i.destSize.width=null!==(s=e.tiledObject.width)&&void 0!==s?s:i.width,i.destSize.height=null!==(r=e.tiledObject.height)&&void 0!==r?r:i.height,g&&(i.tint=d),t.graphics.use(i),t.graphics.offset=A.tileOffset;const a=A.getAnimationForGid(e.gid);if(a){const e=a.clone();e.scale=B,g&&(e.tint=d),t.graphics.use(e),t.graphics.offset=A.tileOffset}}const C=null!==(n=e.tiledObject.width)&&void 0!==n?n:0,p=null!==(o=e.tiledObject.height)&&void 0!==o?o:0,f=-C*c.x,Q=-p*c.y,E=this.resource.map.tilewidth/2,m=this.resource.map.tileheight;let y=(0,OA.vec)(f,Q);\"isometric\"===this.resource.map.orientation&&(y=(0,OA.vec)(f+E,Q+m),\"orthogonal\"===A.orientation&&(y=y.sub((0,OA.vec)(E,m))));const w=A.getCollidersForGid(e.gid,{anchor:OA.Vector.Zero,scale:B,offset:y});if(w.length)t.collider.useCompositeCollider(w);else{let A=e.width,i=e.height;if(\"isometric\"===this.resource.map.orientation){const t=e.height/2;A=t,i=t}let a=OA.Shape.Box(A,i,\"isometric\"===this.resource.map.orientation?(0,OA.vec)(1,1):(0,OA.vec)(0,1));\"isometric\"===this.resource.map.orientation&&(a.points=a.points.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.collider.set(a)}}if(e instanceof VA&&t.graphics.use(e.text),e instanceof $A){let A=(0,OA.vec)(e.x,e.y),i=e.localPoints;\"isometric\"===this.resource.map.orientation&&(A=this.resource.isometricTiledCoordToWorld(A.x,A.y),i=i.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.anchor=(0,OA.vec)(0,1),t.pos=A;const a=OA.Shape.Polygon(i,OA.Vector.Zero,!0);a.isConvex()?t.collider.set(a):t.collider.set(a.triangulate())}if(e instanceof XA){t.anchor=e.anchor;let A=OA.Shape.Box(e.width,e.height,e.anchor);\"isometric\"===this.resource.map.orientation&&(A.points=A.points.map((e=>this.resource.isometricTiledCoordToWorld(e.x,e.y)))),t.collider.set(A)}e instanceof WA&&t.collider.useCircleCollider(Math.min(e.width,e.height)/2)}async load(){var e,t,A,i,a;const s=this.tiledObjectLayer.opacity,r=(0,OA.vec)(null!==(e=this.tiledObjectLayer.offsetx)&&void 0!==e?e:0,null!==(t=this.tiledObjectLayer.offsety)&&void 0!==t?t:0),n=Ai(this.tiledObjectLayer,this.resource);for(let e of n){let t=(0,OA.vec)((null!==(A=e.x)&&void 0!==A?A:0)+r.x,(null!==(i=e.y)&&void 0!==i?i:0)+r.y);\"isometric\"===this.resource.map.orientation&&(t=this.resource.isometricTiledCoordToWorld(t.x,t.y));let n,o=e.class;if(e instanceof KA&&(o=o||e.template.object.class),o){const A=this.resource.factories.get(o);if(A){const i=A({worldPos:t,name:e.name,class:o,layer:this,object:e,properties:e.properties});i&&this._recordObjectEntityMapping(e,i);continue}}let l=this.properties.get(bA.ZIndex.ZIndex);\"number\"==typeof l&&(n=l);const g=new OA.Actor({name:e.tiledObject.name,pos:t,anchor:OA.Vector.Zero,rotation:(0,OA.toRadians)(null!==(a=e.tiledObject.rotation)&&void 0!==a?a:0),z:n}),d=g.get(OA.GraphicsComponent);if(d&&(d.visible=this.tiledObjectLayer.visible&&(void 0===e.tiledObject.visible||!!e.tiledObject.visible),d.opacity=s),\"isometric\"===this.resource.map.orientation){const e=new OA.IsometricEntityComponent({rows:this.resource.map.height,columns:this.resource.map.width,tileWidth:this.resource.map.tilewidth,tileHeight:this.resource.map.tileheight});e.elevation=null!=n?n:this.order,g.addComponent(e)}if(this.resource.useExcaliburWiring){const t=e.properties.get(bA.Collision.Type);if(t&&\"string\"==typeof t)switch(t.toLowerCase()){case OA.CollisionType.Active.toLowerCase():g.body.collisionType=OA.CollisionType.Active;break;case OA.CollisionType.Fixed.toLowerCase():g.body.collisionType=OA.CollisionType.Fixed;break;case OA.CollisionType.Passive.toLowerCase():g.body.collisionType=OA.CollisionType.Passive;break;case OA.CollisionType.PreventCollision.toLowerCase():g.body.collisionType=OA.CollisionType.PreventCollision;break;default:this.logger.warn(`Unknown collision type in layer ${this.name}, for object id ${e.id} and name ${e.name}: ${t}`)}}if(e instanceof KA){const t=e.template.tileset;e.template.object&&this._actorFromObject(e.template.object,g,t)}else{let t;e instanceof PA&&(t=this.resource.getTilesetForTileGid(e.gid)),this._actorFromObject(e,g,t)}this._recordObjectEntityMapping(e,g)}this._loaded=!0}_recordObjectEntityMapping(e,t){t.addComponent(new oi({tiledObject:e})),this.objects.push(e),this.entities.push(t),this._objectToEntity.set(e,t),this._entityToObject.set(t,e)}}const ci=/^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i,Ii=e=>{if(\"string\"!=typeof e)throw new TypeError(\"Invalid argument expected string\");const t=e.match(ci);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},ui=e=>\"*\"===e||\"x\"===e||\"X\"===e,Bi=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},Ci=(e,t)=>{if(ui(e)||ui(t))return 0;const[A,i]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(Bi(e),Bi(t));return A>i?1:A<i?-1:0},pi=(e,t)=>{for(let A=0;A<Math.max(e.length,t.length);A++){const i=Ci(e[A]||\"0\",t[A]||\"0\");if(0!==i)return i}return 0},fi=(e,t,A)=>{mi(A);const i=((e,t)=>{const A=Ii(e),i=Ii(t),a=A.pop(),s=i.pop(),r=pi(A,i);return 0!==r?r:a&&s?pi(a.split(\".\"),s.split(\".\")):a||s?a?-1:1:0})(e,t);return Qi[A].includes(i)},Qi={\">\":[1],\">=\":[0,1],\"=\":[0],\"<=\":[-1,0],\"<\":[-1],\"!=\":[-1,1]},Ei=Object.keys(Qi),mi=e=>{if(\"string\"!=typeof e)throw new TypeError(\"Invalid operator type, expected string but got \"+typeof e);if(-1===Ei.indexOf(e))throw new Error(`Invalid operator, expected one of ${Ei.join(\"|\")}`)};class yi{constructor(e,t,A){this.tiledImageLayer=e,this.resource=t,this.order=A,this.properties=new Map,this.image=null,this.imageActor=null,this.name=e.name,this.class=e.class,qA(this,e.properties),e.image&&(this.image=new OA.ImageSource(YA(this.resource.path,e.image,this.resource.pathMap)))}async load(){var e,t,A,i;const a=this.tiledImageLayer.opacity,s=!!this.tiledImageLayer.tintcolor,r=this.tiledImageLayer.tintcolor?OA.Color.fromHex(this.tiledImageLayer.tintcolor):OA.Color.White,n=(0,OA.vec)(null!==(e=this.tiledImageLayer.offsetx)&&void 0!==e?e:0,null!==(t=this.tiledImageLayer.offsety)&&void 0!==t?t:0),o=null!==(A=this.tiledImageLayer.parallaxx)&&void 0!==A?A:1,l=null!==(i=this.tiledImageLayer.parallaxy)&&void 0!==i?i:1;if(this.image){this.resource.headless||await this.image.load(),this.imageActor=new OA.Actor({name:this.tiledImageLayer.name,pos:n,anchor:OA.Vector.Zero,z:this.order}),this.imageActor.addComponent(new OA.ParallaxComponent((0,OA.vec)(o,l)));const e=this.image.toSprite();this.imageActor.graphics.use(e),this.imageActor.graphics.visible=this.tiledImageLayer.visible,this.imageActor.graphics.opacity=a,s&&(e.tint=r)}}}class wi{constructor(e,t){this.path=e,this.logger=OA.Logger.getInstance(),this.tilesets=[],this.templates=[],this.layers=[],this.mapFormat=\"TMX\",this.strict=!0,this.factories=new Map,this.parser=new pA,this.fileLoader=kA,this.startZIndex=0,this.textQuality=4,this.useExcaliburWiring=!0,this.useMapBackgroundColor=!1,this.useTilemapCameraStrategy=!1,this.headless=!1,this._imageLoader=new UA(OA.ImageSource),this._tilesetLoader=new UA(ri),this._templateLoader=new UA(ni);const{mapFormatOverride:A,textQuality:i,entityClassNameFactories:a,useExcaliburWiring:s,useTilemapCameraStrategy:r,useMapBackgroundColor:n,pathMap:o,fileLoader:l,strict:g,headless:d,startZIndex:h}={...t};this.strict=null!=g?g:this.strict,this.headless=null!=d?d:this.headless,this.useExcaliburWiring=null!=s?s:this.useExcaliburWiring,this.useTilemapCameraStrategy=null!=r?r:this.useTilemapCameraStrategy,this.useMapBackgroundColor=null!=n?n:this.useMapBackgroundColor,this.textQuality=null!=i?i:this.textQuality,this.startZIndex=null!=h?h:this.startZIndex,this.fileLoader=null!=l?l:this.fileLoader,this.pathMap=o;for(const e in a)this.registerEntityFactory(e,a[e]);this.mapFormat=null!=A?A:e.includes(\".tmx\")?\"TMX\":\"TMJ\"}registerEntityFactory(e,t){if(this.factories.has(e)&&console.warn(`Another factory has already been registered for tiled class/type \"${e}\", this is probably a bug.`),this.factories.set(e,t),this.isLoaded())for(let t of this.getObjectLayers())t.runFactory(e)}unregisterEntityFactory(e){this.factories.has(e)||console.warn(`No factory has been registered for tiled class/type \"${e}\", cannot unregister!`),this.factories.delete(e)}getTilesetForTileGid(e){const t=MA(e);if(this.tilesets)for(let e of this.tilesets)if(t>=e.firstGid&&t<=e.firstGid+e.tileCount-1)return e;throw Error(`No tileset exists for tiled gid [${e}] normalized [${t}]!`)}getTilesetByName(e){return this.tilesets.filter(DA(e))}getTilesetByClassName(e){return this.tilesets.filter(xA(e))}getTilesetByProperty(e,t){return this.tilesets.filter(LA(e,t))}getTileMetadataByClassName(e){let t=[];for(let A of this.tilesets)t=t.concat(A.tiles.filter(xA(e)));return t}getTileMetadataByProperty(e,t){let A=[];for(let i of this.tilesets)A=A.concat(i.tiles.filter(LA(e,t)));return A}getTilesByGid(e){if(\"orthogonal\"===this.map.orientation){let t=[];for(let A of this.getTileLayers())t=t.concat(A.getTilesByGid(e));return t}{let t=[];for(let A of this.getIsoTileLayers())t=t.concat(A.getTilesByGid(e));return t}}getTilesByClassName(e){if(\"orthogonal\"===this.map.orientation){let t=[];for(let A of this.getTileLayers())t=t.concat(A.getTilesByClassName(e));return t}{let t=[];for(let A of this.getIsoTileLayers())t=t.concat(A.getTilesByClassName(e));return t}}getTilesByProperty(e,t){if(\"orthogonal\"===this.map.orientation){let A=[];for(let i of this.getTileLayers())A=A.concat(i.getTilesByProperty(e,t));return A}{let A=[];for(let i of this.getIsoTileLayers())A=A.concat(i.getTilesByProperty(e,t));return A}}getTileByPoint(e,t){if(\"isometric\"===this.map.orientation){const A=this.getIsoTileLayers().find(DA(e));if(A)return A.getTileByPoint(t)}else{const A=this.getTileLayers().find(DA(e));if(A)return A.getTileByPoint(t)}return null}getTilesByPoint(e){if(\"orthogonal\"===this.map.orientation){let t=[];for(let A of this.getTileLayers()){const i=A.getTileByPoint(e);i&&t.push(i)}return t}{let t=[];for(let A of this.getIsoTileLayers()){const i=A.getTileByPoint(e);i&&t.push(i)}return t}}getObjectsByName(e){let t=[];for(let A of this.getObjectLayers())t=t.concat(A.getObjectsByName(e));return t}getEntitiesByName(e){let t=[];for(let A of this.getObjectLayers())t=t.concat(A.getEntitiesByName(e));return t}getEntityByObject(e){for(let t of this.getObjectLayers()){const A=t.getEntityByObject(e);if(A)return A}}getObjectByEntity(e){for(let t of this.getObjectLayers()){const A=t.getObjectByEntity(e);if(A)return A}}getObjectsByProperty(e,t){let A=[];for(let i of this.getObjectLayers())A=A.concat(i.getObjectsByProperty(e,t));return A}getEntitiesByProperty(e,t){let A=[];for(let i of this.getObjectLayers())A=A.concat(i.getEntitiesByProperty(e,t));return A}getObjectsByClassName(e){let t=[];for(let A of this.getObjectLayers())t=t.concat(A.getObjectsByClassName(e));return t}getEntitiesByClassName(e){let t=[];for(let A of this.getObjectLayers())t=t.concat(A.getEntitiesByClassName(e));return t}getTileByCoordinate(e,t,A){const i=this.getTileLayers().find(DA(e));return i?i.getTileByCoordinate(t,A):null}getImageLayers(e){const t=this.layers.filter((e=>e instanceof yi));return e?t.filter(DA(e)):t}getTileLayers(e){const t=this.layers.filter((e=>e instanceof di));return e?t.filter(DA(e)):t}getIsoTileLayers(e){const t=this.layers.filter((e=>e instanceof gi));return e?t.filter(DA(e)):t}getObjectLayers(e){const t=this.layers.filter((e=>e instanceof hi));return e?t.filter(DA(e)):t}getLayersByName(e){return this.layers.filter(DA(e))}getLayersByClassName(e){return this.layers.filter(xA(e))}getLayersByProperty(e,t){return this.layers.filter(LA(e,t))}_parseMap(e){return\"TMX\"===this.mapFormat?this.parser.parse(e,this.strict):e}async load(){var e;const t=await this.fileLoader(this.path,\"TMX\"===this.mapFormat?\"xml\":\"json\");let A;if(this.strict)try{A=this._parseMap(t)}catch(e){throw console.error(`Could not parse tiled map from location ${this.path}, attempted to interpret as ${this.mapFormat}.\\nExcalibur only supports the latest version of Tiled formats as of the plugin's release.`),console.error(\"Is your map file corrupted or being interpreted as the wrong type?\"),e}else A=this._parseMap(t);fi(wi.supportedTiledVersion,null!==(e=A.tiledversion)&&void 0!==e?e:\"0.0.0\",\">\")&&console.warn(`The excalibur tiled plugin officially supports ${wi.supportedTiledVersion}+, the current map has tiled version ${A.tiledversion}`),this.map=A,this._collectTilesets(),this._collectTemplates(),await Promise.all([this._tilesetLoader.load(),this.headless?Promise.resolve():this._imageLoader.load(),this._templateLoader.load()]),this.tilesets=[...this.tilesets,...this._tilesetLoader.values().map((e=>e.data))],this.templates=this._templateLoader.values().map((e=>e.data));let i=[],a=this.startZIndex;for(const e of this.map.layers){if(\"tilelayer\"===e.type){if(\"isometric\"===this.map.orientation){const t=new gi(e,this,a);i.push(t)}if(\"orthogonal\"===this.map.orientation){const t=new di(e,this,a);i.push(t)}}if(\"objectgroup\"===e.type){const t=new hi(e,this,a);i.push(t)}if(\"imagelayer\"===e.type){const t=new yi(e,this,a);i.push(t)}a++}await Promise.all(i.map((e=>e.load()))),this.layers=i}_collectTilesets(){for(const e of this.map.tilesets){if(uA(e)){if(nA(e)){const t=YA(this.path,e.image,this.pathMap),A=this._imageLoader.getOrAdd(t),i=new si({name:e.name,tiledTileset:e,image:A,firstGid:e.firstgid});this.tilesets.push(i)}if(oA(e)){const t=new Map;if(e.tiles)for(let A of e.tiles)if(A.image){const e=YA(this.path,A.image,this.pathMap),i=this._imageLoader.getOrAdd(e);t.set(A,i)}const A=new si({name:e.name,tiledTileset:e,tileToImage:t,firstGid:e.firstgid});this.tilesets.push(A)}}if(BA(e)){const t=YA(this.path,e.source,this.pathMap);this._tilesetLoader.getOrAdd(t,e.firstgid,{strict:this.strict,headless:this.headless,parser:this.parser,fileLoader:this.fileLoader,imageLoader:this._imageLoader,pathMap:this.pathMap})}}}_collectTemplates(){let e=[];for(const t of this.map.layers)if(\"objectgroup\"===t.type){let A=t.objects.filter((e=>e.template)).map((e=>e.template));e=e.concat(A)}const t=e.filter(((e,t,A)=>A.findIndex((t=>t===e))===t));for(const e of t){const t=YA(this.path,e,this.pathMap);this._templateLoader.getOrAdd(t,{strict:this.strict,headless:this.headless,parser:this.parser,fileLoader:this.fileLoader,imageLoader:this._imageLoader,pathMap:this.pathMap})}}addToScene(e,t){if(!this.isLoaded())return void this.logger.warn(`TiledResource ${this.path} is not loaded! Nothing will be wired into excalibur!`);const A={pos:(0,OA.vec)(0,0)},{pos:i}={...A,...t};for(const t of this.layers){if(t instanceof di&&(t.tilemap.pos=t.tilemap.pos.add(i),e.add(t.tilemap)),t instanceof gi&&e.add(t.isometricMap),t instanceof hi)for(const A of t.entities){const t=A.get(OA.TransformComponent);t&&(t.pos=t.pos.add(i)),e.add(A)}t instanceof yi&&t.imageActor&&(t.imageActor.pos=t.imageActor.pos.add(i),e.add(t.imageActor))}if(this.useExcaliburWiring){const t=this.getObjectsByProperty(bA.Camera.Camera,!0);if(t&&t.length){const A=t[0];let i=1;const a=A.properties.get(bA.Camera.Zoom);a&&\"number\"==typeof a&&(i=a),\"isometric\"===this.map.orientation?e.camera.pos=this.isometricTiledCoordToWorld(A.x,A.y):e.camera.pos=(0,OA.vec)(A.x,A.y),e.camera.zoom=i}}if(this.useTilemapCameraStrategy){const t=this.getTileLayers()[0];if(t){const A=OA.BoundingBox.fromDimension(this.map.width*this.map.tilewidth,this.map.height*this.map.tileheight,OA.Vector.Zero,i.add(t.tilemap.pos));e.camera.strategy.limitCameraBounds(A)}}this.useMapBackgroundColor&&this.map.backgroundcolor&&(e.backgroundColor=OA.Color.fromHex(this.map.backgroundcolor))}isometricTiledCoordToWorld(e,t){const A=this.map.tilewidth,i=this.map.tileheight,a=t/i,s=e/i;return(0,OA.vec)((s-a)*A/2+0,(s+a)*i/2)}isLoaded(){return!!this.map}}wi.supportedTiledVersion=\"1.10.1\";var _i=n.XM,vi=n.Pp,bi=n.B8,ki=n.Z9,Di=n.Ms,xi=n.yO,Li=n.UZ,Si=n.fN,Fi=n._k,Gi=n.J4,Ti=n.bR,Ni=n.tS,Ri=n.Ro,Mi=n.M_,Ui=n.Bj,Oi=n.HZ,qi=n.xn,ji=n.EY,Ji=n.FA,Zi=n.o4,Yi=n.$u,Hi=n.ZR,Ki=n.uE,Pi=n.Bf,zi=n.xm,Vi=n.OK,Wi=n.r0,Xi=n.IB,$i=n.cp,ea=n.pE,ta=n.fO,Aa=n.pf,ia=n.fc,aa=n.NW,sa=n.OW,ra=n.I,na=n.N5,oa=n.fd,la=n.zU,ga=n.RT,da=n.SW,ha=n.s,ca=n.mD,Ia=n.wi,ua=n.tP,Ba=n.YK,Ca=n.Ey,pa=n.qD,fa=n.rr,Qa=n.Xs,Ea=n.lj,ma=n.MB,ya=n.hu,wa=n.Uk;export{_i as Decoder,vi as Ellipse,bi as ExcaliburTiledProperties,ki as FLIPPED_DIAGONALLY_FLAG,Di as FLIPPED_HORIZONTALLY_FLAG,xi as FLIPPED_VERTICALLY_FLAG,Li as FetchLoader,Si as InsertedTile,Fi as LoaderCache,Gi as PluginObject,Ti as Point,Ni as Polygon,Ri as Polyline,Mi as Rectangle,Ui as Template,Oi as TemplateObject,qi as TemplateResource,ji as Text,Ji as Tile,Zi as TiledDataComponent,Yi as TiledLayerDataComponent,Hi as TiledMap,Ki as TiledParser,Pi as TiledResource,zi as TiledTemplate,Vi as TiledText,Wi as TiledTile,Xi as TiledTileLayer,$i as TiledTileLayerInfinite,ea as TiledTileset,ta as TiledTilesetFile,Aa as Tileset,ia as TilesetResource,aa as byClassCaseInsensitive,sa as byNameCaseInsensitive,ra as byPropertyCaseInsensitive,na as filenameFromPath,oa as getCanonicalGid,la as isCSV,ga as isFlippedDiagonally,da as isFlippedHorizontally,ha as isFlippedVertically,ca as isInfiniteLayer,Ia as isTiledTilesetCollectionOfImages,ua as isTiledTilesetEmbedded,Ba as isTiledTilesetExternal,Ca as isTiledTilesetSingleImage,pa as mapPath,fa as mapProps,Qa as needsDecoding,Ea as parseObject,ma as parseObjects,ya as pathInMap,wa as pathRelativeToBase};\n//# sourceMappingURL=excalibur-tiled.min.js.map","export default \"__VITE_ASSET__C77PmP32__\"","export default \"__VITE_ASSET__CB0G7geU__\"","export default \"__VITE_ASSET__B7PIFleW__\"","export default \"__VITE_ASSET__DlhJTbwS__\"","export const Config = {\n    PlayerSpeed: 16*2, // pixels/sec\n    PlayerFrameSpeed: 200, // ms\n}","import * as ex from 'excalibur';\nimport { Resources } from './resources';\nimport { Config } from './config';\n\nexport class Player extends ex.Actor {\n    constructor(pos: ex.Vector) {\n        super({\n            pos,\n            width: 16,\n            height: 16,\n            collisionType: ex.CollisionType.Active\n        })\n    }\n\n    onInitialize(engine: ex.Engine): void {\n        const playerSpriteSheet = ex.SpriteSheet.fromImageSource({\n            image: Resources.HeroSpriteSheetPng as ex.ImageSource,\n            grid: {\n                spriteWidth: 16,\n                spriteHeight: 16,\n                rows: 8,\n                columns: 8\n            }\n        });\n\n        const leftIdle = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 1) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 1) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 1) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 1) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        })\n        this.graphics.add('left-idle', leftIdle);\n\n        const rightIdle = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 2) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 2) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 2) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 2) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        })\n        this.graphics.add('right-idle', rightIdle);\n\n\n        const upIdle = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 3) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 3) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 3) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 3) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        })\n        this.graphics.add('up-idle', upIdle);\n\n        const downIdle = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 0) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 0) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 0) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 0) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        })\n        this.graphics.add('down-idle', downIdle);\n\n        const leftWalk = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 5) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 5) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 5) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 5) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        })\n        this.graphics.add('left-walk', leftWalk);\n\n        const rightWalk = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 6) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 6) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 6) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 6) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        });\n        this.graphics.add('right-walk', rightWalk);\n\n        const upWalk = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 7) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 7) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 7) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 7) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        });\n        this.graphics.add('up-walk', upWalk);\n\n        const downWalk = new ex.Animation({\n            frames: [\n                {graphic: playerSpriteSheet.getSprite(0, 4) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(1, 4) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(2, 4) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n                {graphic: playerSpriteSheet.getSprite(3, 4) as ex.Sprite, duration: Config.PlayerFrameSpeed},\n            ]\n        });\n        this.graphics.add('down-walk', downWalk);\n    }\n\n    onPreUpdate(engine: ex.Engine, elapsedMs: number): void {\n        this.vel = ex.Vector.Zero;\n\n        this.graphics.use('down-idle');\n        if (engine.input.keyboard.isHeld(ex.Keys.ArrowRight)) {\n            this.vel = ex.vec(Config.PlayerSpeed, 0);\n            this.graphics.use('right-walk');\n        }\n        if (engine.input.keyboard.isHeld(ex.Keys.ArrowLeft)) {\n            this.vel = ex.vec(-Config.PlayerSpeed, 0);\n            this.graphics.use('left-walk');\n        }\n        if (engine.input.keyboard.isHeld(ex.Keys.ArrowUp)) {\n            this.vel = ex.vec(0, -Config.PlayerSpeed);\n            this.graphics.use('up-walk');\n        }\n        if (engine.input.keyboard.isHeld(ex.Keys.ArrowDown)) {\n            this.vel = ex.vec(0, Config.PlayerSpeed);\n            this.graphics.use('down-walk');\n        }\n\n        ex.Debug.drawRay(new ex.Ray(this.pos, this.vel), { distance: 100, color: ex.Color.Red });\n\n    }\n}","import { ImageFiltering, ImageSource, Loadable, Loader, Resource, TileMap } from \"excalibur\";\nimport { TiledResource } from '@excaliburjs/plugin-tiled';\n\n// Import paths to work with Vite\n// Note the ?url suffix\nimport heroPath from '../img/Solaria Demo Pack Update 03/Solaria Demo Pack Update 03/16x16/Sprites/Hero 01.png?url';\nimport tilesetPath from '../img/Solaria Demo Pack Update 03/Solaria Demo Pack Update 03/16x16/Tilesets/Solaria Demo Update 01.png?url';\nimport tmxPath from '../res/first-level.tmx?url';\nimport tsxPath from '../res/tileset.tsx?url';\nimport { Player } from \"./player\";\n\nexport const Resources = {\n    HeroSpriteSheetPng: new ImageSource(heroPath, false, ImageFiltering.Pixel),\n    TiledMap: new TiledResource(tmxPath, {\n      entityClassNameFactories: {\n        player: (props) => {\n          const player = new Player(props.worldPos);\n          player.z = 100;\n          return player;\n        }\n      },\n      // Path map intercepts and redirects to work around vite's static bundling\n      pathMap: [\n        { path: 'first-level.tmx', output: tmxPath },\n        { path: 'Solaria Demo Update 01.png', output: tilesetPath },\n        { path: 'tileset.tsx', output: tsxPath }\n      ]\n    }),\n    TsxResource: new Resource(tsxPath, 'text')\n}\n\nexport const loader = new Loader();\nfor (let resource of Object.values(Resources)) {\n    loader.addResource(resource);\n}","import * as ex from 'excalibur';\nimport { Resources, loader } from './resources';\nimport { Player } from './player';\n\nconst game = new ex.Engine({\n    width: 800,\n    height: 600,\n    canvasElementId: 'game',\n    pixelArt: true,\n    pixelRatio: 2\n});\n\ngame.start(loader).then(() => {\n    Resources.TiledMap.addToScene(game.currentScene);\n});"],"names":["__webpack_modules__","module","__webpack_exports__","__webpack_require__","__WEBPACK_DEFAULT_EXPORT__","_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__","_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__","_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default","___CSS_LOADER_EXPORT___","cssWithMappingToString","list","item","content","needLayer","modules","media","dedupe","supports","layer","alreadyImportedModules","k","id","_k","cssMapping","base64","data","sourceMapping","__webpack_module_cache__","moduleId","cachedModule","getter","exports","definition","key","obj","prop","ActionCompleteEvent","ActionContext","ActionQueue","ActionSequence","ActionStartEvent","ActionsComponent","ActionsSystem","ActivateEvent","Actor","ActorEvents","AddEvent","AddedComponent","AffineMatrix","Animation","AnimationDirection","AnimationEvents","AnimationStrategy","ArcadeSolver","AudioContextFactory","Axes","Axis","BaseAlign","BezierCurve","Blink","BodyComponent","BoundingBox","BrowserComponent","BrowserEvents","Buttons","Camera","CameraEvents","Canvas","Circle","CircleCollider","Clock","ClosestLineJumpTable","Collider","ColliderComponent","CollisionContact","CollisionEndEvent","CollisionGroup","CollisionGroupManager","CollisionJumpTable","CollisionPostSolveEvent","CollisionPreSolveEvent","CollisionStartEvent","CollisionSystem","CollisionType","Color","ColorBlindFlags","ColorBlindnessMode","ColorBlindnessPostProcessor","Component","CompositeCollider","ConsoleAppender","ContactConstraintPoint","ContactEndEvent","ContactSolveBias","ContactStartEvent","CoordPlane","CrossFade","CurveBy","CurveTo","DeactivateEvent","Debug","DebugConfig","DebugGraphicsComponent","DebugSystem","DebugText","DefaultAntialiasOptions","DefaultGarbageCollectionOptions","DefaultLoader","DefaultPixelArtOptions","DegreeOfFreedom","Delay","Detector","Die","Direction","Director","DirectorEvents","DisplayMode","DynamicTree","DynamicTreeCollisionProcessor","EX_VERSION","EaseBy","EaseTo","EasingFunctions","EdgeCollider","ElasticToActorStrategy","EmitterType","Engine","EngineEvents","EnterTriggerEvent","EnterViewPortEvent","Entity","EntityEvents","EntityManager","EventEmitter","EventTypes","Events_namespaceObject","ExResponse","ExcaliburGraphicsContext2DCanvas","ExcaliburGraphicsContextWebGL","ExitTriggerEvent","ExitViewPortEvent","Fade","FadeInOut","Flags","Flash","Follow","Font","FontCache","FontSource","FontStyle","FontUnit","FpsSampler","FrameStats","Future","GameEvent","GameStartEvent","GameStopEvent","Gamepad","GamepadAxisEvent","GamepadButtonEvent","GamepadConnectEvent","GamepadDisconnectEvent","Gamepads","GarbageCollector","Gif","GifParser","GlobalCoordinates","GpuParticleEmitter","GpuParticleRenderer","Graphic","GraphicsComponent","GraphicsGroup","GraphicsSystem","HashColliderProxy","HashGridCell","HashGridProxy","HiddenEvent","HorizontalFirst","ImageFiltering","ImageSource","ImageSourceAttributeConstants","ImageWrapping","InitializeEvent","InputHost","InputMapper","IsometricEntityComponent","IsometricEntitySystem","IsometricMap","IsometricTile","KeyEvent","Keyboard","Keys","KillEvent","Label","LimitCameraBoundsStrategy","Line","LineSegment","Loader","LoaderEvents","LockCameraToActorAxisStrategy","LockCameraToActorStrategy","LogLevel","Logger","Material","Matrix","MatrixLocations","MediaEvent","Meet","MotionComponent","MotionSystem","MoveBy","MoveByWithOptions","MoveTo","MoveToWithOptions","NativePointerButton","NativeSoundEvent","NativeSoundProcessedEvent","NineSlice","NineSliceStretch","None","Observable","OffscreenSystem","Pair","ParallaxComponent","ParallelActions","Particle","ParticleEmitter","ParticleRenderer","ParticleTransform","PhysicsStats","PhysicsWorld","PointerAbstraction","PointerButton","PointerComponent","PointerEvent","PointerEventReceiver","PointerScope","PointerSystem","PointerType","Polygon","PolygonCollider","Pool","PostCollisionEvent","PostDebugDrawEvent","PostDrawEvent","PostFrameEvent","PostKillEvent","PostTransformDrawEvent","PostUpdateEvent","PreCollisionEvent","PreDebugDrawEvent","PreDrawEvent","PreFrameEvent","PreKillEvent","PreLoadEvent","PreTransformDrawEvent","PreUpdateEvent","Projection","QuadIndexBuffer","QuadTree","Query","QueryManager","RadiusAroundActorStrategy","Random","Raster","Ray","RealisticSolver","Rectangle","RemoveEvent","RemovedComponent","Repeat","RepeatForever","Resolution","Resource","ResourceEvents","RotateBy","RotateByWithOptions","RotateTo","RotateToWithOptions","RotationType","ScaleBy","ScaleByWithOptions","ScaleTo","ScaleToWithOptions","Scene","SceneEvents","Screen","ScreenAppender","ScreenElement","ScreenEvents","ScreenShader","ScrollPreventionMode","Semaphore","SeparatingAxis","SeparationInfo","Shader","Shape","Side","Slide","SolverStrategy","Sound","SoundEvents","SparseHashGrid","SparseHashGridCollisionProcessor","SpatialPartitionStrategy","Sprite","SpriteFont","SpriteSheet","StandardClock","StateMachine","StrategyContainer","Stream","System","SystemManager","SystemPriority","SystemType","TagQuery","TestClock","Text","TextAlign","TextureLoader","Tile","TileMap","TileMapEvents","TiledAnimation","TiledSprite","Timer","Toaster","transform_Transform","TransformComponent","Transition","TreeNode","Trigger","TriggerEvents","TwoPI","Util_Index_namespaceObject","Vector","VectorView","VertexBuffer","VertexLayout","VerticalFirst","VisibleEvent","WebAudio","WebAudioInstance","WheelDeltaMode","WheelEvent","World","approximatelyEqual","assert","canonicalizeAngle","clamp","coroutine","createId","frac","getDefaultPhysicsConfig","hasGraphicsTick","hasOnAdd","hasOnInitialize","hasOnPostUpdate","hasOnPreUpdate","hasOnRemove","hasPostDraw","hasPreDraw","has_add","has_initialize","has_postupdate","has_preupdate","has_remove","inverseLerp","inverseLerpVector","isActor","isAddedComponent","isComponentCtor","isLoaderConstructor","isMoveByOptions","isMoveToOptions","isRemovedComponent","isRotateByOptions","isRotateToOptions","isScaleByOptions","isScaleToOptions","isSceneConstructor","isScreenElement","isSystemConstructor","lerp","lerpAngle","lerpVector","maxMessages","nextActionId","obsolete","parseImageFiltering","parseImageWrapping","pixelSnapEpsilon","randomInRange","randomIntInRange","range","remap","remapVector","resetObsoleteCounter","sign","toDegrees","toRadians","vec","webgl_util_namespaceObject","getAttributeComponentSize","getAttributePointerType","getGLTypeFromSource","getGlTypeSizeBytes","getMaxShaderComplexity","isAttributeInSource","DrawUtil_namespaceObject","circle","line","point","roundRect","vector","addItemToArray","contains","delay","fail","getPosition","isObject","mergeDeep","omit","removeItemFromArray","polyfill","callback","replaceMe","arrayBuffer","resolve","reject","cb","start","flagName","type","value","error","eventName","handler","_a","_b","newListeners","h","newOnceListeners","event","listeners","i","onces","emitter","BITMASK32","seed","s","mag01","y","min","max","likelihood","array","numPicks","allowDuplicates","result","currentPick","tempArray","index","swap","randomIndex","length","x","val","val1","val2","tolerance","angle","tmpAngle","radians","degrees","from","to","_x","random","vec1","vec2","v","deltaX","deltaY","magnitude","size","newSize","newLength","newMagnitude","distance","sizeOrScale","dest","num","rotationType","startAngleRadians","endAngleRadians","rotationClockwise","rotationAntiClockwise","anchor","sinAngle","cosAngle","fixed","r","g","b","a","string","rgbaRegEx","match","hex","hexRegEx","l","HSLColor","factor","temp","color","newR","newG","newB","newA","color1","color2","format","c","hexRepresentation","p","q","t","d","appender","level","args","len","serialized","consoleArgs","options","_c","_d","pagePos","message","pos","getOpposite","side","fromDirection","direction","leftOrOptions","top","right","bottom","intersection","points","minX","minY","maxX","maxY","width","height","scale","shifted","matrix","xa1","xa2","xb1","xb2","ya1","ya2","yb1","yb2","matrixPos","left","wx","wy","ray","farClipDistance","tMin","tMax","xInv","yInv","tx1","tx2","ty1","ty2","other","compositeBB","epsilon","e","totalBoundingBox","overlapX","overlapY","bb","intersect","ex","el","rect","milliseconds","clock","future","object","keys","newObj","target","sources","source","near","far","mat","sx","sy","vectorOrMatrix","resultX","resultY","a11","a21","a31","a41","a12","a22","a32","a42","a13","a23","a33","a43","a14","a24","a34","a44","b11","b21","b31","b41","b12","b22","b32","b42","b13","b23","b33","b43","b14","b24","b34","b44","z","w","sine","cosine","currentScale","xscale","yscale","inverseDet","m","tx","ty","det","signX","signY","quad","resultTopLeftX","resultTopLeftY","resultTopRightX","resultTopRightY","resultBottomLeftX","resultBottomLeftY","resultBottomRightX","resultBottomRightY","xScaleSq","yScaleSq","RentalPool","builder","cleaner","preAllocate","amount","clean","TransformStack","ContextState","StateStack","path","responseType","bustCache","uri","request","errorText","watch","change","createHandler","typeType","watchDeep","_e","_f","_g","scaleDirX","scaleDirY","origin","image","newWidth","newHeight","nativeWidth","nativeHeight","gl","_garbageCollector","name","forceUpdate","filtering","wrapping","tex","wrappingConfig","xWrap","yWrap","filterMode","texture","originalSrc","pathOrBase64","bustCacheOrOptions","imageSource","blob","url","svgSource","loadedFuture","alphabet","spriteSheet","caseInsensitive","spacing","shadow","lineHeight","text","results","textToRender","letterIndex","letter","spriteIndex","letterSprite","maxWidth","lines","maxWidthLine","sprites","sprite","xCursor","yCursor","_color","bounds","newLine","spriteCanvas","tiledImageSource","rows","columns","_h","_j","spriteWithOptions","sourceView","cols","spriteWidth","spriteHeight","originOffset","margin","offsetDefaults","marginDefaults","debug_font","ctx","RenderSource","_gl","_texture","RenderTarget","attachmentPoint","line_vertex","line_fragment","variable","attributeRegexTemplate","matches","numIfs","assembleTestShader","testShader","testComplexity","canCompile","test","shader","vertexSource","fragmentSource","onPreLink","onPostCompile","vertexShader","fragmentShader","attributes","attribute","uniforms","uniform","uniformCount","uniformLocation","attributeCount","attributeLocation","slotNumber","uniformType","location","program","typeName","errorInfo","errorLineStart","errorLineEnd","_","error2","count","vertexBuffer","suppressWarnings","shaderAttributes","attrib","glType","componentsPerVertex","vertAttribute","typeSize","offset","vert","uploadBuffer","GraphicsDiagnostics","LineRenderer","context","end","transform","finalStart","finalEnd","point_vertex","point_fragment","PointRenderer","opacity","snapToPixel","finalPoint","screen_vertex","screen_fragment","ScreenPassPainter","postprocessor","numberOfQuads","useUint16","totalVertices","maxUint16Index","currentQuad","image_renderer_frag","image_renderer_vert","ImageRenderer","maxTexture","maxComplexity","transformedFrag","maxTextures","newSource","texturePickerBuilder","maybeFiltering","wrapX","wrapY","force","maybeTexture","maybeWidth","maybeHeight","swidth","sheight","dx","dy","dwidth","dheight","maybeImageWidth","maybeImageHeight","sw","sh","tint","textureId","imageWidth","imageHeight","uvx0","uvy0","uvx1","uvy1","txWidth","txHeight","rectangle_renderer_frag","rectangle_renderer_vert","RectangleRenderer","thickness","dir","normal","halfThick","startTop","startBottom","endTop","endBottom","stroke","strokeThickness","topLeft","topRight","bottomRight","bottomLeft","circle_renderer_frag","circle_renderer_vert","CircleRenderer","radius","recycler","maxObjects","objects","poolIndex","DrawCall","defaultVertexSource","graphicsContext","images","graphicsContextWebGL","textureUniformName","textureName","imageElement","startingTextureSlot","textureSlot","MaterialRenderer","material","vertexIndex","view","topLeftScreen","bottomRightScreen","screenUVX0","screenUVY0","screenUVX1","screenUVY1","particle_vertex","particle_fragment","WatchVector","original","newX","newY","globalScaleX","globalScaleY","localPos","rotation","canonRotation","inverseRotation","inverseScale","signBitX","signBitY","hasClone","newComponent","observer","func","observersLength","subscriptionsLength","child","childTxComponent","owner","_previousOwner","oldz","component","f","maybeFrame","spriteSheetIndex","durationPerFrame","strategy","maxIndex","invalidIndices","frameCoordinates","durationPerFrameMs","speed","reverse","defaultDuration","frames","coord","duration","frameNumber","currentFrame","next","elapsed","idempotencyToken","member","graphic","useBounds","bitmapWidth","bitmapHeight","maybeCtx","x1","y1","x2","y2","cap","fill","br","defaultRadius","FontTextInstance","font","metrics","textHeight","lineAdjustedHeight","bottomBounds","textBounds","bitmap","lineHeightRatio","includeColor","textImages","currentX","currentY","canvas","hashCode","frag","hash","measurement","textInstance","deferred","currentHashCodes","time","newTextMeasurementCache","current","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_ex","_y","colorOverride","currentGraphic","visible","graphics","copyGraphics","onPreDraw","onPostDraw","onPreTransformDraw","onPostTransformDraw","graphicOrOptions","nameOrGraphic","graphicToSet","optionsToSet","offsetX","offsetY","self","engine","prevStats","stats","gamepad","button","axis","contact","lastContact","entity","action","componentsOrOptions","componentsToAdd","nameToAdd","components","silenceWarnings","tag","requiredTypes","requiredTags","queue","curr","newEntity","componentInstance","templateEntity","componentType","parent","ctor","rootComponent","typeOrInstance","componentToRemove","componentIndex","EulerIntegrator","motion","totalAcc","seconds","globalPos","accel","renderer","startSize","endSize","image_renderer_v2_frag","image_renderer_v2_vert","ImageRendererV2","bytesPerFloat","totalSize","ExcaliburGraphicsContextWebGLDebug","_webglCtx","rectOptions","lineOptions","pointOptions","dim","supported","canvasElement","enableTransparency","antialiasing","uvPadding","multiSampleAntialiasing","pixelArtSampler","powerPreference","backgroundColor","useDrawSorting","garbageCollector","handleContextLost","handleContextRestored","rendererName","drawCall","resolution","u","currentTarget","originalSort","firstIndex","zIndex","originalSortOrder","priority","oldTransform","oldState","currentRendererName","currentRenderer","ExcaliburGraphicsContext2DCanvas_pixelSnapEpsilon","ExcaliburGraphicsContext2DCanvasDebug","smoothing","_resolution","_postprocessor","pageOrigin","viewport","camera","currentPixelRatio","newResolutionSupported","widthUnit","heightUnit","isSmooth","elementId","maybeElement","screenHeight","screenMarginY","screenWidth","screenMarginX","screen","aspect","adjustedWidth","adjustedHeight","vw","vh","clip","scaleX","scaleY","maxScaleFactor","zoomedWidth","zoomedHeight","isLegacyWebAudioSource","unlockTimeoutTimer","audioContext","buffer","ended","_options","state","machineDescription","machine","stateName","transitionState","eventData","potentialNewState","saveKey","_src","position","playStarted","pausedAt","startedAt","playbackRate","_value","_val","_name","_actor","track","_processedData","canPlayFile","file","filetype","paths","arraybuffer","audiobuffer","volume","trackId","resumed","complete","newTrack","loadable","loadables","total","textbox","resource","Loader_logo","Director_Loader","existingRoot","loadablesOrOptions","buttonElement","resizeHandler","evt","startButtonHandler","buttonWidth","buttonHeight","canvasHeight","canvasWidth","logoY","logoX","oldAntialias","loadingX","loadingY","progress","progressWidth","REPORTED_FEATURES","elem","xhr","style","msg","feature","failedCritical","warning","mask","existingGroup","group","category","overlap1","overlap2","collisionGroups","combinedName","combinedMask","colliderA","colliderB","bodyA","bodyB","collider","idA","idB","projection","_config","worldBounds","leaf","leafAABB","currentRoot","area","combinedArea","cost","inheritanceCost","leftCost","leftCombined","newArea","oldArea","rightCost","rightCombined","oldParent","newParent","currentNode","grandParent","sibling","node","body","multdx","multdy","balance","helper","numerator","divisor","pointOrBounds","maxDistance","collisionGroup","collisionMask","searchAllColliders","maybeBody","canCollide","hit","colliders","targets","potentialColliders","j","pair","updateDistance","minDimension","updateVec","centerPoint","furthestPoint","minCollider","minTranslate","translate","shift","pairs","contacts","newContacts","updated","acc","axes","furthestPoints","bestPoint","mass","totalInertia","otherColliders","potentialCollider","maybeLine","minLength","minLine","hits","minHit","minDistance","projections","proj","newProjection","begin","sideVector","normalize","clipTime","signed","x0","y0","aMinusP","n","currPoint","threshold","dxc","dyc","dx1","dy1","cross","ClosestLine","line1","line2","line1Dir","line2Dir","d1Squared","d2Squared","closestPoint","denom","closestPointOnLine1","closestPointOnLine2","polygonA","polygonB","aSides","bSides","closestLine","polygon","edge","otherDirection","rayTowardsOther","thisPoint","thisFace","edgeLine","otherWorldPos","p0","circlex","circley","circleA","circleB","thisDirection","rayTowardsThis","otherPoint","circleWorldPos","edgeStart","edgeVector","edgeA","edgeB","edgeLineA","edgeLineB","orig","u1","toi","discriminant","toi1","toi2","positiveToi","minToi","shape","scalars","dotProduct","lineWidth","mtv","tangent","localPoints","info","colliderAId","colliderBId","polyA","polyB","bestSeparation","bestSideIndex","localPoint","toPolyBSpace","toPolyBSpaceRotation","normalsA","pointsA","pointsB","pointsAIndex","smallestPointDistance","smallestLocalPoint","pointsBIndex","bestSide2","separationInfo","polyDir","closestPointOnPoly","minOverlap","minAxis","minIndex","proj1","proj2","overlap","bestSide","bestAxis","bestOtherPoint","sides","localSides","vertB","vertSeparation","ScratchZero","ScratchNormal","ScratchMatrix","circleAPos","circleBPos","combinedRadius","separation","mvt","local","cc","edgeWorld","localSide","da","dda","db","ddb","den","pointOnEdge","dd","pc","linePoly","separationA","separationB","main","toIncidentFrame","toIncidentFrameRotation","referenceEdgeNormal","minEdge","incidentEdgeIndex","referenceSide","referenceDirection","clipRight","clipLeft","clipPoints","shapeA","txA","shapeB","txB","worldPoint","circlePoint","dist","transformedBegin","transformedEnd","padding","edgeNormal","debugDrawCall","firstPoint","center","strokeColor","boundingBox","normals","sum","oldPoint","newPoint","oldDirection","orientation","angleSum","polygons","triangles","vertices","vertexCount","getPrevIndex","getNextIndex","isConvex","prev","va","vb","vc","leftArm","rightArm","convexVertices","isPointInTriangle","ab","bc","ca","ap","bp","cp","cross1","cross2","cross3","findEarTip","isEar","cutEarTip","earIndex","currentSide","mostDirection","testRay","intersectCount","sideIndex","pts","faceIndex","denominator","iplusone","crossTerm","minContactTime","contactSide","contactIndex","contactTime","scalar","suppressConvexWarning","logger","flipped","precollision","postcollision","poly","config","newMass","sleeping","currentMotion","bias","maybeCollider","scaleFactor","impulse","finalImpulse","distanceFromCenter","easing","currentTime","startValue","endValue","_ACTION_ID","repeatBuilder","repeat","startAngle","endAngle","shortestPathIsPositive","distance1","distance2","shortDistance","longDistance","minSource","maxSource","minDestination","maxDestination","currentPos","newPosX","newPosY","velX","velY","destX","destY","newAngle","currentAngle","rx","distanceTraveled","angleRadiansOffset","newScale","speedX","speedY","directionX","directionY","scaleOffsetX","scaleOffsetY","CallMethod","method","easingFcn","timeVisible","timeNotVisible","numBlinks","endOpacity","entityToFollow","followDistance","actorToFollowSpeed","actor","actorToMeet","actorToMeetSpeed","totalLength","pt","diff","arcLength","timeSquared","p1","p2","p3","desiredDistance","uniformTime","xOrPosOrOptions","yOrSpeed","speedOrUndefined","xOffsetOrVectorOrOptions","yOffsetOrSpeed","xOffset","yOffset","angleRadiansOrOptions","angleRadiansOffsetOrOptions","sizeXOrVectorOrOptions","sizeYOrSpeed","speedXOrUndefined","speedYOrUndefined","sizeX","sizeY","sizeOffsetXOrVectorOrOptions","sizeOffsetYOrSpeed","sizeOffsetX","sizeOffsetY","times","xOffsetOrVectorOptions","thePos","theVel","theAcc","theAngle","angularVelocity","isDraggable","pe","coordPlane","vel","collisionType","clone","builtInComponents","scene","newZ","recurse","geom","containment","otherCollider","me","useWorld","coords","fcn","interval","repeats","numberOfRepeats","randomRange","newInterval","newNumberOfRepeats","parallaxFactor","draw","useTransform","hasNestedEvents","PointerTargetObjectProxy","active","PointerEventsToObjectDispatcher","proxy","pointerId","maybeProxy","pointers","receiver","sortedObjects","lastFrameEntities","currentFrameEntities","lastMovePerPointer","lastUpPerPointer","lastDownPerPointer","lastUpDownMoveEvents","objectIndex","debugFlags","currentCol","tile","originalOffset","shareEdges","checkAndCombine","maxLookBack","maybeParallax","oneMinusFactor","parallaxOffset","tileStartX","tileStartY","tileEndX","tileEndY","tiles","graphicsIndex","graphicsLen","offsets","gfx","showAll","showGrid","gridColor","gridWidth","showColliderBounds","colliderBoundsColor","showColliderGeometry","geometryColor","geometryLineWidth","geometryPointSize","geometryPos","cameraElasticity","cameraFriction","box","cam","_eng","currentFocus","focus","cameraVel","stretch","friction","focusX","focusY","easingFn","magnitudeX","magnitudeY","cameraStrategy","currentRes","res","zoomEasing","newZoom","lerpPoint","blend","interpolatedPos","snapPos","newCanvasWidth","newCanvasHeight","cameraPos","_world","entityIndex","childAdded","childRemoved","idOrEntity","childAddedHandler","childRemovedHandler","requiredComponents","sort","query","queries","maybeAddComponent","maybeRemoveComponent","addComponent","removeComponent","maybeAddTag","maybeRemoveTag","addTag","removeTag","tagQuery","systemType","systemOrCtor","system","systems","entityOrSystem","world","physics","entities","substep","optionalBody","aDir","bDir","aDist","bDist","opposite","velAdj","aToContactNormal","bToContactNormal","aToContactTangent","bToContactTangent","velA","finishedContactIds","contactPoints","pointIndex","aToContact","bToContact","normalMass","tangentMass","restitution","relativeVelocity","normalImpulse","tangentImpulse","constraints","steeringConstant","maxCorrection","slop","steeringForce","impulseForce","impulseDelta","maxFriction","newImpulse","normalVelocity","_physics","colliderComponent","colliderComp","compositeColliders","solver","step","compositeId","blendTransform","oldTx","newTx","oldTxWithNewParent","oldGlobalPos","oldGlobalScale","oldGlobalRotation","interpolatedScale","interpolatedRotation","transformIndex","parallax","graphicsComponent","transformComponent","flipHorizontal","flipVertical","globalScale","oldFlipHorizontal","oldFlipVertical","ancestors","ancestor","maybeGraphics","filterSettings","entitySettings","txSettings","motionSettings","colliderSettings","physicsSettings","graphicsSettings","debugDraw","bodySettings","cameraSettings","cursor","gridSize","leftX","rightX","bottomY","topY","cell","instance","boundsOrPoint","xCoord","yCoord","proxyIndex","cellIndex","transparent","pointer","maybeGfx","maybePointer","mapOrOptions","iso","entityOffscreen","transformedBounds","unitRay","dydx","dxdy","unitStepX","unitStepY","startXCoord","startYCoord","stepDir","currentXCoord","currentYCoord","currentRayLengthX","currentRayLengthY","collidersVisited","done","maxIterations","cellHits","colliderIndex","hit1","hit2","compColliders","proxyId","otherIndex","newConfig","enabled","pad","axesLength","buttonLength","gamepads","bi","ai","pads","arr","clonedPad","buttonIndex","axesIndex","inputs","input","command","inputHandler","commandHandler","isCrossOriginIframe","noop","originalEvent","ev","code","keyEvent","keyboardOptions","global","grabWindowFocus","character","xOrPos","yOrEngine","engineOrUndefined","pageX","pageY","screenPos","worldPos","pointerType","coordinates","nativeEvent","screenX","screenY","deltaZ","deltaMode","isTouchEvent","isPointerEvent","eventReceiver","ids","native","normalized","wheelOptions","grabFocus","nativePointerId","eventCoords","touch","ScrollWheelNormalizationFactor","we","page","pointerSystem","pointerTarget","loader","timer","actors","color_blind_fragment","_colorBlindnessMode","simulate","colorBlindMode","colorBlindness","wasRunning","testClock","currentClock","standardClock","otherStats","fs","ps","nativeComponent","_windowGlobal","_documentGlobal","timeoutMs","timing","scheduledTime","overrideUpdateMs","now","fpsInterval","leftover","mainloop","numberOfSteps","Util_Toaster","toastMessage","linkTarget","linkName","toast","messageFragments","link","finalMessage","dismissBtn","keydownHandler","first","_engine","scenes","sceneKey","sceneOrOptions","deferredScene","deferredTransition","deferredSceneInstance","startScene","maybeLoaderOrCtor","maybeStartTransition","inTransition","startSceneInstance","sceneName","sceneOrRoute","maybeDeferred","maybeScene","transitions","outTransition","nameOrScene","sceneOrCtor","potentialSceneOrOptions","destinationScene","maybeDest","sourceSceneInstance","sourceScene","engineInputEnabled","maybeSourceOut","maybeDestinationIn","sourceOut","destinationIn","sceneActivationData","hideLoader","sceneDefinition","newScene","sceneToLoad","sceneToLoadInstance","transition","targetScene","sceneInputEnabled","previousScene","nextScene","destLoader","createContext","old","useContext","deadline","collector","timeoutInterval","resourceType","collect","collectionData","shouldSnapToPixel","container","div","detector","testMessage","displayMode","nativeContextAntialiasing","canvasImageRendering","useCanvasGraphicsContext","allow","showPlayerMessage","average","newCanvas","toggle","sceneNameOrLoader","elapsedMs","frameId","beforeUpdate","fixedTimestepMs","afterUpdate","afterDraw","preserveHiDPIResolution","finalWidth","finalHeight","screenshot","raw","newFont","sf","spriteFont","particle","isEmitting","emitRate","emitterType","particleCount","ranX","ranY","expression","numParticles","numInputFloats","particleData","particleDataBuffer1","vao1","particleDataBuffer2","vao2","startIndex","maxSize","endIndex","midpoint","maxParticles","graphicsOffset","map","halfTileWidth","halfTileHeight","xPos","yPos","totalWidth","totalHeight","_elapsed","tileWidth","tileHeight","renderFromTopOfGraphic","elevation","worldCoordinate","tileCoordinate","tileCoord","maxZ","currentZ","showPosition","positionColor","positionSize","actionBuilder","parallelActions","newLevelOptions","bitsToNum","ba","byteToBitArr","bite","dataArray","bytes","lzwDecode","minCodeSize","readCode","output","clearCode","eoiCode","codeSize","dict","clear","last","stream","entries","colorTable","rgb","hdr","bits","block","parseGCExt","parseComExt","parsePTExt","parseAppExt","parseNetscapeExt","parseUnknownAppExt","parseUnknownExt","img","deinterlace","pixels","newPixels","cpRow","toRow","fromRow","fromPixels","steps","pass","lzwData","frame","imageData","transparentColorIndex","pixel","colorIndex","bg","family","InsideCoroutineContext","generatorFunctionDeclaration","isCoroutineGenerator","coroutineGenerator","thisArg","passedEngine","inside","schedule","autostart","started","completed","cancelled","generatorFcn","generator","loop","co","currentScene","_progress","lineNormal","halfThickness","auto","targetCanvas","destinationSize","horizontalStretch","verticalStretch","marginWidth","marginHeight","tempMarginW","tempMarginH","tempSizeX","tempPositionX","tempSizeY","tempPositionY","numTilesX","numTilesY","tempSize","tempPosition","aCtx","bCtx","cCtx","dCtx","eCtx","fCtx","gCtx","hCtx","iCtx","tileSize","tileNum","numTiles","reducedTileSize","promises","tiledSprite","animation","obsoleteMessage","logMessage","suppressObsoleteMessages","property","descriptor","DecoratedClass","AsyncWaitQueue","_count","__webpack_exports__Actor","__webpack_exports__AffineMatrix","__webpack_exports__Animation","__webpack_exports__AnimationStrategy","__webpack_exports__BaseAlign","__webpack_exports__BoundingBox","__webpack_exports__CollisionType","__webpack_exports__Color","__webpack_exports__Component","__webpack_exports__Debug","__webpack_exports__Engine","__webpack_exports__Font","__webpack_exports__FontUnit","__webpack_exports__GraphicsComponent","__webpack_exports__ImageFiltering","__webpack_exports__ImageSource","__webpack_exports__IsometricEntityComponent","__webpack_exports__IsometricMap","__webpack_exports__Keys","__webpack_exports__Loader","__webpack_exports__Logger","__webpack_exports__ParallaxComponent","__webpack_exports__Ray","__webpack_exports__Resource","__webpack_exports__Shape","__webpack_exports__SpriteSheet","__webpack_exports__Text","__webpack_exports__TextAlign","__webpack_exports__TileMap","__webpack_exports__TransformComponent","__webpack_exports__Vector","__webpack_exports__toRadians","__webpack_exports__vec","__viteBrowserExternal","A","o","I","B","Q","E","D","L","S","F","G","T","N","M","U","O","J","Z","Y","H","K","P","C","R","V","W","vA","WA","bA","GA","SA","FA","kA","PA","UA","HA","zA","$A","ei","XA","ii","KA","ni","VA","oi","li","cA","pA","wi","hA","Xt","sA","Kt","Ht","dA","lA","si","ri","xA","DA","LA","jA","MA","zt","RA","TA","NA","IA","oA","uA","BA","nA","JA","qA","Pt","ti","Ai","ZA","YA","Fe","Ye","Ge","Te","Ie","Se","Ce","Ee","Ne","Oe","Re","qe","je","X","$","ee","te","Ae","ie","ae","se","re","ne","oe","le","ge","de","he","ce","ue","Be","De","be","ke","xe","Le","fe","Qe","ye","ve","Me","Ue","Je","Ze","He","Ke","Pe","ze","Ve","We","Xe","$e","et","tt","At","it","at","st","rt","nt","ot","lt","gt","dt","ht","ct","It","ut","Bt","Ct","ft","Qt","Et","mt","yt","wt","vt","bt","kt","Dt","xt","Lt","St","Ft","Gt","Tt","Nt","Rt","Mt","Ut","Ot","qt","jt","Jt","Zt","Yt","Vt","Wt","$t","eA","tA","AA","iA","aA","rA","gA","CA","fA","QA","EA","mA","yA","wA","_A","OA","t.Actor","t.AffineMatrix","t.Animation","t.AnimationStrategy","t.BaseAlign","t.BoundingBox","t.CollisionType","t.Color","t.Component","t.Font","t.FontUnit","t.GraphicsComponent","t.ImageSource","t.IsometricEntityComponent","t.IsometricMap","t.Logger","t.ParallaxComponent","t.Shape","t.SpriteSheet","t.Text","t.TextAlign","t.TileMap","t.TransformComponent","t.Vector","t.toRadians","t.vec","gi","di","hi","ci","Ii","ui","Bi","Ci","pi","fi","mi","Qi","Ei","yi","Pi","heroPath","tilesetPath","tmxPath","tsxPath","Config","Player","ex.Actor","ex.CollisionType","playerSpriteSheet","ex.SpriteSheet","Resources","leftIdle","ex.Animation","rightIdle","upIdle","downIdle","leftWalk","rightWalk","upWalk","downWalk","ex.Vector","ex.Keys","ex.vec","ex.Debug","ex.Ray","ex.Color","TiledResource","props","player","game","ex.Engine"],"mappings":"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IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAqBC,GAC1B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,GAAI,IAAsBC,GAC1B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,GAAI,IAAsBC,GAC1B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,GAAI,IAAsBC,GAC1B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,EAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,EAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,GAC3B,IAAK,IAAsBC,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","x_google_ignoreList":[0,2]}